{"remainingRequest":"C:\\Users\\wakk\\GolandProjects\\GinBlog\\web\\front\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\wakk\\GolandProjects\\GinBlog\\web\\front\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\wakk\\GolandProjects\\GinBlog\\web\\front\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\wakk\\GolandProjects\\GinBlog\\web\\front\\src\\components\\TopBar.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\wakk\\GolandProjects\\GinBlog\\web\\front\\src\\components\\TopBar.vue","mtime":1659762357963},{"path":"C:\\Users\\wakk\\GolandProjects\\GinBlog\\web\\front\\babel.config.js","mtime":1659587772965},{"path":"C:\\Users\\wakk\\GolandProjects\\GinBlog\\web\\front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1659587648702},{"path":"C:\\Users\\wakk\\GolandProjects\\GinBlog\\web\\front\\node_modules\\babel-loader\\lib\\index.js","mtime":1659587649729},{"path":"C:\\Users\\wakk\\GolandProjects\\GinBlog\\web\\front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1659587648702},{"path":"C:\\Users\\wakk\\GolandProjects\\GinBlog\\web\\front\\node_modules\\vue-loader\\lib\\index.js","mtime":1659587650472}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:ZXhwb3J0IGRlZmF1bHQgewogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBkcmF3ZXI6IGZhbHNlLAogICAgICBncm91cDogbnVsbCwKICAgICAgdmFsaWQ6IHRydWUsCiAgICAgIHJlZ2lzdGVyZm9ybXZhbGlkOiB0cnVlLAogICAgICBjYXRlTGlzdDogW10sCiAgICAgIHNlYXJjaE5hbWU6ICIiLAogICAgICBmb3JtZGF0YTogewogICAgICAgIHVzZXJuYW1lOiAiIiwKICAgICAgICBwYXNzd29yZDogIiIKICAgICAgfSwKICAgICAgY2hlY2tQYXNzd29yZDogIiIsCiAgICAgIGRpYWxvZzogZmFsc2UsCiAgICAgIGhlYWRlcnM6IHsKICAgICAgICBBdXRob3JpemF0aW9uOiAiIiwKICAgICAgICB1c2VybmFtZTogIiIKICAgICAgfSwKICAgICAgbmFtZVJ1bGVzOiBbdiA9PiAhIXYgfHwgIueUqOaIt+WQjeS4jeiDveS4uuepuiIsIHYgPT4gdiAmJiB2Lmxlbmd0aCA+PSA0ICYmIHYubGVuZ3RoIDw9IDEyIHx8ICLnlKjmiLflkI3lv4XpobvlnKg05YiwMTLkuKrlrZfnrKbkuYvpl7QiXSwKICAgICAgcGFzc3dvcmRSdWxlczogW3YgPT4gISF2IHx8ICLlr4bnoIHkuI3og73kuLrnqboiLCB2ID0+IHYgJiYgdi5sZW5ndGggPj0gNiAmJiB2Lmxlbmd0aCA8PSAyMCB8fCAi5a+G56CB5b+F6aG75ZyoNuWIsDIw5Liq5a2X56ym5LmL6Ze0Il0sCiAgICAgIGNoZWNrUGFzc3dvcmRSdWxlczogW3YgPT4gISF2IHx8ICLlr4bnoIHkuI3og73kuLrnqboiLCB2ID0+IHYgJiYgdi5sZW5ndGggPj0gNiAmJiB2Lmxlbmd0aCA8PSAyMCB8fCAi5a+G56CB5b+F6aG75ZyoNuWIsDIw5Liq5a2X56ym5LmL6Ze0IiwgdiA9PiB2ID09PSB0aGlzLmZvcm1kYXRhLnBhc3N3b3JkIHx8ICLlr4bnoIHkuKTmrKHovpPlhaXkuI3kuIDoh7TvvIzor7fmo4Dmn6UiXQogICAgfTsKICB9LAoKICB3YXRjaDogewogICAgZ3JvdXAoKSB7CiAgICAgIHRoaXMuZHJhd2VyID0gZmFsc2U7CiAgICB9CgogIH0sCgogIGNyZWF0ZWQoKSB7CiAgICB0aGlzLkdldENhdGVMaXN0KCk7CiAgfSwKCiAgbW91bnRlZCgpIHsKICAgIHRoaXMuaGVhZGVycyA9IHsKICAgICAgQXV0aG9yaXphdGlvbjogYEJlYXJlciAke3dpbmRvdy5zZXNzaW9uU3RvcmFnZS5nZXRJdGVtKCJ0b2tlbiIpfWAsCiAgICAgIHVzZXJuYW1lOiB3aW5kb3cuc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbSgidXNlcm5hbWUiKQogICAgfTsKICB9LAoKICBtZXRob2RzOiB7CiAgICAvLyDojrflj5bliIbnsbsKICAgIGFzeW5jIEdldENhdGVMaXN0KCkgewogICAgICBjb25zdCB7CiAgICAgICAgZGF0YTogcmVzCiAgICAgIH0gPSBhd2FpdCB0aGlzLiRodHRwLmdldCgiY2F0ZWdvcnkvZ2V0Y2F0ZWdvcnlzIiwgewogICAgICAgIHBhcmFtczogewogICAgICAgICAgcGFnZXNpemU6IC0xLAogICAgICAgICAgcGFnZW51bTogLTEKICAgICAgICB9CiAgICAgIH0pOwogICAgICB0aGlzLmNhdGVMaXN0ID0gcmVzLmRhdGE7CiAgICB9LAoKICAgIC8vIOafpeaJvuaWh+eroOagh+mimAogICAgc2VhcmNoVGl0bGUodGl0bGUpIHsKICAgICAgaWYgKHRpdGxlLmxlbmd0aCA9PSAwKSByZXR1cm4gdGhpcy4kbWVzc2FnZS5lcnJvcigi5L2g6L+Y5rKh5aGr5YWl5pCc57Si5YaF5a655ZOmIik7CiAgICAgIHRoaXMuJHJvdXRlci5wdXNoKGAvc2VhcmNoLyR7dGl0bGV9YCk7CiAgICB9LAoKICAgIGdvdG9DYXRlKGNpZCkgewogICAgICB0aGlzLiRyb3V0ZXIucHVzaChgL2NhdGVnb3J5LyR7Y2lkfWApLmNhdGNoKGVyciA9PiBlcnIpOwogICAgfSwKCiAgICAvLyDnmbvlvZUKICAgIGFzeW5jIGxvZ2luKCkgewogICAgICBpZiAoIXRoaXMuJHJlZnMubG9naW5Gb3JtUmVmLnZhbGlkYXRlKCkpIHJldHVybiB0aGlzLiRtZXNzYWdlLmVycm9yKCLovpPlhaXmlbDmja7pnZ7ms5XvvIzor7fmo4Dmn6XovpPlhaXnmoTnlKjmiLflkI3lkozlr4bnoIEiKTsKICAgICAgY29uc3QgewogICAgICAgIGRhdGE6IHJlcwogICAgICB9ID0gYXdhaXQgdGhpcy4kaHR0cC5wb3N0KCJsb2dpbmZyb250IiwgdGhpcy5mb3JtZGF0YSk7CiAgICAgIGlmIChyZXMuc3RhdHVzICE9PSAyMDApIHJldHVybiB0aGlzLiRtZXNzYWdlLmVycm9yKHJlcy5tZXNzYWdlKTsKICAgICAgd2luZG93LnNlc3Npb25TdG9yYWdlLnNldEl0ZW0oInVzZXJuYW1lIiwgcmVzLnVzZXJuYW1lKTsKICAgICAgd2luZG93LnNlc3Npb25TdG9yYWdlLnNldEl0ZW0oInVzZXJfaWQiLCByZXMudXNlcl9pZCk7CiAgICAgIGFsZXJ0KCLnmbvlvZXmiJDlip8iKTsKICAgICAgdGhpcy4kcm91dGVyLmdvKDApOwogICAgfSwKCiAgICAvLyDpgIDlh7oKICAgIGxvZ2lub3V0KCkgewogICAgICB3aW5kb3cuc2Vzc2lvblN0b3JhZ2UuY2xlYXIoInRva2VuIik7CiAgICAgIHdpbmRvdy5zZXNzaW9uU3RvcmFnZS5jbGVhcigidXNlcm5hbWUiKTsKICAgICAgYWxlcnQoIumAgOWHuuaIkOWKnyIpOwogICAgICB0aGlzLiRyb3V0ZXIuZ28oMCk7CiAgICB9LAoKICAgIC8vIOazqOWGjAogICAgYXN5bmMgcmVnaXN0ZXJVc2VyKCkgewogICAgICBpZiAoIXRoaXMuJHJlZnMucmVnaXN0ZXJmb3JtUmVmLnZhbGlkYXRlKCkpIHJldHVybiB0aGlzLiRtZXNzYWdlLmVycm9yKCLovpPlhaXmlbDmja7pnZ7ms5XvvIzor7fmo4Dmn6XovpPlhaXnmoTnlKjmiLflkI3lkozlr4bnoIEiKTsKICAgICAgY29uc3QgewogICAgICAgIGRhdGE6IHJlcwogICAgICB9ID0gYXdhaXQgdGhpcy4kaHR0cC5wb3N0KCJ1c2VyL2FkZCIsIHsKICAgICAgICB1c2VybmFtZTogdGhpcy5mb3JtZGF0YS51c2VybmFtZSwKICAgICAgICBwYXNzd29yZDogdGhpcy5mb3JtZGF0YS5wYXNzd29yZCwKICAgICAgICByb2xlOiAyCiAgICAgIH0pOwogICAgICBpZiAocmVzLnN0YXR1cyAhPT0gMjAwKSByZXR1cm4gdGhpcy4kbWVzc2FnZS5lcnJvcihyZXMubWVzc2FnZSk7CiAgICAgIGFsZXJ0KCLms6jlhozmiJDlip8iKTsKICAgICAgdGhpcy4kcm91dGVyLmdvKDApOwogICAgfQoKICB9Cn07"},{"version":3,"mappings":"AAkKA;EACAA;IACA;MACAC,aADA;MAEAC,WAFA;MAGAC,WAHA;MAIAC,uBAJA;MAKAC,YALA;MAMAC,cANA;MAOAC;QACAC,YADA;QAEAC;MAFA,CAPA;MAWAC,iBAXA;MAYAC,aAZA;MAaAC;QACAC,iBADA;QAEAL;MAFA,CAbA;MAiBAM,YACAC,qBADA,EAEAA,KACAA,wCACA,iBAJA,CAjBA;MAuBAC,gBACAD,oBADA,EAEAA,KACAA,wDAHA,CAvBA;MA4BAE,qBACAF,oBADA,EAEAA,KACAA,wDAHA,EAIAA,oDAJA;IA5BA;EAmCA,CArCA;;EAsCAG;IACAhB;MACA;IACA;;EAHA,CAtCA;;EA2CAiB;IACA;EACA,CA7CA;;EA8CAC;IACA;MACAP,iEADA;MAEAL;IAFA;EAIA,CAnDA;;EAoDAa;IACA;IACA;MACA;QAAArB;MAAA;QACAsB;UACAC,YADA;UAEAC;QAFA;MADA;MAMA;IACA,CAVA;;IAYA;IACAC;MACA;MACA;IACA,CAhBA;;IAkBAC;MACA;IACA,CApBA;;IAqBA;IACA;MACA,yCACA;MACA;QAAA1B;MAAA;MACA;MACA2B;MACAA;MACAC;MACA;IACA,CA/BA;;IAiCA;IACAC;MACAF;MACAA;MACAC;MACA;IACA,CAvCA;;IAyCA;IACA;MACA,4CACA;MACA;QAAA5B;MAAA;QACAQ,gCADA;QAEAC,gCAFA;QAGAqB;MAHA;MAKA;MACAF;MAEA;IACA;;EAtDA;AApDA","names":["data","drawer","group","valid","registerformvalid","cateList","searchName","formdata","username","password","checkPassword","dialog","headers","Authorization","nameRules","v","passwordRules","checkPasswordRules","watch","created","mounted","methods","params","pagesize","pagenum","searchTitle","gotoCate","window","alert","loginout","role"],"sourceRoot":"src/components","sources":["TopBar.vue"],"sourcesContent":["<template>\n  <div>\n    <v-app-bar mobileBreakpoint=\"sm\" app dark flat color=\"indigo darken-2\">\n      <v-app-bar-nav-icon\n        dark\n        class=\"hidden-md-and-up\"\n        @click.stop=\"drawer = !drawer\"\n      ></v-app-bar-nav-icon>\n      <v-toolbar-title>\n        <v-app-bar-nav-icon class=\"mx-15 hidden-md-and-down\">\n          <v-avatar size=\"35\" color=\"indigo darken-2\">\n            <img src=\"../assets/logo.png\" alt />\n          </v-avatar>\n        </v-app-bar-nav-icon>\n      </v-toolbar-title>\n\n      <v-tabs dark center-active centered class=\"hidden-sm-and-down\">\n        <v-tab @click=\"$router.push('/')\">首页</v-tab>\n        <v-tab\n          v-for=\"item in cateList\"\n          :key=\"item.id\"\n          text\n          @click=\"gotoCate(item.id)\"\n          >{{ item.name }}</v-tab\n        >\n      </v-tabs>\n\n      <v-spacer></v-spacer>\n\n      <v-responsive class=\"hidden-sm-and-down\" color=\"white\">\n        <v-text-field\n          dense\n          flat\n          hide-details\n          solo-inverted\n          rounded\n          placeholder=\"请输入文章标题查找\"\n          dark\n          append-icon=\"mdi-text-search\"\n          v-model=\"searchName\"\n          @change=\"searchTitle(searchName)\"\n        ></v-text-field>\n      </v-responsive>\n\n      <v-dialog max-width=\"800\">\n        <template v-slot:activator=\"{ on, attrs }\">\n          <v-btn v-if=\"!headers.username\" text dark v-bind=\"attrs\" v-on=\"on\"\n            >请登录</v-btn\n          >\n\n          <v-btn v-if=\"headers.username\" text dark\n            >欢迎你！{{ headers.username }}</v-btn\n          >\n          <v-btn\n            class=\"hidden-md-and-down\"\n            v-if=\"headers.username\"\n            text\n            dark\n            @click=\"loginout\"\n            >退出</v-btn\n          >\n        </template>\n\n        <template v-slot:default=\"dialog\">\n          <v-card>\n            <v-toolbar color=\"indigo darken-2\" dark>请登录</v-toolbar>\n            <v-form ref=\"loginFormRef\" v-model=\"valid\">\n              <v-card-text class=\"mt-5\">\n                <v-text-field\n                  v-model=\"formdata.username\"\n                  hint=\"至少4个字符\"\n                  counter=\"12\"\n                  :rules=\"nameRules\"\n                  label=\"请输入用户名\"\n                ></v-text-field>\n                <v-text-field\n                  v-model=\"formdata.password\"\n                  hint=\"至少6个字符\"\n                  counter=\"20\"\n                  :rules=\"passwordRules\"\n                  label=\"请输入密码\"\n                  type=\"password\"\n                ></v-text-field>\n              </v-card-text>\n              <v-card-actions class=\"justify-end\">\n                <v-btn text @click=\"login\">确定</v-btn>\n                <v-btn text @click=\"dialog.value = false\">取消</v-btn>\n              </v-card-actions>\n            </v-form>\n          </v-card>\n        </template>\n      </v-dialog>\n\n      <v-dialog max-width=\"800\">\n        <template v-slot:activator=\"{ on, attrs }\">\n          <v-btn v-if=\"!headers.username\" text dark v-bind=\"attrs\" v-on=\"on\"\n            >注册</v-btn\n          >\n        </template>\n        <template v-slot:default=\"dialog\">\n          <v-form ref=\"registerformRef\" v-model=\"registerformvalid\">\n            <v-card>\n              <v-toolbar color=\"indigo darken-2\" dark>欢迎注册</v-toolbar>\n              <v-card-text class=\"mt-5\">\n                <v-text-field\n                  v-model=\"formdata.username\"\n                  hint=\"至少4个字符\"\n                  counter=\"12\"\n                  :rules=\"nameRules\"\n                  label=\"请输入用户名\"\n                ></v-text-field>\n                <v-text-field\n                  v-model=\"formdata.password\"\n                  :rules=\"passwordRules\"\n                  hint=\"至少6个字符\"\n                  counter=\"20\"\n                  label=\"请输入密码\"\n                  type=\"password\"\n                ></v-text-field>\n                <v-text-field\n                  v-model=\"checkPassword\"\n                  :rules=\"checkPasswordRules\"\n                  hint=\"至少6个字符\"\n                  counter=\"20\"\n                  label=\"请确认密码\"\n                  type=\"password\"\n                ></v-text-field>\n              </v-card-text>\n              <v-card-actions class=\"justify-end\">\n                <v-btn text @click=\"registerUser\">确定</v-btn>\n                <v-btn text @click=\"dialog.value = false\">取消</v-btn>\n              </v-card-actions>\n            </v-card>\n          </v-form>\n        </template>\n      </v-dialog>\n    </v-app-bar>\n\n    <v-navigation-drawer v-model=\"drawer\" color=\"indigo\" dark app temporary>\n      <v-list>\n        <v-list-item-title>\n          <v-btn href=\"/\" dark text>\n            <v-icon small>mdi-home</v-icon>首页\n          </v-btn>\n        </v-list-item-title>\n\n        <v-list-item\n          v-model=\"group\"\n          active-class=\"deep-purple--text text--accent-4\"\n          v-for=\"item in cateList\"\n          :key=\"item.id\"\n        >\n          <v-list-item-title>\n            <v-btn dark text @click=\"gotoCate(item.id)\">{{ item.name }}</v-btn>\n          </v-list-item-title>\n        </v-list-item>\n      </v-list>\n    </v-navigation-drawer>\n  </div>\n</template>\n\n<script>\nexport default {\n  data() {\n    return {\n      drawer: false,\n      group: null,\n      valid: true,\n      registerformvalid: true,\n      cateList: [],\n      searchName: \"\",\n      formdata: {\n        username: \"\",\n        password: \"\",\n      },\n      checkPassword: \"\",\n      dialog: false,\n      headers: {\n        Authorization: \"\",\n        username: \"\",\n      },\n      nameRules: [\n        (v) => !!v || \"用户名不能为空\",\n        (v) =>\n          (v && v.length >= 4 && v.length <= 12) ||\n          \"用户名必须在4到12个字符之间\",\n      ],\n      passwordRules: [\n        (v) => !!v || \"密码不能为空\",\n        (v) =>\n          (v && v.length >= 6 && v.length <= 20) || \"密码必须在6到20个字符之间\",\n      ],\n      checkPasswordRules: [\n        (v) => !!v || \"密码不能为空\",\n        (v) =>\n          (v && v.length >= 6 && v.length <= 20) || \"密码必须在6到20个字符之间\",\n        (v) => v === this.formdata.password || \"密码两次输入不一致，请检查\",\n      ],\n    };\n  },\n  watch: {\n    group() {\n      this.drawer = false;\n    },\n  },\n  created() {\n    this.GetCateList();\n  },\n  mounted() {\n    this.headers = {\n      Authorization: `Bearer ${window.sessionStorage.getItem(\"token\")}`,\n      username: window.sessionStorage.getItem(\"username\"),\n    };\n  },\n  methods: {\n    // 获取分类\n    async GetCateList() {\n      const { data: res } = await this.$http.get(\"category/getcategorys\", {\n        params: {\n          pagesize: -1,\n          pagenum: -1,\n        },\n      });\n      this.cateList = res.data;\n    },\n\n    // 查找文章标题\n    searchTitle(title) {\n      if (title.length == 0) return this.$message.error(\"你还没填入搜索内容哦\");\n      this.$router.push(`/search/${title}`);\n    },\n\n    gotoCate(cid) {\n      this.$router.push(`/category/${cid}`).catch((err) => err);\n    },\n    // 登录\n    async login() {\n      if (!this.$refs.loginFormRef.validate())\n        return this.$message.error(\"输入数据非法，请检查输入的用户名和密码\");\n      const { data: res } = await this.$http.post(\"loginfront\", this.formdata);\n      if (res.status !== 200) return this.$message.error(res.message);\n      window.sessionStorage.setItem(\"username\", res.username);\n      window.sessionStorage.setItem(\"user_id\", res.user_id);\n      alert(\"登录成功\")\n      this.$router.go(0);\n    },\n\n    // 退出\n    loginout() {\n      window.sessionStorage.clear(\"token\");\n      window.sessionStorage.clear(\"username\");\n      alert(\"退出成功\");\n      this.$router.go(0);\n    },\n\n    // 注册\n    async registerUser() {\n      if (!this.$refs.registerformRef.validate())\n        return this.$message.error(\"输入数据非法，请检查输入的用户名和密码\");\n      const { data: res } = await this.$http.post(\"user/add\", {\n        username: this.formdata.username,\n        password: this.formdata.password,\n        role: 2,\n      });\n      if (res.status !== 200) return this.$message.error(res.message);\n      alert(\"注册成功\");\n\n      this.$router.go(0);\n    },\n  },\n};\n</script>\n\n<style></style>\n"]}]}