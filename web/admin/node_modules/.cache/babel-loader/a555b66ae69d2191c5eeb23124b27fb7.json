{"remainingRequest":"C:\\Users\\wakk\\GolandProjects\\GinBlog\\web\\admin\\node_modules\\thread-loader\\dist\\cjs.js!C:\\Users\\wakk\\GolandProjects\\GinBlog\\web\\admin\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\wakk\\GolandProjects\\GinBlog\\web\\admin\\node_modules\\eslint-loader\\index.js??ref--14-0!C:\\Users\\wakk\\GolandProjects\\GinBlog\\web\\admin\\src\\components\\editor\\plugins\\image\\plugin.min.js","dependencies":[{"path":"C:\\Users\\wakk\\GolandProjects\\GinBlog\\web\\admin\\src\\components\\editor\\plugins\\image\\plugin.min.js","mtime":1651118941000},{"path":"C:\\Users\\wakk\\GolandProjects\\GinBlog\\web\\admin\\babel.config.js","mtime":1651118941000},{"path":"C:\\Users\\wakk\\GolandProjects\\GinBlog\\web\\admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1659170820870},{"path":"C:\\Users\\wakk\\GolandProjects\\GinBlog\\web\\admin\\node_modules\\thread-loader\\dist\\cjs.js","mtime":1659170820855},{"path":"C:\\Users\\wakk\\GolandProjects\\GinBlog\\web\\admin\\node_modules\\babel-loader\\lib\\index.js","mtime":1659170823565},{"path":"C:\\Users\\wakk\\GolandProjects\\GinBlog\\web\\admin\\node_modules\\eslint-loader\\index.js","mtime":1659170823234}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:dmFyIF90eXBlb2YgPSByZXF1aXJlKCJDOi9Vc2Vycy93YWtrL0dvbGFuZFByb2plY3RzL0dpbkJsb2cvd2ViL2FkbWluL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL3R5cGVvZi5qcyIpLmRlZmF1bHQ7CgpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMuZXJyb3IuY2F1c2UuanMiKTsKCnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5mdW5jdGlvbi5uYW1lLmpzIik7CgpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkubWFwLmpzIik7CgpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmV4ZWMuanMiKTsKCnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcucmVwbGFjZS5qcyIpOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC50ZXN0LmpzIik7CgpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnNwbGl0LmpzIik7CgpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyIpOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZpbHRlci5qcyIpOwoKLyoqCiAqIENvcHlyaWdodCAoYykgVGlueSBUZWNobm9sb2dpZXMsIEluYy4gQWxsIHJpZ2h0cyByZXNlcnZlZC4KICogTGljZW5zZWQgdW5kZXIgdGhlIExHUEwgb3IgYSBjb21tZXJjaWFsIGxpY2Vuc2UuCiAqIEZvciBMR1BMIHNlZSBMaWNlbnNlLnR4dCBpbiB0aGUgcHJvamVjdCByb290IGZvciBsaWNlbnNlIGluZm9ybWF0aW9uLgogKiBGb3IgY29tbWVyY2lhbCBsaWNlbnNlcyBzZWUgaHR0cHM6Ly93d3cudGlueS5jbG91ZC8KICoKICogVmVyc2lvbjogNS40LjIgKDIwMjAtMDgtMTcpCiAqLwohZnVuY3Rpb24gKG0pIHsKICAidXNlIHN0cmljdCI7CgogIHZhciBlLAogICAgICB0LAogICAgICBuLAogICAgICByLAogICAgICBvLAogICAgICBhID0gdGlueW1jZS51dGlsLlRvb2xzLnJlc29sdmUoInRpbnltY2UuUGx1Z2luTWFuYWdlciIpLAogICAgICBpID0gZnVuY3Rpb24gaSgpIHt9LAogICAgICBsID0gZnVuY3Rpb24gbChlKSB7CiAgICByZXR1cm4gZnVuY3Rpb24gKCkgewogICAgICByZXR1cm4gZTsKICAgIH07CiAgfSwKICAgICAgcyA9IGwoITEpLAogICAgICB1ID0gbCghMCksCiAgICAgIGMgPSBmdW5jdGlvbiBjKCkgewogICAgcmV0dXJuIGQ7CiAgfSwKICAgICAgZCA9IChlID0gZnVuY3Rpb24gZShfZTIpIHsKICAgIHJldHVybiBfZTIuaXNOb25lKCk7CiAgfSwgewogICAgZm9sZDogZnVuY3Rpb24gZm9sZChlLCB0KSB7CiAgICAgIHJldHVybiBlKCk7CiAgICB9LAogICAgaXM6IHMsCiAgICBpc1NvbWU6IHMsCiAgICBpc05vbmU6IHUsCiAgICBnZXRPcjogbiA9IGZ1bmN0aW9uIG4oZSkgewogICAgICByZXR1cm4gZTsKICAgIH0sCiAgICBnZXRPclRodW5rOiB0ID0gZnVuY3Rpb24gdChlKSB7CiAgICAgIHJldHVybiBlKCk7CiAgICB9LAogICAgZ2V0T3JEaWU6IGZ1bmN0aW9uIGdldE9yRGllKGUpIHsKICAgICAgdGhyb3cgbmV3IEVycm9yKGUgfHwgImVycm9yOiBnZXRPckRpZSBjYWxsZWQgb24gbm9uZS4iKTsKICAgIH0sCiAgICBnZXRPck51bGw6IGwobnVsbCksCiAgICBnZXRPclVuZGVmaW5lZDogbCh1bmRlZmluZWQpLAogICAgb3I6IG4sCiAgICBvclRodW5rOiB0LAogICAgbWFwOiBjLAogICAgZWFjaDogaSwKICAgIGJpbmQ6IGMsCiAgICBleGlzdHM6IHMsCiAgICBmb3JhbGw6IHUsCiAgICBmaWx0ZXI6IGMsCiAgICBlcXVhbHM6IGUsCiAgICBlcXVhbHNfOiBlLAogICAgdG9BcnJheTogZnVuY3Rpb24gdG9BcnJheSgpIHsKICAgICAgcmV0dXJuIFtdOwogICAgfSwKICAgIHRvU3RyaW5nOiBsKCJub25lKCkiKQogIH0pLAogICAgICBnID0gZnVuY3Rpb24gZyhuKSB7CiAgICB2YXIgZSA9IGwobiksCiAgICAgICAgdCA9IGZ1bmN0aW9uIHQoKSB7CiAgICAgIHJldHVybiBhOwogICAgfSwKICAgICAgICByID0gZnVuY3Rpb24gcihlKSB7CiAgICAgIHJldHVybiBlKG4pOwogICAgfSwKICAgICAgICBhID0gewogICAgICBmb2xkOiBmdW5jdGlvbiBmb2xkKGUsIHQpIHsKICAgICAgICByZXR1cm4gdChuKTsKICAgICAgfSwKICAgICAgaXM6IGZ1bmN0aW9uIGlzKGUpIHsKICAgICAgICByZXR1cm4gbiA9PT0gZTsKICAgICAgfSwKICAgICAgaXNTb21lOiB1LAogICAgICBpc05vbmU6IHMsCiAgICAgIGdldE9yOiBlLAogICAgICBnZXRPclRodW5rOiBlLAogICAgICBnZXRPckRpZTogZSwKICAgICAgZ2V0T3JOdWxsOiBlLAogICAgICBnZXRPclVuZGVmaW5lZDogZSwKICAgICAgb3I6IHQsCiAgICAgIG9yVGh1bms6IHQsCiAgICAgIG1hcDogZnVuY3Rpb24gbWFwKGUpIHsKICAgICAgICByZXR1cm4gZyhlKG4pKTsKICAgICAgfSwKICAgICAgZWFjaDogZnVuY3Rpb24gZWFjaChlKSB7CiAgICAgICAgZShuKTsKICAgICAgfSwKICAgICAgYmluZDogciwKICAgICAgZXhpc3RzOiByLAogICAgICBmb3JhbGw6IHIsCiAgICAgIGZpbHRlcjogZnVuY3Rpb24gZmlsdGVyKGUpIHsKICAgICAgICByZXR1cm4gZShuKSA/IGEgOiBkOwogICAgICB9LAogICAgICB0b0FycmF5OiBmdW5jdGlvbiB0b0FycmF5KCkgewogICAgICAgIHJldHVybiBbbl07CiAgICAgIH0sCiAgICAgIHRvU3RyaW5nOiBmdW5jdGlvbiB0b1N0cmluZygpIHsKICAgICAgICByZXR1cm4gInNvbWUoIiArIG4gKyAiKSI7CiAgICAgIH0sCiAgICAgIGVxdWFsczogZnVuY3Rpb24gZXF1YWxzKGUpIHsKICAgICAgICByZXR1cm4gZS5pcyhuKTsKICAgICAgfSwKICAgICAgZXF1YWxzXzogZnVuY3Rpb24gZXF1YWxzXyhlLCB0KSB7CiAgICAgICAgcmV0dXJuIGUuZm9sZChzLCBmdW5jdGlvbiAoZSkgewogICAgICAgICAgcmV0dXJuIHQobiwgZSk7CiAgICAgICAgfSk7CiAgICAgIH0KICAgIH07CgogICAgcmV0dXJuIGE7CiAgfSwKICAgICAgQSA9IHsKICAgIHNvbWU6IGcsCiAgICBub25lOiBjLAogICAgZnJvbTogZnVuY3Rpb24gZnJvbShlKSB7CiAgICAgIHJldHVybiBudWxsID09PSBlIHx8IGUgPT09IHVuZGVmaW5lZCA/IGQgOiBnKGUpOwogICAgfQogIH0sCiAgICAgIGYgPSBmdW5jdGlvbiBmKHIpIHsKICAgIHJldHVybiBmdW5jdGlvbiAoZSkgewogICAgICByZXR1cm4gbiA9IF90eXBlb2YodCA9IGUpLCAobnVsbCA9PT0gdCA/ICJudWxsIiA6ICJvYmplY3QiID09IG4gJiYgKEFycmF5LnByb3RvdHlwZS5pc1Byb3RvdHlwZU9mKHQpIHx8IHQuY29uc3RydWN0b3IgJiYgIkFycmF5IiA9PT0gdC5jb25zdHJ1Y3Rvci5uYW1lKSA/ICJhcnJheSIgOiAib2JqZWN0IiA9PSBuICYmIChTdHJpbmcucHJvdG90eXBlLmlzUHJvdG90eXBlT2YodCkgfHwgdC5jb25zdHJ1Y3RvciAmJiAiU3RyaW5nIiA9PT0gdC5jb25zdHJ1Y3Rvci5uYW1lKSA/ICJzdHJpbmciIDogbikgPT09IHI7CiAgICAgIHZhciB0LCBuOwogICAgfTsKICB9LAogICAgICBwID0gZnVuY3Rpb24gcCh0KSB7CiAgICByZXR1cm4gZnVuY3Rpb24gKGUpIHsKICAgICAgcmV0dXJuIF90eXBlb2YoZSkgPT09IHQ7CiAgICB9OwogIH0sCiAgICAgIFMgPSBmKCJzdHJpbmciKSwKICAgICAgaCA9IGYoIm9iamVjdCIpLAogICAgICBiID0gZigiYXJyYXkiKSwKICAgICAgdiA9IChyID0gbnVsbCwgZnVuY3Rpb24gKGUpIHsKICAgIHJldHVybiByID09PSBlOwogIH0pLAogICAgICB5ID0gcCgiYm9vbGVhbiIpLAogICAgICB3ID0gcCgibnVtYmVyIiksCiAgICAgIEQgPSBBcnJheS5wcm90b3R5cGUucHVzaCwKICAgICAgeCA9IGZ1bmN0aW9uIHgoZSkgewogICAgZm9yICh2YXIgdCA9IFtdLCBuID0gMCwgciA9IGUubGVuZ3RoOyBuIDwgcjsgKytuKSB7CiAgICAgIGlmICghYihlW25dKSkgdGhyb3cgbmV3IEVycm9yKCJBcnIuZmxhdHRlbiBpdGVtICIgKyBuICsgIiB3YXMgbm90IGFuIGFycmF5LCBpbnB1dDogIiArIGUpOwogICAgICBELmFwcGx5KHQsIGVbbl0pOwogICAgfQoKICAgIHJldHVybiB0OwogIH0sCiAgICAgIFQgPSBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LAogICAgICBDID0gKG8gPSBmdW5jdGlvbiBvKGUsIHQpIHsKICAgIHJldHVybiBoKGUpICYmIGgodCkgPyBDKGUsIHQpIDogdDsKICB9LCBmdW5jdGlvbiAoKSB7CiAgICBmb3IgKHZhciBlID0gbmV3IEFycmF5KGFyZ3VtZW50cy5sZW5ndGgpLCB0ID0gMDsgdCA8IGUubGVuZ3RoOyB0KyspIHsKICAgICAgZVt0XSA9IGFyZ3VtZW50c1t0XTsKICAgIH0KCiAgICBpZiAoMCA9PT0gZS5sZW5ndGgpIHRocm93IG5ldyBFcnJvcigiQ2FuJ3QgbWVyZ2UgemVybyBvYmplY3RzIik7CgogICAgZm9yICh2YXIgbiA9IHt9LCByID0gMDsgciA8IGUubGVuZ3RoOyByKyspIHsKICAgICAgdmFyIGEgPSBlW3JdOwoKICAgICAgZm9yICh2YXIgaSBpbiBhKSB7CiAgICAgICAgVC5jYWxsKGEsIGkpICYmIChuW2ldID0gbyhuW2ldLCBhW2ldKSk7CiAgICAgIH0KICAgIH0KCiAgICByZXR1cm4gbjsKICB9KSwKICAgICAgX1UgPSBmdW5jdGlvbiBVKCkgewogICAgcmV0dXJuIChfVSA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKGUpIHsKICAgICAgZm9yICh2YXIgdCwgbiA9IDEsIHIgPSBhcmd1bWVudHMubGVuZ3RoOyBuIDwgcjsgbisrKSB7CiAgICAgICAgZm9yICh2YXIgYSBpbiB0ID0gYXJndW1lbnRzW25dKSB7CiAgICAgICAgICBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodCwgYSkgJiYgKGVbYV0gPSB0W2FdKTsKICAgICAgICB9CiAgICAgIH0KCiAgICAgIHJldHVybiBlOwogICAgfSkuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICB9LAogICAgICBPID0gKCJ1bmRlZmluZWQiICE9IHR5cGVvZiBtLndpbmRvdyA/IG0ud2luZG93IDogRnVuY3Rpb24oInJldHVybiB0aGlzOyIpKCksIGZ1bmN0aW9uIChlLCB0LCBuKSB7CiAgICAhZnVuY3Rpb24gKGUsIHQsIG4pIHsKICAgICAgaWYgKCEoUyhuKSB8fCB5KG4pIHx8IHcobikpKSB0aHJvdyBtLmNvbnNvbGUuZXJyb3IoIkludmFsaWQgY2FsbCB0byBBdHRyLnNldC4gS2V5ICIsIHQsICI6OiBWYWx1ZSAiLCBuLCAiOjogRWxlbWVudCAiLCBlKSwgbmV3IEVycm9yKCJBdHRyaWJ1dGUgdmFsdWUgd2FzIG5vdCBzaW1wbGUiKTsKICAgICAgZS5zZXRBdHRyaWJ1dGUodCwgbiArICIiKTsKICAgIH0oZS5kb20oKSwgdCwgbik7CiAgfSksCiAgICAgIEkgPSBmdW5jdGlvbiBJKGUpIHsKICAgIGlmIChudWxsID09PSBlIHx8IGUgPT09IHVuZGVmaW5lZCkgdGhyb3cgbmV3IEVycm9yKCJOb2RlIGNhbm5vdCBiZSBudWxsIG9yIHVuZGVmaW5lZCIpOwogICAgcmV0dXJuIHsKICAgICAgZG9tOiBsKGUpCiAgICB9OwogIH0sCiAgICAgIE4gPSB7CiAgICBmcm9tSHRtbDogZnVuY3Rpb24gZnJvbUh0bWwoZSwgdCkgewogICAgICB2YXIgbiA9ICh0IHx8IG0uZG9jdW1lbnQpLmNyZWF0ZUVsZW1lbnQoImRpdiIpOwogICAgICBpZiAobi5pbm5lckhUTUwgPSBlLCAhbi5oYXNDaGlsZE5vZGVzKCkgfHwgMSA8IG4uY2hpbGROb2Rlcy5sZW5ndGgpIHRocm93IG0uY29uc29sZS5lcnJvcigiSFRNTCBkb2VzIG5vdCBoYXZlIGEgc2luZ2xlIHJvb3Qgbm9kZSIsIGUpLCBuZXcgRXJyb3IoIkhUTUwgbXVzdCBoYXZlIGEgc2luZ2xlIHJvb3Qgbm9kZSIpOwogICAgICByZXR1cm4gSShuLmNoaWxkTm9kZXNbMF0pOwogICAgfSwKICAgIGZyb21UYWc6IGZ1bmN0aW9uIGZyb21UYWcoZSwgdCkgewogICAgICB2YXIgbiA9ICh0IHx8IG0uZG9jdW1lbnQpLmNyZWF0ZUVsZW1lbnQoZSk7CiAgICAgIHJldHVybiBJKG4pOwogICAgfSwKICAgIGZyb21UZXh0OiBmdW5jdGlvbiBmcm9tVGV4dChlLCB0KSB7CiAgICAgIHZhciBuID0gKHQgfHwgbS5kb2N1bWVudCkuY3JlYXRlVGV4dE5vZGUoZSk7CiAgICAgIHJldHVybiBJKG4pOwogICAgfSwKICAgIGZyb21Eb206IEksCiAgICBmcm9tUG9pbnQ6IGZ1bmN0aW9uIGZyb21Qb2ludChlLCB0LCBuKSB7CiAgICAgIHZhciByID0gZS5kb20oKTsKICAgICAgcmV0dXJuIEEuZnJvbShyLmVsZW1lbnRGcm9tUG9pbnQodCwgbikpLm1hcChJKTsKICAgIH0KICB9LAogICAgICBQID0gdGlueW1jZS51dGlsLlRvb2xzLnJlc29sdmUoInRpbnltY2UuZG9tLkRPTVV0aWxzIiksCiAgICAgIEwgPSB0aW55bWNlLnV0aWwuVG9vbHMucmVzb2x2ZSgidGlueW1jZS51dGlsLlByb21pc2UiKSwKICAgICAgXyA9IHRpbnltY2UudXRpbC5Ub29scy5yZXNvbHZlKCJ0aW55bWNlLnV0aWwuWEhSIiksCiAgICAgIEUgPSBmdW5jdGlvbiBFKGUpIHsKICAgIHJldHVybiBlLmdldFBhcmFtKCJpbWFnZV9kaW1lbnNpb25zIiwgITAsICJib29sZWFuIik7CiAgfSwKICAgICAgTSA9IGZ1bmN0aW9uIE0oZSkgewogICAgcmV0dXJuIGUuZ2V0UGFyYW0oImltYWdlc191cGxvYWRfdXJsIiwgIiIsICJzdHJpbmciKTsKICB9LAogICAgICBSID0gZnVuY3Rpb24gUihlKSB7CiAgICByZXR1cm4gZS5nZXRQYXJhbSgiaW1hZ2VzX3VwbG9hZF9oYW5kbGVyIiwgdW5kZWZpbmVkLCAiZnVuY3Rpb24iKTsKICB9LAogICAgICB6ID0gZnVuY3Rpb24geihlLCB0KSB7CiAgICByZXR1cm4gTWF0aC5tYXgocGFyc2VJbnQoZSwgMTApLCBwYXJzZUludCh0LCAxMCkpOwogIH0sCiAgICAgIEggPSBmdW5jdGlvbiBIKGUpIHsKICAgIHJldHVybiBlID0gZSAmJiBlLnJlcGxhY2UoL3B4JC8sICIiKTsKICB9LAogICAgICBrID0gZnVuY3Rpb24gayhlKSB7CiAgICByZXR1cm4gMCA8IGUubGVuZ3RoICYmIC9eWzAtOV0rJC8udGVzdChlKSAmJiAoZSArPSAicHgiKSwgZTsKICB9LAogICAgICBqID0gZnVuY3Rpb24gaihlKSB7CiAgICBpZiAoZS5tYXJnaW4pIHsKICAgICAgdmFyIHQgPSBTdHJpbmcoZS5tYXJnaW4pLnNwbGl0KCIgIik7CgogICAgICBzd2l0Y2ggKHQubGVuZ3RoKSB7CiAgICAgICAgY2FzZSAxOgogICAgICAgICAgZVsibWFyZ2luLXRvcCJdID0gZVsibWFyZ2luLXRvcCJdIHx8IHRbMF0sIGVbIm1hcmdpbi1yaWdodCJdID0gZVsibWFyZ2luLXJpZ2h0Il0gfHwgdFswXSwgZVsibWFyZ2luLWJvdHRvbSJdID0gZVsibWFyZ2luLWJvdHRvbSJdIHx8IHRbMF0sIGVbIm1hcmdpbi1sZWZ0Il0gPSBlWyJtYXJnaW4tbGVmdCJdIHx8IHRbMF07CiAgICAgICAgICBicmVhazsKCiAgICAgICAgY2FzZSAyOgogICAgICAgICAgZVsibWFyZ2luLXRvcCJdID0gZVsibWFyZ2luLXRvcCJdIHx8IHRbMF0sIGVbIm1hcmdpbi1yaWdodCJdID0gZVsibWFyZ2luLXJpZ2h0Il0gfHwgdFsxXSwgZVsibWFyZ2luLWJvdHRvbSJdID0gZVsibWFyZ2luLWJvdHRvbSJdIHx8IHRbMF0sIGVbIm1hcmdpbi1sZWZ0Il0gPSBlWyJtYXJnaW4tbGVmdCJdIHx8IHRbMV07CiAgICAgICAgICBicmVhazsKCiAgICAgICAgY2FzZSAzOgogICAgICAgICAgZVsibWFyZ2luLXRvcCJdID0gZVsibWFyZ2luLXRvcCJdIHx8IHRbMF0sIGVbIm1hcmdpbi1yaWdodCJdID0gZVsibWFyZ2luLXJpZ2h0Il0gfHwgdFsxXSwgZVsibWFyZ2luLWJvdHRvbSJdID0gZVsibWFyZ2luLWJvdHRvbSJdIHx8IHRbMl0sIGVbIm1hcmdpbi1sZWZ0Il0gPSBlWyJtYXJnaW4tbGVmdCJdIHx8IHRbMV07CiAgICAgICAgICBicmVhazsKCiAgICAgICAgY2FzZSA0OgogICAgICAgICAgZVsibWFyZ2luLXRvcCJdID0gZVsibWFyZ2luLXRvcCJdIHx8IHRbMF0sIGVbIm1hcmdpbi1yaWdodCJdID0gZVsibWFyZ2luLXJpZ2h0Il0gfHwgdFsxXSwgZVsibWFyZ2luLWJvdHRvbSJdID0gZVsibWFyZ2luLWJvdHRvbSJdIHx8IHRbMl0sIGVbIm1hcmdpbi1sZWZ0Il0gPSBlWyJtYXJnaW4tbGVmdCJdIHx8IHRbM107CiAgICAgIH0KCiAgICAgIGRlbGV0ZSBlLm1hcmdpbjsKICAgIH0KCiAgICByZXR1cm4gZTsKICB9LAogICAgICBCID0gZnVuY3Rpb24gQihlKSB7CiAgICByZXR1cm4gIklNRyIgPT09IGUubm9kZU5hbWUgJiYgKGUuaGFzQXR0cmlidXRlKCJkYXRhLW1jZS1vYmplY3QiKSB8fCBlLmhhc0F0dHJpYnV0ZSgiZGF0YS1tY2UtcGxhY2Vob2xkZXIiKSk7CiAgfSwKICAgICAgRiA9IFAuRE9NLAogICAgICBHID0gZnVuY3Rpb24gRyhlKSB7CiAgICByZXR1cm4gZS5zdHlsZS5tYXJnaW5MZWZ0ICYmIGUuc3R5bGUubWFyZ2luUmlnaHQgJiYgZS5zdHlsZS5tYXJnaW5MZWZ0ID09PSBlLnN0eWxlLm1hcmdpblJpZ2h0ID8gSChlLnN0eWxlLm1hcmdpbkxlZnQpIDogIiI7CiAgfSwKICAgICAgVyA9IGZ1bmN0aW9uIFcoZSkgewogICAgcmV0dXJuIGUuc3R5bGUubWFyZ2luVG9wICYmIGUuc3R5bGUubWFyZ2luQm90dG9tICYmIGUuc3R5bGUubWFyZ2luVG9wID09PSBlLnN0eWxlLm1hcmdpbkJvdHRvbSA/IEgoZS5zdHlsZS5tYXJnaW5Ub3ApIDogIiI7CiAgfSwKICAgICAgcSA9IGZ1bmN0aW9uIHEoZSkgewogICAgcmV0dXJuIGUuc3R5bGUuYm9yZGVyV2lkdGggPyBIKGUuc3R5bGUuYm9yZGVyV2lkdGgpIDogIiI7CiAgfSwKICAgICAgJCA9IGZ1bmN0aW9uICQoZSwgdCkgewogICAgcmV0dXJuIGUuaGFzQXR0cmlidXRlKHQpID8gZS5nZXRBdHRyaWJ1dGUodCkgOiAiIjsKICB9LAogICAgICBKID0gZnVuY3Rpb24gSihlLCB0KSB7CiAgICByZXR1cm4gZS5zdHlsZVt0XSA/IGUuc3R5bGVbdF0gOiAiIjsKICB9LAogICAgICBYID0gZnVuY3Rpb24gWChlKSB7CiAgICByZXR1cm4gbnVsbCAhPT0gZS5wYXJlbnROb2RlICYmICJGSUdVUkUiID09PSBlLnBhcmVudE5vZGUubm9kZU5hbWU7CiAgfSwKICAgICAgViA9IGZ1bmN0aW9uIFYoZSwgdCwgbikgewogICAgIiIgPT09IG4gPyBlLnJlbW92ZUF0dHJpYnV0ZSh0KSA6IGUuc2V0QXR0cmlidXRlKHQsIG4pOwogIH0sCiAgICAgIEsgPSBmdW5jdGlvbiBLKGUpIHsKICAgIHZhciB0LCBuLCByLCBhOwogICAgWChlKSA/IChhID0gKHIgPSBlKS5wYXJlbnROb2RlLCBGLmluc2VydEFmdGVyKHIsIGEpLCBGLnJlbW92ZShhKSkgOiAodCA9IGUsIG4gPSBGLmNyZWF0ZSgiZmlndXJlIiwgewogICAgICAiY2xhc3MiOiAiaW1hZ2UiCiAgICB9KSwgRi5pbnNlcnRBZnRlcihuLCB0KSwgbi5hcHBlbmRDaGlsZCh0KSwgbi5hcHBlbmRDaGlsZChGLmNyZWF0ZSgiZmlnY2FwdGlvbiIsIHsKICAgICAgY29udGVudEVkaXRhYmxlOiAidHJ1ZSIKICAgIH0sICJDYXB0aW9uIikpLCBuLmNvbnRlbnRFZGl0YWJsZSA9ICJmYWxzZSIpOwogIH0sCiAgICAgIFogPSBmdW5jdGlvbiBaKGUsIHQpIHsKICAgIHZhciBuID0gZS5nZXRBdHRyaWJ1dGUoInN0eWxlIiksCiAgICAgICAgciA9IHQobnVsbCAhPT0gbiA/IG4gOiAiIik7CiAgICAwIDwgci5sZW5ndGggPyAoZS5zZXRBdHRyaWJ1dGUoInN0eWxlIiwgciksIGUuc2V0QXR0cmlidXRlKCJkYXRhLW1jZS1zdHlsZSIsIHIpKSA6IGUucmVtb3ZlQXR0cmlidXRlKCJzdHlsZSIpOwogIH0sCiAgICAgIFEgPSBmdW5jdGlvbiBRKGUsIHIpIHsKICAgIHJldHVybiBmdW5jdGlvbiAoZSwgdCwgbikgewogICAgICBlLnN0eWxlW3RdID8gKGUuc3R5bGVbdF0gPSBrKG4pLCBaKGUsIHIpKSA6IFYoZSwgdCwgbik7CiAgICB9OwogIH0sCiAgICAgIFkgPSBmdW5jdGlvbiBZKGUsIHQpIHsKICAgIHJldHVybiBlLnN0eWxlW3RdID8gSChlLnN0eWxlW3RdKSA6ICQoZSwgdCk7CiAgfSwKICAgICAgZWUgPSBmdW5jdGlvbiBlZShlLCB0KSB7CiAgICB2YXIgbiA9IGsodCk7CiAgICBlLnN0eWxlLm1hcmdpbkxlZnQgPSBuLCBlLnN0eWxlLm1hcmdpblJpZ2h0ID0gbjsKICB9LAogICAgICB0ZSA9IGZ1bmN0aW9uIHRlKGUsIHQpIHsKICAgIHZhciBuID0gayh0KTsKICAgIGUuc3R5bGUubWFyZ2luVG9wID0gbiwgZS5zdHlsZS5tYXJnaW5Cb3R0b20gPSBuOwogIH0sCiAgICAgIG5lID0gZnVuY3Rpb24gbmUoZSwgdCkgewogICAgdmFyIG4gPSBrKHQpOwogICAgZS5zdHlsZS5ib3JkZXJXaWR0aCA9IG47CiAgfSwKICAgICAgcmUgPSBmdW5jdGlvbiByZShlLCB0KSB7CiAgICBlLnN0eWxlLmJvcmRlclN0eWxlID0gdDsKICB9LAogICAgICBhZSA9IGZ1bmN0aW9uIGFlKGUpIHsKICAgIHJldHVybiAiRklHVVJFIiA9PT0gZS5ub2RlTmFtZTsKICB9LAogICAgICBpZSA9IGZ1bmN0aW9uIGllKGUpIHsKICAgIHJldHVybiAwID09PSBGLmdldEF0dHJpYihlLCAiYWx0IikubGVuZ3RoICYmICJwcmVzZW50YXRpb24iID09PSBGLmdldEF0dHJpYihlLCAicm9sZSIpOwogIH0sCiAgICAgIG9lID0gZnVuY3Rpb24gb2UoKSB7CiAgICByZXR1cm4gewogICAgICBzcmM6ICIiLAogICAgICBhbHQ6ICIiLAogICAgICB0aXRsZTogIiIsCiAgICAgIHdpZHRoOiAiIiwKICAgICAgaGVpZ2h0OiAiIiwKICAgICAgImNsYXNzIjogIiIsCiAgICAgIHN0eWxlOiAiIiwKICAgICAgY2FwdGlvbjogITEsCiAgICAgIGhzcGFjZTogIiIsCiAgICAgIHZzcGFjZTogIiIsCiAgICAgIGJvcmRlcjogIiIsCiAgICAgIGJvcmRlclN0eWxlOiAiIiwKICAgICAgaXNEZWNvcmF0aXZlOiAhMQogICAgfTsKICB9LAogICAgICBsZSA9IGZ1bmN0aW9uIGxlKGUsIHQpIHsKICAgIHZhciBuID0gbS5kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJpbWciKTsKICAgIHJldHVybiBWKG4sICJzdHlsZSIsIHQuc3R5bGUpLCAhRyhuKSAmJiAiIiA9PT0gdC5oc3BhY2UgfHwgZWUobiwgdC5oc3BhY2UpLCAhVyhuKSAmJiAiIiA9PT0gdC52c3BhY2UgfHwgdGUobiwgdC52c3BhY2UpLCAhcShuKSAmJiAiIiA9PT0gdC5ib3JkZXIgfHwgbmUobiwgdC5ib3JkZXIpLCAhSihuLCAiYm9yZGVyU3R5bGUiKSAmJiAiIiA9PT0gdC5ib3JkZXJTdHlsZSB8fCByZShuLCB0LmJvcmRlclN0eWxlKSwgZShuLmdldEF0dHJpYnV0ZSgic3R5bGUiKSk7CiAgfSwKICAgICAgc2UgPSBmdW5jdGlvbiBzZShlLCB0KSB7CiAgICByZXR1cm4gewogICAgICBzcmM6ICQodCwgInNyYyIpLAogICAgICBhbHQ6IGllKG4gPSB0KSA/ICIiIDogJChuLCAiYWx0IiksCiAgICAgIHRpdGxlOiAkKHQsICJ0aXRsZSIpLAogICAgICB3aWR0aDogWSh0LCAid2lkdGgiKSwKICAgICAgaGVpZ2h0OiBZKHQsICJoZWlnaHQiKSwKICAgICAgImNsYXNzIjogJCh0LCAiY2xhc3MiKSwKICAgICAgc3R5bGU6IGUoJCh0LCAic3R5bGUiKSksCiAgICAgIGNhcHRpb246IFgodCksCiAgICAgIGhzcGFjZTogRyh0KSwKICAgICAgdnNwYWNlOiBXKHQpLAogICAgICBib3JkZXI6IHEodCksCiAgICAgIGJvcmRlclN0eWxlOiBKKHQsICJib3JkZXJTdHlsZSIpLAogICAgICBpc0RlY29yYXRpdmU6IGllKHQpCiAgICB9OwogICAgdmFyIG47CiAgfSwKICAgICAgdWUgPSBmdW5jdGlvbiB1ZShlLCB0LCBuLCByLCBhKSB7CiAgICBuW3JdICE9PSB0W3JdICYmIGEoZSwgciwgbltyXSk7CiAgfSwKICAgICAgY2UgPSBmdW5jdGlvbiBjZShlLCB0LCBuKSB7CiAgICBpZiAobikgewogICAgICBGLnNldEF0dHJpYihlLCAicm9sZSIsICJwcmVzZW50YXRpb24iKTsKICAgICAgdmFyIHIgPSBOLmZyb21Eb20oZSk7CiAgICAgIE8ociwgImFsdCIsICIiKTsKICAgIH0gZWxzZSB7CiAgICAgIGlmICh2KHQpKSB7CiAgICAgICAgciA9IE4uZnJvbURvbShlKTsKICAgICAgICBhID0gImFsdCIsIHIuZG9tKCkucmVtb3ZlQXR0cmlidXRlKGEpOwogICAgICB9IGVsc2UgewogICAgICAgIHIgPSBOLmZyb21Eb20oZSk7CiAgICAgICAgTyhyLCAiYWx0IiwgdCk7CiAgICAgIH0KCiAgICAgICJwcmVzZW50YXRpb24iID09PSBGLmdldEF0dHJpYihlLCAicm9sZSIpICYmIEYuc2V0QXR0cmliKGUsICJyb2xlIiwgIiIpOwogICAgfQoKICAgIHZhciBhOwogIH0sCiAgICAgIG1lID0gZnVuY3Rpb24gbWUociwgYSkgewogICAgcmV0dXJuIGZ1bmN0aW9uIChlLCB0LCBuKSB7CiAgICAgIHIoZSwgbiksIFooZSwgYSk7CiAgICB9OwogIH0sCiAgICAgIGRlID0gZnVuY3Rpb24gZGUoZSwgdCwgbikgewogICAgdmFyIHIsCiAgICAgICAgYSwKICAgICAgICBpLAogICAgICAgIG8gPSBzZShlLCBuKTsKICAgIHVlKG4sIG8sIHQsICJjYXB0aW9uIiwgZnVuY3Rpb24gKGUsIHQsIG4pIHsKICAgICAgcmV0dXJuIEsoZSk7CiAgICB9KSwgdWUobiwgbywgdCwgInNyYyIsIFYpLCB1ZShuLCBvLCB0LCAidGl0bGUiLCBWKSwgdWUobiwgbywgdCwgIndpZHRoIiwgUSgwLCBlKSksIHVlKG4sIG8sIHQsICJoZWlnaHQiLCBRKDAsIGUpKSwgdWUobiwgbywgdCwgImNsYXNzIiwgViksIHVlKG4sIG8sIHQsICJzdHlsZSIsIG1lKGZ1bmN0aW9uIChlLCB0KSB7CiAgICAgIHJldHVybiBWKGUsICJzdHlsZSIsIHQpOwogICAgfSwgZSkpLCB1ZShuLCBvLCB0LCAiaHNwYWNlIiwgbWUoZWUsIGUpKSwgdWUobiwgbywgdCwgInZzcGFjZSIsIG1lKHRlLCBlKSksIHVlKG4sIG8sIHQsICJib3JkZXIiLCBtZShuZSwgZSkpLCB1ZShuLCBvLCB0LCAiYm9yZGVyU3R5bGUiLCBtZShyZSwgZSkpLCByID0gbiwgYSA9IG8sIChpID0gdCkuYWx0ID09PSBhLmFsdCAmJiBpLmlzRGVjb3JhdGl2ZSA9PT0gYS5pc0RlY29yYXRpdmUgfHwgY2UociwgaS5hbHQsIGkuaXNEZWNvcmF0aXZlKTsKICB9LAogICAgICBnZSA9IGZ1bmN0aW9uIGdlKGUsIHQpIHsKICAgIHZhciBuID0gZS5kb20uc3R5bGVzLnBhcnNlKHQpLAogICAgICAgIHIgPSBqKG4pLAogICAgICAgIGEgPSBlLmRvbS5zdHlsZXMucGFyc2UoZS5kb20uc3R5bGVzLnNlcmlhbGl6ZShyKSk7CiAgICByZXR1cm4gZS5kb20uc3R5bGVzLnNlcmlhbGl6ZShhKTsKICB9LAogICAgICBmZSA9IGZ1bmN0aW9uIGZlKGUpIHsKICAgIHZhciB0ID0gZS5zZWxlY3Rpb24uZ2V0Tm9kZSgpLAogICAgICAgIG4gPSBlLmRvbS5nZXRQYXJlbnQodCwgImZpZ3VyZS5pbWFnZSIpOwogICAgcmV0dXJuIG4gPyBlLmRvbS5zZWxlY3QoImltZyIsIG4pWzBdIDogdCAmJiAoIklNRyIgIT09IHQubm9kZU5hbWUgfHwgQih0KSkgPyBudWxsIDogdDsKICB9LAogICAgICBwZSA9IGZ1bmN0aW9uIHBlKHQsIGUpIHsKICAgIHZhciBuID0gdC5kb20sCiAgICAgICAgciA9IG4uZ2V0UGFyZW50KGUucGFyZW50Tm9kZSwgZnVuY3Rpb24gKGUpIHsKICAgICAgcmV0dXJuICEhdC5zY2hlbWEuZ2V0VGV4dEJsb2NrRWxlbWVudHMoKVtlLm5vZGVOYW1lXTsKICAgIH0sIHQuZ2V0Qm9keSgpKTsKICAgIHJldHVybiByID8gbi5zcGxpdChyLCBlKSA6IGU7CiAgfSwKICAgICAgaGUgPSBmdW5jdGlvbiBoZSh0LCBlKSB7CiAgICB2YXIgbiA9IGZ1bmN0aW9uIChlLCB0KSB7CiAgICAgIHZhciBuID0gbS5kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJpbWciKTsKCiAgICAgIGlmIChkZShlLCBfVShfVSh7fSwgdCksIHsKICAgICAgICBjYXB0aW9uOiAhMQogICAgICB9KSwgbiksIGNlKG4sIHQuYWx0LCB0LmlzRGVjb3JhdGl2ZSksIHQuY2FwdGlvbikgewogICAgICAgIHZhciByID0gRi5jcmVhdGUoImZpZ3VyZSIsIHsKICAgICAgICAgICJjbGFzcyI6ICJpbWFnZSIKICAgICAgICB9KTsKICAgICAgICByZXR1cm4gci5hcHBlbmRDaGlsZChuKSwgci5hcHBlbmRDaGlsZChGLmNyZWF0ZSgiZmlnY2FwdGlvbiIsIHsKICAgICAgICAgIGNvbnRlbnRFZGl0YWJsZTogInRydWUiCiAgICAgICAgfSwgIkNhcHRpb24iKSksIHIuY29udGVudEVkaXRhYmxlID0gImZhbHNlIiwgcjsKICAgICAgfQoKICAgICAgcmV0dXJuIG47CiAgICB9KGZ1bmN0aW9uIChlKSB7CiAgICAgIHJldHVybiBnZSh0LCBlKTsKICAgIH0sIGUpOwoKICAgIHQuZG9tLnNldEF0dHJpYihuLCAiZGF0YS1tY2UtaWQiLCAiX19tY2VuZXciKSwgdC5mb2N1cygpLCB0LnNlbGVjdGlvbi5zZXRDb250ZW50KG4ub3V0ZXJIVE1MKTsKICAgIHZhciByID0gdC5kb20uc2VsZWN0KCcqW2RhdGEtbWNlLWlkPSJfX21jZW5ldyJdJylbMF07CgogICAgaWYgKHQuZG9tLnNldEF0dHJpYihyLCAiZGF0YS1tY2UtaWQiLCBudWxsKSwgYWUocikpIHsKICAgICAgdmFyIGEgPSBwZSh0LCByKTsKICAgICAgdC5zZWxlY3Rpb24uc2VsZWN0KGEpOwogICAgfSBlbHNlIHQuc2VsZWN0aW9uLnNlbGVjdChyKTsKICB9LAogICAgICBiZSA9IGZ1bmN0aW9uIGJlKHQsIGUpIHsKICAgIHZhciBuLAogICAgICAgIHIsCiAgICAgICAgYSwKICAgICAgICBpLAogICAgICAgIG8sCiAgICAgICAgbCA9IGZlKHQpOwoKICAgIGlmIChkZShmdW5jdGlvbiAoZSkgewogICAgICByZXR1cm4gZ2UodCwgZSk7CiAgICB9LCBlLCBsKSwgbiA9IGwsIHQuZG9tLnNldEF0dHJpYihuLCAic3JjIiwgbi5nZXRBdHRyaWJ1dGUoInNyYyIpKSwgYWUobC5wYXJlbnROb2RlKSkgewogICAgICB2YXIgcyA9IGwucGFyZW50Tm9kZTsKICAgICAgcGUodCwgcyksIHQuc2VsZWN0aW9uLnNlbGVjdChsLnBhcmVudE5vZGUpOwogICAgfSBlbHNlIHQuc2VsZWN0aW9uLnNlbGVjdChsKSwgciA9IHQsIGEgPSBlLCBvID0gZnVuY3Rpb24gbygpIHsKICAgICAgaS5vbmxvYWQgPSBpLm9uZXJyb3IgPSBudWxsLCByLnNlbGVjdGlvbiAmJiAoci5zZWxlY3Rpb24uc2VsZWN0KGkpLCByLm5vZGVDaGFuZ2VkKCkpOwogICAgfSwgKGkgPSBsKS5vbmxvYWQgPSBmdW5jdGlvbiAoKSB7CiAgICAgIGEud2lkdGggfHwgYS5oZWlnaHQgfHwgIUUocikgfHwgci5kb20uc2V0QXR0cmlicyhpLCB7CiAgICAgICAgd2lkdGg6IFN0cmluZyhpLmNsaWVudFdpZHRoKSwKICAgICAgICBoZWlnaHQ6IFN0cmluZyhpLmNsaWVudEhlaWdodCkKICAgICAgfSksIG8oKTsKICAgIH0sIGkub25lcnJvciA9IG87CiAgfSwKICAgICAgdmUgPSB0aW55bWNlLnV0aWwuVG9vbHMucmVzb2x2ZSgidGlueW1jZS51dGlsLlRvb2xzIiksCiAgICAgIHllID0gZnVuY3Rpb24geWUoZSkgewogICAgcmV0dXJuIFMoZS52YWx1ZSkgPyBlLnZhbHVlIDogIiI7CiAgfSwKICAgICAgd2UgPSBmdW5jdGlvbiB3ZShlLCBhKSB7CiAgICB2YXIgaSA9IFtdOwogICAgcmV0dXJuIHZlLmVhY2goZSwgZnVuY3Rpb24gKGUpIHsKICAgICAgdmFyIHQgPSBTKGUudGV4dCkgPyBlLnRleHQgOiBTKGUudGl0bGUpID8gZS50aXRsZSA6ICIiOwoKICAgICAgaWYgKGUubWVudSAhPT0gdW5kZWZpbmVkKSB7CiAgICAgICAgdmFyIG4gPSB3ZShlLm1lbnUsIGEpOwogICAgICAgIGkucHVzaCh7CiAgICAgICAgICB0ZXh0OiB0LAogICAgICAgICAgaXRlbXM6IG4KICAgICAgICB9KTsKICAgICAgfSBlbHNlIHsKICAgICAgICB2YXIgciA9IGEoZSk7CiAgICAgICAgaS5wdXNoKHsKICAgICAgICAgIHRleHQ6IHQsCiAgICAgICAgICB2YWx1ZTogcgogICAgICAgIH0pOwogICAgICB9CiAgICB9KSwgaTsKICB9LAogICAgICBEZSA9IGZ1bmN0aW9uIERlKHQpIHsKICAgIHJldHVybiB2b2lkIDAgPT09IHQgJiYgKHQgPSB5ZSksIGZ1bmN0aW9uIChlKSB7CiAgICAgIHJldHVybiBlID8gQS5mcm9tKGUpLm1hcChmdW5jdGlvbiAoZSkgewogICAgICAgIHJldHVybiB3ZShlLCB0KTsKICAgICAgfSkgOiBBLm5vbmUoKTsKICAgIH07CiAgfSwKICAgICAgQWUgPSBmdW5jdGlvbiBBZShlLCBuKSB7CiAgICByZXR1cm4gZnVuY3Rpb24gKGUsIHQpIHsKICAgICAgZm9yICh2YXIgbiA9IDA7IG4gPCBlLmxlbmd0aDsgbisrKSB7CiAgICAgICAgdmFyIHIgPSB0KGVbbl0sIG4pOwogICAgICAgIGlmIChyLmlzU29tZSgpKSByZXR1cm4gcjsKICAgICAgfQoKICAgICAgcmV0dXJuIEEubm9uZSgpOwogICAgfShlLCBmdW5jdGlvbiAoZSkgewogICAgICByZXR1cm4gdCA9IGUsIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0LCAiaXRlbXMiKSA/IEFlKGUuaXRlbXMsIG4pIDogZS52YWx1ZSA9PT0gbiA/IEEuc29tZShlKSA6IEEubm9uZSgpOwogICAgICB2YXIgdDsKICAgIH0pOwogIH0sCiAgICAgIFNlID0gRGUsCiAgICAgIHhlID0gZnVuY3Rpb24geGUoZSkgewogICAgcmV0dXJuIERlKHllKShlKTsKICB9LAogICAgICBUZSA9IGZ1bmN0aW9uIFRlKGUsIHQpIHsKICAgIHJldHVybiBlLmJpbmQoZnVuY3Rpb24gKGUpIHsKICAgICAgcmV0dXJuIEFlKGUsIHQpOwogICAgfSk7CiAgfTsKCiAgZnVuY3Rpb24gQ2UobykgewogICAgdmFyIHQgPSBmdW5jdGlvbiB0KGUsIHIsIGEsIF90KSB7CiAgICAgIHZhciBpID0gbmV3IG0uWE1MSHR0cFJlcXVlc3QoKTsKICAgICAgaS5vcGVuKCJQT1NUIiwgby51cmwpLCBpLndpdGhDcmVkZW50aWFscyA9IG8uY3JlZGVudGlhbHMsIGkudXBsb2FkLm9ucHJvZ3Jlc3MgPSBmdW5jdGlvbiAoZSkgewogICAgICAgIF90KGUubG9hZGVkIC8gZS50b3RhbCAqIDEwMCk7CiAgICAgIH0sIGkub25lcnJvciA9IGZ1bmN0aW9uICgpIHsKICAgICAgICBhKCJJbWFnZSB1cGxvYWQgZmFpbGVkIGR1ZSB0byBhIFhIUiBUcmFuc3BvcnQgZXJyb3IuIENvZGU6ICIgKyBpLnN0YXR1cyk7CiAgICAgIH0sIGkub25sb2FkID0gZnVuY3Rpb24gKCkgewogICAgICAgIGlmIChpLnN0YXR1cyA8IDIwMCB8fCAzMDAgPD0gaS5zdGF0dXMpIGEoIkhUVFAgRXJyb3I6ICIgKyBpLnN0YXR1cyk7ZWxzZSB7CiAgICAgICAgICB2YXIgZSwKICAgICAgICAgICAgICB0LAogICAgICAgICAgICAgIG4gPSBKU09OLnBhcnNlKGkucmVzcG9uc2VUZXh0KTsKICAgICAgICAgIGlmIChuICYmICJzdHJpbmciID09IHR5cGVvZiBuLmxvY2F0aW9uKSByKChlID0gby5iYXNlUGF0aCwgdCA9IG4ubG9jYXRpb24sIGUgPyBlLnJlcGxhY2UoL1wvJC8sICIiKSArICIvIiArIHQucmVwbGFjZSgvXlwvLywgIiIpIDogdCkpO2Vsc2UgYSgiSW52YWxpZCBKU09OOiAiICsgaS5yZXNwb25zZVRleHQpOwogICAgICAgIH0KICAgICAgfTsKICAgICAgdmFyIG4gPSBuZXcgbS5Gb3JtRGF0YSgpOwogICAgICBuLmFwcGVuZCgiZmlsZSIsIGUuYmxvYigpLCBlLmZpbGVuYW1lKCkpLCBpLnNlbmQobik7CiAgICB9OwoKICAgIHJldHVybiBvID0gdmUuZXh0ZW5kKHsKICAgICAgY3JlZGVudGlhbHM6ICExLAogICAgICBoYW5kbGVyOiB0CiAgICB9LCBvKSwgewogICAgICB1cGxvYWQ6IGZ1bmN0aW9uIHVwbG9hZChlKSB7CiAgICAgICAgcmV0dXJuIG8udXJsIHx8IG8uaGFuZGxlciAhPT0gdCA/IChyID0gZSwgYSA9IG8uaGFuZGxlciwgbmV3IEwoZnVuY3Rpb24gKGUsIHQpIHsKICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgIGEociwgZSwgdCwgaSk7CiAgICAgICAgICB9IGNhdGNoIChuKSB7CiAgICAgICAgICAgIHQobi5tZXNzYWdlKTsKICAgICAgICAgIH0KICAgICAgICB9KSkgOiBMLnJlamVjdCgiVXBsb2FkIHVybCBtaXNzaW5nIGZyb20gdGhlIHNldHRpbmdzLiIpOwogICAgICAgIHZhciByLCBhOwogICAgICB9CiAgICB9OwogIH0KCiAgdmFyIFVlID0gZnVuY3Rpb24gVWUoZSkgewogICAgcmV0dXJuIHsKICAgICAgdGl0bGU6ICJBZHZhbmNlZCIsCiAgICAgIG5hbWU6ICJhZHZhbmNlZCIsCiAgICAgIGl0ZW1zOiBbewogICAgICAgIHR5cGU6ICJpbnB1dCIsCiAgICAgICAgbGFiZWw6ICJTdHlsZSIsCiAgICAgICAgbmFtZTogInN0eWxlIgogICAgICB9LCB7CiAgICAgICAgdHlwZTogImdyaWQiLAogICAgICAgIGNvbHVtbnM6IDIsCiAgICAgICAgaXRlbXM6IFt7CiAgICAgICAgICB0eXBlOiAiaW5wdXQiLAogICAgICAgICAgbGFiZWw6ICJWZXJ0aWNhbCBzcGFjZSIsCiAgICAgICAgICBuYW1lOiAidnNwYWNlIiwKICAgICAgICAgIGlucHV0TW9kZTogIm51bWVyaWMiCiAgICAgICAgfSwgewogICAgICAgICAgdHlwZTogImlucHV0IiwKICAgICAgICAgIGxhYmVsOiAiSG9yaXpvbnRhbCBzcGFjZSIsCiAgICAgICAgICBuYW1lOiAiaHNwYWNlIiwKICAgICAgICAgIGlucHV0TW9kZTogIm51bWVyaWMiCiAgICAgICAgfSwgewogICAgICAgICAgdHlwZTogImlucHV0IiwKICAgICAgICAgIGxhYmVsOiAiQm9yZGVyIHdpZHRoIiwKICAgICAgICAgIG5hbWU6ICJib3JkZXIiLAogICAgICAgICAgaW5wdXRNb2RlOiAibnVtZXJpYyIKICAgICAgICB9LCB7CiAgICAgICAgICB0eXBlOiAic2VsZWN0Ym94IiwKICAgICAgICAgIG5hbWU6ICJib3JkZXJzdHlsZSIsCiAgICAgICAgICBsYWJlbDogIkJvcmRlciBzdHlsZSIsCiAgICAgICAgICBpdGVtczogW3sKICAgICAgICAgICAgdGV4dDogIlNlbGVjdC4uLiIsCiAgICAgICAgICAgIHZhbHVlOiAiIgogICAgICAgICAgfSwgewogICAgICAgICAgICB0ZXh0OiAiU29saWQiLAogICAgICAgICAgICB2YWx1ZTogInNvbGlkIgogICAgICAgICAgfSwgewogICAgICAgICAgICB0ZXh0OiAiRG90dGVkIiwKICAgICAgICAgICAgdmFsdWU6ICJkb3R0ZWQiCiAgICAgICAgICB9LCB7CiAgICAgICAgICAgIHRleHQ6ICJEYXNoZWQiLAogICAgICAgICAgICB2YWx1ZTogImRhc2hlZCIKICAgICAgICAgIH0sIHsKICAgICAgICAgICAgdGV4dDogIkRvdWJsZSIsCiAgICAgICAgICAgIHZhbHVlOiAiZG91YmxlIgogICAgICAgICAgfSwgewogICAgICAgICAgICB0ZXh0OiAiR3Jvb3ZlIiwKICAgICAgICAgICAgdmFsdWU6ICJncm9vdmUiCiAgICAgICAgICB9LCB7CiAgICAgICAgICAgIHRleHQ6ICJSaWRnZSIsCiAgICAgICAgICAgIHZhbHVlOiAicmlkZ2UiCiAgICAgICAgICB9LCB7CiAgICAgICAgICAgIHRleHQ6ICJJbnNldCIsCiAgICAgICAgICAgIHZhbHVlOiAiaW5zZXQiCiAgICAgICAgICB9LCB7CiAgICAgICAgICAgIHRleHQ6ICJPdXRzZXQiLAogICAgICAgICAgICB2YWx1ZTogIm91dHNldCIKICAgICAgICAgIH0sIHsKICAgICAgICAgICAgdGV4dDogIk5vbmUiLAogICAgICAgICAgICB2YWx1ZTogIm5vbmUiCiAgICAgICAgICB9LCB7CiAgICAgICAgICAgIHRleHQ6ICJIaWRkZW4iLAogICAgICAgICAgICB2YWx1ZTogImhpZGRlbiIKICAgICAgICAgIH1dCiAgICAgICAgfV0KICAgICAgfV0KICAgIH07CiAgfSwKICAgICAgT2UgPSBmdW5jdGlvbiBPZShyKSB7CiAgICB2YXIgdCwKICAgICAgICBlLAogICAgICAgIGEgPSBTZShmdW5jdGlvbiAoZSkgewogICAgICByZXR1cm4gci5jb252ZXJ0VVJMKGUudmFsdWUgfHwgZS51cmwsICJzcmMiKTsKICAgIH0pLAogICAgICAgIG4gPSBuZXcgTChmdW5jdGlvbiAodCkgewogICAgICB2YXIgbiwgZTsKICAgICAgbiA9IGZ1bmN0aW9uIG4oZSkgewogICAgICAgIHQoYShlKS5tYXAoZnVuY3Rpb24gKGUpIHsKICAgICAgICAgIHJldHVybiB4KFtbewogICAgICAgICAgICB0ZXh0OiAiTm9uZSIsCiAgICAgICAgICAgIHZhbHVlOiAiIgogICAgICAgICAgfV0sIGVdKTsKICAgICAgICB9KSk7CiAgICAgIH0sICJzdHJpbmciID09IHR5cGVvZiAoZSA9IHIuZ2V0UGFyYW0oImltYWdlX2xpc3QiLCAhMSkpID8gXy5zZW5kKHsKICAgICAgICB1cmw6IGUsCiAgICAgICAgc3VjY2VzczogZnVuY3Rpb24gc3VjY2VzcyhlKSB7CiAgICAgICAgICBuKEpTT04ucGFyc2UoZSkpOwogICAgICAgIH0KICAgICAgfSkgOiAiZnVuY3Rpb24iID09IHR5cGVvZiBlID8gZShuKSA6IG4oZSk7CiAgICB9KSwKICAgICAgICBpID0geGUoci5nZXRQYXJhbSgiaW1hZ2VfY2xhc3NfbGlzdCIpKSwKICAgICAgICBvID0gci5nZXRQYXJhbSgiaW1hZ2VfYWR2dGFiIiwgITEsICJib29sZWFuIiksCiAgICAgICAgbCA9IHIuZ2V0UGFyYW0oImltYWdlX3VwbG9hZHRhYiIsICEwLCAiYm9vbGVhbiIpLAogICAgICAgIHMgPSAhIU0ociksCiAgICAgICAgdSA9ICEhUihyKSwKICAgICAgICBjID0gKGUgPSBmZSh0ID0gcikpID8gc2UoZnVuY3Rpb24gKGUpIHsKICAgICAgcmV0dXJuIGdlKHQsIGUpOwogICAgfSwgZSkgOiBvZSgpLAogICAgICAgIG0gPSByLmdldFBhcmFtKCJpbWFnZV9kZXNjcmlwdGlvbiIsICEwLCAiYm9vbGVhbiIpLAogICAgICAgIGQgPSByLmdldFBhcmFtKCJpbWFnZV90aXRsZSIsICExLCAiYm9vbGVhbiIpLAogICAgICAgIGcgPSBFKHIpLAogICAgICAgIGYgPSByLmdldFBhcmFtKCJpbWFnZV9jYXB0aW9uIiwgITEsICJib29sZWFuIiksCiAgICAgICAgcCA9IHIuZ2V0UGFyYW0oImExMXlfYWR2YW5jZWRfb3B0aW9ucyIsICExLCAiYm9vbGVhbiIpLAogICAgICAgIGggPSBNKHIpLAogICAgICAgIGIgPSByLmdldFBhcmFtKCJpbWFnZXNfdXBsb2FkX2Jhc2VfcGF0aCIsIHVuZGVmaW5lZCwgInN0cmluZyIpLAogICAgICAgIHYgPSByLmdldFBhcmFtKCJpbWFnZXNfdXBsb2FkX2NyZWRlbnRpYWxzIiwgITEsICJib29sZWFuIiksCiAgICAgICAgeSA9IFIociksCiAgICAgICAgdyA9IHIuZ2V0UGFyYW0oImF1dG9tYXRpY191cGxvYWRzIiwgITAsICJib29sZWFuIiksCiAgICAgICAgRCA9IEEuc29tZShyLmdldFBhcmFtKCJpbWFnZV9wcmVwZW5kX3VybCIsICIiLCAic3RyaW5nIikpLmZpbHRlcihmdW5jdGlvbiAoZSkgewogICAgICByZXR1cm4gUyhlKSAmJiAwIDwgZS5sZW5ndGg7CiAgICB9KTsKICAgIHJldHVybiBuLnRoZW4oZnVuY3Rpb24gKGUpIHsKICAgICAgcmV0dXJuIHsKICAgICAgICBpbWFnZTogYywKICAgICAgICBpbWFnZUxpc3Q6IGUsCiAgICAgICAgY2xhc3NMaXN0OiBpLAogICAgICAgIGhhc0FkdlRhYjogbywKICAgICAgICBoYXNVcGxvYWRUYWI6IGwsCiAgICAgICAgaGFzVXBsb2FkVXJsOiBzLAogICAgICAgIGhhc1VwbG9hZEhhbmRsZXI6IHUsCiAgICAgICAgaGFzRGVzY3JpcHRpb246IG0sCiAgICAgICAgaGFzSW1hZ2VUaXRsZTogZCwKICAgICAgICBoYXNEaW1lbnNpb25zOiBnLAogICAgICAgIGhhc0ltYWdlQ2FwdGlvbjogZiwKICAgICAgICB1cmw6IGgsCiAgICAgICAgYmFzZVBhdGg6IGIsCiAgICAgICAgY3JlZGVudGlhbHM6IHYsCiAgICAgICAgaGFuZGxlcjogeSwKICAgICAgICBwcmVwZW5kVVJMOiBELAogICAgICAgIGhhc0FjY2Vzc2liaWxpdHlPcHRpb25zOiBwLAogICAgICAgIGF1dG9tYXRpY1VwbG9hZHM6IHcKICAgICAgfTsKICAgIH0pOwogIH0sCiAgICAgIEllID0gZnVuY3Rpb24gSWUoZSkgewogICAgdmFyIHQgPSBlLmltYWdlTGlzdC5tYXAoZnVuY3Rpb24gKGUpIHsKICAgICAgcmV0dXJuIHsKICAgICAgICBuYW1lOiAiaW1hZ2VzIiwKICAgICAgICB0eXBlOiAic2VsZWN0Ym94IiwKICAgICAgICBsYWJlbDogIkltYWdlIGxpc3QiLAogICAgICAgIGl0ZW1zOiBlCiAgICAgIH07CiAgICB9KSwKICAgICAgICBuID0gewogICAgICBuYW1lOiAiYWx0IiwKICAgICAgdHlwZTogImlucHV0IiwKICAgICAgbGFiZWw6ICJBbHRlcm5hdGl2ZSBkZXNjcmlwdGlvbiIsCiAgICAgIGRpc2FibGVkOiBlLmhhc0FjY2Vzc2liaWxpdHlPcHRpb25zICYmIGUuaW1hZ2UuaXNEZWNvcmF0aXZlCiAgICB9LAogICAgICAgIHIgPSBlLmNsYXNzTGlzdC5tYXAoZnVuY3Rpb24gKGUpIHsKICAgICAgcmV0dXJuIHsKICAgICAgICBuYW1lOiAiY2xhc3NlcyIsCiAgICAgICAgdHlwZTogInNlbGVjdGJveCIsCiAgICAgICAgbGFiZWw6ICJDbGFzcyIsCiAgICAgICAgaXRlbXM6IGUKICAgICAgfTsKICAgIH0pOwogICAgcmV0dXJuIHgoW1t7CiAgICAgIG5hbWU6ICJzcmMiLAogICAgICB0eXBlOiAidXJsaW5wdXQiLAogICAgICBmaWxldHlwZTogImltYWdlIiwKICAgICAgbGFiZWw6ICJTb3VyY2UiCiAgICB9XSwgdC50b0FycmF5KCksIGUuaGFzQWNjZXNzaWJpbGl0eU9wdGlvbnMgJiYgZS5oYXNEZXNjcmlwdGlvbiA/IFt7CiAgICAgIHR5cGU6ICJsYWJlbCIsCiAgICAgIGxhYmVsOiAiQWNjZXNzaWJpbGl0eSIsCiAgICAgIGl0ZW1zOiBbewogICAgICAgIG5hbWU6ICJpc0RlY29yYXRpdmUiLAogICAgICAgIHR5cGU6ICJjaGVja2JveCIsCiAgICAgICAgbGFiZWw6ICJJbWFnZSBpcyBkZWNvcmF0aXZlIgogICAgICB9XQogICAgfV0gOiBbXSwgZS5oYXNEZXNjcmlwdGlvbiA/IFtuXSA6IFtdLCBlLmhhc0ltYWdlVGl0bGUgPyBbewogICAgICBuYW1lOiAidGl0bGUiLAogICAgICB0eXBlOiAiaW5wdXQiLAogICAgICBsYWJlbDogIkltYWdlIHRpdGxlIgogICAgfV0gOiBbXSwgZS5oYXNEaW1lbnNpb25zID8gW3sKICAgICAgbmFtZTogImRpbWVuc2lvbnMiLAogICAgICB0eXBlOiAic2l6ZWlucHV0IgogICAgfV0gOiBbXSwgW3sKICAgICAgdHlwZTogImdyaWQiLAogICAgICBjb2x1bW5zOiAyLAogICAgICBpdGVtczogeChbci50b0FycmF5KCksIGUuaGFzSW1hZ2VDYXB0aW9uID8gW3sKICAgICAgICB0eXBlOiAibGFiZWwiLAogICAgICAgIGxhYmVsOiAiQ2FwdGlvbiIsCiAgICAgICAgaXRlbXM6IFt7CiAgICAgICAgICB0eXBlOiAiY2hlY2tib3giLAogICAgICAgICAgbmFtZTogImNhcHRpb24iLAogICAgICAgICAgbGFiZWw6ICJTaG93IGNhcHRpb24iCiAgICAgICAgfV0KICAgICAgfV0gOiBbXV0pCiAgICB9XV0pOwogIH0sCiAgICAgIE5lID0gZnVuY3Rpb24gTmUoZSkgewogICAgcmV0dXJuIHsKICAgICAgdGl0bGU6ICJHZW5lcmFsIiwKICAgICAgbmFtZTogImdlbmVyYWwiLAogICAgICBpdGVtczogSWUoZSkKICAgIH07CiAgfSwKICAgICAgUGUgPSBJZSwKICAgICAgTGUgPSBmdW5jdGlvbiBMZShlKSB7CiAgICByZXR1cm4gewogICAgICB0aXRsZTogIlVwbG9hZCIsCiAgICAgIG5hbWU6ICJ1cGxvYWQiLAogICAgICBpdGVtczogW3sKICAgICAgICB0eXBlOiAiZHJvcHpvbmUiLAogICAgICAgIG5hbWU6ICJmaWxlaW5wdXQiCiAgICAgIH1dCiAgICB9OwogIH0sCiAgICAgIF9lID0gZnVuY3Rpb24gX2UoZSkgewogICAgcmV0dXJuIHsKICAgICAgc3JjOiB7CiAgICAgICAgdmFsdWU6IGUuc3JjLAogICAgICAgIG1ldGE6IHt9CiAgICAgIH0sCiAgICAgIGltYWdlczogZS5zcmMsCiAgICAgIGFsdDogZS5hbHQsCiAgICAgIHRpdGxlOiBlLnRpdGxlLAogICAgICBkaW1lbnNpb25zOiB7CiAgICAgICAgd2lkdGg6IGUud2lkdGgsCiAgICAgICAgaGVpZ2h0OiBlLmhlaWdodAogICAgICB9LAogICAgICBjbGFzc2VzOiBlWyJjbGFzcyJdLAogICAgICBjYXB0aW9uOiBlLmNhcHRpb24sCiAgICAgIHN0eWxlOiBlLnN0eWxlLAogICAgICB2c3BhY2U6IGUudnNwYWNlLAogICAgICBib3JkZXI6IGUuYm9yZGVyLAogICAgICBoc3BhY2U6IGUuaHNwYWNlLAogICAgICBib3JkZXJzdHlsZTogZS5ib3JkZXJTdHlsZSwKICAgICAgZmlsZWlucHV0OiBbXSwKICAgICAgaXNEZWNvcmF0aXZlOiBlLmlzRGVjb3JhdGl2ZQogICAgfTsKICB9LAogICAgICBFZSA9IGZ1bmN0aW9uIEVlKGUsIHQpIHsKICAgIHJldHVybiB7CiAgICAgIHNyYzogZS5zcmMudmFsdWUsCiAgICAgIGFsdDogMCA9PT0gZS5hbHQubGVuZ3RoICYmIHQgPyBudWxsIDogZS5hbHQsCiAgICAgIHRpdGxlOiBlLnRpdGxlLAogICAgICB3aWR0aDogZS5kaW1lbnNpb25zLndpZHRoLAogICAgICBoZWlnaHQ6IGUuZGltZW5zaW9ucy5oZWlnaHQsCiAgICAgICJjbGFzcyI6IGUuY2xhc3NlcywKICAgICAgc3R5bGU6IGUuc3R5bGUsCiAgICAgIGNhcHRpb246IGUuY2FwdGlvbiwKICAgICAgaHNwYWNlOiBlLmhzcGFjZSwKICAgICAgdnNwYWNlOiBlLnZzcGFjZSwKICAgICAgYm9yZGVyOiBlLmJvcmRlciwKICAgICAgYm9yZGVyU3R5bGU6IGUuYm9yZGVyc3R5bGUsCiAgICAgIGlzRGVjb3JhdGl2ZTogZS5pc0RlY29yYXRpdmUKICAgIH07CiAgfSwKICAgICAgTWUgPSBmdW5jdGlvbiBNZShlLCB0KSB7CiAgICB2YXIgbiwKICAgICAgICByLAogICAgICAgIGEgPSB0LmdldERhdGEoKTsKICAgIG4gPSBlLCByID0gYS5zcmMudmFsdWUsICgvXig/OlthLXpBLVpdKzopP1wvXC8vLnRlc3QocikgPyBBLm5vbmUoKSA6IG4ucHJlcGVuZFVSTC5iaW5kKGZ1bmN0aW9uIChlKSB7CiAgICAgIHJldHVybiByLnN1YnN0cmluZygwLCBlLmxlbmd0aCkgIT09IGUgPyBBLnNvbWUoZSArIHIpIDogQS5ub25lKCk7CiAgICB9KSkuZWFjaChmdW5jdGlvbiAoZSkgewogICAgICB0LnNldERhdGEoewogICAgICAgIHNyYzogewogICAgICAgICAgdmFsdWU6IGUsCiAgICAgICAgICBtZXRhOiBhLnNyYy5tZXRhCiAgICAgICAgfQogICAgICB9KTsKICAgIH0pOwogIH0sCiAgICAgIFJlID0gZnVuY3Rpb24gUmUoZSwgdCkgewogICAgdmFyIG4sCiAgICAgICAgciwKICAgICAgICBhLAogICAgICAgIGkgPSB0LmdldERhdGEoKSwKICAgICAgICBvID0gaS5zcmMubWV0YTsKCiAgICBpZiAobyAhPT0gdW5kZWZpbmVkKSB7CiAgICAgIHZhciBsID0gQyh7fSwgaSk7CiAgICAgIHIgPSBsLCBhID0gbywgKG4gPSBlKS5oYXNEZXNjcmlwdGlvbiAmJiBTKGEuYWx0KSAmJiAoci5hbHQgPSBhLmFsdCksIG4uaGFzQWNjZXNzaWJpbGl0eU9wdGlvbnMgJiYgKHIuaXNEZWNvcmF0aXZlID0gYS5pc0RlY29yYXRpdmUgfHwgci5pc0RlY29yYXRpdmUgfHwgITEpLCBuLmhhc0ltYWdlVGl0bGUgJiYgUyhhLnRpdGxlKSAmJiAoci50aXRsZSA9IGEudGl0bGUpLCBuLmhhc0RpbWVuc2lvbnMgJiYgKFMoYS53aWR0aCkgJiYgKHIuZGltZW5zaW9ucy53aWR0aCA9IGEud2lkdGgpLCBTKGEuaGVpZ2h0KSAmJiAoci5kaW1lbnNpb25zLmhlaWdodCA9IGEuaGVpZ2h0KSksIFMoYVsiY2xhc3MiXSkgJiYgVGUobi5jbGFzc0xpc3QsIGFbImNsYXNzIl0pLmVhY2goZnVuY3Rpb24gKGUpIHsKICAgICAgICByLmNsYXNzZXMgPSBlLnZhbHVlOwogICAgICB9KSwgbi5oYXNJbWFnZUNhcHRpb24gJiYgeShhLmNhcHRpb24pICYmIChyLmNhcHRpb24gPSBhLmNhcHRpb24pLCBuLmhhc0FkdlRhYiAmJiAoUyhhLnN0eWxlKSAmJiAoci5zdHlsZSA9IGEuc3R5bGUpLCBTKGEudnNwYWNlKSAmJiAoci52c3BhY2UgPSBhLnZzcGFjZSksIFMoYS5ib3JkZXIpICYmIChyLmJvcmRlciA9IGEuYm9yZGVyKSwgUyhhLmhzcGFjZSkgJiYgKHIuaHNwYWNlID0gYS5oc3BhY2UpLCBTKGEuYm9yZGVyc3R5bGUpICYmIChyLmJvcmRlcnN0eWxlID0gYS5ib3JkZXJzdHlsZSkpLCB0LnNldERhdGEobCk7CiAgICB9CiAgfSwKICAgICAgemUgPSBmdW5jdGlvbiB6ZShlLCB0LCBuLCByKSB7CiAgICB2YXIgYSwgaSwgbywgbCwgcywgdSwgYywgbSwgZCwgZywgZiwgcDsKICAgIE1lKHQsIHIpLCBSZSh0LCByKSwgYSA9IGUsIGkgPSB0LCBvID0gbiwgcyA9IChsID0gcikuZ2V0RGF0YSgpLCB1ID0gcy5zcmMudmFsdWUsIChjID0gcy5zcmMubWV0YSB8fCB7fSkud2lkdGggfHwgYy5oZWlnaHQgfHwgIWkuaGFzRGltZW5zaW9ucyB8fCBhLmltYWdlU2l6ZSh1KS50aGVuKGZ1bmN0aW9uIChlKSB7CiAgICAgIG8ub3BlbiAmJiBsLnNldERhdGEoewogICAgICAgIGRpbWVuc2lvbnM6IGUKICAgICAgfSk7CiAgICB9KSwgbSA9IHQsIGQgPSBuLCBmID0gKGcgPSByKS5nZXREYXRhKCksIHAgPSBUZShtLmltYWdlTGlzdCwgZi5zcmMudmFsdWUpLCBkLnByZXZJbWFnZSA9IHAsIGcuc2V0RGF0YSh7CiAgICAgIGltYWdlczogcC5tYXAoZnVuY3Rpb24gKGUpIHsKICAgICAgICByZXR1cm4gZS52YWx1ZTsKICAgICAgfSkuZ2V0T3IoIiIpCiAgICB9KTsKICB9LAogICAgICBIZSA9IGZ1bmN0aW9uIEhlKGUsIHQsIG4pIHsKICAgIHZhciByLAogICAgICAgIGEsCiAgICAgICAgaSwKICAgICAgICBvLAogICAgICAgIGwsCiAgICAgICAgcyA9IGooZShuLnN0eWxlKSksCiAgICAgICAgdSA9IEMoe30sIG4pOwogICAgcmV0dXJuIHUudnNwYWNlID0gKHIgPSBzKVsibWFyZ2luLXRvcCJdICYmIHJbIm1hcmdpbi1ib3R0b20iXSAmJiByWyJtYXJnaW4tdG9wIl0gPT09IHJbIm1hcmdpbi1ib3R0b20iXSA/IEgoU3RyaW5nKHJbIm1hcmdpbi10b3AiXSkpIDogIiIsIHUuaHNwYWNlID0gKGEgPSBzKVsibWFyZ2luLXJpZ2h0Il0gJiYgYVsibWFyZ2luLWxlZnQiXSAmJiBhWyJtYXJnaW4tcmlnaHQiXSA9PT0gYVsibWFyZ2luLWxlZnQiXSA/IEgoU3RyaW5nKGFbIm1hcmdpbi1yaWdodCJdKSkgOiAiIiwgdS5ib3JkZXIgPSAoaSA9IHMpWyJib3JkZXItd2lkdGgiXSA/IEgoU3RyaW5nKGlbImJvcmRlci13aWR0aCJdKSkgOiAiIiwgdS5ib3JkZXJzdHlsZSA9IChvID0gcylbImJvcmRlci1zdHlsZSJdID8gU3RyaW5nKG9bImJvcmRlci1zdHlsZSJdKSA6ICIiLCB1LnN0eWxlID0gKGwgPSB0KShlKGwocykpKSwgdTsKICB9LAogICAgICBrZSA9IGZ1bmN0aW9uIGtlKHMsIHUsIHQsIGMpIHsKICAgIHZhciBlLAogICAgICAgIG4gPSBjLmdldERhdGEoKTsKICAgIGMuYmxvY2soIlVwbG9hZGluZyBpbWFnZSIpLCAoMCA9PT0gKGUgPSBuLmZpbGVpbnB1dCkubGVuZ3RoID8gQS5ub25lKCkgOiBBLnNvbWUoZVswXSkpLmZvbGQoZnVuY3Rpb24gKCkgewogICAgICBjLnVuYmxvY2soKTsKICAgIH0sIGZ1bmN0aW9uIChuKSB7CiAgICAgIHZhciByLAogICAgICAgICAgYSA9IG0uVVJMLmNyZWF0ZU9iamVjdFVSTChuKSwKICAgICAgICAgIGkgPSBDZSh7CiAgICAgICAgdXJsOiB1LnVybCwKICAgICAgICBiYXNlUGF0aDogdS5iYXNlUGF0aCwKICAgICAgICBjcmVkZW50aWFsczogdS5jcmVkZW50aWFscywKICAgICAgICBoYW5kbGVyOiB1LmhhbmRsZXIKICAgICAgfSksCiAgICAgICAgICBvID0gZnVuY3Rpb24gbygpIHsKICAgICAgICBjLnVuYmxvY2soKSwgbS5VUkwucmV2b2tlT2JqZWN0VVJMKGEpOwogICAgICB9LAogICAgICAgICAgbCA9IGZ1bmN0aW9uIGwoZSkgewogICAgICAgIGMuc2V0RGF0YSh7CiAgICAgICAgICBzcmM6IHsKICAgICAgICAgICAgdmFsdWU6IGUsCiAgICAgICAgICAgIG1ldGE6IHt9CiAgICAgICAgICB9CiAgICAgICAgfSksIGMuc2hvd1RhYigiZ2VuZXJhbCIpLCB6ZShzLCB1LCB0LCBjKTsKICAgICAgfTsKCiAgICAgIHIgPSBuLCBuZXcgTChmdW5jdGlvbiAoZSwgdCkgewogICAgICAgIHZhciBuID0gbmV3IG0uRmlsZVJlYWRlcigpOwogICAgICAgIG4ub25sb2FkID0gZnVuY3Rpb24gKCkgewogICAgICAgICAgZShuLnJlc3VsdCk7CiAgICAgICAgfSwgbi5vbmVycm9yID0gZnVuY3Rpb24gKCkgewogICAgICAgICAgdChuLmVycm9yLm1lc3NhZ2UpOwogICAgICAgIH0sIG4ucmVhZEFzRGF0YVVSTChyKTsKICAgICAgfSkudGhlbihmdW5jdGlvbiAoZSkgewogICAgICAgIHZhciB0ID0gcy5jcmVhdGVCbG9iQ2FjaGUobiwgYSwgZSk7CiAgICAgICAgdS5hdXRvbWF0aWNVcGxvYWRzID8gaS51cGxvYWQodCkudGhlbihmdW5jdGlvbiAoZSkgewogICAgICAgICAgbChlKSwgbygpOwogICAgICAgIH0pWyJjYXRjaCJdKGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICBvKCksIHMuYWxlcnRFcnIoZSk7CiAgICAgICAgfSkgOiAocy5hZGRUb0Jsb2JDYWNoZSh0KSwgbCh0LmJsb2JVcmkoKSksIGMudW5ibG9jaygpKTsKICAgICAgfSk7CiAgICB9KTsKICB9LAogICAgICBqZSA9IGZ1bmN0aW9uIGplKGgsIGIsIHYpIHsKICAgIHJldHVybiBmdW5jdGlvbiAoZSwgdCkgewogICAgICB2YXIgbiwgciwgYSwgaSwgbywgbCwgcywgdSwgYywgbSwgZCwgZywgZiwgcDsKICAgICAgInNyYyIgPT09IHQubmFtZSA/IHplKGgsIGIsIHYsIGUpIDogImltYWdlcyIgPT09IHQubmFtZSA/IChjID0gaCwgbSA9IGIsIGQgPSB2LCBmID0gKGcgPSBlKS5nZXREYXRhKCksIChwID0gVGUobS5pbWFnZUxpc3QsIGYuaW1hZ2VzKSkuZWFjaChmdW5jdGlvbiAoZSkgewogICAgICAgICIiID09PSBmLmFsdCB8fCBkLnByZXZJbWFnZS5tYXAoZnVuY3Rpb24gKGUpIHsKICAgICAgICAgIHJldHVybiBlLnRleHQgPT09IGYuYWx0OwogICAgICAgIH0pLmdldE9yKCExKSA/ICIiID09PSBlLnZhbHVlID8gZy5zZXREYXRhKHsKICAgICAgICAgIHNyYzogZSwKICAgICAgICAgIGFsdDogZC5wcmV2QWx0CiAgICAgICAgfSkgOiBnLnNldERhdGEoewogICAgICAgICAgc3JjOiBlLAogICAgICAgICAgYWx0OiBlLnRleHQKICAgICAgICB9KSA6IGcuc2V0RGF0YSh7CiAgICAgICAgICBzcmM6IGUKICAgICAgICB9KTsKICAgICAgfSksIGQucHJldkltYWdlID0gcCwgemUoYywgbSwgZCwgZykpIDogImFsdCIgPT09IHQubmFtZSA/IHYucHJldkFsdCA9IGUuZ2V0RGF0YSgpLmFsdCA6ICJzdHlsZSIgPT09IHQubmFtZSA/IChvID0gaCwgcyA9IChsID0gZSkuZ2V0RGF0YSgpLCB1ID0gSGUoby5wYXJzZVN0eWxlLCBvLnNlcmlhbGl6ZVN0eWxlLCBzKSwgbC5zZXREYXRhKHUpKSA6ICJ2c3BhY2UiID09PSB0Lm5hbWUgfHwgImhzcGFjZSIgPT09IHQubmFtZSB8fCAiYm9yZGVyIiA9PT0gdC5uYW1lIHx8ICJib3JkZXJzdHlsZSIgPT09IHQubmFtZSA/IChuID0gaCwgciA9IGUsIGEgPSBDKF9lKGIuaW1hZ2UpLCByLmdldERhdGEoKSksIGkgPSBsZShuLm5vcm1hbGl6ZUNzcywgRWUoYSwgITEpKSwgci5zZXREYXRhKHsKICAgICAgICBzdHlsZTogaQogICAgICB9KSkgOiAiZmlsZWlucHV0IiA9PT0gdC5uYW1lID8ga2UoaCwgYiwgdiwgZSkgOiAiaXNEZWNvcmF0aXZlIiA9PT0gdC5uYW1lICYmIChlLmdldERhdGEoKS5pc0RlY29yYXRpdmUgPyBlLmRpc2FibGUoImFsdCIpIDogZS5lbmFibGUoImFsdCIpKTsKICAgIH07CiAgfSwKICAgICAgQmUgPSBmdW5jdGlvbiBCZShpKSB7CiAgICByZXR1cm4gZnVuY3Rpb24gKGUpIHsKICAgICAgdmFyIHQsCiAgICAgICAgICBuLAogICAgICAgICAgciwKICAgICAgICAgIGEgPSB7CiAgICAgICAgcHJldkltYWdlOiBUZSgodCA9IGUpLmltYWdlTGlzdCwgdC5pbWFnZS5zcmMpLAogICAgICAgIHByZXZBbHQ6IHQuaW1hZ2UuYWx0LAogICAgICAgIG9wZW46ICEwCiAgICAgIH07CiAgICAgIHJldHVybiB7CiAgICAgICAgdGl0bGU6ICJJbnNlcnQvRWRpdCBJbWFnZSIsCiAgICAgICAgc2l6ZTogIm5vcm1hbCIsCiAgICAgICAgYm9keTogKHIgPSBlKS5oYXNBZHZUYWIgfHwgci5oYXNVcGxvYWRVcmwgfHwgci5oYXNVcGxvYWRIYW5kbGVyID8gewogICAgICAgICAgdHlwZTogInRhYnBhbmVsIiwKICAgICAgICAgIHRhYnM6IHgoW1tOZShyKV0sIHIuaGFzQWR2VGFiID8gW1VlKHIpXSA6IFtdLCByLmhhc1VwbG9hZFRhYiAmJiAoci5oYXNVcGxvYWRVcmwgfHwgci5oYXNVcGxvYWRIYW5kbGVyKSA/IFtMZShyKV0gOiBbXV0pCiAgICAgICAgfSA6IHsKICAgICAgICAgIHR5cGU6ICJwYW5lbCIsCiAgICAgICAgICBpdGVtczogUGUocikKICAgICAgICB9LAogICAgICAgIGJ1dHRvbnM6IFt7CiAgICAgICAgICB0eXBlOiAiY2FuY2VsIiwKICAgICAgICAgIG5hbWU6ICJjYW5jZWwiLAogICAgICAgICAgdGV4dDogIkNhbmNlbCIKICAgICAgICB9LCB7CiAgICAgICAgICB0eXBlOiAic3VibWl0IiwKICAgICAgICAgIG5hbWU6ICJzYXZlIiwKICAgICAgICAgIHRleHQ6ICJTYXZlIiwKICAgICAgICAgIHByaW1hcnk6ICEwCiAgICAgICAgfV0sCiAgICAgICAgaW5pdGlhbERhdGE6IF9lKGUuaW1hZ2UpLAogICAgICAgIG9uU3VibWl0OiBpLm9uU3VibWl0KGUpLAogICAgICAgIG9uQ2hhbmdlOiBqZShpLCBlLCBhKSwKICAgICAgICBvbkNsb3NlOiAobiA9IGEsIGZ1bmN0aW9uICgpIHsKICAgICAgICAgIG4ub3BlbiA9ICExOwogICAgICAgIH0pCiAgICAgIH07CiAgICB9OwogIH0sCiAgICAgIEZlID0gZnVuY3Rpb24gRmUodCkgewogICAgcmV0dXJuIGZ1bmN0aW9uIChlKSB7CiAgICAgIHJldHVybiBhID0gdC5kb2N1bWVudEJhc2VVUkkudG9BYnNvbHV0ZShlKSwgbmV3IEwoZnVuY3Rpb24gKHQpIHsKICAgICAgICB2YXIgbiA9IG0uZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiaW1nIiksCiAgICAgICAgICAgIHIgPSBmdW5jdGlvbiByKGUpIHsKICAgICAgICAgIG4ucGFyZW50Tm9kZSAmJiBuLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQobiksIHQoZSk7CiAgICAgICAgfTsKCiAgICAgICAgbi5vbmxvYWQgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgICB2YXIgZSA9IHsKICAgICAgICAgICAgd2lkdGg6IHoobi53aWR0aCwgbi5jbGllbnRXaWR0aCksCiAgICAgICAgICAgIGhlaWdodDogeihuLmhlaWdodCwgbi5jbGllbnRIZWlnaHQpCiAgICAgICAgICB9OwogICAgICAgICAgcihMLnJlc29sdmUoZSkpOwogICAgICAgIH0sIG4ub25lcnJvciA9IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIHIoTC5yZWplY3QoIkZhaWxlZCB0byBnZXQgaW1hZ2UgZGltZW5zaW9ucyBmb3I6ICIgKyBhKSk7CiAgICAgICAgfTsKICAgICAgICB2YXIgZSA9IG4uc3R5bGU7CiAgICAgICAgZS52aXNpYmlsaXR5ID0gImhpZGRlbiIsIGUucG9zaXRpb24gPSAiZml4ZWQiLCBlLmJvdHRvbSA9IGUubGVmdCA9ICIwcHgiLCBlLndpZHRoID0gZS5oZWlnaHQgPSAiYXV0byIsIG0uZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChuKSwgbi5zcmMgPSBhOwogICAgICB9KS50aGVuKGZ1bmN0aW9uIChlKSB7CiAgICAgICAgcmV0dXJuIHsKICAgICAgICAgIHdpZHRoOiBTdHJpbmcoZS53aWR0aCksCiAgICAgICAgICBoZWlnaHQ6IFN0cmluZyhlLmhlaWdodCkKICAgICAgICB9OwogICAgICB9KTsKICAgICAgdmFyIGE7CiAgICB9OwogIH0sCiAgICAgIEdlID0gZnVuY3Rpb24gR2UodCkgewogICAgdmFyIG4sCiAgICAgICAgciwKICAgICAgICBhLAogICAgICAgIGksCiAgICAgICAgbywKICAgICAgICBsLAogICAgICAgIHMsCiAgICAgICAgZSA9IHsKICAgICAgb25TdWJtaXQ6IGZ1bmN0aW9uIG9uU3VibWl0KG4pIHsKICAgICAgICByZXR1cm4gZnVuY3Rpb24gKGUpIHsKICAgICAgICAgIHZhciB0ID0gQyhfZShuLmltYWdlKSwgZS5nZXREYXRhKCkpOwogICAgICAgICAgcy5leGVjQ29tbWFuZCgibWNlVXBkYXRlSW1hZ2UiLCAhMSwgRWUodCwgbi5oYXNBY2Nlc3NpYmlsaXR5T3B0aW9ucykpLCBzLmVkaXRvclVwbG9hZC51cGxvYWRJbWFnZXNBdXRvKCksIGUuY2xvc2UoKTsKICAgICAgICB9OwogICAgICB9LAogICAgICBpbWFnZVNpemU6IEZlKHMgPSB0KSwKICAgICAgYWRkVG9CbG9iQ2FjaGU6IGZ1bmN0aW9uIGFkZFRvQmxvYkNhY2hlKGUpIHsKICAgICAgICBsLmVkaXRvclVwbG9hZC5ibG9iQ2FjaGUuYWRkKGUpOwogICAgICB9LAogICAgICBjcmVhdGVCbG9iQ2FjaGU6IGZ1bmN0aW9uIGNyZWF0ZUJsb2JDYWNoZShlLCB0LCBuKSB7CiAgICAgICAgcmV0dXJuIG8uZWRpdG9yVXBsb2FkLmJsb2JDYWNoZS5jcmVhdGUoewogICAgICAgICAgYmxvYjogZSwKICAgICAgICAgIGJsb2JVcmk6IHQsCiAgICAgICAgICBuYW1lOiBlLm5hbWUgPyBlLm5hbWUucmVwbGFjZSgvXC5bXlwuXSskLywgIiIpIDogbnVsbCwKICAgICAgICAgIGJhc2U2NDogbi5zcGxpdCgiLCIpWzFdCiAgICAgICAgfSk7CiAgICAgIH0sCiAgICAgIGFsZXJ0RXJyOiBmdW5jdGlvbiBhbGVydEVycihlKSB7CiAgICAgICAgaS53aW5kb3dNYW5hZ2VyLmFsZXJ0KGUpOwogICAgICB9LAogICAgICBub3JtYWxpemVDc3M6IGZ1bmN0aW9uIG5vcm1hbGl6ZUNzcyhlKSB7CiAgICAgICAgcmV0dXJuIGdlKGEsIGUpOwogICAgICB9LAogICAgICBwYXJzZVN0eWxlOiBmdW5jdGlvbiBwYXJzZVN0eWxlKGUpIHsKICAgICAgICByZXR1cm4gci5kb20ucGFyc2VTdHlsZShlKTsKICAgICAgfSwKICAgICAgc2VyaWFsaXplU3R5bGU6IChuID0gciA9IGEgPSBpID0gbyA9IGwgPSB0LCBmdW5jdGlvbiAoZSwgdCkgewogICAgICAgIHJldHVybiBuLmRvbS5zZXJpYWxpemVTdHlsZShlLCB0KTsKICAgICAgfSkKICAgIH0sCiAgICAgICAgdSA9IGZ1bmN0aW9uIHUoKSB7CiAgICAgIHJldHVybiBPZSh0KS50aGVuKEJlKGUpKS50aGVuKGZ1bmN0aW9uIChlKSB7CiAgICAgICAgcmV0dXJuIHQud2luZG93TWFuYWdlci5vcGVuKGUpOwogICAgICB9KTsKICAgIH07CgogICAgcmV0dXJuIHsKICAgICAgb3BlbjogdSwKICAgICAgb3BlbkxhdGVyOiBmdW5jdGlvbiBvcGVuTGF0ZXIoKSB7CiAgICAgICAgdSgpOwogICAgICB9CiAgICB9OwogIH0sCiAgICAgIFdlID0gZnVuY3Rpb24gV2UobikgewogICAgbi5hZGRDb21tYW5kKCJtY2VJbWFnZSIsIEdlKG4pLm9wZW5MYXRlciksIG4uYWRkQ29tbWFuZCgibWNlVXBkYXRlSW1hZ2UiLCBmdW5jdGlvbiAoZSwgdCkgewogICAgICBuLnVuZG9NYW5hZ2VyLnRyYW5zYWN0KGZ1bmN0aW9uICgpIHsKICAgICAgICByZXR1cm4gZnVuY3Rpb24gKHQsIGUpIHsKICAgICAgICAgIHZhciBuID0gZmUodCk7CgogICAgICAgICAgaWYgKG4pIHsKICAgICAgICAgICAgdmFyIHIgPSBzZShmdW5jdGlvbiAoZSkgewogICAgICAgICAgICAgIHJldHVybiBnZSh0LCBlKTsKICAgICAgICAgICAgfSwgbiksCiAgICAgICAgICAgICAgICBhID0gX1UoX1Uoe30sIHIpLCBlKTsKCiAgICAgICAgICAgIGEuc3JjID8gYmUodCwgYSkgOiBmdW5jdGlvbiAoZSwgdCkgewogICAgICAgICAgICAgIGlmICh0KSB7CiAgICAgICAgICAgICAgICB2YXIgbiA9IGUuZG9tLmlzKHQucGFyZW50Tm9kZSwgImZpZ3VyZS5pbWFnZSIpID8gdC5wYXJlbnROb2RlIDogdDsKICAgICAgICAgICAgICAgIGUuZG9tLnJlbW92ZShuKSwgZS5mb2N1cygpLCBlLm5vZGVDaGFuZ2VkKCksIGUuZG9tLmlzRW1wdHkoZS5nZXRCb2R5KCkpICYmIChlLnNldENvbnRlbnQoIiIpLCBlLnNlbGVjdGlvbi5zZXRDdXJzb3JMb2NhdGlvbigpKTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0odCwgbik7CiAgICAgICAgICB9IGVsc2UgZS5zcmMgJiYgaGUodCwgX1UoX1Uoe30sIG9lKCkpLCBlKSk7CiAgICAgICAgfShuLCB0KTsKICAgICAgfSk7CiAgICB9KTsKICB9LAogICAgICBxZSA9IGZ1bmN0aW9uIHFlKGkpIHsKICAgIHJldHVybiBmdW5jdGlvbiAoZSkgewogICAgICBmb3IgKHZhciB0LCBuID0gZS5sZW5ndGgsIHIgPSBmdW5jdGlvbiByKGUpIHsKICAgICAgICBlLmF0dHIoImNvbnRlbnRlZGl0YWJsZSIsIGkgPyAidHJ1ZSIgOiBudWxsKTsKICAgICAgfTsgbi0tOykgewogICAgICAgIHZhciBhID0gZVtuXTsKICAgICAgICAodCA9IGEuYXR0cigiY2xhc3MiKSkgJiYgL1xiaW1hZ2VcYi8udGVzdCh0KSAmJiAoYS5hdHRyKCJjb250ZW50ZWRpdGFibGUiLCBpID8gImZhbHNlIiA6IG51bGwpLCB2ZS5lYWNoKGEuZ2V0QWxsKCJmaWdjYXB0aW9uIiksIHIpKTsKICAgICAgfQogICAgfTsKICB9OwoKICAhZnVuY3Rpb24gJGUoKSB7CiAgICBhLmFkZCgiaW1hZ2UiLCBmdW5jdGlvbiAoZSkgewogICAgICB2YXIgdCwgbjsKICAgICAgKHQgPSBlKS5vbigiUHJlSW5pdCIsIGZ1bmN0aW9uICgpIHsKICAgICAgICB0LnBhcnNlci5hZGROb2RlRmlsdGVyKCJmaWd1cmUiLCBxZSghMCkpLCB0LnNlcmlhbGl6ZXIuYWRkTm9kZUZpbHRlcigiZmlndXJlIiwgcWUoITEpKTsKICAgICAgfSksIChuID0gZSkudWkucmVnaXN0cnkuYWRkVG9nZ2xlQnV0dG9uKCJpbWFnZSIsIHsKICAgICAgICBpY29uOiAiaW1hZ2UiLAogICAgICAgIHRvb2x0aXA6ICJJbnNlcnQvZWRpdCBpbWFnZSIsCiAgICAgICAgb25BY3Rpb246IEdlKG4pLm9wZW5MYXRlciwKICAgICAgICBvblNldHVwOiBmdW5jdGlvbiBvblNldHVwKGUpIHsKICAgICAgICAgIHJldHVybiBuLnNlbGVjdGlvbi5zZWxlY3RvckNoYW5nZWRXaXRoVW5iaW5kKCJpbWc6bm90KFtkYXRhLW1jZS1vYmplY3RdLFtkYXRhLW1jZS1wbGFjZWhvbGRlcl0pLGZpZ3VyZS5pbWFnZSIsIGUuc2V0QWN0aXZlKS51bmJpbmQ7CiAgICAgICAgfQogICAgICB9KSwgbi51aS5yZWdpc3RyeS5hZGRNZW51SXRlbSgiaW1hZ2UiLCB7CiAgICAgICAgaWNvbjogImltYWdlIiwKICAgICAgICB0ZXh0OiAiSW1hZ2UuLi4iLAogICAgICAgIG9uQWN0aW9uOiBHZShuKS5vcGVuTGF0ZXIKICAgICAgfSksIG4udWkucmVnaXN0cnkuYWRkQ29udGV4dE1lbnUoImltYWdlIiwgewogICAgICAgIHVwZGF0ZTogZnVuY3Rpb24gdXBkYXRlKGUpIHsKICAgICAgICAgIHJldHVybiBhZShlKSB8fCAiSU1HIiA9PT0gZS5ub2RlTmFtZSAmJiAhQihlKSA/IFsiaW1hZ2UiXSA6IFtdOwogICAgICAgIH0KICAgICAgfSksIFdlKGUpOwogICAgfSk7CiAgfSgpOwp9KHdpbmRvdyk7"},{"version":3,"sources":["C:/Users/wakk/GolandProjects/GinBlog/web/admin/src/components/editor/plugins/image/plugin.min.js"],"names":["m","e","t","n","r","o","a","tinymce","util","Tools","resolve","i","l","s","u","c","d","isNone","fold","is","isSome","getOr","getOrThunk","getOrDie","Error","getOrNull","getOrUndefined","undefined","or","orThunk","map","each","bind","exists","forall","filter","equals","equals_","toArray","toString","g","A","some","none","from","f","Array","prototype","isPrototypeOf","constructor","name","String","p","S","h","b","v","y","w","D","push","x","length","apply","T","Object","hasOwnProperty","C","arguments","call","U","assign","O","window","Function","console","error","setAttribute","dom","I","N","fromHtml","document","createElement","innerHTML","hasChildNodes","childNodes","fromTag","fromText","createTextNode","fromDom","fromPoint","elementFromPoint","P","L","_","E","getParam","M","R","z","Math","max","parseInt","H","replace","k","test","j","margin","split","B","nodeName","hasAttribute","F","DOM","G","style","marginLeft","marginRight","W","marginTop","marginBottom","q","borderWidth","$","getAttribute","J","X","parentNode","V","removeAttribute","K","insertAfter","remove","create","appendChild","contentEditable","Z","Q","Y","ee","te","ne","re","borderStyle","ae","ie","getAttrib","oe","src","alt","title","width","height","caption","hspace","vspace","border","isDecorative","le","se","ue","ce","setAttrib","me","de","ge","styles","parse","serialize","fe","selection","getNode","getParent","select","pe","schema","getTextBlockElements","getBody","he","focus","setContent","outerHTML","be","onload","onerror","nodeChanged","setAttribs","clientWidth","clientHeight","ve","ye","value","we","text","menu","items","De","Ae","Se","xe","Te","Ce","XMLHttpRequest","open","url","withCredentials","credentials","upload","onprogress","loaded","total","status","JSON","responseText","location","basePath","FormData","append","blob","filename","send","extend","handler","message","reject","Ue","type","label","columns","inputMode","Oe","convertURL","success","then","image","imageList","classList","hasAdvTab","hasUploadTab","hasUploadUrl","hasUploadHandler","hasDescription","hasImageTitle","hasDimensions","hasImageCaption","prependURL","hasAccessibilityOptions","automaticUploads","Ie","disabled","filetype","Ne","Pe","Le","_e","meta","images","dimensions","classes","borderstyle","fileinput","Ee","Me","getData","substring","setData","Re","ze","imageSize","prevImage","He","ke","block","unblock","URL","createObjectURL","revokeObjectURL","showTab","FileReader","result","readAsDataURL","createBlobCache","alertErr","addToBlobCache","blobUri","je","prevAlt","parseStyle","serializeStyle","normalizeCss","disable","enable","Be","size","body","tabs","buttons","primary","initialData","onSubmit","onChange","onClose","Fe","documentBaseURI","toAbsolute","removeChild","visibility","position","bottom","left","Ge","execCommand","editorUpload","uploadImagesAuto","close","blobCache","add","base64","windowManager","alert","openLater","We","addCommand","undoManager","transact","isEmpty","setCursorLocation","qe","attr","getAll","$e","on","parser","addNodeFilter","serializer","ui","registry","addToggleButton","icon","tooltip","onAction","onSetup","selectorChangedWithUnbind","setActive","unbind","addMenuItem","addContextMenu","update"],"mappings":"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","sourcesContent":["/**\n * Copyright (c) Tiny Technologies, Inc. All rights reserved.\n * Licensed under the LGPL or a commercial license.\n * For LGPL see License.txt in the project root for license information.\n * For commercial licenses see https://www.tiny.cloud/\n *\n * Version: 5.4.2 (2020-08-17)\n */\n!function(m){\"use strict\";var e,t,n,r,o,a=tinymce.util.Tools.resolve(\"tinymce.PluginManager\"),i=function(){},l=function(e){return function(){return e}},s=l(!1),u=l(!0),c=function(){return d},d=(e=function(e){return e.isNone()},{fold:function(e,t){return e()},is:s,isSome:s,isNone:u,getOr:n=function(e){return e},getOrThunk:t=function(e){return e()},getOrDie:function(e){throw new Error(e||\"error: getOrDie called on none.\")},getOrNull:l(null),getOrUndefined:l(undefined),or:n,orThunk:t,map:c,each:i,bind:c,exists:s,forall:u,filter:c,equals:e,equals_:e,toArray:function(){return[]},toString:l(\"none()\")}),g=function(n){var e=l(n),t=function(){return a},r=function(e){return e(n)},a={fold:function(e,t){return t(n)},is:function(e){return n===e},isSome:u,isNone:s,getOr:e,getOrThunk:e,getOrDie:e,getOrNull:e,getOrUndefined:e,or:t,orThunk:t,map:function(e){return g(e(n))},each:function(e){e(n)},bind:r,exists:r,forall:r,filter:function(e){return e(n)?a:d},toArray:function(){return[n]},toString:function(){return\"some(\"+n+\")\"},equals:function(e){return e.is(n)},equals_:function(e,t){return e.fold(s,function(e){return t(n,e)})}};return a},A={some:g,none:c,from:function(e){return null===e||e===undefined?d:g(e)}},f=function(r){return function(e){return n=typeof(t=e),(null===t?\"null\":\"object\"==n&&(Array.prototype.isPrototypeOf(t)||t.constructor&&\"Array\"===t.constructor.name)?\"array\":\"object\"==n&&(String.prototype.isPrototypeOf(t)||t.constructor&&\"String\"===t.constructor.name)?\"string\":n)===r;var t,n}},p=function(t){return function(e){return typeof e===t}},S=f(\"string\"),h=f(\"object\"),b=f(\"array\"),v=(r=null,function(e){return r===e}),y=p(\"boolean\"),w=p(\"number\"),D=Array.prototype.push,x=function(e){for(var t=[],n=0,r=e.length;n<r;++n){if(!b(e[n]))throw new Error(\"Arr.flatten item \"+n+\" was not an array, input: \"+e);D.apply(t,e[n])}return t},T=Object.prototype.hasOwnProperty,C=(o=function(e,t){return h(e)&&h(t)?C(e,t):t},function(){for(var e=new Array(arguments.length),t=0;t<e.length;t++)e[t]=arguments[t];if(0===e.length)throw new Error(\"Can't merge zero objects\");for(var n={},r=0;r<e.length;r++){var a=e[r];for(var i in a)T.call(a,i)&&(n[i]=o(n[i],a[i]))}return n}),U=function(){return(U=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},O=(\"undefined\"!=typeof m.window?m.window:Function(\"return this;\")(),function(e,t,n){!function(e,t,n){if(!(S(n)||y(n)||w(n)))throw m.console.error(\"Invalid call to Attr.set. Key \",t,\":: Value \",n,\":: Element \",e),new Error(\"Attribute value was not simple\");e.setAttribute(t,n+\"\")}(e.dom(),t,n)}),I=function(e){if(null===e||e===undefined)throw new Error(\"Node cannot be null or undefined\");return{dom:l(e)}},N={fromHtml:function(e,t){var n=(t||m.document).createElement(\"div\");if(n.innerHTML=e,!n.hasChildNodes()||1<n.childNodes.length)throw m.console.error(\"HTML does not have a single root node\",e),new Error(\"HTML must have a single root node\");return I(n.childNodes[0])},fromTag:function(e,t){var n=(t||m.document).createElement(e);return I(n)},fromText:function(e,t){var n=(t||m.document).createTextNode(e);return I(n)},fromDom:I,fromPoint:function(e,t,n){var r=e.dom();return A.from(r.elementFromPoint(t,n)).map(I)}},P=tinymce.util.Tools.resolve(\"tinymce.dom.DOMUtils\"),L=tinymce.util.Tools.resolve(\"tinymce.util.Promise\"),_=tinymce.util.Tools.resolve(\"tinymce.util.XHR\"),E=function(e){return e.getParam(\"image_dimensions\",!0,\"boolean\")},M=function(e){return e.getParam(\"images_upload_url\",\"\",\"string\")},R=function(e){return e.getParam(\"images_upload_handler\",undefined,\"function\")},z=function(e,t){return Math.max(parseInt(e,10),parseInt(t,10))},H=function(e){return e=e&&e.replace(/px$/,\"\")},k=function(e){return 0<e.length&&/^[0-9]+$/.test(e)&&(e+=\"px\"),e},j=function(e){if(e.margin){var t=String(e.margin).split(\" \");switch(t.length){case 1:e[\"margin-top\"]=e[\"margin-top\"]||t[0],e[\"margin-right\"]=e[\"margin-right\"]||t[0],e[\"margin-bottom\"]=e[\"margin-bottom\"]||t[0],e[\"margin-left\"]=e[\"margin-left\"]||t[0];break;case 2:e[\"margin-top\"]=e[\"margin-top\"]||t[0],e[\"margin-right\"]=e[\"margin-right\"]||t[1],e[\"margin-bottom\"]=e[\"margin-bottom\"]||t[0],e[\"margin-left\"]=e[\"margin-left\"]||t[1];break;case 3:e[\"margin-top\"]=e[\"margin-top\"]||t[0],e[\"margin-right\"]=e[\"margin-right\"]||t[1],e[\"margin-bottom\"]=e[\"margin-bottom\"]||t[2],e[\"margin-left\"]=e[\"margin-left\"]||t[1];break;case 4:e[\"margin-top\"]=e[\"margin-top\"]||t[0],e[\"margin-right\"]=e[\"margin-right\"]||t[1],e[\"margin-bottom\"]=e[\"margin-bottom\"]||t[2],e[\"margin-left\"]=e[\"margin-left\"]||t[3]}delete e.margin}return e},B=function(e){return\"IMG\"===e.nodeName&&(e.hasAttribute(\"data-mce-object\")||e.hasAttribute(\"data-mce-placeholder\"))},F=P.DOM,G=function(e){return e.style.marginLeft&&e.style.marginRight&&e.style.marginLeft===e.style.marginRight?H(e.style.marginLeft):\"\"},W=function(e){return e.style.marginTop&&e.style.marginBottom&&e.style.marginTop===e.style.marginBottom?H(e.style.marginTop):\"\"},q=function(e){return e.style.borderWidth?H(e.style.borderWidth):\"\"},$=function(e,t){return e.hasAttribute(t)?e.getAttribute(t):\"\"},J=function(e,t){return e.style[t]?e.style[t]:\"\"},X=function(e){return null!==e.parentNode&&\"FIGURE\"===e.parentNode.nodeName},V=function(e,t,n){\"\"===n?e.removeAttribute(t):e.setAttribute(t,n)},K=function(e){var t,n,r,a;X(e)?(a=(r=e).parentNode,F.insertAfter(r,a),F.remove(a)):(t=e,n=F.create(\"figure\",{\"class\":\"image\"}),F.insertAfter(n,t),n.appendChild(t),n.appendChild(F.create(\"figcaption\",{contentEditable:\"true\"},\"Caption\")),n.contentEditable=\"false\")},Z=function(e,t){var n=e.getAttribute(\"style\"),r=t(null!==n?n:\"\");0<r.length?(e.setAttribute(\"style\",r),e.setAttribute(\"data-mce-style\",r)):e.removeAttribute(\"style\")},Q=function(e,r){return function(e,t,n){e.style[t]?(e.style[t]=k(n),Z(e,r)):V(e,t,n)}},Y=function(e,t){return e.style[t]?H(e.style[t]):$(e,t)},ee=function(e,t){var n=k(t);e.style.marginLeft=n,e.style.marginRight=n},te=function(e,t){var n=k(t);e.style.marginTop=n,e.style.marginBottom=n},ne=function(e,t){var n=k(t);e.style.borderWidth=n},re=function(e,t){e.style.borderStyle=t},ae=function(e){return\"FIGURE\"===e.nodeName},ie=function(e){return 0===F.getAttrib(e,\"alt\").length&&\"presentation\"===F.getAttrib(e,\"role\")},oe=function(){return{src:\"\",alt:\"\",title:\"\",width:\"\",height:\"\",\"class\":\"\",style:\"\",caption:!1,hspace:\"\",vspace:\"\",border:\"\",borderStyle:\"\",isDecorative:!1}},le=function(e,t){var n=m.document.createElement(\"img\");return V(n,\"style\",t.style),!G(n)&&\"\"===t.hspace||ee(n,t.hspace),!W(n)&&\"\"===t.vspace||te(n,t.vspace),!q(n)&&\"\"===t.border||ne(n,t.border),!J(n,\"borderStyle\")&&\"\"===t.borderStyle||re(n,t.borderStyle),e(n.getAttribute(\"style\"))},se=function(e,t){return{src:$(t,\"src\"),alt:ie(n=t)?\"\":$(n,\"alt\"),title:$(t,\"title\"),width:Y(t,\"width\"),height:Y(t,\"height\"),\"class\":$(t,\"class\"),style:e($(t,\"style\")),caption:X(t),hspace:G(t),vspace:W(t),border:q(t),borderStyle:J(t,\"borderStyle\"),isDecorative:ie(t)};var n},ue=function(e,t,n,r,a){n[r]!==t[r]&&a(e,r,n[r])},ce=function(e,t,n){if(n){F.setAttrib(e,\"role\",\"presentation\");var r=N.fromDom(e);O(r,\"alt\",\"\")}else{if(v(t)){r=N.fromDom(e);a=\"alt\",r.dom().removeAttribute(a)}else{r=N.fromDom(e);O(r,\"alt\",t)}\"presentation\"===F.getAttrib(e,\"role\")&&F.setAttrib(e,\"role\",\"\")}var a},me=function(r,a){return function(e,t,n){r(e,n),Z(e,a)}},de=function(e,t,n){var r,a,i,o=se(e,n);ue(n,o,t,\"caption\",function(e,t,n){return K(e)}),ue(n,o,t,\"src\",V),ue(n,o,t,\"title\",V),ue(n,o,t,\"width\",Q(0,e)),ue(n,o,t,\"height\",Q(0,e)),ue(n,o,t,\"class\",V),ue(n,o,t,\"style\",me(function(e,t){return V(e,\"style\",t)},e)),ue(n,o,t,\"hspace\",me(ee,e)),ue(n,o,t,\"vspace\",me(te,e)),ue(n,o,t,\"border\",me(ne,e)),ue(n,o,t,\"borderStyle\",me(re,e)),r=n,a=o,(i=t).alt===a.alt&&i.isDecorative===a.isDecorative||ce(r,i.alt,i.isDecorative)},ge=function(e,t){var n=e.dom.styles.parse(t),r=j(n),a=e.dom.styles.parse(e.dom.styles.serialize(r));return e.dom.styles.serialize(a)},fe=function(e){var t=e.selection.getNode(),n=e.dom.getParent(t,\"figure.image\");return n?e.dom.select(\"img\",n)[0]:t&&(\"IMG\"!==t.nodeName||B(t))?null:t},pe=function(t,e){var n=t.dom,r=n.getParent(e.parentNode,function(e){return!!t.schema.getTextBlockElements()[e.nodeName]},t.getBody());return r?n.split(r,e):e},he=function(t,e){var n=function(e,t){var n=m.document.createElement(\"img\");if(de(e,U(U({},t),{caption:!1}),n),ce(n,t.alt,t.isDecorative),t.caption){var r=F.create(\"figure\",{\"class\":\"image\"});return r.appendChild(n),r.appendChild(F.create(\"figcaption\",{contentEditable:\"true\"},\"Caption\")),r.contentEditable=\"false\",r}return n}(function(e){return ge(t,e)},e);t.dom.setAttrib(n,\"data-mce-id\",\"__mcenew\"),t.focus(),t.selection.setContent(n.outerHTML);var r=t.dom.select('*[data-mce-id=\"__mcenew\"]')[0];if(t.dom.setAttrib(r,\"data-mce-id\",null),ae(r)){var a=pe(t,r);t.selection.select(a)}else t.selection.select(r)},be=function(t,e){var n,r,a,i,o,l=fe(t);if(de(function(e){return ge(t,e)},e,l),n=l,t.dom.setAttrib(n,\"src\",n.getAttribute(\"src\")),ae(l.parentNode)){var s=l.parentNode;pe(t,s),t.selection.select(l.parentNode)}else t.selection.select(l),r=t,a=e,o=function(){i.onload=i.onerror=null,r.selection&&(r.selection.select(i),r.nodeChanged())},(i=l).onload=function(){a.width||a.height||!E(r)||r.dom.setAttribs(i,{width:String(i.clientWidth),height:String(i.clientHeight)}),o()},i.onerror=o},ve=tinymce.util.Tools.resolve(\"tinymce.util.Tools\"),ye=function(e){return S(e.value)?e.value:\"\"},we=function(e,a){var i=[];return ve.each(e,function(e){var t=S(e.text)?e.text:S(e.title)?e.title:\"\";if(e.menu!==undefined){var n=we(e.menu,a);i.push({text:t,items:n})}else{var r=a(e);i.push({text:t,value:r})}}),i},De=function(t){return void 0===t&&(t=ye),function(e){return e?A.from(e).map(function(e){return we(e,t)}):A.none()}},Ae=function(e,n){return function(e,t){for(var n=0;n<e.length;n++){var r=t(e[n],n);if(r.isSome())return r}return A.none()}(e,function(e){return t=e,Object.prototype.hasOwnProperty.call(t,\"items\")?Ae(e.items,n):e.value===n?A.some(e):A.none();var t})},Se=De,xe=function(e){return De(ye)(e)},Te=function(e,t){return e.bind(function(e){return Ae(e,t)})};function Ce(o){var t=function(e,r,a,t){var i=new m.XMLHttpRequest;i.open(\"POST\",o.url),i.withCredentials=o.credentials,i.upload.onprogress=function(e){t(e.loaded/e.total*100)},i.onerror=function(){a(\"Image upload failed due to a XHR Transport error. Code: \"+i.status)},i.onload=function(){if(i.status<200||300<=i.status)a(\"HTTP Error: \"+i.status);else{var e,t,n=JSON.parse(i.responseText);if(n&&\"string\"==typeof n.location)r((e=o.basePath,t=n.location,e?e.replace(/\\/$/,\"\")+\"/\"+t.replace(/^\\//,\"\"):t));else a(\"Invalid JSON: \"+i.responseText)}};var n=new m.FormData;n.append(\"file\",e.blob(),e.filename()),i.send(n)};return o=ve.extend({credentials:!1,handler:t},o),{upload:function(e){return o.url||o.handler!==t?(r=e,a=o.handler,new L(function(e,t){try{a(r,e,t,i)}catch(n){t(n.message)}})):L.reject(\"Upload url missing from the settings.\");var r,a}}}var Ue=function(e){return{title:\"Advanced\",name:\"advanced\",items:[{type:\"input\",label:\"Style\",name:\"style\"},{type:\"grid\",columns:2,items:[{type:\"input\",label:\"Vertical space\",name:\"vspace\",inputMode:\"numeric\"},{type:\"input\",label:\"Horizontal space\",name:\"hspace\",inputMode:\"numeric\"},{type:\"input\",label:\"Border width\",name:\"border\",inputMode:\"numeric\"},{type:\"selectbox\",name:\"borderstyle\",label:\"Border style\",items:[{text:\"Select...\",value:\"\"},{text:\"Solid\",value:\"solid\"},{text:\"Dotted\",value:\"dotted\"},{text:\"Dashed\",value:\"dashed\"},{text:\"Double\",value:\"double\"},{text:\"Groove\",value:\"groove\"},{text:\"Ridge\",value:\"ridge\"},{text:\"Inset\",value:\"inset\"},{text:\"Outset\",value:\"outset\"},{text:\"None\",value:\"none\"},{text:\"Hidden\",value:\"hidden\"}]}]}]}},Oe=function(r){var t,e,a=Se(function(e){return r.convertURL(e.value||e.url,\"src\")}),n=new L(function(t){var n,e;n=function(e){t(a(e).map(function(e){return x([[{text:\"None\",value:\"\"}],e])}))},\"string\"==typeof(e=r.getParam(\"image_list\",!1))?_.send({url:e,success:function(e){n(JSON.parse(e))}}):\"function\"==typeof e?e(n):n(e)}),i=xe(r.getParam(\"image_class_list\")),o=r.getParam(\"image_advtab\",!1,\"boolean\"),l=r.getParam(\"image_uploadtab\",!0,\"boolean\"),s=!!M(r),u=!!R(r),c=(e=fe(t=r))?se(function(e){return ge(t,e)},e):oe(),m=r.getParam(\"image_description\",!0,\"boolean\"),d=r.getParam(\"image_title\",!1,\"boolean\"),g=E(r),f=r.getParam(\"image_caption\",!1,\"boolean\"),p=r.getParam(\"a11y_advanced_options\",!1,\"boolean\"),h=M(r),b=r.getParam(\"images_upload_base_path\",undefined,\"string\"),v=r.getParam(\"images_upload_credentials\",!1,\"boolean\"),y=R(r),w=r.getParam(\"automatic_uploads\",!0,\"boolean\"),D=A.some(r.getParam(\"image_prepend_url\",\"\",\"string\")).filter(function(e){return S(e)&&0<e.length});return n.then(function(e){return{image:c,imageList:e,classList:i,hasAdvTab:o,hasUploadTab:l,hasUploadUrl:s,hasUploadHandler:u,hasDescription:m,hasImageTitle:d,hasDimensions:g,hasImageCaption:f,url:h,basePath:b,credentials:v,handler:y,prependURL:D,hasAccessibilityOptions:p,automaticUploads:w}})},Ie=function(e){var t=e.imageList.map(function(e){return{name:\"images\",type:\"selectbox\",label:\"Image list\",items:e}}),n={name:\"alt\",type:\"input\",label:\"Alternative description\",disabled:e.hasAccessibilityOptions&&e.image.isDecorative},r=e.classList.map(function(e){return{name:\"classes\",type:\"selectbox\",label:\"Class\",items:e}});return x([[{name:\"src\",type:\"urlinput\",filetype:\"image\",label:\"Source\"}],t.toArray(),e.hasAccessibilityOptions&&e.hasDescription?[{type:\"label\",label:\"Accessibility\",items:[{name:\"isDecorative\",type:\"checkbox\",label:\"Image is decorative\"}]}]:[],e.hasDescription?[n]:[],e.hasImageTitle?[{name:\"title\",type:\"input\",label:\"Image title\"}]:[],e.hasDimensions?[{name:\"dimensions\",type:\"sizeinput\"}]:[],[{type:\"grid\",columns:2,items:x([r.toArray(),e.hasImageCaption?[{type:\"label\",label:\"Caption\",items:[{type:\"checkbox\",name:\"caption\",label:\"Show caption\"}]}]:[]])}]])},Ne=function(e){return{title:\"General\",name:\"general\",items:Ie(e)}},Pe=Ie,Le=function(e){return{title:\"Upload\",name:\"upload\",items:[{type:\"dropzone\",name:\"fileinput\"}]}},_e=function(e){return{src:{value:e.src,meta:{}},images:e.src,alt:e.alt,title:e.title,dimensions:{width:e.width,height:e.height},classes:e[\"class\"],caption:e.caption,style:e.style,vspace:e.vspace,border:e.border,hspace:e.hspace,borderstyle:e.borderStyle,fileinput:[],isDecorative:e.isDecorative}},Ee=function(e,t){return{src:e.src.value,alt:0===e.alt.length&&t?null:e.alt,title:e.title,width:e.dimensions.width,height:e.dimensions.height,\"class\":e.classes,style:e.style,caption:e.caption,hspace:e.hspace,vspace:e.vspace,border:e.border,borderStyle:e.borderstyle,isDecorative:e.isDecorative}},Me=function(e,t){var n,r,a=t.getData();n=e,r=a.src.value,(/^(?:[a-zA-Z]+:)?\\/\\//.test(r)?A.none():n.prependURL.bind(function(e){return r.substring(0,e.length)!==e?A.some(e+r):A.none()})).each(function(e){t.setData({src:{value:e,meta:a.src.meta}})})},Re=function(e,t){var n,r,a,i=t.getData(),o=i.src.meta;if(o!==undefined){var l=C({},i);r=l,a=o,(n=e).hasDescription&&S(a.alt)&&(r.alt=a.alt),n.hasAccessibilityOptions&&(r.isDecorative=a.isDecorative||r.isDecorative||!1),n.hasImageTitle&&S(a.title)&&(r.title=a.title),n.hasDimensions&&(S(a.width)&&(r.dimensions.width=a.width),S(a.height)&&(r.dimensions.height=a.height)),S(a[\"class\"])&&Te(n.classList,a[\"class\"]).each(function(e){r.classes=e.value}),n.hasImageCaption&&y(a.caption)&&(r.caption=a.caption),n.hasAdvTab&&(S(a.style)&&(r.style=a.style),S(a.vspace)&&(r.vspace=a.vspace),S(a.border)&&(r.border=a.border),S(a.hspace)&&(r.hspace=a.hspace),S(a.borderstyle)&&(r.borderstyle=a.borderstyle)),t.setData(l)}},ze=function(e,t,n,r){var a,i,o,l,s,u,c,m,d,g,f,p;Me(t,r),Re(t,r),a=e,i=t,o=n,s=(l=r).getData(),u=s.src.value,(c=s.src.meta||{}).width||c.height||!i.hasDimensions||a.imageSize(u).then(function(e){o.open&&l.setData({dimensions:e})}),m=t,d=n,f=(g=r).getData(),p=Te(m.imageList,f.src.value),d.prevImage=p,g.setData({images:p.map(function(e){return e.value}).getOr(\"\")})},He=function(e,t,n){var r,a,i,o,l,s=j(e(n.style)),u=C({},n);return u.vspace=(r=s)[\"margin-top\"]&&r[\"margin-bottom\"]&&r[\"margin-top\"]===r[\"margin-bottom\"]?H(String(r[\"margin-top\"])):\"\",u.hspace=(a=s)[\"margin-right\"]&&a[\"margin-left\"]&&a[\"margin-right\"]===a[\"margin-left\"]?H(String(a[\"margin-right\"])):\"\",u.border=(i=s)[\"border-width\"]?H(String(i[\"border-width\"])):\"\",u.borderstyle=(o=s)[\"border-style\"]?String(o[\"border-style\"]):\"\",u.style=(l=t)(e(l(s))),u},ke=function(s,u,t,c){var e,n=c.getData();c.block(\"Uploading image\"),(0===(e=n.fileinput).length?A.none():A.some(e[0])).fold(function(){c.unblock()},function(n){var r,a=m.URL.createObjectURL(n),i=Ce({url:u.url,basePath:u.basePath,credentials:u.credentials,handler:u.handler}),o=function(){c.unblock(),m.URL.revokeObjectURL(a)},l=function(e){c.setData({src:{value:e,meta:{}}}),c.showTab(\"general\"),ze(s,u,t,c)};r=n,new L(function(e,t){var n=new m.FileReader;n.onload=function(){e(n.result)},n.onerror=function(){t(n.error.message)},n.readAsDataURL(r)}).then(function(e){var t=s.createBlobCache(n,a,e);u.automaticUploads?i.upload(t).then(function(e){l(e),o()})[\"catch\"](function(e){o(),s.alertErr(e)}):(s.addToBlobCache(t),l(t.blobUri()),c.unblock())})})},je=function(h,b,v){return function(e,t){var n,r,a,i,o,l,s,u,c,m,d,g,f,p;\"src\"===t.name?ze(h,b,v,e):\"images\"===t.name?(c=h,m=b,d=v,f=(g=e).getData(),(p=Te(m.imageList,f.images)).each(function(e){\"\"===f.alt||d.prevImage.map(function(e){return e.text===f.alt}).getOr(!1)?\"\"===e.value?g.setData({src:e,alt:d.prevAlt}):g.setData({src:e,alt:e.text}):g.setData({src:e})}),d.prevImage=p,ze(c,m,d,g)):\"alt\"===t.name?v.prevAlt=e.getData().alt:\"style\"===t.name?(o=h,s=(l=e).getData(),u=He(o.parseStyle,o.serializeStyle,s),l.setData(u)):\"vspace\"===t.name||\"hspace\"===t.name||\"border\"===t.name||\"borderstyle\"===t.name?(n=h,r=e,a=C(_e(b.image),r.getData()),i=le(n.normalizeCss,Ee(a,!1)),r.setData({style:i})):\"fileinput\"===t.name?ke(h,b,v,e):\"isDecorative\"===t.name&&(e.getData().isDecorative?e.disable(\"alt\"):e.enable(\"alt\"))}},Be=function(i){return function(e){var t,n,r,a={prevImage:Te((t=e).imageList,t.image.src),prevAlt:t.image.alt,open:!0};return{title:\"Insert/Edit Image\",size:\"normal\",body:(r=e).hasAdvTab||r.hasUploadUrl||r.hasUploadHandler?{type:\"tabpanel\",tabs:x([[Ne(r)],r.hasAdvTab?[Ue(r)]:[],r.hasUploadTab&&(r.hasUploadUrl||r.hasUploadHandler)?[Le(r)]:[]])}:{type:\"panel\",items:Pe(r)},buttons:[{type:\"cancel\",name:\"cancel\",text:\"Cancel\"},{type:\"submit\",name:\"save\",text:\"Save\",primary:!0}],initialData:_e(e.image),onSubmit:i.onSubmit(e),onChange:je(i,e,a),onClose:(n=a,function(){n.open=!1})}}},Fe=function(t){return function(e){return a=t.documentBaseURI.toAbsolute(e),new L(function(t){var n=m.document.createElement(\"img\"),r=function(e){n.parentNode&&n.parentNode.removeChild(n),t(e)};n.onload=function(){var e={width:z(n.width,n.clientWidth),height:z(n.height,n.clientHeight)};r(L.resolve(e))},n.onerror=function(){r(L.reject(\"Failed to get image dimensions for: \"+a))};var e=n.style;e.visibility=\"hidden\",e.position=\"fixed\",e.bottom=e.left=\"0px\",e.width=e.height=\"auto\",m.document.body.appendChild(n),n.src=a}).then(function(e){return{width:String(e.width),height:String(e.height)}});var a}},Ge=function(t){var n,r,a,i,o,l,s,e={onSubmit:function(n){return function(e){var t=C(_e(n.image),e.getData());s.execCommand(\"mceUpdateImage\",!1,Ee(t,n.hasAccessibilityOptions)),s.editorUpload.uploadImagesAuto(),e.close()}},imageSize:Fe(s=t),addToBlobCache:function(e){l.editorUpload.blobCache.add(e)},createBlobCache:function(e,t,n){return o.editorUpload.blobCache.create({blob:e,blobUri:t,name:e.name?e.name.replace(/\\.[^\\.]+$/,\"\"):null,base64:n.split(\",\")[1]})},alertErr:function(e){i.windowManager.alert(e)},normalizeCss:function(e){return ge(a,e)},parseStyle:function(e){return r.dom.parseStyle(e)},serializeStyle:(n=r=a=i=o=l=t,function(e,t){return n.dom.serializeStyle(e,t)})},u=function(){return Oe(t).then(Be(e)).then(function(e){return t.windowManager.open(e)})};return{open:u,openLater:function(){u()}}},We=function(n){n.addCommand(\"mceImage\",Ge(n).openLater),n.addCommand(\"mceUpdateImage\",function(e,t){n.undoManager.transact(function(){return function(t,e){var n=fe(t);if(n){var r=se(function(e){return ge(t,e)},n),a=U(U({},r),e);a.src?be(t,a):function(e,t){if(t){var n=e.dom.is(t.parentNode,\"figure.image\")?t.parentNode:t;e.dom.remove(n),e.focus(),e.nodeChanged(),e.dom.isEmpty(e.getBody())&&(e.setContent(\"\"),e.selection.setCursorLocation())}}(t,n)}else e.src&&he(t,U(U({},oe()),e))}(n,t)})})},qe=function(i){return function(e){for(var t,n=e.length,r=function(e){e.attr(\"contenteditable\",i?\"true\":null)};n--;){var a=e[n];(t=a.attr(\"class\"))&&/\\bimage\\b/.test(t)&&(a.attr(\"contenteditable\",i?\"false\":null),ve.each(a.getAll(\"figcaption\"),r))}}};!function $e(){a.add(\"image\",function(e){var t,n;(t=e).on(\"PreInit\",function(){t.parser.addNodeFilter(\"figure\",qe(!0)),t.serializer.addNodeFilter(\"figure\",qe(!1))}),(n=e).ui.registry.addToggleButton(\"image\",{icon:\"image\",tooltip:\"Insert/edit image\",onAction:Ge(n).openLater,onSetup:function(e){return n.selection.selectorChangedWithUnbind(\"img:not([data-mce-object],[data-mce-placeholder]),figure.image\",e.setActive).unbind}}),n.ui.registry.addMenuItem(\"image\",{icon:\"image\",text:\"Image...\",onAction:Ge(n).openLater}),n.ui.registry.addContextMenu(\"image\",{update:function(e){return ae(e)||\"IMG\"===e.nodeName&&!B(e)?[\"image\"]:[]}}),We(e)})}()}(window);"]}]}