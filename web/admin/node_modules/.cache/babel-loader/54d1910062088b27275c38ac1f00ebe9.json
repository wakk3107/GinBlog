{"remainingRequest":"C:\\Users\\wakk\\GolandProjects\\GinBlog\\web\\admin\\node_modules\\thread-loader\\dist\\cjs.js!C:\\Users\\wakk\\GolandProjects\\GinBlog\\web\\admin\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\wakk\\GolandProjects\\GinBlog\\web\\admin\\node_modules\\eslint-loader\\index.js??ref--14-0!C:\\Users\\wakk\\GolandProjects\\GinBlog\\web\\admin\\src\\components\\editor\\tinymce.min.js","dependencies":[{"path":"C:\\Users\\wakk\\GolandProjects\\GinBlog\\web\\admin\\src\\components\\editor\\tinymce.min.js","mtime":1651118941000},{"path":"C:\\Users\\wakk\\GolandProjects\\GinBlog\\web\\admin\\babel.config.js","mtime":1651118941000},{"path":"C:\\Users\\wakk\\GolandProjects\\GinBlog\\web\\admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1659170820870},{"path":"C:\\Users\\wakk\\GolandProjects\\GinBlog\\web\\admin\\node_modules\\thread-loader\\dist\\cjs.js","mtime":1659170820855},{"path":"C:\\Users\\wakk\\GolandProjects\\GinBlog\\web\\admin\\node_modules\\babel-loader\\lib\\index.js","mtime":1659170823565},{"path":"C:\\Users\\wakk\\GolandProjects\\GinBlog\\web\\admin\\node_modules\\eslint-loader\\index.js","mtime":1659170823234}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:dmFyIF90eXBlb2YgPSByZXF1aXJlKCJDOi9Vc2Vycy93YWtrL0dvbGFuZFByb2plY3RzL0dpbkJsb2cvd2ViL2FkbWluL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL3R5cGVvZi5qcyIpLmRlZmF1bHQ7CgpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZS5qcyIpOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LnNvcnQuanMiKTsKCnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5zbGljZS5qcyIpOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC5rZXlzLmpzIik7CgpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0LmpzIik7CgpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMuZXJyb3IuY2F1c2UuanMiKTsKCnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nLmpzIik7CgpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZnJvbS5qcyIpOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5pdGVyYXRvci5qcyIpOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC5leGVjLmpzIik7CgpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLnRlc3QuanMiKTsKCnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5udW1iZXIuY29uc3RydWN0b3IuanMiKTsKCnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcucmVwbGFjZS5qcyIpOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5zZWFyY2guanMiKTsKCnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5tYXAuanMiKTsKCnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLml0ZXJhdG9yLmpzIik7CgpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvd2ViLnVybC5qcyIpOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL3dlYi51cmwtc2VhcmNoLXBhcmFtcy5qcyIpOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5zcGxpdC5qcyIpOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5tYXRjaC5qcyIpOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC5nZXQtcHJvdG90eXBlLW9mLmpzIik7CgpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyLmpzIik7CgpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuam9pbi5qcyIpOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL3dlYi5pbW1lZGlhdGUuanMiKTsKCnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAudG8tc3RyaW5nLmpzIik7CgpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMud2Vhay1tYXAuanMiKTsKCnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcudHJpbS5qcyIpOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC5jb25zdHJ1Y3Rvci5qcyIpOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC5kb3QtYWxsLmpzIik7CgpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLnN0aWNreS5qcyIpOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LnNwbGljZS5qcyIpOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZpbmQuanMiKTsKCnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5zeW1ib2wuanMiKTsKCnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QuZnJlZXplLmpzIik7CgpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvd2ViLmF0b2IuanMiKTsKCnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWV4Y2VwdGlvbi5jb25zdHJ1Y3Rvci5qcyIpOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tZXhjZXB0aW9uLnN0YWNrLmpzIik7CgpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1leGNlcHRpb24udG8tc3RyaW5nLXRhZy5qcyIpOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLnR5cGVkLWFycmF5LnVpbnQ4LWFycmF5LmpzIik7CgpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMudHlwZWQtYXJyYXkuYXQuanMiKTsKCnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy50eXBlZC1hcnJheS5jb3B5LXdpdGhpbi5qcyIpOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLnR5cGVkLWFycmF5LmV2ZXJ5LmpzIik7CgpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMudHlwZWQtYXJyYXkuZmlsbC5qcyIpOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLnR5cGVkLWFycmF5LmZpbHRlci5qcyIpOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLnR5cGVkLWFycmF5LmZpbmQuanMiKTsKCnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy50eXBlZC1hcnJheS5maW5kLWluZGV4LmpzIik7CgpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMudHlwZWQtYXJyYXkuZm9yLWVhY2guanMiKTsKCnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy50eXBlZC1hcnJheS5pbmNsdWRlcy5qcyIpOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLnR5cGVkLWFycmF5LmluZGV4LW9mLmpzIik7CgpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMudHlwZWQtYXJyYXkuaXRlcmF0b3IuanMiKTsKCnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy50eXBlZC1hcnJheS5qb2luLmpzIik7CgpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMudHlwZWQtYXJyYXkubGFzdC1pbmRleC1vZi5qcyIpOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLnR5cGVkLWFycmF5Lm1hcC5qcyIpOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLnR5cGVkLWFycmF5LnJlZHVjZS5qcyIpOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLnR5cGVkLWFycmF5LnJlZHVjZS1yaWdodC5qcyIpOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLnR5cGVkLWFycmF5LnJldmVyc2UuanMiKTsKCnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy50eXBlZC1hcnJheS5zZXQuanMiKTsKCnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy50eXBlZC1hcnJheS5zbGljZS5qcyIpOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLnR5cGVkLWFycmF5LnNvbWUuanMiKTsKCnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy50eXBlZC1hcnJheS5zb3J0LmpzIik7CgpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMudHlwZWQtYXJyYXkuc3ViYXJyYXkuanMiKTsKCnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy50eXBlZC1hcnJheS50by1sb2NhbGUtc3RyaW5nLmpzIik7CgpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMudHlwZWQtYXJyYXkudG8tc3RyaW5nLmpzIik7CgpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLmZpeGVkLmpzIik7CgpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLm1hdGNoLWFsbC5qcyIpOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5hbmNob3IuanMiKTsKCnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5qc29uLnN0cmluZ2lmeS5qcyIpOwoKLyoqCiAqIENvcHlyaWdodCAoYykgVGlueSBUZWNobm9sb2dpZXMsIEluYy4gQWxsIHJpZ2h0cyByZXNlcnZlZC4KICogTGljZW5zZWQgdW5kZXIgdGhlIExHUEwgb3IgYSBjb21tZXJjaWFsIGxpY2Vuc2UuCiAqIEZvciBMR1BMIHNlZSBMaWNlbnNlLnR4dCBpbiB0aGUgcHJvamVjdCByb290IGZvciBsaWNlbnNlIGluZm9ybWF0aW9uLgogKiBGb3IgY29tbWVyY2lhbCBsaWNlbnNlcyBzZWUgaHR0cHM6Ly93d3cudGlueS5jbG91ZC8KICoKICogVmVyc2lvbjogNS42LjIgKDIwMjAtMTItMDgpCiAqLwohZnVuY3Rpb24gKCkgewogICJ1c2Ugc3RyaWN0IjsKCiAgdmFyIHIgPSBmdW5jdGlvbiByKGUpIHsKICAgIGlmIChudWxsID09PSBlKSByZXR1cm4gIm51bGwiOwogICAgaWYgKGUgPT09IHVuZGVmaW5lZCkgcmV0dXJuICJ1bmRlZmluZWQiOwoKICAgIHZhciB0ID0gX3R5cGVvZihlKTsKCiAgICByZXR1cm4gIm9iamVjdCIgPT0gdCAmJiAoQXJyYXkucHJvdG90eXBlLmlzUHJvdG90eXBlT2YoZSkgfHwgZS5jb25zdHJ1Y3RvciAmJiAiQXJyYXkiID09PSBlLmNvbnN0cnVjdG9yLm5hbWUpID8gImFycmF5IiA6ICJvYmplY3QiID09IHQgJiYgKFN0cmluZy5wcm90b3R5cGUuaXNQcm90b3R5cGVPZihlKSB8fCBlLmNvbnN0cnVjdG9yICYmICJTdHJpbmciID09PSBlLmNvbnN0cnVjdG9yLm5hbWUpID8gInN0cmluZyIgOiB0OwogIH0sCiAgICAgIHQgPSBmdW5jdGlvbiB0KGUpIHsKICAgIHJldHVybiB7CiAgICAgIGVxOiBlCiAgICB9OwogIH0sCiAgICAgIHMgPSB0KGZ1bmN0aW9uIChlLCB0KSB7CiAgICByZXR1cm4gZSA9PT0gdDsKICB9KSwKICAgICAgaSA9IGZ1bmN0aW9uIGkobykgewogICAgcmV0dXJuIHQoZnVuY3Rpb24gKGUsIHQpIHsKICAgICAgaWYgKGUubGVuZ3RoICE9PSB0Lmxlbmd0aCkgcmV0dXJuICExOwoKICAgICAgZm9yICh2YXIgbiA9IGUubGVuZ3RoLCByID0gMDsgciA8IG47IHIrKykgewogICAgICAgIGlmICghby5lcShlW3JdLCB0W3JdKSkgcmV0dXJuICExOwogICAgICB9CgogICAgICByZXR1cm4gITA7CiAgICB9KTsKICB9LAogICAgICBjID0gZnVuY3Rpb24gYyhlLCByKSB7CiAgICByZXR1cm4gbiA9IGkoZSksIG8gPSBmdW5jdGlvbiBvKGUpIHsKICAgICAgcmV0dXJuIHQgPSBlLCBuID0gciwgQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwodCkuc29ydChuKTsKICAgICAgdmFyIHQsIG47CiAgICB9LCB0KGZ1bmN0aW9uIChlLCB0KSB7CiAgICAgIHJldHVybiBuLmVxKG8oZSksIG8odCkpOwogICAgfSk7CiAgICB2YXIgbiwgbzsKICB9LAogICAgICB1ID0gZnVuY3Rpb24gdShfdTIpIHsKICAgIHJldHVybiB0KGZ1bmN0aW9uIChlLCB0KSB7CiAgICAgIHZhciBuID0gT2JqZWN0LmtleXMoZSksCiAgICAgICAgICByID0gT2JqZWN0LmtleXModCk7CiAgICAgIGlmICghYyhzKS5lcShuLCByKSkgcmV0dXJuICExOwoKICAgICAgZm9yICh2YXIgbyA9IG4ubGVuZ3RoLCBpID0gMDsgaSA8IG87IGkrKykgewogICAgICAgIHZhciBhID0gbltpXTsKICAgICAgICBpZiAoIV91Mi5lcShlW2FdLCB0W2FdKSkgcmV0dXJuICExOwogICAgICB9CgogICAgICByZXR1cm4gITA7CiAgICB9KTsKICB9LAogICAgICBsID0gdChmdW5jdGlvbiAoZSwgdCkgewogICAgaWYgKGUgPT09IHQpIHJldHVybiAhMDsKICAgIHZhciBuID0gcihlKTsKICAgIHJldHVybiBuID09PSByKHQpICYmICgtMSAhPT0gWyJ1bmRlZmluZWQiLCAiYm9vbGVhbiIsICJudW1iZXIiLCAic3RyaW5nIiwgImZ1bmN0aW9uIiwgInhtbCIsICJudWxsIl0uaW5kZXhPZihuKSA/IGUgPT09IHQgOiAiYXJyYXkiID09PSBuID8gaShsKS5lcShlLCB0KSA6ICJvYmplY3QiID09PSBuICYmIHUobCkuZXEoZSwgdCkpOwogIH0pLAogICAgICBWID0gZnVuY3Rpb24gVigpIHt9LAogICAgICBhID0gZnVuY3Rpb24gYShuLCByKSB7CiAgICByZXR1cm4gZnVuY3Rpb24gKCkgewogICAgICBmb3IgKHZhciBlID0gW10sIHQgPSAwOyB0IDwgYXJndW1lbnRzLmxlbmd0aDsgdCsrKSB7CiAgICAgICAgZVt0XSA9IGFyZ3VtZW50c1t0XTsKICAgICAgfQoKICAgICAgcmV0dXJuIG4oci5hcHBseShudWxsLCBlKSk7CiAgICB9OwogIH0sCiAgICAgIEUgPSBmdW5jdGlvbiBFKGUpIHsKICAgIHJldHVybiBmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiBlOwogICAgfTsKICB9LAogICAgICBvID0gZnVuY3Rpb24gbyhlKSB7CiAgICByZXR1cm4gZTsKICB9OwoKICBmdW5jdGlvbiBOKHIpIHsKICAgIGZvciAodmFyIG8gPSBbXSwgZSA9IDE7IGUgPCBhcmd1bWVudHMubGVuZ3RoOyBlKyspIHsKICAgICAgb1tlIC0gMV0gPSBhcmd1bWVudHNbZV07CiAgICB9CgogICAgcmV0dXJuIGZ1bmN0aW9uICgpIHsKICAgICAgZm9yICh2YXIgZSA9IFtdLCB0ID0gMDsgdCA8IGFyZ3VtZW50cy5sZW5ndGg7IHQrKykgewogICAgICAgIGVbdF0gPSBhcmd1bWVudHNbdF07CiAgICAgIH0KCiAgICAgIHZhciBuID0gby5jb25jYXQoZSk7CiAgICAgIHJldHVybiByLmFwcGx5KG51bGwsIG4pOwogICAgfTsKICB9CgogIHZhciBlLAogICAgICBuLAogICAgICBmLAogICAgICBkID0gZnVuY3Rpb24gZCh0KSB7CiAgICByZXR1cm4gZnVuY3Rpb24gKGUpIHsKICAgICAgcmV0dXJuICF0KGUpOwogICAgfTsKICB9LAogICAgICBtID0gZnVuY3Rpb24gbShlKSB7CiAgICByZXR1cm4gZnVuY3Rpb24gKCkgewogICAgICB0aHJvdyBuZXcgRXJyb3IoZSk7CiAgICB9OwogIH0sCiAgICAgIGIgPSBmdW5jdGlvbiBiKGUpIHsKICAgIGUoKTsKICB9LAogICAgICBDID0gRSghMSksCiAgICAgIGsgPSBFKCEwKSwKICAgICAgcCA9IGZ1bmN0aW9uIHAoKSB7CiAgICByZXR1cm4gZzsKICB9LAogICAgICBnID0gKGUgPSBmdW5jdGlvbiBlKF9lMikgewogICAgcmV0dXJuIF9lMi5pc05vbmUoKTsKICB9LCB7CiAgICBmb2xkOiBmdW5jdGlvbiBmb2xkKGUsIHQpIHsKICAgICAgcmV0dXJuIGUoKTsKICAgIH0sCiAgICBpczogQywKICAgIGlzU29tZTogQywKICAgIGlzTm9uZTogaywKICAgIGdldE9yOiBmID0gZnVuY3Rpb24gZihlKSB7CiAgICAgIHJldHVybiBlOwogICAgfSwKICAgIGdldE9yVGh1bms6IG4gPSBmdW5jdGlvbiBuKGUpIHsKICAgICAgcmV0dXJuIGUoKTsKICAgIH0sCiAgICBnZXRPckRpZTogZnVuY3Rpb24gZ2V0T3JEaWUoZSkgewogICAgICB0aHJvdyBuZXcgRXJyb3IoZSB8fCAiZXJyb3I6IGdldE9yRGllIGNhbGxlZCBvbiBub25lLiIpOwogICAgfSwKICAgIGdldE9yTnVsbDogRShudWxsKSwKICAgIGdldE9yVW5kZWZpbmVkOiBFKHVuZGVmaW5lZCksCiAgICBvcjogZiwKICAgIG9yVGh1bms6IG4sCiAgICBtYXA6IHAsCiAgICBlYWNoOiBWLAogICAgYmluZDogcCwKICAgIGV4aXN0czogQywKICAgIGZvcmFsbDogaywKICAgIGZpbHRlcjogcCwKICAgIGVxdWFsczogZSwKICAgIGVxdWFsc186IGUsCiAgICB0b0FycmF5OiBmdW5jdGlvbiB0b0FycmF5KCkgewogICAgICByZXR1cm4gW107CiAgICB9LAogICAgdG9TdHJpbmc6IEUoIm5vbmUoKSIpCiAgfSksCiAgICAgIGggPSBmdW5jdGlvbiBoKG4pIHsKICAgIHZhciBlID0gRShuKSwKICAgICAgICB0ID0gZnVuY3Rpb24gdCgpIHsKICAgICAgcmV0dXJuIG87CiAgICB9LAogICAgICAgIHIgPSBmdW5jdGlvbiByKGUpIHsKICAgICAgcmV0dXJuIGUobik7CiAgICB9LAogICAgICAgIG8gPSB7CiAgICAgIGZvbGQ6IGZ1bmN0aW9uIGZvbGQoZSwgdCkgewogICAgICAgIHJldHVybiB0KG4pOwogICAgICB9LAogICAgICBpczogZnVuY3Rpb24gaXMoZSkgewogICAgICAgIHJldHVybiBuID09PSBlOwogICAgICB9LAogICAgICBpc1NvbWU6IGssCiAgICAgIGlzTm9uZTogQywKICAgICAgZ2V0T3I6IGUsCiAgICAgIGdldE9yVGh1bms6IGUsCiAgICAgIGdldE9yRGllOiBlLAogICAgICBnZXRPck51bGw6IGUsCiAgICAgIGdldE9yVW5kZWZpbmVkOiBlLAogICAgICBvcjogdCwKICAgICAgb3JUaHVuazogdCwKICAgICAgbWFwOiBmdW5jdGlvbiBtYXAoZSkgewogICAgICAgIHJldHVybiBoKGUobikpOwogICAgICB9LAogICAgICBlYWNoOiBmdW5jdGlvbiBlYWNoKGUpIHsKICAgICAgICBlKG4pOwogICAgICB9LAogICAgICBiaW5kOiByLAogICAgICBleGlzdHM6IHIsCiAgICAgIGZvcmFsbDogciwKICAgICAgZmlsdGVyOiBmdW5jdGlvbiBmaWx0ZXIoZSkgewogICAgICAgIHJldHVybiBlKG4pID8gbyA6IGc7CiAgICAgIH0sCiAgICAgIHRvQXJyYXk6IGZ1bmN0aW9uIHRvQXJyYXkoKSB7CiAgICAgICAgcmV0dXJuIFtuXTsKICAgICAgfSwKICAgICAgdG9TdHJpbmc6IGZ1bmN0aW9uIHRvU3RyaW5nKCkgewogICAgICAgIHJldHVybiAic29tZSgiICsgbiArICIpIjsKICAgICAgfSwKICAgICAgZXF1YWxzOiBmdW5jdGlvbiBlcXVhbHMoZSkgewogICAgICAgIHJldHVybiBlLmlzKG4pOwogICAgICB9LAogICAgICBlcXVhbHNfOiBmdW5jdGlvbiBlcXVhbHNfKGUsIHQpIHsKICAgICAgICByZXR1cm4gZS5mb2xkKEMsIGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICByZXR1cm4gdChuLCBlKTsKICAgICAgICB9KTsKICAgICAgfQogICAgfTsKCiAgICByZXR1cm4gbzsKICB9LAogICAgICBVID0gewogICAgc29tZTogaCwKICAgIG5vbmU6IHAsCiAgICBmcm9tOiBmdW5jdGlvbiBmcm9tKGUpIHsKICAgICAgcmV0dXJuIG51bGwgPT09IGUgfHwgZSA9PT0gdW5kZWZpbmVkID8gZyA6IGgoZSk7CiAgICB9CiAgfSwKICAgICAgdiA9IGZ1bmN0aW9uIHYocikgewogICAgcmV0dXJuIGZ1bmN0aW9uIChlKSB7CiAgICAgIHJldHVybiBuID0gX3R5cGVvZih0ID0gZSksIChudWxsID09PSB0ID8gIm51bGwiIDogIm9iamVjdCIgPT0gbiAmJiAoQXJyYXkucHJvdG90eXBlLmlzUHJvdG90eXBlT2YodCkgfHwgdC5jb25zdHJ1Y3RvciAmJiAiQXJyYXkiID09PSB0LmNvbnN0cnVjdG9yLm5hbWUpID8gImFycmF5IiA6ICJvYmplY3QiID09IG4gJiYgKFN0cmluZy5wcm90b3R5cGUuaXNQcm90b3R5cGVPZih0KSB8fCB0LmNvbnN0cnVjdG9yICYmICJTdHJpbmciID09PSB0LmNvbnN0cnVjdG9yLm5hbWUpID8gInN0cmluZyIgOiBuKSA9PT0gcjsKICAgICAgdmFyIHQsIG47CiAgICB9OwogIH0sCiAgICAgIHkgPSBmdW5jdGlvbiB5KHQpIHsKICAgIHJldHVybiBmdW5jdGlvbiAoZSkgewogICAgICByZXR1cm4gX3R5cGVvZihlKSA9PT0gdDsKICAgIH07CiAgfSwKICAgICAgdyA9IGZ1bmN0aW9uIHcodCkgewogICAgcmV0dXJuIGZ1bmN0aW9uIChlKSB7CiAgICAgIHJldHVybiB0ID09PSBlOwogICAgfTsKICB9LAogICAgICBxID0gdigic3RyaW5nIiksCiAgICAgIF8gPSB2KCJvYmplY3QiKSwKICAgICAgUyA9IHYoImFycmF5IiksCiAgICAgIHggPSB3KG51bGwpLAogICAgICBBID0geSgiYm9vbGVhbiIpLAogICAgICBSID0gdyh1bmRlZmluZWQpLAogICAgICAkID0gZnVuY3Rpb24gJChlKSB7CiAgICByZXR1cm4gbnVsbCA9PT0gZSB8fCBlID09PSB1bmRlZmluZWQ7CiAgfSwKICAgICAgRCA9IGZ1bmN0aW9uIEQoZSkgewogICAgcmV0dXJuICEkKGUpOwogIH0sCiAgICAgIFQgPSB5KCJmdW5jdGlvbiIpLAogICAgICBPID0geSgibnVtYmVyIiksCiAgICAgIEIgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UsCiAgICAgIFAgPSBBcnJheS5wcm90b3R5cGUuaW5kZXhPZiwKICAgICAgTCA9IEFycmF5LnByb3RvdHlwZS5wdXNoLAogICAgICBJID0gZnVuY3Rpb24gSShlLCB0KSB7CiAgICByZXR1cm4gUC5jYWxsKGUsIHQpOwogIH0sCiAgICAgIE0gPSBmdW5jdGlvbiBNKGUsIHQpIHsKICAgIHJldHVybiAtMSA8IEkoZSwgdCk7CiAgfSwKICAgICAgRiA9IGZ1bmN0aW9uIEYoZSwgdCkgewogICAgZm9yICh2YXIgbiA9IDAsIHIgPSBlLmxlbmd0aDsgbiA8IHI7IG4rKykgewogICAgICBpZiAodChlW25dLCBuKSkgcmV0dXJuICEwOwogICAgfQoKICAgIHJldHVybiAhMTsKICB9LAogICAgICB6ID0gZnVuY3Rpb24geihlLCB0KSB7CiAgICBmb3IgKHZhciBuID0gZS5sZW5ndGgsIHIgPSBuZXcgQXJyYXkobiksIG8gPSAwOyBvIDwgbjsgbysrKSB7CiAgICAgIHZhciBpID0gZVtvXTsKICAgICAgcltvXSA9IHQoaSwgbyk7CiAgICB9CgogICAgcmV0dXJuIHI7CiAgfSwKICAgICAgVyA9IGZ1bmN0aW9uIFcoZSwgdCkgewogICAgZm9yICh2YXIgbiA9IDAsIHIgPSBlLmxlbmd0aDsgbiA8IHI7IG4rKykgewogICAgICB0KGVbbl0sIG4pOwogICAgfQogIH0sCiAgICAgIGogPSBmdW5jdGlvbiBqKGUsIHQpIHsKICAgIGZvciAodmFyIG4gPSBlLmxlbmd0aCAtIDE7IDAgPD0gbjsgbi0tKSB7CiAgICAgIHQoZVtuXSwgbik7CiAgICB9CiAgfSwKICAgICAgSCA9IGZ1bmN0aW9uIEgoZSwgdCkgewogICAgZm9yICh2YXIgbiA9IFtdLCByID0gMCwgbyA9IGUubGVuZ3RoOyByIDwgbzsgcisrKSB7CiAgICAgIHZhciBpID0gZVtyXTsKICAgICAgdChpLCByKSAmJiBuLnB1c2goaSk7CiAgICB9CgogICAgcmV0dXJuIG47CiAgfSwKICAgICAgSyA9IGZ1bmN0aW9uIEsoZSwgdCwgbikgewogICAgcmV0dXJuIGooZSwgZnVuY3Rpb24gKGUpIHsKICAgICAgbiA9IHQobiwgZSk7CiAgICB9KSwgbjsKICB9LAogICAgICBYID0gZnVuY3Rpb24gWChlLCB0LCBuKSB7CiAgICByZXR1cm4gVyhlLCBmdW5jdGlvbiAoZSkgewogICAgICBuID0gdChuLCBlKTsKICAgIH0pLCBuOwogIH0sCiAgICAgIFkgPSBmdW5jdGlvbiBZKGUsIHQpIHsKICAgIHJldHVybiBmdW5jdGlvbiAoZSwgdCwgbikgewogICAgICBmb3IgKHZhciByID0gMCwgbyA9IGUubGVuZ3RoOyByIDwgbzsgcisrKSB7CiAgICAgICAgdmFyIGkgPSBlW3JdOwogICAgICAgIGlmICh0KGksIHIpKSByZXR1cm4gVS5zb21lKGkpOwogICAgICAgIGlmIChuKGksIHIpKSBicmVhazsKICAgICAgfQoKICAgICAgcmV0dXJuIFUubm9uZSgpOwogICAgfShlLCB0LCBDKTsKICB9LAogICAgICBHID0gZnVuY3Rpb24gRyhlLCB0KSB7CiAgICBmb3IgKHZhciBuID0gMCwgciA9IGUubGVuZ3RoOyBuIDwgcjsgbisrKSB7CiAgICAgIGlmICh0KGVbbl0sIG4pKSByZXR1cm4gVS5zb21lKG4pOwogICAgfQoKICAgIHJldHVybiBVLm5vbmUoKTsKICB9LAogICAgICBKID0gZnVuY3Rpb24gSihlLCB0KSB7CiAgICByZXR1cm4gZnVuY3Rpb24gKGUpIHsKICAgICAgZm9yICh2YXIgdCA9IFtdLCBuID0gMCwgciA9IGUubGVuZ3RoOyBuIDwgcjsgKytuKSB7CiAgICAgICAgaWYgKCFTKGVbbl0pKSB0aHJvdyBuZXcgRXJyb3IoIkFyci5mbGF0dGVuIGl0ZW0gIiArIG4gKyAiIHdhcyBub3QgYW4gYXJyYXksIGlucHV0OiAiICsgZSk7CiAgICAgICAgTC5hcHBseSh0LCBlW25dKTsKICAgICAgfQoKICAgICAgcmV0dXJuIHQ7CiAgICB9KHooZSwgdCkpOwogIH0sCiAgICAgIFEgPSBmdW5jdGlvbiBRKGUsIHQpIHsKICAgIGZvciAodmFyIG4gPSAwLCByID0gZS5sZW5ndGg7IG4gPCByOyArK24pIHsKICAgICAgaWYgKCEwICE9PSB0KGVbbl0sIG4pKSByZXR1cm4gITE7CiAgICB9CgogICAgcmV0dXJuICEwOwogIH0sCiAgICAgIFogPSBmdW5jdGlvbiBaKGUpIHsKICAgIHZhciB0ID0gQi5jYWxsKGUsIDApOwogICAgcmV0dXJuIHQucmV2ZXJzZSgpLCB0OwogIH0sCiAgICAgIGVlID0gZnVuY3Rpb24gZWUoZSwgdCkgewogICAgcmV0dXJuIEgoZSwgZnVuY3Rpb24gKGUpIHsKICAgICAgcmV0dXJuICFNKHQsIGUpOwogICAgfSk7CiAgfSwKICAgICAgdGUgPSBmdW5jdGlvbiB0ZShlLCB0KSB7CiAgICByZXR1cm4gMCA8PSB0ICYmIHQgPCBlLmxlbmd0aCA/IFUuc29tZShlW3RdKSA6IFUubm9uZSgpOwogIH0sCiAgICAgIG5lID0gZnVuY3Rpb24gbmUoZSkgewogICAgcmV0dXJuIHRlKGUsIDApOwogIH0sCiAgICAgIHJlID0gZnVuY3Rpb24gcmUoZSkgewogICAgcmV0dXJuIHRlKGUsIGUubGVuZ3RoIC0gMSk7CiAgfSwKICAgICAgb2UgPSBUKEFycmF5LmZyb20pID8gQXJyYXkuZnJvbSA6IGZ1bmN0aW9uIChlKSB7CiAgICByZXR1cm4gQi5jYWxsKGUpOwogIH0sCiAgICAgIGllID0gT2JqZWN0LmtleXMsCiAgICAgIGFlID0gT2JqZWN0Lmhhc093blByb3BlcnR5LAogICAgICB1ZSA9IGZ1bmN0aW9uIHVlKGUsIHQpIHsKICAgIGZvciAodmFyIG4gPSBpZShlKSwgciA9IDAsIG8gPSBuLmxlbmd0aDsgciA8IG87IHIrKykgewogICAgICB2YXIgaSA9IG5bcl07CiAgICAgIHQoZVtpXSwgaSk7CiAgICB9CiAgfSwKICAgICAgc2UgPSBmdW5jdGlvbiBzZShlLCBuKSB7CiAgICByZXR1cm4gY2UoZSwgZnVuY3Rpb24gKGUsIHQpIHsKICAgICAgcmV0dXJuIHsKICAgICAgICBrOiB0LAogICAgICAgIHY6IG4oZSwgdCkKICAgICAgfTsKICAgIH0pOwogIH0sCiAgICAgIGNlID0gZnVuY3Rpb24gY2UoZSwgcikgewogICAgdmFyIG8gPSB7fTsKICAgIHJldHVybiB1ZShlLCBmdW5jdGlvbiAoZSwgdCkgewogICAgICB2YXIgbiA9IHIoZSwgdCk7CiAgICAgIG9bbi5rXSA9IG4udjsKICAgIH0pLCBvOwogIH0sCiAgICAgIGxlID0gZnVuY3Rpb24gbGUobikgewogICAgcmV0dXJuIGZ1bmN0aW9uIChlLCB0KSB7CiAgICAgIG5bdF0gPSBlOwogICAgfTsKICB9LAogICAgICBmZSA9IGZ1bmN0aW9uIGZlKGUsIG4sIHIsIG8pIHsKICAgIHJldHVybiB1ZShlLCBmdW5jdGlvbiAoZSwgdCkgewogICAgICAobihlLCB0KSA/IHIgOiBvKShlLCB0KTsKICAgIH0pLCB7fTsKICB9LAogICAgICBkZSA9IGZ1bmN0aW9uIGRlKGUsIHQpIHsKICAgIHZhciBuID0ge30sCiAgICAgICAgciA9IHt9OwogICAgcmV0dXJuIGZlKGUsIHQsIGxlKG4pLCBsZShyKSksIHsKICAgICAgdDogbiwKICAgICAgZjogcgogICAgfTsKICB9LAogICAgICBtZSA9IGZ1bmN0aW9uIG1lKGUsIHQpIHsKICAgIHZhciBuID0ge307CiAgICByZXR1cm4gZmUoZSwgdCwgbGUobiksIFYpLCBuOwogIH0sCiAgICAgIHBlID0gZnVuY3Rpb24gcGUoZSkgewogICAgcmV0dXJuIG4gPSBmdW5jdGlvbiBuKGUpIHsKICAgICAgcmV0dXJuIGU7CiAgICB9LCByID0gW10sIHVlKGUsIGZ1bmN0aW9uIChlLCB0KSB7CiAgICAgIHIucHVzaChuKGUsIHQpKTsKICAgIH0pLCByOwogICAgdmFyIG4sIHI7CiAgfSwKICAgICAgZ2UgPSBmdW5jdGlvbiBnZShlLCB0KSB7CiAgICByZXR1cm4gaGUoZSwgdCkgPyBVLmZyb20oZVt0XSkgOiBVLm5vbmUoKTsKICB9LAogICAgICBoZSA9IGZ1bmN0aW9uIGhlKGUsIHQpIHsKICAgIHJldHVybiBhZS5jYWxsKGUsIHQpOwogIH0sCiAgICAgIHZlID0gZnVuY3Rpb24gdmUoZSwgdCkgewogICAgcmV0dXJuIGhlKGUsIHQpICYmIGVbdF0gIT09IHVuZGVmaW5lZCAmJiBudWxsICE9PSBlW3RdOwogIH0sCiAgICAgIHllID0gQXJyYXkuaXNBcnJheSwKICAgICAgYmUgPSBmdW5jdGlvbiBiZShlLCB0LCBuKSB7CiAgICB2YXIgciwgbzsKICAgIGlmICghZSkgcmV0dXJuICExOwoKICAgIGlmIChuID0gbiB8fCBlLCBlLmxlbmd0aCAhPT0gdW5kZWZpbmVkKSB7CiAgICAgIGZvciAociA9IDAsIG8gPSBlLmxlbmd0aDsgciA8IG87IHIrKykgewogICAgICAgIGlmICghMSA9PT0gdC5jYWxsKG4sIGVbcl0sIHIsIGUpKSByZXR1cm4gITE7CiAgICAgIH0KICAgIH0gZWxzZSBmb3IgKHIgaW4gZSkgewogICAgICBpZiAoZS5oYXNPd25Qcm9wZXJ0eShyKSAmJiAhMSA9PT0gdC5jYWxsKG4sIGVbcl0sIHIsIGUpKSByZXR1cm4gITE7CiAgICB9CgogICAgcmV0dXJuICEwOwogIH0sCiAgICAgIENlID0gZnVuY3Rpb24gQ2UobiwgcikgewogICAgdmFyIG8gPSBbXTsKICAgIHJldHVybiBiZShuLCBmdW5jdGlvbiAoZSwgdCkgewogICAgICBvLnB1c2gocihlLCB0LCBuKSk7CiAgICB9KSwgbzsKICB9LAogICAgICB3ZSA9IGZ1bmN0aW9uIHdlKG4sIHIpIHsKICAgIHZhciBvID0gW107CiAgICByZXR1cm4gYmUobiwgZnVuY3Rpb24gKGUsIHQpIHsKICAgICAgciAmJiAhcihlLCB0LCBuKSB8fCBvLnB1c2goZSk7CiAgICB9KSwgbzsKICB9LAogICAgICB4ZSA9IGZ1bmN0aW9uIHhlKGUsIHQpIHsKICAgIGlmIChlKSBmb3IgKHZhciBuID0gMCwgciA9IGUubGVuZ3RoOyBuIDwgcjsgbisrKSB7CiAgICAgIGlmIChlW25dID09PSB0KSByZXR1cm4gbjsKICAgIH0KICAgIHJldHVybiAtMTsKICB9LAogICAgICBTZSA9IGZ1bmN0aW9uIFNlKGUsIHQsIG4sIHIpIHsKICAgIGZvciAodmFyIG8gPSBSKG4pID8gZVswXSA6IG4sIGkgPSAwOyBpIDwgZS5sZW5ndGg7IGkrKykgewogICAgICBvID0gdC5jYWxsKHIsIG8sIGVbaV0sIGkpOwogICAgfQoKICAgIHJldHVybiBvOwogIH0sCiAgICAgIE5lID0gZnVuY3Rpb24gTmUoZSwgdCwgbikgewogICAgZm9yICh2YXIgciA9IDAsIG8gPSBlLmxlbmd0aDsgciA8IG87IHIrKykgewogICAgICBpZiAodC5jYWxsKG4sIGVbcl0sIHIsIGUpKSByZXR1cm4gcjsKICAgIH0KCiAgICByZXR1cm4gLTE7CiAgfSwKICAgICAgRWUgPSBmdW5jdGlvbiBFZShlKSB7CiAgICByZXR1cm4gZVtlLmxlbmd0aCAtIDFdOwogIH0sCiAgICAgIF9rZSA9IGZ1bmN0aW9uIGtlKCkgewogICAgcmV0dXJuIChfa2UgPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uIChlKSB7CiAgICAgIGZvciAodmFyIHQsIG4gPSAxLCByID0gYXJndW1lbnRzLmxlbmd0aDsgbiA8IHI7IG4rKykgewogICAgICAgIGZvciAodmFyIG8gaW4gdCA9IGFyZ3VtZW50c1tuXSkgewogICAgICAgICAgT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHQsIG8pICYmIChlW29dID0gdFtvXSk7CiAgICAgICAgfQogICAgICB9CgogICAgICByZXR1cm4gZTsKICAgIH0pLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgfTsKCiAgZnVuY3Rpb24gX2UoKSB7CiAgICBmb3IgKHZhciBlID0gMCwgdCA9IDAsIG4gPSBhcmd1bWVudHMubGVuZ3RoOyB0IDwgbjsgdCsrKSB7CiAgICAgIGUgKz0gYXJndW1lbnRzW3RdLmxlbmd0aDsKICAgIH0KCiAgICBmb3IgKHZhciByID0gQXJyYXkoZSksIG8gPSAwLCB0ID0gMDsgdCA8IG47IHQrKykgewogICAgICBmb3IgKHZhciBpID0gYXJndW1lbnRzW3RdLCBhID0gMCwgdSA9IGkubGVuZ3RoOyBhIDwgdTsgYSsrLCBvKyspIHsKICAgICAgICByW29dID0gaVthXTsKICAgICAgfQogICAgfQoKICAgIHJldHVybiByOwogIH0KCiAgdmFyIEFlLAogICAgICBSZSwKICAgICAgVGUsCiAgICAgIERlLAogICAgICBPZSwKICAgICAgQmUsCiAgICAgIFBlLAogICAgICBMZSA9IGZ1bmN0aW9uIExlKGUsIHQpIHsKICAgIHZhciBuID0gZnVuY3Rpb24gKGUsIHQpIHsKICAgICAgZm9yICh2YXIgbiA9IDA7IG4gPCBlLmxlbmd0aDsgbisrKSB7CiAgICAgICAgdmFyIHIgPSBlW25dOwogICAgICAgIGlmIChyLnRlc3QodCkpIHJldHVybiByOwogICAgICB9CgogICAgICByZXR1cm4gdW5kZWZpbmVkOwogICAgfShlLCB0KTsKCiAgICBpZiAoIW4pIHJldHVybiB7CiAgICAgIG1ham9yOiAwLAogICAgICBtaW5vcjogMAogICAgfTsKCiAgICB2YXIgciA9IGZ1bmN0aW9uIHIoZSkgewogICAgICByZXR1cm4gTnVtYmVyKHQucmVwbGFjZShuLCAiJCIgKyBlKSk7CiAgICB9OwoKICAgIHJldHVybiBNZShyKDEpLCByKDIpKTsKICB9LAogICAgICBJZSA9IGZ1bmN0aW9uIEllKCkgewogICAgcmV0dXJuIE1lKDAsIDApOwogIH0sCiAgICAgIE1lID0gZnVuY3Rpb24gTWUoZSwgdCkgewogICAgcmV0dXJuIHsKICAgICAgbWFqb3I6IGUsCiAgICAgIG1pbm9yOiB0CiAgICB9OwogIH0sCiAgICAgIEZlID0gewogICAgbnU6IE1lLAogICAgZGV0ZWN0OiBmdW5jdGlvbiBkZXRlY3QoZSwgdCkgewogICAgICB2YXIgbiA9IFN0cmluZyh0KS50b0xvd2VyQ2FzZSgpOwogICAgICByZXR1cm4gMCA9PT0gZS5sZW5ndGggPyBJZSgpIDogTGUoZSwgbik7CiAgICB9LAogICAgdW5rbm93bjogSWUKICB9LAogICAgICBVZSA9IGZ1bmN0aW9uIFVlKGUsIHQpIHsKICAgIHZhciBuID0gU3RyaW5nKHQpLnRvTG93ZXJDYXNlKCk7CiAgICByZXR1cm4gWShlLCBmdW5jdGlvbiAoZSkgewogICAgICByZXR1cm4gZS5zZWFyY2gobik7CiAgICB9KTsKICB9LAogICAgICB6ZSA9IGZ1bmN0aW9uIHplKGUsIG4pIHsKICAgIHJldHVybiBVZShlLCBuKS5tYXAoZnVuY3Rpb24gKGUpIHsKICAgICAgdmFyIHQgPSBGZS5kZXRlY3QoZS52ZXJzaW9uUmVnZXhlcywgbik7CiAgICAgIHJldHVybiB7CiAgICAgICAgY3VycmVudDogZS5uYW1lLAogICAgICAgIHZlcnNpb246IHQKICAgICAgfTsKICAgIH0pOwogIH0sCiAgICAgIGplID0gZnVuY3Rpb24gamUoZSwgbikgewogICAgcmV0dXJuIFVlKGUsIG4pLm1hcChmdW5jdGlvbiAoZSkgewogICAgICB2YXIgdCA9IEZlLmRldGVjdChlLnZlcnNpb25SZWdleGVzLCBuKTsKICAgICAgcmV0dXJuIHsKICAgICAgICBjdXJyZW50OiBlLm5hbWUsCiAgICAgICAgdmVyc2lvbjogdAogICAgICB9OwogICAgfSk7CiAgfSwKICAgICAgSGUgPSBmdW5jdGlvbiBIZShlLCB0KSB7CiAgICByZXR1cm4gLTEgIT09IGUuaW5kZXhPZih0KTsKICB9LAogICAgICBWZSA9IGZ1bmN0aW9uIFZlKGUsIHQpIHsKICAgIHJldHVybiBuID0gZSwgbyA9IDAsICIiID09PSAociA9IHQpIHx8IG4ubGVuZ3RoID49IHIubGVuZ3RoICYmIG4uc3Vic3RyKG8sIG8gKyByLmxlbmd0aCkgPT09IHI7CiAgICB2YXIgbiwgciwgbzsKICB9LAogICAgICBxZSA9IGZ1bmN0aW9uIHFlKHQpIHsKICAgIHJldHVybiBmdW5jdGlvbiAoZSkgewogICAgICByZXR1cm4gZS5yZXBsYWNlKHQsICIiKTsKICAgIH07CiAgfSwKICAgICAgJGUgPSBxZSgvXlxzK3xccyskL2cpLAogICAgICBXZSA9IHFlKC9eXHMrL2cpLAogICAgICBLZSA9IHFlKC9ccyskL2cpLAogICAgICBYZSA9IC8uKj92ZXJzaW9uXC9cID8oWzAtOV0rKVwuKFswLTldKykuKi8sCiAgICAgIFllID0gZnVuY3Rpb24gWWUodCkgewogICAgcmV0dXJuIGZ1bmN0aW9uIChlKSB7CiAgICAgIHJldHVybiBIZShlLCB0KTsKICAgIH07CiAgfSwKICAgICAgR2UgPSBbewogICAgbmFtZTogIkVkZ2UiLAogICAgdmVyc2lvblJlZ2V4ZXM6IFsvLio/ZWRnZVwvID8oWzAtOV0rKVwuKFswLTldKykkL10sCiAgICBzZWFyY2g6IGZ1bmN0aW9uIHNlYXJjaChlKSB7CiAgICAgIHJldHVybiBIZShlLCAiZWRnZS8iKSAmJiBIZShlLCAiY2hyb21lIikgJiYgSGUoZSwgInNhZmFyaSIpICYmIEhlKGUsICJhcHBsZXdlYmtpdCIpOwogICAgfQogIH0sIHsKICAgIG5hbWU6ICJDaHJvbWUiLAogICAgdmVyc2lvblJlZ2V4ZXM6IFsvLio/Y2hyb21lXC8oWzAtOV0rKVwuKFswLTldKykuKi8sIFhlXSwKICAgIHNlYXJjaDogZnVuY3Rpb24gc2VhcmNoKGUpIHsKICAgICAgcmV0dXJuIEhlKGUsICJjaHJvbWUiKSAmJiAhSGUoZSwgImNocm9tZWZyYW1lIik7CiAgICB9CiAgfSwgewogICAgbmFtZTogIklFIiwKICAgIHZlcnNpb25SZWdleGVzOiBbLy4qP21zaWVcID8oWzAtOV0rKVwuKFswLTldKykuKi8sIC8uKj9ydjooWzAtOV0rKVwuKFswLTldKykuKi9dLAogICAgc2VhcmNoOiBmdW5jdGlvbiBzZWFyY2goZSkgewogICAgICByZXR1cm4gSGUoZSwgIm1zaWUiKSB8fCBIZShlLCAidHJpZGVudCIpOwogICAgfQogIH0sIHsKICAgIG5hbWU6ICJPcGVyYSIsCiAgICB2ZXJzaW9uUmVnZXhlczogW1hlLCAvLio/b3BlcmFcLyhbMC05XSspXC4oWzAtOV0rKS4qL10sCiAgICBzZWFyY2g6IFllKCJvcGVyYSIpCiAgfSwgewogICAgbmFtZTogIkZpcmVmb3giLAogICAgdmVyc2lvblJlZ2V4ZXM6IFsvLio/ZmlyZWZveFwvXCA/KFswLTldKylcLihbMC05XSspLiovXSwKICAgIHNlYXJjaDogWWUoImZpcmVmb3giKQogIH0sIHsKICAgIG5hbWU6ICJTYWZhcmkiLAogICAgdmVyc2lvblJlZ2V4ZXM6IFtYZSwgLy4qP2NwdSBvcyAoWzAtOV0rKV8oWzAtOV0rKS4qL10sCiAgICBzZWFyY2g6IGZ1bmN0aW9uIHNlYXJjaChlKSB7CiAgICAgIHJldHVybiAoSGUoZSwgInNhZmFyaSIpIHx8IEhlKGUsICJtb2JpbGUvIikpICYmIEhlKGUsICJhcHBsZXdlYmtpdCIpOwogICAgfQogIH1dLAogICAgICBKZSA9IFt7CiAgICBuYW1lOiAiV2luZG93cyIsCiAgICBzZWFyY2g6IFllKCJ3aW4iKSwKICAgIHZlcnNpb25SZWdleGVzOiBbLy4qP3dpbmRvd3NcIG50XCA/KFswLTldKylcLihbMC05XSspLiovXQogIH0sIHsKICAgIG5hbWU6ICJpT1MiLAogICAgc2VhcmNoOiBmdW5jdGlvbiBzZWFyY2goZSkgewogICAgICByZXR1cm4gSGUoZSwgImlwaG9uZSIpIHx8IEhlKGUsICJpcGFkIik7CiAgICB9LAogICAgdmVyc2lvblJlZ2V4ZXM6IFsvLio/dmVyc2lvblwvXCA/KFswLTldKylcLihbMC05XSspLiovLCAvLipjcHUgb3MgKFswLTldKylfKFswLTldKykuKi8sIC8uKmNwdSBpcGhvbmUgb3MgKFswLTldKylfKFswLTldKykuKi9dCiAgfSwgewogICAgbmFtZTogIkFuZHJvaWQiLAogICAgc2VhcmNoOiBZZSgiYW5kcm9pZCIpLAogICAgdmVyc2lvblJlZ2V4ZXM6IFsvLio/YW5kcm9pZFwgPyhbMC05XSspXC4oWzAtOV0rKS4qL10KICB9LCB7CiAgICBuYW1lOiAiT1NYIiwKICAgIHNlYXJjaDogWWUoIm1hYyBvcyB4IiksCiAgICB2ZXJzaW9uUmVnZXhlczogWy8uKj9tYWNcIG9zXCB4XCA/KFswLTldKylfKFswLTldKykuKi9dCiAgfSwgewogICAgbmFtZTogIkxpbnV4IiwKICAgIHNlYXJjaDogWWUoImxpbnV4IiksCiAgICB2ZXJzaW9uUmVnZXhlczogW10KICB9LCB7CiAgICBuYW1lOiAiU29sYXJpcyIsCiAgICBzZWFyY2g6IFllKCJzdW5vcyIpLAogICAgdmVyc2lvblJlZ2V4ZXM6IFtdCiAgfSwgewogICAgbmFtZTogIkZyZWVCU0QiLAogICAgc2VhcmNoOiBZZSgiZnJlZWJzZCIpLAogICAgdmVyc2lvblJlZ2V4ZXM6IFtdCiAgfSwgewogICAgbmFtZTogIkNocm9tZU9TIiwKICAgIHNlYXJjaDogWWUoImNyb3MiKSwKICAgIHZlcnNpb25SZWdleGVzOiBbLy4qP2Nocm9tZVwvKFswLTldKylcLihbMC05XSspLiovXQogIH1dLAogICAgICBRZSA9IHsKICAgIGJyb3dzZXJzOiBFKEdlKSwKICAgIG9zZXM6IEUoSmUpCiAgfSwKICAgICAgWmUgPSAiRmlyZWZveCIsCiAgICAgIGV0ID0gZnVuY3Rpb24gZXQoZSkgewogICAgdmFyIHQgPSBlLmN1cnJlbnQsCiAgICAgICAgbiA9IGUudmVyc2lvbiwKICAgICAgICByID0gZnVuY3Rpb24gcihlKSB7CiAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7CiAgICAgICAgcmV0dXJuIHQgPT09IGU7CiAgICAgIH07CiAgICB9OwoKICAgIHJldHVybiB7CiAgICAgIGN1cnJlbnQ6IHQsCiAgICAgIHZlcnNpb246IG4sCiAgICAgIGlzRWRnZTogcigiRWRnZSIpLAogICAgICBpc0Nocm9tZTogcigiQ2hyb21lIiksCiAgICAgIGlzSUU6IHIoIklFIiksCiAgICAgIGlzT3BlcmE6IHIoIk9wZXJhIiksCiAgICAgIGlzRmlyZWZveDogcihaZSksCiAgICAgIGlzU2FmYXJpOiByKCJTYWZhcmkiKQogICAgfTsKICB9LAogICAgICB0dCA9IHsKICAgIHVua25vd246IGZ1bmN0aW9uIHVua25vd24oKSB7CiAgICAgIHJldHVybiBldCh7CiAgICAgICAgY3VycmVudDogdW5kZWZpbmVkLAogICAgICAgIHZlcnNpb246IEZlLnVua25vd24oKQogICAgICB9KTsKICAgIH0sCiAgICBudTogZXQsCiAgICBlZGdlOiBFKCJFZGdlIiksCiAgICBjaHJvbWU6IEUoIkNocm9tZSIpLAogICAgaWU6IEUoIklFIiksCiAgICBvcGVyYTogRSgiT3BlcmEiKSwKICAgIGZpcmVmb3g6IEUoWmUpLAogICAgc2FmYXJpOiBFKCJTYWZhcmkiKQogIH0sCiAgICAgIG50ID0gIldpbmRvd3MiLAogICAgICBydCA9ICJBbmRyb2lkIiwKICAgICAgb3QgPSAiU29sYXJpcyIsCiAgICAgIGl0ID0gIkZyZWVCU0QiLAogICAgICBhdCA9ICJDaHJvbWVPUyIsCiAgICAgIHV0ID0gZnVuY3Rpb24gdXQoZSkgewogICAgdmFyIHQgPSBlLmN1cnJlbnQsCiAgICAgICAgbiA9IGUudmVyc2lvbiwKICAgICAgICByID0gZnVuY3Rpb24gcihlKSB7CiAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7CiAgICAgICAgcmV0dXJuIHQgPT09IGU7CiAgICAgIH07CiAgICB9OwoKICAgIHJldHVybiB7CiAgICAgIGN1cnJlbnQ6IHQsCiAgICAgIHZlcnNpb246IG4sCiAgICAgIGlzV2luZG93czogcihudCksCiAgICAgIGlzaU9TOiByKCJpT1MiKSwKICAgICAgaXNBbmRyb2lkOiByKHJ0KSwKICAgICAgaXNPU1g6IHIoIk9TWCIpLAogICAgICBpc0xpbnV4OiByKCJMaW51eCIpLAogICAgICBpc1NvbGFyaXM6IHIob3QpLAogICAgICBpc0ZyZWVCU0Q6IHIoaXQpLAogICAgICBpc0Nocm9tZU9TOiByKGF0KQogICAgfTsKICB9LAogICAgICBzdCA9IHsKICAgIHVua25vd246IGZ1bmN0aW9uIHVua25vd24oKSB7CiAgICAgIHJldHVybiB1dCh7CiAgICAgICAgY3VycmVudDogdW5kZWZpbmVkLAogICAgICAgIHZlcnNpb246IEZlLnVua25vd24oKQogICAgICB9KTsKICAgIH0sCiAgICBudTogdXQsCiAgICB3aW5kb3dzOiBFKG50KSwKICAgIGlvczogRSgiaU9TIiksCiAgICBhbmRyb2lkOiBFKHJ0KSwKICAgIGxpbnV4OiBFKCJMaW51eCIpLAogICAgb3N4OiBFKCJPU1giKSwKICAgIHNvbGFyaXM6IEUob3QpLAogICAgZnJlZWJzZDogRShpdCksCiAgICBjaHJvbWVvczogRShhdCkKICB9LAogICAgICBjdCA9IGZ1bmN0aW9uIGN0KGUsIHQpIHsKICAgIHZhciBuLAogICAgICAgIHIsCiAgICAgICAgbywKICAgICAgICBpLAogICAgICAgIGEsCiAgICAgICAgdSwKICAgICAgICBzLAogICAgICAgIGMsCiAgICAgICAgbCwKICAgICAgICBmLAogICAgICAgIGQsCiAgICAgICAgbSwKICAgICAgICBwID0gUWUuYnJvd3NlcnMoKSwKICAgICAgICBnID0gUWUub3NlcygpLAogICAgICAgIGggPSB6ZShwLCBlKS5mb2xkKHR0LnVua25vd24sIHR0Lm51KSwKICAgICAgICB2ID0gamUoZywgZSkuZm9sZChzdC51bmtub3duLCBzdC5udSk7CiAgICByZXR1cm4gewogICAgICBicm93c2VyOiBoLAogICAgICBvczogdiwKICAgICAgZGV2aWNlVHlwZTogKHIgPSBoLCBvID0gZSwgaSA9IHQsIGEgPSAobiA9IHYpLmlzaU9TKCkgJiYgITAgPT09IC9pcGFkL2kudGVzdChvKSwgdSA9IG4uaXNpT1MoKSAmJiAhYSwgcyA9IG4uaXNpT1MoKSB8fCBuLmlzQW5kcm9pZCgpLCBjID0gcyB8fCBpKCIocG9pbnRlcjpjb2Fyc2UpIiksIGwgPSBhIHx8ICF1ICYmIHMgJiYgaSgiKG1pbi1kZXZpY2Utd2lkdGg6NzY4cHgpIiksIGYgPSB1IHx8IHMgJiYgIWwsIGQgPSByLmlzU2FmYXJpKCkgJiYgbi5pc2lPUygpICYmICExID09PSAvc2FmYXJpL2kudGVzdChvKSwgbSA9ICFmICYmICFsICYmICFkLCB7CiAgICAgICAgaXNpUGFkOiBFKGEpLAogICAgICAgIGlzaVBob25lOiBFKHUpLAogICAgICAgIGlzVGFibGV0OiBFKGwpLAogICAgICAgIGlzUGhvbmU6IEUoZiksCiAgICAgICAgaXNUb3VjaDogRShjKSwKICAgICAgICBpc0FuZHJvaWQ6IG4uaXNBbmRyb2lkLAogICAgICAgIGlzaU9TOiBuLmlzaU9TLAogICAgICAgIGlzV2ViVmlldzogRShkKSwKICAgICAgICBpc0Rlc2t0b3A6IEUobSkKICAgICAgfSkKICAgIH07CiAgfSwKICAgICAgbHQgPSBmdW5jdGlvbiBsdChlKSB7CiAgICByZXR1cm4gd2luZG93Lm1hdGNoTWVkaWEoZSkubWF0Y2hlczsKICB9LAogICAgICBmdCA9IChUZSA9ICEoQWUgPSBmdW5jdGlvbiBBZSgpIHsKICAgIHJldHVybiBjdChuYXZpZ2F0b3IudXNlckFnZW50LCBsdCk7CiAgfSksIGZ1bmN0aW9uICgpIHsKICAgIGZvciAodmFyIGUgPSBbXSwgdCA9IDA7IHQgPCBhcmd1bWVudHMubGVuZ3RoOyB0KyspIHsKICAgICAgZVt0XSA9IGFyZ3VtZW50c1t0XTsKICAgIH0KCiAgICByZXR1cm4gVGUgfHwgKFRlID0gITAsIFJlID0gQWUuYXBwbHkobnVsbCwgZSkpLCBSZTsKICB9KSwKICAgICAgZHQgPSBmdW5jdGlvbiBkdCgpIHsKICAgIHJldHVybiBmdCgpOwogIH0sCiAgICAgIG10ID0gbmF2aWdhdG9yLnVzZXJBZ2VudCwKICAgICAgcHQgPSBkdCgpLAogICAgICBndCA9IHB0LmJyb3dzZXIsCiAgICAgIGh0ID0gcHQub3MsCiAgICAgIHZ0ID0gcHQuZGV2aWNlVHlwZSwKICAgICAgeXQgPSAvV2ViS2l0Ly50ZXN0KG10KSAmJiAhZ3QuaXNFZGdlKCksCiAgICAgIGJ0ID0gIkZvcm1EYXRhIiBpbiB3aW5kb3cgJiYgIkZpbGVSZWFkZXIiIGluIHdpbmRvdyAmJiAiVVJMIiBpbiB3aW5kb3cgJiYgISFVUkwuY3JlYXRlT2JqZWN0VVJMLAogICAgICBDdCA9IC0xICE9PSBtdC5pbmRleE9mKCJXaW5kb3dzIFBob25lIiksCiAgICAgIHd0ID0gewogICAgb3BlcmE6IGd0LmlzT3BlcmEoKSwKICAgIHdlYmtpdDogeXQsCiAgICBpZTogISghZ3QuaXNJRSgpICYmICFndC5pc0VkZ2UoKSkgJiYgZ3QudmVyc2lvbi5tYWpvciwKICAgIGdlY2tvOiBndC5pc0ZpcmVmb3goKSwKICAgIG1hYzogaHQuaXNPU1goKSB8fCBodC5pc2lPUygpLAogICAgaU9TOiB2dC5pc2lQYWQoKSB8fCB2dC5pc2lQaG9uZSgpLAogICAgYW5kcm9pZDogaHQuaXNBbmRyb2lkKCksCiAgICBjb250ZW50RWRpdGFibGU6ICEwLAogICAgdHJhbnNwYXJlbnRTcmM6ICJkYXRhOmltYWdlL2dpZjtiYXNlNjQsUjBsR09EbGhBUUFCQUlBQUFBQUFBUC8vL3lINUJBRUFBQUFBTEFBQUFBQUJBQUVBQUFJQlJBQTciLAogICAgY2FyZXRBZnRlcjogITAsCiAgICByYW5nZTogd2luZG93LmdldFNlbGVjdGlvbiAmJiAiUmFuZ2UiIGluIHdpbmRvdywKICAgIGRvY3VtZW50TW9kZTogZ3QuaXNJRSgpID8gZG9jdW1lbnQuZG9jdW1lbnRNb2RlIHx8IDcgOiAxMCwKICAgIGZpbGVBcGk6IGJ0LAogICAgY2VGYWxzZTogITAsCiAgICBjYWNoZVN1ZmZpeDogbnVsbCwKICAgIGNvbnRhaW5lcjogbnVsbCwKICAgIGV4cGVyaW1lbnRhbFNoYWRvd0RvbTogITEsCiAgICBjYW5IYXZlQ1NQOiAhZ3QuaXNJRSgpLAogICAgZGVza3RvcDogdnQuaXNEZXNrdG9wKCksCiAgICB3aW5kb3dzUGhvbmU6IEN0LAogICAgYnJvd3NlcjogewogICAgICBjdXJyZW50OiBndC5jdXJyZW50LAogICAgICB2ZXJzaW9uOiBndC52ZXJzaW9uLAogICAgICBpc0Nocm9tZTogZ3QuaXNDaHJvbWUsCiAgICAgIGlzRWRnZTogZ3QuaXNFZGdlLAogICAgICBpc0ZpcmVmb3g6IGd0LmlzRmlyZWZveCwKICAgICAgaXNJRTogZ3QuaXNJRSwKICAgICAgaXNPcGVyYTogZ3QuaXNPcGVyYSwKICAgICAgaXNTYWZhcmk6IGd0LmlzU2FmYXJpCiAgICB9LAogICAgb3M6IHsKICAgICAgY3VycmVudDogaHQuY3VycmVudCwKICAgICAgdmVyc2lvbjogaHQudmVyc2lvbiwKICAgICAgaXNBbmRyb2lkOiBodC5pc0FuZHJvaWQsCiAgICAgIGlzQ2hyb21lT1M6IGh0LmlzQ2hyb21lT1MsCiAgICAgIGlzRnJlZUJTRDogaHQuaXNGcmVlQlNELAogICAgICBpc2lPUzogaHQuaXNpT1MsCiAgICAgIGlzTGludXg6IGh0LmlzTGludXgsCiAgICAgIGlzT1NYOiBodC5pc09TWCwKICAgICAgaXNTb2xhcmlzOiBodC5pc1NvbGFyaXMsCiAgICAgIGlzV2luZG93czogaHQuaXNXaW5kb3dzCiAgICB9LAogICAgZGV2aWNlVHlwZTogewogICAgICBpc0Rlc2t0b3A6IHZ0LmlzRGVza3RvcCwKICAgICAgaXNpUGFkOiB2dC5pc2lQYWQsCiAgICAgIGlzaVBob25lOiB2dC5pc2lQaG9uZSwKICAgICAgaXNQaG9uZTogdnQuaXNQaG9uZSwKICAgICAgaXNUYWJsZXQ6IHZ0LmlzVGFibGV0LAogICAgICBpc1RvdWNoOiB2dC5pc1RvdWNoLAogICAgICBpc1dlYlZpZXc6IHZ0LmlzV2ViVmlldwogICAgfQogIH0sCiAgICAgIHh0ID0gL15ccyp8XHMqJC9nLAogICAgICBTdCA9IGZ1bmN0aW9uIFN0KGUpIHsKICAgIHJldHVybiBudWxsID09PSBlIHx8IGUgPT09IHVuZGVmaW5lZCA/ICIiIDogKCIiICsgZSkucmVwbGFjZSh4dCwgIiIpOwogIH0sCiAgICAgIE50ID0gZnVuY3Rpb24gTnQoZSwgdCkgewogICAgcmV0dXJuIHQgPyAhKCJhcnJheSIgIT09IHQgfHwgIXllKGUpKSB8fCBfdHlwZW9mKGUpID09PSB0IDogZSAhPT0gdW5kZWZpbmVkOwogIH0sCiAgICAgIEV0ID0gZnVuY3Rpb24gRXQoZSwgbiwgciwgbykgewogICAgbyA9IG8gfHwgdGhpcywgZSAmJiAociAmJiAoZSA9IGVbcl0pLCBiZShlLCBmdW5jdGlvbiAoZSwgdCkgewogICAgICByZXR1cm4gITEgIT09IG4uY2FsbChvLCBlLCB0LCByKSAmJiB2b2lkIEV0KGUsIG4sIHIsIG8pOwogICAgfSkpOwogIH0sCiAgICAgIGt0ID0gewogICAgdHJpbTogU3QsCiAgICBpc0FycmF5OiB5ZSwKICAgIGlzOiBOdCwKICAgIHRvQXJyYXk6IGZ1bmN0aW9uIHRvQXJyYXkoZSkgewogICAgICBpZiAoeWUoZSkpIHJldHVybiBlOwoKICAgICAgZm9yICh2YXIgdCA9IFtdLCBuID0gMCwgciA9IGUubGVuZ3RoOyBuIDwgcjsgbisrKSB7CiAgICAgICAgdFtuXSA9IGVbbl07CiAgICAgIH0KCiAgICAgIHJldHVybiB0OwogICAgfSwKICAgIG1ha2VNYXA6IGZ1bmN0aW9uIG1ha2VNYXAoZSwgdCwgbikgewogICAgICB2YXIgcjsKCiAgICAgIGZvciAodCA9IHQgfHwgIiwiLCAic3RyaW5nIiA9PSB0eXBlb2YgKGUgPSBlIHx8IFtdKSAmJiAoZSA9IGUuc3BsaXQodCkpLCBuID0gbiB8fCB7fSwgciA9IGUubGVuZ3RoOyByLS07KSB7CiAgICAgICAgbltlW3JdXSA9IHt9OwogICAgICB9CgogICAgICByZXR1cm4gbjsKICAgIH0sCiAgICBlYWNoOiBiZSwKICAgIG1hcDogQ2UsCiAgICBncmVwOiB3ZSwKICAgIGluQXJyYXk6IHhlLAogICAgaGFzT3duOiBmdW5jdGlvbiBoYXNPd24oZSwgdCkgewogICAgICByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsIHQpOwogICAgfSwKICAgIGV4dGVuZDogZnVuY3Rpb24gZXh0ZW5kKGUpIHsKICAgICAgZm9yICh2YXIgdCA9IFtdLCBuID0gMTsgbiA8IGFyZ3VtZW50cy5sZW5ndGg7IG4rKykgewogICAgICAgIHRbbiAtIDFdID0gYXJndW1lbnRzW25dOwogICAgICB9CgogICAgICBmb3IgKHZhciByID0gMDsgciA8IHQubGVuZ3RoOyByKyspIHsKICAgICAgICB2YXIgbywKICAgICAgICAgICAgaSA9IHRbcl07CgogICAgICAgIGZvciAodmFyIGEgaW4gaSkgewogICAgICAgICAgIWkuaGFzT3duUHJvcGVydHkoYSkgfHwgKG8gPSBpW2FdKSAhPT0gdW5kZWZpbmVkICYmIChlW2FdID0gbyk7CiAgICAgICAgfQogICAgICB9CgogICAgICByZXR1cm4gZTsKICAgIH0sCiAgICBjcmVhdGU6IGZ1bmN0aW9uIGNyZWF0ZShlLCB0LCBuKSB7CiAgICAgIHZhciByLAogICAgICAgICAgbywKICAgICAgICAgIGksCiAgICAgICAgICBhID0gdGhpcywKICAgICAgICAgIHUgPSAwLAogICAgICAgICAgcyA9IChlID0gL14oKHN0YXRpYykgKT8oW1x3Ll0rKSg6KFtcdy5dKykpPy8uZXhlYyhlKSlbM10ubWF0Y2goLyhefFwuKShcdyspJC9pKVsyXSwKICAgICAgICAgIGMgPSBhLmNyZWF0ZU5TKGVbM10ucmVwbGFjZSgvXC5cdyskLywgIiIpLCBuKTsKCiAgICAgIGlmICghY1tzXSkgewogICAgICAgIGlmICgic3RhdGljIiA9PT0gZVsyXSkgcmV0dXJuIGNbc10gPSB0LCB2b2lkICh0aGlzLm9uQ3JlYXRlICYmIHRoaXMub25DcmVhdGUoZVsyXSwgZVszXSwgY1tzXSkpOwogICAgICAgIHRbc10gfHwgKHRbc10gPSBmdW5jdGlvbiAoKSB7fSwgdSA9IDEpLCBjW3NdID0gdFtzXSwgYS5leHRlbmQoY1tzXS5wcm90b3R5cGUsIHQpLCBlWzVdICYmIChyID0gYS5yZXNvbHZlKGVbNV0pLnByb3RvdHlwZSwgbyA9IGVbNV0ubWF0Y2goL1wuKFx3KykkL2kpWzFdLCBpID0gY1tzXSwgY1tzXSA9IHUgPyBmdW5jdGlvbiAoKSB7CiAgICAgICAgICByZXR1cm4gcltvXS5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICAgIH0gOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICByZXR1cm4gdGhpcy5wYXJlbnQgPSByW29dLCBpLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgICAgfSwgY1tzXS5wcm90b3R5cGVbc10gPSBjW3NdLCBhLmVhY2gociwgZnVuY3Rpb24gKGUsIHQpIHsKICAgICAgICAgIGNbc10ucHJvdG90eXBlW3RdID0gclt0XTsKICAgICAgICB9KSwgYS5lYWNoKHQsIGZ1bmN0aW9uIChlLCB0KSB7CiAgICAgICAgICByW3RdID8gY1tzXS5wcm90b3R5cGVbdF0gPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIHJldHVybiB0aGlzLnBhcmVudCA9IHJbdF0sIGUuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgICAgIH0gOiB0ICE9PSBzICYmIChjW3NdLnByb3RvdHlwZVt0XSA9IGUpOwogICAgICAgIH0pKSwgYS5lYWNoKHRbInN0YXRpYyJdLCBmdW5jdGlvbiAoZSwgdCkgewogICAgICAgICAgY1tzXVt0XSA9IGU7CiAgICAgICAgfSk7CiAgICAgIH0KICAgIH0sCiAgICB3YWxrOiBFdCwKICAgIGNyZWF0ZU5TOiBmdW5jdGlvbiBjcmVhdGVOUyhlLCB0KSB7CiAgICAgIHZhciBuLCByOwoKICAgICAgZm9yICh0ID0gdCB8fCB3aW5kb3csIGUgPSBlLnNwbGl0KCIuIiksIG4gPSAwOyBuIDwgZS5sZW5ndGg7IG4rKykgewogICAgICAgIHRbciA9IGVbbl1dIHx8ICh0W3JdID0ge30pLCB0ID0gdFtyXTsKICAgICAgfQoKICAgICAgcmV0dXJuIHQ7CiAgICB9LAogICAgcmVzb2x2ZTogZnVuY3Rpb24gcmVzb2x2ZShlLCB0KSB7CiAgICAgIHZhciBuLCByOwoKICAgICAgZm9yICh0ID0gdCB8fCB3aW5kb3csIG4gPSAwLCByID0gKGUgPSBlLnNwbGl0KCIuIikpLmxlbmd0aDsgbiA8IHIgJiYgKHQgPSB0W2Vbbl1dKTsgbisrKSB7CiAgICAgICAgOwogICAgICB9CgogICAgICByZXR1cm4gdDsKICAgIH0sCiAgICBleHBsb2RlOiBmdW5jdGlvbiBleHBsb2RlKGUsIHQpIHsKICAgICAgcmV0dXJuICFlIHx8IE50KGUsICJhcnJheSIpID8gZSA6IENlKGUuc3BsaXQodCB8fCAiLCIpLCBTdCk7CiAgICB9LAogICAgX2FkZENhY2hlU3VmZml4OiBmdW5jdGlvbiBfYWRkQ2FjaGVTdWZmaXgoZSkgewogICAgICB2YXIgdCA9IHd0LmNhY2hlU3VmZml4OwogICAgICByZXR1cm4gdCAmJiAoZSArPSAoLTEgPT09IGUuaW5kZXhPZigiPyIpID8gIj8iIDogIiYiKSArIHQpLCBlOwogICAgfQogIH0sCiAgICAgIF90ID0gZnVuY3Rpb24gX3QoZSkgewogICAgaWYgKG51bGwgPT09IGUgfHwgZSA9PT0gdW5kZWZpbmVkKSB0aHJvdyBuZXcgRXJyb3IoIk5vZGUgY2Fubm90IGJlIG51bGwgb3IgdW5kZWZpbmVkIik7CiAgICByZXR1cm4gewogICAgICBkb206IGUKICAgIH07CiAgfSwKICAgICAgQXQgPSB7CiAgICBmcm9tSHRtbDogZnVuY3Rpb24gZnJvbUh0bWwoZSwgdCkgewogICAgICB2YXIgbiA9ICh0IHx8IGRvY3VtZW50KS5jcmVhdGVFbGVtZW50KCJkaXYiKTsKICAgICAgaWYgKG4uaW5uZXJIVE1MID0gZSwgIW4uaGFzQ2hpbGROb2RlcygpIHx8IDEgPCBuLmNoaWxkTm9kZXMubGVuZ3RoKSB0aHJvdyBjb25zb2xlLmVycm9yKCJIVE1MIGRvZXMgbm90IGhhdmUgYSBzaW5nbGUgcm9vdCBub2RlIiwgZSksIG5ldyBFcnJvcigiSFRNTCBtdXN0IGhhdmUgYSBzaW5nbGUgcm9vdCBub2RlIik7CiAgICAgIHJldHVybiBfdChuLmNoaWxkTm9kZXNbMF0pOwogICAgfSwKICAgIGZyb21UYWc6IGZ1bmN0aW9uIGZyb21UYWcoZSwgdCkgewogICAgICB2YXIgbiA9ICh0IHx8IGRvY3VtZW50KS5jcmVhdGVFbGVtZW50KGUpOwogICAgICByZXR1cm4gX3Qobik7CiAgICB9LAogICAgZnJvbVRleHQ6IGZ1bmN0aW9uIGZyb21UZXh0KGUsIHQpIHsKICAgICAgdmFyIG4gPSAodCB8fCBkb2N1bWVudCkuY3JlYXRlVGV4dE5vZGUoZSk7CiAgICAgIHJldHVybiBfdChuKTsKICAgIH0sCiAgICBmcm9tRG9tOiBfdCwKICAgIGZyb21Qb2ludDogZnVuY3Rpb24gZnJvbVBvaW50KGUsIHQsIG4pIHsKICAgICAgcmV0dXJuIFUuZnJvbShlLmRvbS5lbGVtZW50RnJvbVBvaW50KHQsIG4pKS5tYXAoX3QpOwogICAgfQogIH0sCiAgICAgIFJ0ID0gZnVuY3Rpb24gUnQoZSwgdCkgewogICAgZm9yICh2YXIgbiA9IFtdLCByID0gZnVuY3Rpb24gcihlKSB7CiAgICAgIHJldHVybiBuLnB1c2goZSksIHQoZSk7CiAgICB9LCBvID0gdChlKTsgKG8gPSBvLmJpbmQocikpLmlzU29tZSgpOykgewogICAgICA7CiAgICB9CgogICAgcmV0dXJuIG47CiAgfSwKICAgICAgVHQgPSBmdW5jdGlvbiBUdChlLCB0KSB7CiAgICB2YXIgbiA9IGUuZG9tOwogICAgaWYgKDEgIT09IG4ubm9kZVR5cGUpIHJldHVybiAhMTsKICAgIHZhciByID0gbjsKICAgIGlmIChyLm1hdGNoZXMgIT09IHVuZGVmaW5lZCkgcmV0dXJuIHIubWF0Y2hlcyh0KTsKICAgIGlmIChyLm1zTWF0Y2hlc1NlbGVjdG9yICE9PSB1bmRlZmluZWQpIHJldHVybiByLm1zTWF0Y2hlc1NlbGVjdG9yKHQpOwogICAgaWYgKHIud2Via2l0TWF0Y2hlc1NlbGVjdG9yICE9PSB1bmRlZmluZWQpIHJldHVybiByLndlYmtpdE1hdGNoZXNTZWxlY3Rvcih0KTsKICAgIGlmIChyLm1vek1hdGNoZXNTZWxlY3RvciAhPT0gdW5kZWZpbmVkKSByZXR1cm4gci5tb3pNYXRjaGVzU2VsZWN0b3IodCk7CiAgICB0aHJvdyBuZXcgRXJyb3IoIkJyb3dzZXIgbGFja3MgbmF0aXZlIHNlbGVjdG9ycyIpOwogIH0sCiAgICAgIER0ID0gZnVuY3Rpb24gRHQoZSkgewogICAgcmV0dXJuIDEgIT09IGUubm9kZVR5cGUgJiYgOSAhPT0gZS5ub2RlVHlwZSAmJiAxMSAhPT0gZS5ub2RlVHlwZSB8fCAwID09PSBlLmNoaWxkRWxlbWVudENvdW50OwogIH0sCiAgICAgIE90ID0gZnVuY3Rpb24gT3QoZSwgdCkgewogICAgcmV0dXJuIGUuZG9tID09PSB0LmRvbTsKICB9LAogICAgICBCdCA9IGZ1bmN0aW9uIEJ0KGUsIHQpIHsKICAgIHJldHVybiBuID0gZS5kb20sIHIgPSB0LmRvbSwgbyA9IG4sIGkgPSByLCBhID0gTm9kZS5ET0NVTUVOVF9QT1NJVElPTl9DT05UQUlORURfQlksIDAgIT0gKG8uY29tcGFyZURvY3VtZW50UG9zaXRpb24oaSkgJiBhKTsKICAgIHZhciBuLCByLCBvLCBpLCBhOwogIH0sCiAgICAgIFB0ID0gZnVuY3Rpb24gUHQoZSwgdCkgewogICAgcmV0dXJuIGR0KCkuYnJvd3Nlci5pc0lFKCkgPyBCdChlLCB0KSA6IChuID0gdCwgciA9IGUuZG9tLCBvID0gbi5kb20sIHIgIT09IG8gJiYgci5jb250YWlucyhvKSk7CiAgICB2YXIgbiwgciwgbzsKICB9LAogICAgICBMdCA9ICgidW5kZWZpbmVkIiAhPSB0eXBlb2Ygd2luZG93IHx8IEZ1bmN0aW9uKCJyZXR1cm4gdGhpczsiKSgpLCBmdW5jdGlvbiAoZSkgewogICAgcmV0dXJuIGUuZG9tLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk7CiAgfSksCiAgICAgIEl0ID0gZnVuY3Rpb24gSXQoZSkgewogICAgcmV0dXJuIGUuZG9tLm5vZGVUeXBlOwogIH0sCiAgICAgIE10ID0gZnVuY3Rpb24gTXQodCkgewogICAgcmV0dXJuIGZ1bmN0aW9uIChlKSB7CiAgICAgIHJldHVybiBJdChlKSA9PT0gdDsKICAgIH07CiAgfSwKICAgICAgRnQgPSBNdCgxKSwKICAgICAgVXQgPSBNdCgzKSwKICAgICAgenQgPSBNdCg5KSwKICAgICAganQgPSBNdCgxMSksCiAgICAgIEh0ID0gZnVuY3Rpb24gSHQoZSkgewogICAgcmV0dXJuIEF0LmZyb21Eb20oZS5kb20ub3duZXJEb2N1bWVudCk7CiAgfSwKICAgICAgVnQgPSBmdW5jdGlvbiBWdChlKSB7CiAgICByZXR1cm4genQoZSkgPyBlIDogSHQoZSk7CiAgfSwKICAgICAgcXQgPSBmdW5jdGlvbiBxdChlKSB7CiAgICByZXR1cm4gQXQuZnJvbURvbShWdChlKS5kb20uZGVmYXVsdFZpZXcpOwogIH0sCiAgICAgICR0ID0gZnVuY3Rpb24gJHQoZSkgewogICAgcmV0dXJuIFUuZnJvbShlLmRvbS5wYXJlbnROb2RlKS5tYXAoQXQuZnJvbURvbSk7CiAgfSwKICAgICAgV3QgPSBmdW5jdGlvbiBXdChlKSB7CiAgICByZXR1cm4gVS5mcm9tKGUuZG9tLnByZXZpb3VzU2libGluZykubWFwKEF0LmZyb21Eb20pOwogIH0sCiAgICAgIEt0ID0gZnVuY3Rpb24gS3QoZSkgewogICAgcmV0dXJuIFUuZnJvbShlLmRvbS5uZXh0U2libGluZykubWFwKEF0LmZyb21Eb20pOwogIH0sCiAgICAgIFh0ID0gZnVuY3Rpb24gWHQoZSkgewogICAgcmV0dXJuIFooUnQoZSwgV3QpKTsKICB9LAogICAgICBZdCA9IGZ1bmN0aW9uIFl0KGUpIHsKICAgIHJldHVybiBSdChlLCBLdCk7CiAgfSwKICAgICAgR3QgPSBmdW5jdGlvbiBHdChlKSB7CiAgICByZXR1cm4geihlLmRvbS5jaGlsZE5vZGVzLCBBdC5mcm9tRG9tKTsKICB9LAogICAgICBKdCA9IGZ1bmN0aW9uIEp0KGUsIHQpIHsKICAgIHZhciBuID0gZS5kb20uY2hpbGROb2RlczsKICAgIHJldHVybiBVLmZyb20oblt0XSkubWFwKEF0LmZyb21Eb20pOwogIH0sCiAgICAgIFF0ID0gZnVuY3Rpb24gUXQoZSkgewogICAgcmV0dXJuIEp0KGUsIDApOwogIH0sCiAgICAgIFp0ID0gZnVuY3Rpb24gWnQoZSkgewogICAgcmV0dXJuIEp0KGUsIGUuZG9tLmNoaWxkTm9kZXMubGVuZ3RoIC0gMSk7CiAgfSwKICAgICAgZW4gPSBmdW5jdGlvbiBlbihlKSB7CiAgICByZXR1cm4ganQoZSk7CiAgfSwKICAgICAgdG4gPSBUKEVsZW1lbnQucHJvdG90eXBlLmF0dGFjaFNoYWRvdykgJiYgVChOb2RlLnByb3RvdHlwZS5nZXRSb290Tm9kZSksCiAgICAgIG5uID0gRSh0biksCiAgICAgIHJuID0gdG4gPyBmdW5jdGlvbiAoZSkgewogICAgcmV0dXJuIEF0LmZyb21Eb20oZS5kb20uZ2V0Um9vdE5vZGUoKSk7CiAgfSA6IFZ0LAogICAgICBvbiA9IGZ1bmN0aW9uIG9uKGUpIHsKICAgIHJldHVybiBlbihlKSA/IGUgOiBmdW5jdGlvbiAoZSkgewogICAgICB2YXIgdCA9IGUuZG9tLmhlYWQ7CiAgICAgIGlmIChudWxsID09PSB0IHx8IHQgPT09IHVuZGVmaW5lZCkgdGhyb3cgbmV3IEVycm9yKCJIZWFkIGlzIG5vdCBhdmFpbGFibGUgeWV0Iik7CiAgICAgIHJldHVybiBBdC5mcm9tRG9tKHQpOwogICAgfShWdChlKSk7CiAgfSwKICAgICAgYW4gPSBmdW5jdGlvbiBhbihlKSB7CiAgICByZXR1cm4gQXQuZnJvbURvbShlLmRvbS5ob3N0KTsKICB9LAogICAgICB1biA9IGZ1bmN0aW9uIHVuKGUpIHsKICAgIHJldHVybiBEKGUuZG9tLnNoYWRvd1Jvb3QpOwogIH0sCiAgICAgIHNuID0gZnVuY3Rpb24gc24odCwgbikgewogICAgJHQodCkuZWFjaChmdW5jdGlvbiAoZSkgewogICAgICBlLmRvbS5pbnNlcnRCZWZvcmUobi5kb20sIHQuZG9tKTsKICAgIH0pOwogIH0sCiAgICAgIGNuID0gZnVuY3Rpb24gY24oZSwgdCkgewogICAgS3QoZSkuZm9sZChmdW5jdGlvbiAoKSB7CiAgICAgICR0KGUpLmVhY2goZnVuY3Rpb24gKGUpIHsKICAgICAgICBmbihlLCB0KTsKICAgICAgfSk7CiAgICB9LCBmdW5jdGlvbiAoZSkgewogICAgICBzbihlLCB0KTsKICAgIH0pOwogIH0sCiAgICAgIGxuID0gZnVuY3Rpb24gbG4odCwgbikgewogICAgUXQodCkuZm9sZChmdW5jdGlvbiAoKSB7CiAgICAgIGZuKHQsIG4pOwogICAgfSwgZnVuY3Rpb24gKGUpIHsKICAgICAgdC5kb20uaW5zZXJ0QmVmb3JlKG4uZG9tLCBlLmRvbSk7CiAgICB9KTsKICB9LAogICAgICBmbiA9IGZ1bmN0aW9uIGZuKGUsIHQpIHsKICAgIGUuZG9tLmFwcGVuZENoaWxkKHQuZG9tKTsKICB9LAogICAgICBkbiA9IGZ1bmN0aW9uIGRuKHQsIGUpIHsKICAgIFcoZSwgZnVuY3Rpb24gKGUpIHsKICAgICAgZm4odCwgZSk7CiAgICB9KTsKICB9LAogICAgICBtbiA9IGZ1bmN0aW9uIG1uKGUpIHsKICAgIGUuZG9tLnRleHRDb250ZW50ID0gIiIsIFcoR3QoZSksIGZ1bmN0aW9uIChlKSB7CiAgICAgIHBuKGUpOwogICAgfSk7CiAgfSwKICAgICAgcG4gPSBmdW5jdGlvbiBwbihlKSB7CiAgICB2YXIgdCA9IGUuZG9tOwogICAgbnVsbCAhPT0gdC5wYXJlbnROb2RlICYmIHQucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0KTsKICB9LAogICAgICBnbiA9IGZ1bmN0aW9uIGduKGUpIHsKICAgIHZhciB0LAogICAgICAgIG4gPSBHdChlKTsKICAgIDAgPCBuLmxlbmd0aCAmJiAodCA9IGUsIFcobiwgZnVuY3Rpb24gKGUpIHsKICAgICAgc24odCwgZSk7CiAgICB9KSksIHBuKGUpOwogIH0sCiAgICAgIGhuID0gZnVuY3Rpb24gaG4oZSkgewogICAgdmFyIHQgPSBVdChlKSA/IGUuZG9tLnBhcmVudE5vZGUgOiBlLmRvbTsKICAgIGlmICh0ID09PSB1bmRlZmluZWQgfHwgbnVsbCA9PT0gdCB8fCBudWxsID09PSB0Lm93bmVyRG9jdW1lbnQpIHJldHVybiAhMTsKICAgIHZhciBuLAogICAgICAgIHIsCiAgICAgICAgbywKICAgICAgICBpLAogICAgICAgIGEgPSB0Lm93bmVyRG9jdW1lbnQ7CiAgICByZXR1cm4gbyA9IEF0LmZyb21Eb20odCksIGkgPSBybihvKSwgKGVuKGkpID8gVS5zb21lKGkpIDogVS5ub25lKCkpLmZvbGQoZnVuY3Rpb24gKCkgewogICAgICByZXR1cm4gYS5ib2R5LmNvbnRhaW5zKHQpOwogICAgfSwgKG4gPSBobiwgciA9IGFuLCBmdW5jdGlvbiAoZSkgewogICAgICByZXR1cm4gbihyKGUpKTsKICAgIH0pKTsKICB9LAogICAgICB2biA9IGZ1bmN0aW9uIHZuKG4sIHIpIHsKICAgIHJldHVybiB7CiAgICAgIGxlZnQ6IG4sCiAgICAgIHRvcDogciwKICAgICAgdHJhbnNsYXRlOiBmdW5jdGlvbiB0cmFuc2xhdGUoZSwgdCkgewogICAgICAgIHJldHVybiB2bihuICsgZSwgciArIHQpOwogICAgICB9CiAgICB9OwogIH0sCiAgICAgIHluID0gdm4sCiAgICAgIGJuID0gZnVuY3Rpb24gYm4oZSwgdCkgewogICAgcmV0dXJuIGUgIT09IHVuZGVmaW5lZCA/IGUgOiB0ICE9PSB1bmRlZmluZWQgPyB0IDogMDsKICB9LAogICAgICBDbiA9IGZ1bmN0aW9uIENuKGUpIHsKICAgIHZhciB0LAogICAgICAgIG4gPSBlLmRvbSwKICAgICAgICByID0gbi5vd25lckRvY3VtZW50LmJvZHk7CiAgICByZXR1cm4gciA9PT0gbiA/IHluKHIub2Zmc2V0TGVmdCwgci5vZmZzZXRUb3ApIDogaG4oZSkgPyAodCA9IG4uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksIHluKHQubGVmdCwgdC50b3ApKSA6IHluKDAsIDApOwogIH0sCiAgICAgIHduID0gZnVuY3Rpb24gd24oZSkgewogICAgdmFyIHQgPSBlICE9PSB1bmRlZmluZWQgPyBlLmRvbSA6IGRvY3VtZW50LAogICAgICAgIG4gPSB0LmJvZHkuc2Nyb2xsTGVmdCB8fCB0LmRvY3VtZW50RWxlbWVudC5zY3JvbGxMZWZ0LAogICAgICAgIHIgPSB0LmJvZHkuc2Nyb2xsVG9wIHx8IHQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbFRvcDsKICAgIHJldHVybiB5bihuLCByKTsKICB9LAogICAgICB4biA9IGZ1bmN0aW9uIHhuKGUsIHQsIG4pIHsKICAgIHZhciByID0gKG4gIT09IHVuZGVmaW5lZCA/IG4uZG9tIDogZG9jdW1lbnQpLmRlZmF1bHRWaWV3OwogICAgciAmJiByLnNjcm9sbFRvKGUsIHQpOwogIH0sCiAgICAgIFNuID0gZnVuY3Rpb24gU24oZSwgdCkgewogICAgZHQoKS5icm93c2VyLmlzU2FmYXJpKCkgJiYgVChlLmRvbS5zY3JvbGxJbnRvVmlld0lmTmVlZGVkKSA/IGUuZG9tLnNjcm9sbEludG9WaWV3SWZOZWVkZWQoITEpIDogZS5kb20uc2Nyb2xsSW50b1ZpZXcodCk7CiAgfSwKICAgICAgTm4gPSBmdW5jdGlvbiBObihlLCB0LCBuLCByKSB7CiAgICByZXR1cm4gewogICAgICB4OiBlLAogICAgICB5OiB0LAogICAgICB3aWR0aDogbiwKICAgICAgaGVpZ2h0OiByLAogICAgICByaWdodDogZSArIG4sCiAgICAgIGJvdHRvbTogdCArIHIKICAgIH07CiAgfSwKICAgICAgRW4gPSBmdW5jdGlvbiBFbihlKSB7CiAgICB2YXIgdCwKICAgICAgICBuLAogICAgICAgIHIgPSBlID09PSB1bmRlZmluZWQgPyB3aW5kb3cgOiBlLAogICAgICAgIG8gPSByLmRvY3VtZW50LAogICAgICAgIGkgPSB3bihBdC5mcm9tRG9tKG8pKTsKICAgIHJldHVybiBuID0gKHQgPSByKSA9PT0gdW5kZWZpbmVkID8gd2luZG93IDogdCwgVS5mcm9tKG4udmlzdWFsVmlld3BvcnQpLmZvbGQoZnVuY3Rpb24gKCkgewogICAgICB2YXIgZSA9IHIuZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LAogICAgICAgICAgdCA9IGUuY2xpZW50V2lkdGgsCiAgICAgICAgICBuID0gZS5jbGllbnRIZWlnaHQ7CiAgICAgIHJldHVybiBObihpLmxlZnQsIGkudG9wLCB0LCBuKTsKICAgIH0sIGZ1bmN0aW9uIChlKSB7CiAgICAgIHJldHVybiBObihNYXRoLm1heChlLnBhZ2VMZWZ0LCBpLmxlZnQpLCBNYXRoLm1heChlLnBhZ2VUb3AsIGkudG9wKSwgZS53aWR0aCwgZS5oZWlnaHQpOwogICAgfSk7CiAgfSwKICAgICAga24gPSBmdW5jdGlvbiBrbih0KSB7CiAgICByZXR1cm4gZnVuY3Rpb24gKGUpIHsKICAgICAgcmV0dXJuICEhZSAmJiBlLm5vZGVUeXBlID09PSB0OwogICAgfTsKICB9LAogICAgICBfbiA9IGZ1bmN0aW9uIF9uKGUpIHsKICAgIHJldHVybiAhIWUgJiYgIU9iamVjdC5nZXRQcm90b3R5cGVPZihlKTsKICB9LAogICAgICBBbiA9IGtuKDEpLAogICAgICBSbiA9IGZ1bmN0aW9uIFJuKGUpIHsKICAgIHZhciBuID0gZS5tYXAoZnVuY3Rpb24gKGUpIHsKICAgICAgcmV0dXJuIGUudG9Mb3dlckNhc2UoKTsKICAgIH0pOwogICAgcmV0dXJuIGZ1bmN0aW9uIChlKSB7CiAgICAgIGlmIChlICYmIGUubm9kZU5hbWUpIHsKICAgICAgICB2YXIgdCA9IGUubm9kZU5hbWUudG9Mb3dlckNhc2UoKTsKICAgICAgICByZXR1cm4gTShuLCB0KTsKICAgICAgfQoKICAgICAgcmV0dXJuICExOwogICAgfTsKICB9LAogICAgICBUbiA9IGZ1bmN0aW9uIFRuKHIsIGUpIHsKICAgIHZhciBvID0gZS50b0xvd2VyQ2FzZSgpLnNwbGl0KCIgIik7CiAgICByZXR1cm4gZnVuY3Rpb24gKGUpIHsKICAgICAgdmFyIHQ7CiAgICAgIGlmIChBbihlKSkgZm9yICh0ID0gMDsgdCA8IG8ubGVuZ3RoOyB0KyspIHsKICAgICAgICB2YXIgbiA9IGUub3duZXJEb2N1bWVudC5kZWZhdWx0Vmlldy5nZXRDb21wdXRlZFN0eWxlKGUsIG51bGwpOwogICAgICAgIGlmICgobiA/IG4uZ2V0UHJvcGVydHlWYWx1ZShyKSA6IG51bGwpID09PSBvW3RdKSByZXR1cm4gITA7CiAgICAgIH0KICAgICAgcmV0dXJuICExOwogICAgfTsKICB9LAogICAgICBEbiA9IGZ1bmN0aW9uIERuKHQpIHsKICAgIHJldHVybiBmdW5jdGlvbiAoZSkgewogICAgICByZXR1cm4gQW4oZSkgJiYgZS5oYXNBdHRyaWJ1dGUodCk7CiAgICB9OwogIH0sCiAgICAgIE9uID0gZnVuY3Rpb24gT24oZSkgewogICAgcmV0dXJuIEFuKGUpICYmIGUuaGFzQXR0cmlidXRlKCJkYXRhLW1jZS1ib2d1cyIpOwogIH0sCiAgICAgIEJuID0gZnVuY3Rpb24gQm4oZSkgewogICAgcmV0dXJuIEFuKGUpICYmICJUQUJMRSIgPT09IGUudGFnTmFtZTsKICB9LAogICAgICBQbiA9IGZ1bmN0aW9uIFBuKHQpIHsKICAgIHJldHVybiBmdW5jdGlvbiAoZSkgewogICAgICBpZiAoQW4oZSkpIHsKICAgICAgICBpZiAoZS5jb250ZW50RWRpdGFibGUgPT09IHQpIHJldHVybiAhMDsKICAgICAgICBpZiAoZS5nZXRBdHRyaWJ1dGUoImRhdGEtbWNlLWNvbnRlbnRlZGl0YWJsZSIpID09PSB0KSByZXR1cm4gITA7CiAgICAgIH0KCiAgICAgIHJldHVybiAhMTsKICAgIH07CiAgfSwKICAgICAgTG4gPSBSbihbInRleHRhcmVhIiwgImlucHV0Il0pLAogICAgICBJbiA9IGtuKDMpLAogICAgICBNbiA9IGtuKDgpLAogICAgICBGbiA9IGtuKDkpLAogICAgICBVbiA9IGtuKDExKSwKICAgICAgem4gPSBSbihbImJyIl0pLAogICAgICBqbiA9IFJuKFsiaW1nIl0pLAogICAgICBIbiA9IFBuKCJ0cnVlIiksCiAgICAgIFZuID0gUG4oImZhbHNlIiksCiAgICAgIHFuID0gUm4oWyJ0ZCIsICJ0aCJdKSwKICAgICAgJG4gPSBSbihbInZpZGVvIiwgImF1ZGlvIiwgIm9iamVjdCIsICJlbWJlZCJdKSwKICAgICAgV24gPSBmdW5jdGlvbiBXbihlKSB7CiAgICByZXR1cm4gZS5zdHlsZSAhPT0gdW5kZWZpbmVkICYmIFQoZS5zdHlsZS5nZXRQcm9wZXJ0eVZhbHVlKTsKICB9LAogICAgICBLbiA9IGZ1bmN0aW9uIEtuKGUsIHQsIG4pIHsKICAgIGlmICghKHEobikgfHwgQShuKSB8fCBPKG4pKSkgdGhyb3cgY29uc29sZS5lcnJvcigiSW52YWxpZCBjYWxsIHRvIEF0dHJpYnV0ZS5zZXQuIEtleSAiLCB0LCAiOjogVmFsdWUgIiwgbiwgIjo6IEVsZW1lbnQgIiwgZSksIG5ldyBFcnJvcigiQXR0cmlidXRlIHZhbHVlIHdhcyBub3Qgc2ltcGxlIik7CiAgICBlLnNldEF0dHJpYnV0ZSh0LCBuICsgIiIpOwogIH0sCiAgICAgIFhuID0gZnVuY3Rpb24gWG4oZSwgdCwgbikgewogICAgS24oZS5kb20sIHQsIG4pOwogIH0sCiAgICAgIFluID0gZnVuY3Rpb24gWW4oZSwgdCkgewogICAgdmFyIG4gPSBlLmRvbTsKICAgIHVlKHQsIGZ1bmN0aW9uIChlLCB0KSB7CiAgICAgIEtuKG4sIHQsIGUpOwogICAgfSk7CiAgfSwKICAgICAgR24gPSBmdW5jdGlvbiBHbihlLCB0KSB7CiAgICB2YXIgbiA9IGUuZG9tLmdldEF0dHJpYnV0ZSh0KTsKICAgIHJldHVybiBudWxsID09PSBuID8gdW5kZWZpbmVkIDogbjsKICB9LAogICAgICBKbiA9IGZ1bmN0aW9uIEpuKGUsIHQpIHsKICAgIHJldHVybiBVLmZyb20oR24oZSwgdCkpOwogIH0sCiAgICAgIFFuID0gZnVuY3Rpb24gUW4oZSwgdCkgewogICAgZS5kb20ucmVtb3ZlQXR0cmlidXRlKHQpOwogIH0sCiAgICAgIFpuID0gZnVuY3Rpb24gWm4oZSwgdCkgewogICAgdmFyIG4gPSBlLmRvbTsKICAgIHVlKHQsIGZ1bmN0aW9uIChlLCB0KSB7CiAgICAgICFmdW5jdGlvbiAoZSwgdCwgbikgewogICAgICAgIGlmICghcShuKSkgdGhyb3cgY29uc29sZS5lcnJvcigiSW52YWxpZCBjYWxsIHRvIENTUy5zZXQuIFByb3BlcnR5ICIsIHQsICI6OiBWYWx1ZSAiLCBuLCAiOjogRWxlbWVudCAiLCBlKSwgbmV3IEVycm9yKCJDU1MgdmFsdWUgbXVzdCBiZSBhIHN0cmluZzogIiArIG4pOwogICAgICAgIFduKGUpICYmIGUuc3R5bGUuc2V0UHJvcGVydHkodCwgbik7CiAgICAgIH0obiwgdCwgZSk7CiAgICB9KTsKICB9LAogICAgICBlciA9IGZ1bmN0aW9uIGVyKGUsIHQpIHsKICAgIHZhciBuID0gZS5kb20sCiAgICAgICAgciA9IHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKG4pLmdldFByb3BlcnR5VmFsdWUodCk7CiAgICByZXR1cm4gIiIgIT09IHIgfHwgaG4oZSkgPyByIDogdHIobiwgdCk7CiAgfSwKICAgICAgdHIgPSBmdW5jdGlvbiB0cihlLCB0KSB7CiAgICByZXR1cm4gV24oZSkgPyBlLnN0eWxlLmdldFByb3BlcnR5VmFsdWUodCkgOiAiIjsKICB9LAogICAgICBuciA9IGZ1bmN0aW9uIG5yKGUsIHQpIHsKICAgIHZhciBuID0gZS5kb20sCiAgICAgICAgciA9IHRyKG4sIHQpOwogICAgcmV0dXJuIFUuZnJvbShyKS5maWx0ZXIoZnVuY3Rpb24gKGUpIHsKICAgICAgcmV0dXJuIDAgPCBlLmxlbmd0aDsKICAgIH0pOwogIH0sCiAgICAgIHJyID0gZnVuY3Rpb24gcnIoZSkgewogICAgdmFyIHQgPSB7fSwKICAgICAgICBuID0gZS5kb207CiAgICBpZiAoV24obikpIGZvciAodmFyIHIgPSAwOyByIDwgbi5zdHlsZS5sZW5ndGg7IHIrKykgewogICAgICB2YXIgbyA9IG4uc3R5bGUuaXRlbShyKTsKICAgICAgdFtvXSA9IG4uc3R5bGVbb107CiAgICB9CiAgICByZXR1cm4gdDsKICB9LAogICAgICBvciA9IGR0KCkuYnJvd3NlciwKICAgICAgaXIgPSBmdW5jdGlvbiBpcihlKSB7CiAgICByZXR1cm4gWShlLCBGdCk7CiAgfSwKICAgICAgYXIgPSBmdW5jdGlvbiBhcihlLCB0KSB7CiAgICByZXR1cm4gZS5jaGlsZHJlbiAmJiBNKGUuY2hpbGRyZW4sIHQpOwogIH0sCiAgICAgIHVyID0gZnVuY3Rpb24gdXIoZSwgdCwgbikgewogICAgdmFyIHIsCiAgICAgICAgbywKICAgICAgICBpLAogICAgICAgIGEgPSAwLAogICAgICAgIHUgPSAwLAogICAgICAgIHMgPSBlLm93bmVyRG9jdW1lbnQ7CgogICAgaWYgKG4gPSBuIHx8IGUsIHQpIHsKICAgICAgaWYgKG4gPT09IGUgJiYgdC5nZXRCb3VuZGluZ0NsaWVudFJlY3QgJiYgInN0YXRpYyIgPT09IGVyKEF0LmZyb21Eb20oZSksICJwb3NpdGlvbiIpKSByZXR1cm4gewogICAgICAgIHg6IGEgPSAobyA9IHQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkpLmxlZnQgKyAocy5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsTGVmdCB8fCBlLnNjcm9sbExlZnQpIC0gcy5kb2N1bWVudEVsZW1lbnQuY2xpZW50TGVmdCwKICAgICAgICB5OiB1ID0gby50b3AgKyAocy5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsVG9wIHx8IGUuc2Nyb2xsVG9wKSAtIHMuZG9jdW1lbnRFbGVtZW50LmNsaWVudFRvcAogICAgICB9OwoKICAgICAgZm9yIChyID0gdDsgciAmJiByICE9PSBuICYmIHIubm9kZVR5cGUgJiYgIWFyKHIsIG4pOykgewogICAgICAgIGEgKz0gci5vZmZzZXRMZWZ0IHx8IDAsIHUgKz0gci5vZmZzZXRUb3AgfHwgMCwgciA9IHIub2Zmc2V0UGFyZW50OwogICAgICB9CgogICAgICBmb3IgKHIgPSB0LnBhcmVudE5vZGU7IHIgJiYgciAhPT0gbiAmJiByLm5vZGVUeXBlICYmICFhcihyLCBuKTspIHsKICAgICAgICBhIC09IHIuc2Nyb2xsTGVmdCB8fCAwLCB1IC09IHIuc2Nyb2xsVG9wIHx8IDAsIHIgPSByLnBhcmVudE5vZGU7CiAgICAgIH0KCiAgICAgIHUgKz0gKGkgPSBBdC5mcm9tRG9tKHQpLCBvci5pc0ZpcmVmb3goKSAmJiAidGFibGUiID09PSBMdChpKSA/IGlyKEd0KGkpKS5maWx0ZXIoZnVuY3Rpb24gKGUpIHsKICAgICAgICByZXR1cm4gImNhcHRpb24iID09PSBMdChlKTsKICAgICAgfSkuYmluZChmdW5jdGlvbiAobykgewogICAgICAgIHJldHVybiBpcihZdChvKSkubWFwKGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICB2YXIgdCA9IGUuZG9tLm9mZnNldFRvcCwKICAgICAgICAgICAgICBuID0gby5kb20ub2Zmc2V0VG9wLAogICAgICAgICAgICAgIHIgPSBvLmRvbS5vZmZzZXRIZWlnaHQ7CiAgICAgICAgICByZXR1cm4gdCA8PSBuID8gLXIgOiAwOwogICAgICAgIH0pOwogICAgICB9KS5nZXRPcigwKSA6IDApOwogICAgfQoKICAgIHJldHVybiB7CiAgICAgIHg6IGEsCiAgICAgIHk6IHUKICAgIH07CiAgfSwKICAgICAgc3IgPSB7fSwKICAgICAgY3IgPSB7CiAgICBleHBvcnRzOiBzcgogIH07CgogIERlID0gdW5kZWZpbmVkLCBPZSA9IHNyLCBCZSA9IGNyLCBQZSA9IHVuZGVmaW5lZCwgZnVuY3Rpb24gKGUpIHsKICAgICJvYmplY3QiID09IF90eXBlb2YoT2UpICYmIHZvaWQgMCAhPT0gQmUgPyBCZS5leHBvcnRzID0gZSgpIDogImZ1bmN0aW9uIiA9PSB0eXBlb2YgRGUgJiYgRGUuYW1kID8gRGUoW10sIGUpIDogKCJ1bmRlZmluZWQiICE9IHR5cGVvZiB3aW5kb3cgPyB3aW5kb3cgOiAidW5kZWZpbmVkIiAhPSB0eXBlb2YgZ2xvYmFsID8gZ2xvYmFsIDogInVuZGVmaW5lZCIgIT0gdHlwZW9mIHNlbGYgPyBzZWxmIDogdGhpcykuRXBob3hDb250YWN0V3JhcHBlciA9IGUoKTsKICB9KGZ1bmN0aW9uICgpIHsKICAgIHJldHVybiBmdW5jdGlvbiBsKGksIGEsIHUpIHsKICAgICAgZnVuY3Rpb24gcyh0LCBlKSB7CiAgICAgICAgaWYgKCFhW3RdKSB7CiAgICAgICAgICBpZiAoIWlbdF0pIHsKICAgICAgICAgICAgdmFyIG4gPSAiZnVuY3Rpb24iID09IHR5cGVvZiBQZSAmJiBQZTsKICAgICAgICAgICAgaWYgKCFlICYmIG4pIHJldHVybiBuKHQsICEwKTsKICAgICAgICAgICAgaWYgKGMpIHJldHVybiBjKHQsICEwKTsKICAgICAgICAgICAgdmFyIHIgPSBuZXcgRXJyb3IoIkNhbm5vdCBmaW5kIG1vZHVsZSAnIiArIHQgKyAiJyIpOwogICAgICAgICAgICB0aHJvdyByLmNvZGUgPSAiTU9EVUxFX05PVF9GT1VORCIsIHI7CiAgICAgICAgICB9CgogICAgICAgICAgdmFyIG8gPSBhW3RdID0gewogICAgICAgICAgICBleHBvcnRzOiB7fQogICAgICAgICAgfTsKICAgICAgICAgIGlbdF1bMF0uY2FsbChvLmV4cG9ydHMsIGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICAgIHJldHVybiBzKGlbdF1bMV1bZV0gfHwgZSk7CiAgICAgICAgICB9LCBvLCBvLmV4cG9ydHMsIGwsIGksIGEsIHUpOwogICAgICAgIH0KCiAgICAgICAgcmV0dXJuIGFbdF0uZXhwb3J0czsKICAgICAgfQoKICAgICAgZm9yICh2YXIgYyA9ICJmdW5jdGlvbiIgPT0gdHlwZW9mIFBlICYmIFBlLCBlID0gMDsgZSA8IHUubGVuZ3RoOyBlKyspIHsKICAgICAgICBzKHVbZV0pOwogICAgICB9CgogICAgICByZXR1cm4gczsKICAgIH0oewogICAgICAxOiBbZnVuY3Rpb24gKGUsIHQsIG4pIHsKICAgICAgICB2YXIgciwKICAgICAgICAgICAgbywKICAgICAgICAgICAgaSA9IHQuZXhwb3J0cyA9IHt9OwoKICAgICAgICBmdW5jdGlvbiBhKCkgewogICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCJzZXRUaW1lb3V0IGhhcyBub3QgYmVlbiBkZWZpbmVkIik7CiAgICAgICAgfQoKICAgICAgICBmdW5jdGlvbiB1KCkgewogICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCJjbGVhclRpbWVvdXQgaGFzIG5vdCBiZWVuIGRlZmluZWQiKTsKICAgICAgICB9CgogICAgICAgIGZ1bmN0aW9uIHMoZSkgewogICAgICAgICAgaWYgKHIgPT09IHNldFRpbWVvdXQpIHJldHVybiBzZXRUaW1lb3V0KGUsIDApOwogICAgICAgICAgaWYgKChyID09PSBhIHx8ICFyKSAmJiBzZXRUaW1lb3V0KSByZXR1cm4gciA9IHNldFRpbWVvdXQsIHNldFRpbWVvdXQoZSwgMCk7CgogICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgcmV0dXJuIHIoZSwgMCk7CiAgICAgICAgICB9IGNhdGNoICh0KSB7CiAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgcmV0dXJuIHIuY2FsbChudWxsLCBlLCAwKTsKICAgICAgICAgICAgfSBjYXRjaCAodCkgewogICAgICAgICAgICAgIHJldHVybiByLmNhbGwodGhpcywgZSwgMCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgICFmdW5jdGlvbiAoKSB7CiAgICAgICAgICB0cnkgewogICAgICAgICAgICByID0gImZ1bmN0aW9uIiA9PSB0eXBlb2Ygc2V0VGltZW91dCA/IHNldFRpbWVvdXQgOiBhOwogICAgICAgICAgfSBjYXRjaCAoZSkgewogICAgICAgICAgICByID0gYTsKICAgICAgICAgIH0KCiAgICAgICAgICB0cnkgewogICAgICAgICAgICBvID0gImZ1bmN0aW9uIiA9PSB0eXBlb2YgY2xlYXJUaW1lb3V0ID8gY2xlYXJUaW1lb3V0IDogdTsKICAgICAgICAgIH0gY2F0Y2ggKGUpIHsKICAgICAgICAgICAgbyA9IHU7CiAgICAgICAgICB9CiAgICAgICAgfSgpOwogICAgICAgIHZhciBjLAogICAgICAgICAgICBsID0gW10sCiAgICAgICAgICAgIGYgPSAhMSwKICAgICAgICAgICAgZCA9IC0xOwoKICAgICAgICBmdW5jdGlvbiBtKCkgewogICAgICAgICAgZiAmJiBjICYmIChmID0gITEsIGMubGVuZ3RoID8gbCA9IGMuY29uY2F0KGwpIDogZCA9IC0xLCBsLmxlbmd0aCAmJiBwKCkpOwogICAgICAgIH0KCiAgICAgICAgZnVuY3Rpb24gcCgpIHsKICAgICAgICAgIGlmICghZikgewogICAgICAgICAgICB2YXIgZSA9IHMobSk7CiAgICAgICAgICAgIGYgPSAhMDsKCiAgICAgICAgICAgIGZvciAodmFyIHQgPSBsLmxlbmd0aDsgdDspIHsKICAgICAgICAgICAgICBmb3IgKGMgPSBsLCBsID0gW107ICsrZCA8IHQ7KSB7CiAgICAgICAgICAgICAgICBjICYmIGNbZF0ucnVuKCk7CiAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICBkID0gLTEsIHQgPSBsLmxlbmd0aDsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgYyA9IG51bGwsIGYgPSAhMSwgZnVuY3Rpb24gKGUpIHsKICAgICAgICAgICAgICBpZiAobyA9PT0gY2xlYXJUaW1lb3V0KSByZXR1cm4gY2xlYXJUaW1lb3V0KGUpOwogICAgICAgICAgICAgIGlmICgobyA9PT0gdSB8fCAhbykgJiYgY2xlYXJUaW1lb3V0KSByZXR1cm4gbyA9IGNsZWFyVGltZW91dCwgY2xlYXJUaW1lb3V0KGUpOwoKICAgICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgICAgbyhlKTsKICAgICAgICAgICAgICB9IGNhdGNoICh0KSB7CiAgICAgICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgICAgICByZXR1cm4gby5jYWxsKG51bGwsIGUpOwogICAgICAgICAgICAgICAgfSBjYXRjaCAodCkgewogICAgICAgICAgICAgICAgICByZXR1cm4gby5jYWxsKHRoaXMsIGUpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfShlKTsKICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIGZ1bmN0aW9uIGcoZSwgdCkgewogICAgICAgICAgdGhpcy5mdW4gPSBlLCB0aGlzLmFycmF5ID0gdDsKICAgICAgICB9CgogICAgICAgIGZ1bmN0aW9uIGgoKSB7fQoKICAgICAgICBpLm5leHRUaWNrID0gZnVuY3Rpb24gKGUpIHsKICAgICAgICAgIHZhciB0ID0gbmV3IEFycmF5KGFyZ3VtZW50cy5sZW5ndGggLSAxKTsKICAgICAgICAgIGlmICgxIDwgYXJndW1lbnRzLmxlbmd0aCkgZm9yICh2YXIgbiA9IDE7IG4gPCBhcmd1bWVudHMubGVuZ3RoOyBuKyspIHsKICAgICAgICAgICAgdFtuIC0gMV0gPSBhcmd1bWVudHNbbl07CiAgICAgICAgICB9CiAgICAgICAgICBsLnB1c2gobmV3IGcoZSwgdCkpLCAxICE9PSBsLmxlbmd0aCB8fCBmIHx8IHMocCk7CiAgICAgICAgfSwgZy5wcm90b3R5cGUucnVuID0gZnVuY3Rpb24gKCkgewogICAgICAgICAgdGhpcy5mdW4uYXBwbHkobnVsbCwgdGhpcy5hcnJheSk7CiAgICAgICAgfSwgaS50aXRsZSA9ICJicm93c2VyIiwgaS5icm93c2VyID0gITAsIGkuZW52ID0ge30sIGkuYXJndiA9IFtdLCBpLnZlcnNpb24gPSAiIiwgaS52ZXJzaW9ucyA9IHt9LCBpLm9uID0gaCwgaS5hZGRMaXN0ZW5lciA9IGgsIGkub25jZSA9IGgsIGkub2ZmID0gaCwgaS5yZW1vdmVMaXN0ZW5lciA9IGgsIGkucmVtb3ZlQWxsTGlzdGVuZXJzID0gaCwgaS5lbWl0ID0gaCwgaS5wcmVwZW5kTGlzdGVuZXIgPSBoLCBpLnByZXBlbmRPbmNlTGlzdGVuZXIgPSBoLCBpLmxpc3RlbmVycyA9IGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICByZXR1cm4gW107CiAgICAgICAgfSwgaS5iaW5kaW5nID0gZnVuY3Rpb24gKGUpIHsKICAgICAgICAgIHRocm93IG5ldyBFcnJvcigicHJvY2Vzcy5iaW5kaW5nIGlzIG5vdCBzdXBwb3J0ZWQiKTsKICAgICAgICB9LCBpLmN3ZCA9IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIHJldHVybiAiLyI7CiAgICAgICAgfSwgaS5jaGRpciA9IGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoInByb2Nlc3MuY2hkaXIgaXMgbm90IHN1cHBvcnRlZCIpOwogICAgICAgIH0sIGkudW1hc2sgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgICByZXR1cm4gMDsKICAgICAgICB9OwogICAgICB9LCB7fV0sCiAgICAgIDI6IFtmdW5jdGlvbiAoZSwgZiwgdCkgewogICAgICAgIChmdW5jdGlvbiAodCkgewogICAgICAgICAgZnVuY3Rpb24gcigpIHt9CgogICAgICAgICAgZnVuY3Rpb24gYShlKSB7CiAgICAgICAgICAgIGlmICgib2JqZWN0IiAhPSBfdHlwZW9mKHRoaXMpKSB0aHJvdyBuZXcgVHlwZUVycm9yKCJQcm9taXNlcyBtdXN0IGJlIGNvbnN0cnVjdGVkIHZpYSBuZXciKTsKICAgICAgICAgICAgaWYgKCJmdW5jdGlvbiIgIT0gdHlwZW9mIGUpIHRocm93IG5ldyBUeXBlRXJyb3IoIm5vdCBhIGZ1bmN0aW9uIik7CiAgICAgICAgICAgIHRoaXMuX3N0YXRlID0gMCwgdGhpcy5faGFuZGxlZCA9ICExLCB0aGlzLl92YWx1ZSA9IHVuZGVmaW5lZCwgdGhpcy5fZGVmZXJyZWRzID0gW10sIGwoZSwgdGhpcyk7CiAgICAgICAgICB9CgogICAgICAgICAgZnVuY3Rpb24gbyhyLCBvKSB7CiAgICAgICAgICAgIGZvciAoOyAzID09PSByLl9zdGF0ZTspIHsKICAgICAgICAgICAgICByID0gci5fdmFsdWU7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIDAgIT09IHIuX3N0YXRlID8gKHIuX2hhbmRsZWQgPSAhMCwgYS5faW1tZWRpYXRlRm4oZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgIHZhciBlLAogICAgICAgICAgICAgICAgICB0ID0gMSA9PT0gci5fc3RhdGUgPyBvLm9uRnVsZmlsbGVkIDogby5vblJlamVjdGVkOwoKICAgICAgICAgICAgICBpZiAobnVsbCAhPT0gdCkgewogICAgICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgICAgZSA9IHQoci5fdmFsdWUpOwogICAgICAgICAgICAgICAgfSBjYXRjaCAobikgewogICAgICAgICAgICAgICAgICByZXR1cm4gdm9pZCB1KG8ucHJvbWlzZSwgbik7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgaShvLnByb21pc2UsIGUpOwogICAgICAgICAgICAgIH0gZWxzZSAoMSA9PT0gci5fc3RhdGUgPyBpIDogdSkoby5wcm9taXNlLCByLl92YWx1ZSk7CiAgICAgICAgICAgIH0pKSA6IHIuX2RlZmVycmVkcy5wdXNoKG8pOwogICAgICAgICAgfQoKICAgICAgICAgIGZ1bmN0aW9uIGkoZSwgdCkgewogICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgIGlmICh0ID09PSBlKSB0aHJvdyBuZXcgVHlwZUVycm9yKCJBIHByb21pc2UgY2Fubm90IGJlIHJlc29sdmVkIHdpdGggaXRzZWxmLiIpOwoKICAgICAgICAgICAgICBpZiAodCAmJiAoIm9iamVjdCIgPT0gX3R5cGVvZih0KSB8fCAiZnVuY3Rpb24iID09IHR5cGVvZiB0KSkgewogICAgICAgICAgICAgICAgdmFyIG4gPSB0LnRoZW47CiAgICAgICAgICAgICAgICBpZiAodCBpbnN0YW5jZW9mIGEpIHJldHVybiBlLl9zdGF0ZSA9IDMsIGUuX3ZhbHVlID0gdCwgdm9pZCBzKGUpOwogICAgICAgICAgICAgICAgaWYgKCJmdW5jdGlvbiIgPT0gdHlwZW9mIG4pIHJldHVybiB2b2lkIGwoKHIgPSBuLCBvID0gdCwgZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICByLmFwcGx5KG8sIGFyZ3VtZW50cyk7CiAgICAgICAgICAgICAgICB9KSwgZSk7CiAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICBlLl9zdGF0ZSA9IDEsIGUuX3ZhbHVlID0gdCwgcyhlKTsKICAgICAgICAgICAgfSBjYXRjaCAoaSkgewogICAgICAgICAgICAgIHUoZSwgaSk7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIHZhciByLCBvOwogICAgICAgICAgfQoKICAgICAgICAgIGZ1bmN0aW9uIHUoZSwgdCkgewogICAgICAgICAgICBlLl9zdGF0ZSA9IDIsIGUuX3ZhbHVlID0gdCwgcyhlKTsKICAgICAgICAgIH0KCiAgICAgICAgICBmdW5jdGlvbiBzKGUpIHsKICAgICAgICAgICAgMiA9PT0gZS5fc3RhdGUgJiYgMCA9PT0gZS5fZGVmZXJyZWRzLmxlbmd0aCAmJiBhLl9pbW1lZGlhdGVGbihmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgZS5faGFuZGxlZCB8fCBhLl91bmhhbmRsZWRSZWplY3Rpb25GbihlLl92YWx1ZSk7CiAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgZm9yICh2YXIgdCA9IDAsIG4gPSBlLl9kZWZlcnJlZHMubGVuZ3RoOyB0IDwgbjsgdCsrKSB7CiAgICAgICAgICAgICAgbyhlLCBlLl9kZWZlcnJlZHNbdF0pOwogICAgICAgICAgICB9CgogICAgICAgICAgICBlLl9kZWZlcnJlZHMgPSBudWxsOwogICAgICAgICAgfQoKICAgICAgICAgIGZ1bmN0aW9uIGMoZSwgdCwgbikgewogICAgICAgICAgICB0aGlzLm9uRnVsZmlsbGVkID0gImZ1bmN0aW9uIiA9PSB0eXBlb2YgZSA/IGUgOiBudWxsLCB0aGlzLm9uUmVqZWN0ZWQgPSAiZnVuY3Rpb24iID09IHR5cGVvZiB0ID8gdCA6IG51bGwsIHRoaXMucHJvbWlzZSA9IG47CiAgICAgICAgICB9CgogICAgICAgICAgZnVuY3Rpb24gbChlLCB0KSB7CiAgICAgICAgICAgIHZhciBuID0gITE7CgogICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgIGUoZnVuY3Rpb24gKGUpIHsKICAgICAgICAgICAgICAgIG4gfHwgKG4gPSAhMCwgaSh0LCBlKSk7CiAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gKGUpIHsKICAgICAgICAgICAgICAgIG4gfHwgKG4gPSAhMCwgdSh0LCBlKSk7CiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0gY2F0Y2ggKHIpIHsKICAgICAgICAgICAgICBpZiAobikgcmV0dXJuOwogICAgICAgICAgICAgIG4gPSAhMCwgdSh0LCByKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQoKICAgICAgICAgIHZhciBlLCBuOwogICAgICAgICAgZSA9IHRoaXMsIG4gPSBzZXRUaW1lb3V0LCBhLnByb3RvdHlwZVsiY2F0Y2giXSA9IGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICAgIHJldHVybiB0aGlzLnRoZW4obnVsbCwgZSk7CiAgICAgICAgICB9LCBhLnByb3RvdHlwZS50aGVuID0gZnVuY3Rpb24gKGUsIHQpIHsKICAgICAgICAgICAgdmFyIG4gPSBuZXcgdGhpcy5jb25zdHJ1Y3RvcihyKTsKICAgICAgICAgICAgcmV0dXJuIG8odGhpcywgbmV3IGMoZSwgdCwgbikpLCBuOwogICAgICAgICAgfSwgYS5hbGwgPSBmdW5jdGlvbiAoZSkgewogICAgICAgICAgICB2YXIgcyA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGUpOwogICAgICAgICAgICByZXR1cm4gbmV3IGEoZnVuY3Rpb24gKG8sIGkpIHsKICAgICAgICAgICAgICBpZiAoMCA9PT0gcy5sZW5ndGgpIHJldHVybiBvKFtdKTsKICAgICAgICAgICAgICB2YXIgYSA9IHMubGVuZ3RoOwoKICAgICAgICAgICAgICBmb3IgKHZhciBlID0gMDsgZSA8IHMubGVuZ3RoOyBlKyspIHsKICAgICAgICAgICAgICAgICFmdW5jdGlvbiB1KHQsIGUpIHsKICAgICAgICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgICAgICBpZiAoZSAmJiAoIm9iamVjdCIgPT0gX3R5cGVvZihlKSB8fCAiZnVuY3Rpb24iID09IHR5cGVvZiBlKSkgewogICAgICAgICAgICAgICAgICAgICAgdmFyIG4gPSBlLnRoZW47CiAgICAgICAgICAgICAgICAgICAgICBpZiAoImZ1bmN0aW9uIiA9PSB0eXBlb2YgbikgcmV0dXJuIHZvaWQgbi5jYWxsKGUsIGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHUodCwgZSk7CiAgICAgICAgICAgICAgICAgICAgICB9LCBpKTsKICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgIHNbdF0gPSBlLCAwID09IC0tYSAmJiBvKHMpOwogICAgICAgICAgICAgICAgICB9IGNhdGNoIChyKSB7CiAgICAgICAgICAgICAgICAgICAgaShyKTsKICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfShlLCBzW2VdKTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgICAgfSwgYS5yZXNvbHZlID0gZnVuY3Rpb24gKHQpIHsKICAgICAgICAgICAgcmV0dXJuIHQgJiYgIm9iamVjdCIgPT0gX3R5cGVvZih0KSAmJiB0LmNvbnN0cnVjdG9yID09PSBhID8gdCA6IG5ldyBhKGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICAgICAgZSh0KTsKICAgICAgICAgICAgfSk7CiAgICAgICAgICB9LCBhLnJlamVjdCA9IGZ1bmN0aW9uIChuKSB7CiAgICAgICAgICAgIHJldHVybiBuZXcgYShmdW5jdGlvbiAoZSwgdCkgewogICAgICAgICAgICAgIHQobik7CiAgICAgICAgICAgIH0pOwogICAgICAgICAgfSwgYS5yYWNlID0gZnVuY3Rpb24gKG8pIHsKICAgICAgICAgICAgcmV0dXJuIG5ldyBhKGZ1bmN0aW9uIChlLCB0KSB7CiAgICAgICAgICAgICAgZm9yICh2YXIgbiA9IDAsIHIgPSBvLmxlbmd0aDsgbiA8IHI7IG4rKykgewogICAgICAgICAgICAgICAgb1tuXS50aGVuKGUsIHQpOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgICB9LCBhLl9pbW1lZGlhdGVGbiA9ICJmdW5jdGlvbiIgPT0gdHlwZW9mIHQgPyBmdW5jdGlvbiAoZSkgewogICAgICAgICAgICB0KGUpOwogICAgICAgICAgfSA6IGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICAgIG4oZSwgMCk7CiAgICAgICAgICB9LCBhLl91bmhhbmRsZWRSZWplY3Rpb25GbiA9IGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICAgICJ1bmRlZmluZWQiICE9IHR5cGVvZiBjb25zb2xlICYmIGNvbnNvbGUgJiYgY29uc29sZS53YXJuKCJQb3NzaWJsZSBVbmhhbmRsZWQgUHJvbWlzZSBSZWplY3Rpb246IiwgZSk7CiAgICAgICAgICB9LCBhLl9zZXRJbW1lZGlhdGVGbiA9IGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICAgIGEuX2ltbWVkaWF0ZUZuID0gZTsKICAgICAgICAgIH0sIGEuX3NldFVuaGFuZGxlZFJlamVjdGlvbkZuID0gZnVuY3Rpb24gKGUpIHsKICAgICAgICAgICAgYS5fdW5oYW5kbGVkUmVqZWN0aW9uRm4gPSBlOwogICAgICAgICAgfSwgdm9pZCAwICE9PSBmICYmIGYuZXhwb3J0cyA/IGYuZXhwb3J0cyA9IGEgOiBlLlByb21pc2UgfHwgKGUuUHJvbWlzZSA9IGEpOwogICAgICAgIH0pLmNhbGwodGhpcywgZSgidGltZXJzIikuc2V0SW1tZWRpYXRlKTsKICAgICAgfSwgewogICAgICAgIHRpbWVyczogMwogICAgICB9XSwKICAgICAgMzogW2Z1bmN0aW9uIChzLCBlLCBjKSB7CiAgICAgICAgKGZ1bmN0aW9uIChlLCB0KSB7CiAgICAgICAgICB2YXIgciA9IHMoInByb2Nlc3MvYnJvd3Nlci5qcyIpLm5leHRUaWNrLAogICAgICAgICAgICAgIG4gPSBGdW5jdGlvbi5wcm90b3R5cGUuYXBwbHksCiAgICAgICAgICAgICAgbyA9IEFycmF5LnByb3RvdHlwZS5zbGljZSwKICAgICAgICAgICAgICBpID0ge30sCiAgICAgICAgICAgICAgYSA9IDA7CgogICAgICAgICAgZnVuY3Rpb24gdShlLCB0KSB7CiAgICAgICAgICAgIHRoaXMuX2lkID0gZSwgdGhpcy5fY2xlYXJGbiA9IHQ7CiAgICAgICAgICB9CgogICAgICAgICAgYy5zZXRUaW1lb3V0ID0gZnVuY3Rpb24gKCkgewogICAgICAgICAgICByZXR1cm4gbmV3IHUobi5jYWxsKHNldFRpbWVvdXQsIHdpbmRvdywgYXJndW1lbnRzKSwgY2xlYXJUaW1lb3V0KTsKICAgICAgICAgIH0sIGMuc2V0SW50ZXJ2YWwgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIHJldHVybiBuZXcgdShuLmNhbGwoc2V0SW50ZXJ2YWwsIHdpbmRvdywgYXJndW1lbnRzKSwgY2xlYXJJbnRlcnZhbCk7CiAgICAgICAgICB9LCBjLmNsZWFyVGltZW91dCA9IGMuY2xlYXJJbnRlcnZhbCA9IGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICAgIGUuY2xvc2UoKTsKICAgICAgICAgIH0sIHUucHJvdG90eXBlLnVucmVmID0gdS5wcm90b3R5cGUucmVmID0gZnVuY3Rpb24gKCkge30sIHUucHJvdG90eXBlLmNsb3NlID0gZnVuY3Rpb24gKCkgewogICAgICAgICAgICB0aGlzLl9jbGVhckZuLmNhbGwod2luZG93LCB0aGlzLl9pZCk7CiAgICAgICAgICB9LCBjLmVucm9sbCA9IGZ1bmN0aW9uIChlLCB0KSB7CiAgICAgICAgICAgIGNsZWFyVGltZW91dChlLl9pZGxlVGltZW91dElkKSwgZS5faWRsZVRpbWVvdXQgPSB0OwogICAgICAgICAgfSwgYy51bmVucm9sbCA9IGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICAgIGNsZWFyVGltZW91dChlLl9pZGxlVGltZW91dElkKSwgZS5faWRsZVRpbWVvdXQgPSAtMTsKICAgICAgICAgIH0sIGMuX3VucmVmQWN0aXZlID0gYy5hY3RpdmUgPSBmdW5jdGlvbiAoZSkgewogICAgICAgICAgICBjbGVhclRpbWVvdXQoZS5faWRsZVRpbWVvdXRJZCk7CiAgICAgICAgICAgIHZhciB0ID0gZS5faWRsZVRpbWVvdXQ7CiAgICAgICAgICAgIDAgPD0gdCAmJiAoZS5faWRsZVRpbWVvdXRJZCA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgIGUuX29uVGltZW91dCAmJiBlLl9vblRpbWVvdXQoKTsKICAgICAgICAgICAgfSwgdCkpOwogICAgICAgICAgfSwgYy5zZXRJbW1lZGlhdGUgPSAiZnVuY3Rpb24iID09IHR5cGVvZiBlID8gZSA6IGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICAgIHZhciB0ID0gYSsrLAogICAgICAgICAgICAgICAgbiA9ICEoYXJndW1lbnRzLmxlbmd0aCA8IDIpICYmIG8uY2FsbChhcmd1bWVudHMsIDEpOwogICAgICAgICAgICByZXR1cm4gaVt0XSA9ICEwLCByKGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICBpW3RdICYmIChuID8gZS5hcHBseShudWxsLCBuKSA6IGUuY2FsbChudWxsKSwgYy5jbGVhckltbWVkaWF0ZSh0KSk7CiAgICAgICAgICAgIH0pLCB0OwogICAgICAgICAgfSwgYy5jbGVhckltbWVkaWF0ZSA9ICJmdW5jdGlvbiIgPT0gdHlwZW9mIHQgPyB0IDogZnVuY3Rpb24gKGUpIHsKICAgICAgICAgICAgZGVsZXRlIGlbZV07CiAgICAgICAgICB9OwogICAgICAgIH0pLmNhbGwodGhpcywgcygidGltZXJzIikuc2V0SW1tZWRpYXRlLCBzKCJ0aW1lcnMiKS5jbGVhckltbWVkaWF0ZSk7CiAgICAgIH0sIHsKICAgICAgICAicHJvY2Vzcy9icm93c2VyLmpzIjogMSwKICAgICAgICB0aW1lcnM6IDMKICAgICAgfV0sCiAgICAgIDQ6IFtmdW5jdGlvbiAoZSwgdCwgbikgewogICAgICAgIHZhciByID0gZSgicHJvbWlzZS1wb2x5ZmlsbCIpLAogICAgICAgICAgICBvID0gInVuZGVmaW5lZCIgIT0gdHlwZW9mIHdpbmRvdyA/IHdpbmRvdyA6IEZ1bmN0aW9uKCJyZXR1cm4gdGhpczsiKSgpOwogICAgICAgIHQuZXhwb3J0cyA9IHsKICAgICAgICAgIGJvbHRFeHBvcnQ6IG8uUHJvbWlzZSB8fCByCiAgICAgICAgfTsKICAgICAgfSwgewogICAgICAgICJwcm9taXNlLXBvbHlmaWxsIjogMgogICAgICB9XQogICAgfSwge30sIFs0XSkoNCk7CiAgfSk7CgogIHZhciBsciA9IGNyLmV4cG9ydHMuYm9sdEV4cG9ydCwKICAgICAgZnIgPSBmdW5jdGlvbiBmcihlKSB7CiAgICB2YXIgbiA9IFUubm9uZSgpLAogICAgICAgIHQgPSBbXSwKICAgICAgICByID0gZnVuY3Rpb24gcihlKSB7CiAgICAgIG8oKSA/IGEoZSkgOiB0LnB1c2goZSk7CiAgICB9LAogICAgICAgIG8gPSBmdW5jdGlvbiBvKCkgewogICAgICByZXR1cm4gbi5pc1NvbWUoKTsKICAgIH0sCiAgICAgICAgaSA9IGZ1bmN0aW9uIGkoZSkgewogICAgICBXKGUsIGEpOwogICAgfSwKICAgICAgICBhID0gZnVuY3Rpb24gYSh0KSB7CiAgICAgIG4uZWFjaChmdW5jdGlvbiAoZSkgewogICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgICAgdChlKTsKICAgICAgICB9LCAwKTsKICAgICAgfSk7CiAgICB9OwoKICAgIHJldHVybiBlKGZ1bmN0aW9uIChlKSB7CiAgICAgIG8oKSB8fCAobiA9IFUuc29tZShlKSwgaSh0KSwgdCA9IFtdKTsKICAgIH0pLCB7CiAgICAgIGdldDogciwKICAgICAgbWFwOiBmdW5jdGlvbiBtYXAobikgewogICAgICAgIHJldHVybiBmcihmdW5jdGlvbiAodCkgewogICAgICAgICAgcihmdW5jdGlvbiAoZSkgewogICAgICAgICAgICB0KG4oZSkpOwogICAgICAgICAgfSk7CiAgICAgICAgfSk7CiAgICAgIH0sCiAgICAgIGlzUmVhZHk6IG8KICAgIH07CiAgfSwKICAgICAgZHIgPSB7CiAgICBudTogZnIsCiAgICBwdXJlOiBmdW5jdGlvbiBwdXJlKHQpIHsKICAgICAgcmV0dXJuIGZyKGZ1bmN0aW9uIChlKSB7CiAgICAgICAgZSh0KTsKICAgICAgfSk7CiAgICB9CiAgfSwKICAgICAgbXIgPSBmdW5jdGlvbiBtcihlKSB7CiAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgdGhyb3cgZTsKICAgIH0sIDApOwogIH0sCiAgICAgIHByID0gZnVuY3Rpb24gcHIobikgewogICAgdmFyIGUgPSBmdW5jdGlvbiBlKF9lMykgewogICAgICBuKCkudGhlbihfZTMsIG1yKTsKICAgIH07CgogICAgcmV0dXJuIHsKICAgICAgbWFwOiBmdW5jdGlvbiBtYXAoZSkgewogICAgICAgIHJldHVybiBwcihmdW5jdGlvbiAoKSB7CiAgICAgICAgICByZXR1cm4gbigpLnRoZW4oZSk7CiAgICAgICAgfSk7CiAgICAgIH0sCiAgICAgIGJpbmQ6IGZ1bmN0aW9uIGJpbmQodCkgewogICAgICAgIHJldHVybiBwcihmdW5jdGlvbiAoKSB7CiAgICAgICAgICByZXR1cm4gbigpLnRoZW4oZnVuY3Rpb24gKGUpIHsKICAgICAgICAgICAgcmV0dXJuIHQoZSkudG9Qcm9taXNlKCk7CiAgICAgICAgICB9KTsKICAgICAgICB9KTsKICAgICAgfSwKICAgICAgYW5vbkJpbmQ6IGZ1bmN0aW9uIGFub25CaW5kKGUpIHsKICAgICAgICByZXR1cm4gcHIoZnVuY3Rpb24gKCkgewogICAgICAgICAgcmV0dXJuIG4oKS50aGVuKGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgcmV0dXJuIGUudG9Qcm9taXNlKCk7CiAgICAgICAgICB9KTsKICAgICAgICB9KTsKICAgICAgfSwKICAgICAgdG9MYXp5OiBmdW5jdGlvbiB0b0xhenkoKSB7CiAgICAgICAgcmV0dXJuIGRyLm51KGUpOwogICAgICB9LAogICAgICB0b0NhY2hlZDogZnVuY3Rpb24gdG9DYWNoZWQoKSB7CiAgICAgICAgdmFyIGUgPSBudWxsOwogICAgICAgIHJldHVybiBwcihmdW5jdGlvbiAoKSB7CiAgICAgICAgICByZXR1cm4gbnVsbCA9PT0gZSAmJiAoZSA9IG4oKSksIGU7CiAgICAgICAgfSk7CiAgICAgIH0sCiAgICAgIHRvUHJvbWlzZTogbiwKICAgICAgZ2V0OiBlCiAgICB9OwogIH0sCiAgICAgIGdyID0gZnVuY3Rpb24gZ3IoZSkgewogICAgcmV0dXJuIHByKGZ1bmN0aW9uICgpIHsKICAgICAgcmV0dXJuIG5ldyBscihlKTsKICAgIH0pOwogIH0sCiAgICAgIGhyID0gZnVuY3Rpb24gaHIoYSwgZSkgewogICAgcmV0dXJuIGUoZnVuY3Rpb24gKHIpIHsKICAgICAgdmFyIG8gPSBbXSwKICAgICAgICAgIGkgPSAwOwogICAgICAwID09PSBhLmxlbmd0aCA/IHIoW10pIDogVyhhLCBmdW5jdGlvbiAoZSwgdCkgewogICAgICAgIHZhciBuOwogICAgICAgIGUuZ2V0KChuID0gdCwgZnVuY3Rpb24gKGUpIHsKICAgICAgICAgIG9bbl0gPSBlLCArK2kgPj0gYS5sZW5ndGggJiYgcihvKTsKICAgICAgICB9KSk7CiAgICAgIH0pOwogICAgfSk7CiAgfSwKICAgICAgdnIgPSBmdW5jdGlvbiB2cihuKSB7CiAgICByZXR1cm4gewogICAgICBpczogZnVuY3Rpb24gaXMoZSkgewogICAgICAgIHJldHVybiBuID09PSBlOwogICAgICB9LAogICAgICBpc1ZhbHVlOiBrLAogICAgICBpc0Vycm9yOiBDLAogICAgICBnZXRPcjogRShuKSwKICAgICAgZ2V0T3JUaHVuazogRShuKSwKICAgICAgZ2V0T3JEaWU6IEUobiksCiAgICAgIG9yOiBmdW5jdGlvbiBvcihlKSB7CiAgICAgICAgcmV0dXJuIHZyKG4pOwogICAgICB9LAogICAgICBvclRodW5rOiBmdW5jdGlvbiBvclRodW5rKGUpIHsKICAgICAgICByZXR1cm4gdnIobik7CiAgICAgIH0sCiAgICAgIGZvbGQ6IGZ1bmN0aW9uIGZvbGQoZSwgdCkgewogICAgICAgIHJldHVybiB0KG4pOwogICAgICB9LAogICAgICBtYXA6IGZ1bmN0aW9uIG1hcChlKSB7CiAgICAgICAgcmV0dXJuIHZyKGUobikpOwogICAgICB9LAogICAgICBtYXBFcnJvcjogZnVuY3Rpb24gbWFwRXJyb3IoZSkgewogICAgICAgIHJldHVybiB2cihuKTsKICAgICAgfSwKICAgICAgZWFjaDogZnVuY3Rpb24gZWFjaChlKSB7CiAgICAgICAgZShuKTsKICAgICAgfSwKICAgICAgYmluZDogZnVuY3Rpb24gYmluZChlKSB7CiAgICAgICAgcmV0dXJuIGUobik7CiAgICAgIH0sCiAgICAgIGV4aXN0czogZnVuY3Rpb24gZXhpc3RzKGUpIHsKICAgICAgICByZXR1cm4gZShuKTsKICAgICAgfSwKICAgICAgZm9yYWxsOiBmdW5jdGlvbiBmb3JhbGwoZSkgewogICAgICAgIHJldHVybiBlKG4pOwogICAgICB9LAogICAgICB0b09wdGlvbmFsOiBmdW5jdGlvbiB0b09wdGlvbmFsKCkgewogICAgICAgIHJldHVybiBVLnNvbWUobik7CiAgICAgIH0KICAgIH07CiAgfSwKICAgICAgeXIgPSBmdW5jdGlvbiB5cihuKSB7CiAgICByZXR1cm4gewogICAgICBpczogQywKICAgICAgaXNWYWx1ZTogQywKICAgICAgaXNFcnJvcjogaywKICAgICAgZ2V0T3I6IG8sCiAgICAgIGdldE9yVGh1bms6IGZ1bmN0aW9uIGdldE9yVGh1bmsoZSkgewogICAgICAgIHJldHVybiBlKCk7CiAgICAgIH0sCiAgICAgIGdldE9yRGllOiBmdW5jdGlvbiBnZXRPckRpZSgpIHsKICAgICAgICByZXR1cm4gbShTdHJpbmcobikpKCk7CiAgICAgIH0sCiAgICAgIG9yOiBmdW5jdGlvbiBvcihlKSB7CiAgICAgICAgcmV0dXJuIGU7CiAgICAgIH0sCiAgICAgIG9yVGh1bms6IGZ1bmN0aW9uIG9yVGh1bmsoZSkgewogICAgICAgIHJldHVybiBlKCk7CiAgICAgIH0sCiAgICAgIGZvbGQ6IGZ1bmN0aW9uIGZvbGQoZSwgdCkgewogICAgICAgIHJldHVybiBlKG4pOwogICAgICB9LAogICAgICBtYXA6IGZ1bmN0aW9uIG1hcChlKSB7CiAgICAgICAgcmV0dXJuIHlyKG4pOwogICAgICB9LAogICAgICBtYXBFcnJvcjogZnVuY3Rpb24gbWFwRXJyb3IoZSkgewogICAgICAgIHJldHVybiB5cihlKG4pKTsKICAgICAgfSwKICAgICAgZWFjaDogViwKICAgICAgYmluZDogZnVuY3Rpb24gYmluZChlKSB7CiAgICAgICAgcmV0dXJuIHlyKG4pOwogICAgICB9LAogICAgICBleGlzdHM6IEMsCiAgICAgIGZvcmFsbDogaywKICAgICAgdG9PcHRpb25hbDogVS5ub25lCiAgICB9OwogIH0sCiAgICAgIGJyID0gewogICAgdmFsdWU6IHZyLAogICAgZXJyb3I6IHlyLAogICAgZnJvbU9wdGlvbjogZnVuY3Rpb24gZnJvbU9wdGlvbihlLCB0KSB7CiAgICAgIHJldHVybiBlLmZvbGQoZnVuY3Rpb24gKCkgewogICAgICAgIHJldHVybiB5cih0KTsKICAgICAgfSwgdnIpOwogICAgfQogIH0sCiAgICAgIENyID0gZnVuY3Rpb24gQ3IoYSkgewogICAgaWYgKCFTKGEpKSB0aHJvdyBuZXcgRXJyb3IoImNhc2VzIG11c3QgYmUgYW4gYXJyYXkiKTsKICAgIGlmICgwID09PSBhLmxlbmd0aCkgdGhyb3cgbmV3IEVycm9yKCJ0aGVyZSBtdXN0IGJlIGF0IGxlYXN0IG9uZSBjYXNlIik7CiAgICB2YXIgdSA9IFtdLAogICAgICAgIG4gPSB7fTsKICAgIHJldHVybiBXKGEsIGZ1bmN0aW9uIChlLCByKSB7CiAgICAgIHZhciB0ID0gaWUoZSk7CiAgICAgIGlmICgxICE9PSB0Lmxlbmd0aCkgdGhyb3cgbmV3IEVycm9yKCJvbmUgYW5kIG9ubHkgb25lIG5hbWUgcGVyIGNhc2UiKTsKICAgICAgdmFyIG8gPSB0WzBdLAogICAgICAgICAgaSA9IGVbb107CiAgICAgIGlmIChuW29dICE9PSB1bmRlZmluZWQpIHRocm93IG5ldyBFcnJvcigiZHVwbGljYXRlIGtleSBkZXRlY3RlZDoiICsgbyk7CiAgICAgIGlmICgiY2F0YSIgPT09IG8pIHRocm93IG5ldyBFcnJvcigiY2Fubm90IGhhdmUgYSBjYXNlIG5hbWVkIGNhdGEgKHNvcnJ5KSIpOwogICAgICBpZiAoIVMoaSkpIHRocm93IG5ldyBFcnJvcigiY2FzZSBhcmd1bWVudHMgbXVzdCBiZSBhbiBhcnJheSIpOwogICAgICB1LnB1c2gobyksIG5bb10gPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgdmFyIGUgPSBhcmd1bWVudHMubGVuZ3RoOwogICAgICAgIGlmIChlICE9PSBpLmxlbmd0aCkgdGhyb3cgbmV3IEVycm9yKCJXcm9uZyBudW1iZXIgb2YgYXJndW1lbnRzIHRvIGNhc2UgIiArIG8gKyAiLiBFeHBlY3RlZCAiICsgaS5sZW5ndGggKyAiICgiICsgaSArICIpLCBnb3QgIiArIGUpOwoKICAgICAgICBmb3IgKHZhciBuID0gbmV3IEFycmF5KGUpLCB0ID0gMDsgdCA8IG4ubGVuZ3RoOyB0KyspIHsKICAgICAgICAgIG5bdF0gPSBhcmd1bWVudHNbdF07CiAgICAgICAgfQoKICAgICAgICByZXR1cm4gewogICAgICAgICAgZm9sZDogZnVuY3Rpb24gZm9sZCgpIHsKICAgICAgICAgICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggIT09IGEubGVuZ3RoKSB0aHJvdyBuZXcgRXJyb3IoIldyb25nIG51bWJlciBvZiBhcmd1bWVudHMgdG8gZm9sZC4gRXhwZWN0ZWQgIiArIGEubGVuZ3RoICsgIiwgZ290ICIgKyBhcmd1bWVudHMubGVuZ3RoKTsKICAgICAgICAgICAgcmV0dXJuIGFyZ3VtZW50c1tyXS5hcHBseShudWxsLCBuKTsKICAgICAgICAgIH0sCiAgICAgICAgICBtYXRjaDogZnVuY3Rpb24gbWF0Y2goZSkgewogICAgICAgICAgICB2YXIgdCA9IGllKGUpOwogICAgICAgICAgICBpZiAodS5sZW5ndGggIT09IHQubGVuZ3RoKSB0aHJvdyBuZXcgRXJyb3IoIldyb25nIG51bWJlciBvZiBhcmd1bWVudHMgdG8gbWF0Y2guIEV4cGVjdGVkOiAiICsgdS5qb2luKCIsIikgKyAiXG5BY3R1YWw6ICIgKyB0LmpvaW4oIiwiKSk7CiAgICAgICAgICAgIGlmICghUSh1LCBmdW5jdGlvbiAoZSkgewogICAgICAgICAgICAgIHJldHVybiBNKHQsIGUpOwogICAgICAgICAgICB9KSkgdGhyb3cgbmV3IEVycm9yKCJOb3QgYWxsIGJyYW5jaGVzIHdlcmUgc3BlY2lmaWVkIHdoZW4gdXNpbmcgbWF0Y2guIFNwZWNpZmllZDogIiArIHQuam9pbigiLCAiKSArICJcblJlcXVpcmVkOiAiICsgdS5qb2luKCIsICIpKTsKICAgICAgICAgICAgcmV0dXJuIGVbb10uYXBwbHkobnVsbCwgbik7CiAgICAgICAgICB9LAogICAgICAgICAgbG9nOiBmdW5jdGlvbiBsb2coZSkgewogICAgICAgICAgICBjb25zb2xlLmxvZyhlLCB7CiAgICAgICAgICAgICAgY29uc3RydWN0b3JzOiB1LAogICAgICAgICAgICAgIGNvbnN0cnVjdG9yOiBvLAogICAgICAgICAgICAgIHBhcmFtczogbgogICAgICAgICAgICB9KTsKICAgICAgICAgIH0KICAgICAgICB9OwogICAgICB9OwogICAgfSksIG47CiAgfSwKICAgICAgd3IgPSAoQ3IoW3sKICAgIGJvdGhFcnJvcnM6IFsiZXJyb3IxIiwgImVycm9yMiJdCiAgfSwgewogICAgZmlyc3RFcnJvcjogWyJlcnJvcjEiLCAidmFsdWUyIl0KICB9LCB7CiAgICBzZWNvbmRFcnJvcjogWyJ2YWx1ZTEiLCAiZXJyb3IyIl0KICB9LCB7CiAgICBib3RoVmFsdWVzOiBbInZhbHVlMSIsICJ2YWx1ZTIiXQogIH1dKSwgZnVuY3Rpb24gKGUpIHsKICAgIHJldHVybiBlLmZvbGQobywgbyk7CiAgfSk7CgogIGZ1bmN0aW9uIHhyKGUsIHQsIG4sIHIsIG8pIHsKICAgIHJldHVybiBlKG4sIHIpID8gVS5zb21lKG4pIDogVChvKSAmJiBvKG4pID8gVS5ub25lKCkgOiB0KG4sIHIsIG8pOwogIH0KCiAgdmFyIFNyLAogICAgICBOciwKICAgICAgRXIsCiAgICAgIGtyLAogICAgICBfciA9IGZ1bmN0aW9uIF9yKGUsIHQsIG4pIHsKICAgIGZvciAodmFyIHIgPSBlLmRvbSwgbyA9IFQobikgPyBuIDogQzsgci5wYXJlbnROb2RlOykgewogICAgICByID0gci5wYXJlbnROb2RlOwogICAgICB2YXIgaSA9IEF0LmZyb21Eb20ocik7CiAgICAgIGlmICh0KGkpKSByZXR1cm4gVS5zb21lKGkpOwogICAgICBpZiAobyhpKSkgYnJlYWs7CiAgICB9CgogICAgcmV0dXJuIFUubm9uZSgpOwogIH0sCiAgICAgIEFyID0gZnVuY3Rpb24gQXIoZSwgdCwgbikgewogICAgcmV0dXJuIHhyKGZ1bmN0aW9uIChlLCB0KSB7CiAgICAgIHJldHVybiB0KGUpOwogICAgfSwgX3IsIGUsIHQsIG4pOwogIH0sCiAgICAgIFJyID0gZnVuY3Rpb24gUnIoZSwgdCkgewogICAgcmV0dXJuIFkoZS5kb20uY2hpbGROb2RlcywgZnVuY3Rpb24gKGUpIHsKICAgICAgcmV0dXJuIHQoQXQuZnJvbURvbShlKSk7CiAgICB9KS5tYXAoQXQuZnJvbURvbSk7CiAgfSwKICAgICAgVHIgPSBmdW5jdGlvbiBUcihlLCB0LCBuKSB7CiAgICByZXR1cm4gX3IoZSwgZnVuY3Rpb24gKGUpIHsKICAgICAgcmV0dXJuIFR0KGUsIHQpOwogICAgfSwgbik7CiAgfSwKICAgICAgRHIgPSBmdW5jdGlvbiBEcihlLCB0KSB7CiAgICByZXR1cm4gbiA9IHQsIG8gPSAociA9IGUpID09PSB1bmRlZmluZWQgPyBkb2N1bWVudCA6IHIuZG9tLCBEdChvKSA/IFUubm9uZSgpIDogVS5mcm9tKG8ucXVlcnlTZWxlY3RvcihuKSkubWFwKEF0LmZyb21Eb20pOwogICAgdmFyIG4sIHIsIG87CiAgfSwKICAgICAgT3IgPSBmdW5jdGlvbiBPcihlLCB0LCBuKSB7CiAgICByZXR1cm4geHIoVHQsIFRyLCBlLCB0LCBuKTsKICB9LAogICAgICBCciA9IHdpbmRvdy5Qcm9taXNlID8gd2luZG93LlByb21pc2UgOiAoU3IgPSBBcnJheS5pc0FycmF5IHx8IGZ1bmN0aW9uIChlKSB7CiAgICByZXR1cm4gIltvYmplY3QgQXJyYXldIiA9PT0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGUpOwogIH0sIEVyID0gKE5yID0gZnVuY3Rpb24gTnIoZSkgewogICAgaWYgKCJvYmplY3QiICE9IF90eXBlb2YodGhpcykpIHRocm93IG5ldyBUeXBlRXJyb3IoIlByb21pc2VzIG11c3QgYmUgY29uc3RydWN0ZWQgdmlhIG5ldyIpOwogICAgaWYgKCJmdW5jdGlvbiIgIT0gdHlwZW9mIGUpIHRocm93IG5ldyBUeXBlRXJyb3IoIm5vdCBhIGZ1bmN0aW9uIik7CiAgICB0aGlzLl9zdGF0ZSA9IG51bGwsIHRoaXMuX3ZhbHVlID0gbnVsbCwgdGhpcy5fZGVmZXJyZWRzID0gW10sIHpyKGUsIFByKElyLCB0aGlzKSwgUHIoTXIsIHRoaXMpKTsKICB9KS5pbW1lZGlhdGVGbiB8fCAiZnVuY3Rpb24iID09IHR5cGVvZiBzZXRJbW1lZGlhdGUgJiYgc2V0SW1tZWRpYXRlIHx8IGZ1bmN0aW9uIChlKSB7CiAgICBzZXRUaW1lb3V0KGUsIDEpOwogIH0sIE5yLnByb3RvdHlwZVsiY2F0Y2giXSA9IGZ1bmN0aW9uIChlKSB7CiAgICByZXR1cm4gdGhpcy50aGVuKG51bGwsIGUpOwogIH0sIE5yLnByb3RvdHlwZS50aGVuID0gZnVuY3Rpb24gKG4sIHIpIHsKICAgIHZhciBvID0gdGhpczsKICAgIHJldHVybiBuZXcgTnIoZnVuY3Rpb24gKGUsIHQpIHsKICAgICAgTHIuY2FsbChvLCBuZXcgVXIobiwgciwgZSwgdCkpOwogICAgfSk7CiAgfSwgTnIuYWxsID0gZnVuY3Rpb24gKCkgewogICAgdmFyIHMgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbCgxID09PSBhcmd1bWVudHMubGVuZ3RoICYmIFNyKGFyZ3VtZW50c1swXSkgPyBhcmd1bWVudHNbMF0gOiBhcmd1bWVudHMpOwogICAgcmV0dXJuIG5ldyBOcihmdW5jdGlvbiAobywgaSkgewogICAgICBpZiAoMCA9PT0gcy5sZW5ndGgpIHJldHVybiBvKFtdKTsKCiAgICAgIGZvciAodmFyIGEgPSBzLmxlbmd0aCwgZSA9IDA7IGUgPCBzLmxlbmd0aDsgZSsrKSB7CiAgICAgICAgIWZ1bmN0aW9uIHUodCwgZSkgewogICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgaWYgKGUgJiYgKCJvYmplY3QiID09IF90eXBlb2YoZSkgfHwgImZ1bmN0aW9uIiA9PSB0eXBlb2YgZSkpIHsKICAgICAgICAgICAgICB2YXIgbiA9IGUudGhlbjsKICAgICAgICAgICAgICBpZiAoImZ1bmN0aW9uIiA9PSB0eXBlb2YgbikgcmV0dXJuIHZvaWQgbi5jYWxsKGUsIGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICAgICAgICB1KHQsIGUpOwogICAgICAgICAgICAgIH0sIGkpOwogICAgICAgICAgICB9CgogICAgICAgICAgICBzW3RdID0gZSwgMCA9PSAtLWEgJiYgbyhzKTsKICAgICAgICAgIH0gY2F0Y2ggKHIpIHsKICAgICAgICAgICAgaShyKTsKICAgICAgICAgIH0KICAgICAgICB9KGUsIHNbZV0pOwogICAgICB9CiAgICB9KTsKICB9LCBOci5yZXNvbHZlID0gZnVuY3Rpb24gKHQpIHsKICAgIHJldHVybiB0ICYmICJvYmplY3QiID09IF90eXBlb2YodCkgJiYgdC5jb25zdHJ1Y3RvciA9PT0gTnIgPyB0IDogbmV3IE5yKGZ1bmN0aW9uIChlKSB7CiAgICAgIGUodCk7CiAgICB9KTsKICB9LCBOci5yZWplY3QgPSBmdW5jdGlvbiAobikgewogICAgcmV0dXJuIG5ldyBOcihmdW5jdGlvbiAoZSwgdCkgewogICAgICB0KG4pOwogICAgfSk7CiAgfSwgTnIucmFjZSA9IGZ1bmN0aW9uIChvKSB7CiAgICByZXR1cm4gbmV3IE5yKGZ1bmN0aW9uIChlLCB0KSB7CiAgICAgIGZvciAodmFyIG4gPSAwLCByID0gby5sZW5ndGg7IG4gPCByOyBuKyspIHsKICAgICAgICBvW25dLnRoZW4oZSwgdCk7CiAgICAgIH0KICAgIH0pOwogIH0sIE5yKTsKCiAgZnVuY3Rpb24gUHIoZSwgdCkgewogICAgcmV0dXJuIGZ1bmN0aW9uICgpIHsKICAgICAgZS5hcHBseSh0LCBhcmd1bWVudHMpOwogICAgfTsKICB9CgogIGZ1bmN0aW9uIExyKHIpIHsKICAgIHZhciBvID0gdGhpczsKICAgIG51bGwgIT09IHRoaXMuX3N0YXRlID8gRXIoZnVuY3Rpb24gKCkgewogICAgICB2YXIgZSwKICAgICAgICAgIHQgPSBvLl9zdGF0ZSA/IHIub25GdWxmaWxsZWQgOiByLm9uUmVqZWN0ZWQ7CgogICAgICBpZiAobnVsbCAhPT0gdCkgewogICAgICAgIHRyeSB7CiAgICAgICAgICBlID0gdChvLl92YWx1ZSk7CiAgICAgICAgfSBjYXRjaCAobikgewogICAgICAgICAgcmV0dXJuIHZvaWQgci5yZWplY3Qobik7CiAgICAgICAgfQoKICAgICAgICByLnJlc29sdmUoZSk7CiAgICAgIH0gZWxzZSAoby5fc3RhdGUgPyByLnJlc29sdmUgOiByLnJlamVjdCkoby5fdmFsdWUpOwogICAgfSkgOiB0aGlzLl9kZWZlcnJlZHMucHVzaChyKTsKICB9CgogIGZ1bmN0aW9uIElyKGUpIHsKICAgIHRyeSB7CiAgICAgIGlmIChlID09PSB0aGlzKSB0aHJvdyBuZXcgVHlwZUVycm9yKCJBIHByb21pc2UgY2Fubm90IGJlIHJlc29sdmVkIHdpdGggaXRzZWxmLiIpOwoKICAgICAgaWYgKGUgJiYgKCJvYmplY3QiID09IF90eXBlb2YoZSkgfHwgImZ1bmN0aW9uIiA9PSB0eXBlb2YgZSkpIHsKICAgICAgICB2YXIgdCA9IGUudGhlbjsKICAgICAgICBpZiAoImZ1bmN0aW9uIiA9PSB0eXBlb2YgdCkgcmV0dXJuIHZvaWQgenIoUHIodCwgZSksIFByKElyLCB0aGlzKSwgUHIoTXIsIHRoaXMpKTsKICAgICAgfQoKICAgICAgdGhpcy5fc3RhdGUgPSAhMCwgdGhpcy5fdmFsdWUgPSBlLCBGci5jYWxsKHRoaXMpOwogICAgfSBjYXRjaCAobikgewogICAgICBNci5jYWxsKHRoaXMsIG4pOwogICAgfQogIH0KCiAgZnVuY3Rpb24gTXIoZSkgewogICAgdGhpcy5fc3RhdGUgPSAhMSwgdGhpcy5fdmFsdWUgPSBlLCBGci5jYWxsKHRoaXMpOwogIH0KCiAgZnVuY3Rpb24gRnIoKSB7CiAgICBmb3IgKHZhciBlID0gMCwgdCA9IHRoaXMuX2RlZmVycmVkcy5sZW5ndGg7IGUgPCB0OyBlKyspIHsKICAgICAgTHIuY2FsbCh0aGlzLCB0aGlzLl9kZWZlcnJlZHNbZV0pOwogICAgfQoKICAgIHRoaXMuX2RlZmVycmVkcyA9IG51bGw7CiAgfQoKICBmdW5jdGlvbiBVcihlLCB0LCBuLCByKSB7CiAgICB0aGlzLm9uRnVsZmlsbGVkID0gImZ1bmN0aW9uIiA9PSB0eXBlb2YgZSA/IGUgOiBudWxsLCB0aGlzLm9uUmVqZWN0ZWQgPSAiZnVuY3Rpb24iID09IHR5cGVvZiB0ID8gdCA6IG51bGwsIHRoaXMucmVzb2x2ZSA9IG4sIHRoaXMucmVqZWN0ID0gcjsKICB9CgogIGZ1bmN0aW9uIHpyKGUsIHQsIG4pIHsKICAgIHZhciByID0gITE7CgogICAgdHJ5IHsKICAgICAgZShmdW5jdGlvbiAoZSkgewogICAgICAgIHIgfHwgKHIgPSAhMCwgdChlKSk7CiAgICAgIH0sIGZ1bmN0aW9uIChlKSB7CiAgICAgICAgciB8fCAociA9ICEwLCBuKGUpKTsKICAgICAgfSk7CiAgICB9IGNhdGNoIChvKSB7CiAgICAgIGlmIChyKSByZXR1cm47CiAgICAgIHIgPSAhMCwgbihvKTsKICAgIH0KICB9CgogIHZhciBqciA9IGZ1bmN0aW9uIGpyKGUsIHQpIHsKICAgIHJldHVybiAibnVtYmVyIiAhPSB0eXBlb2YgdCAmJiAodCA9IDApLCBzZXRUaW1lb3V0KGUsIHQpOwogIH0sCiAgICAgIEhyID0gZnVuY3Rpb24gSHIoZSwgdCkgewogICAgcmV0dXJuICJudW1iZXIiICE9IHR5cGVvZiB0ICYmICh0ID0gMSksIHNldEludGVydmFsKGUsIHQpOwogIH0sCiAgICAgIFZyID0gZnVuY3Rpb24gVnIobiwgcikgewogICAgdmFyIG8sCiAgICAgICAgZSA9IGZ1bmN0aW9uIGUoKSB7CiAgICAgIGZvciAodmFyIGUgPSBbXSwgdCA9IDA7IHQgPCBhcmd1bWVudHMubGVuZ3RoOyB0KyspIHsKICAgICAgICBlW3RdID0gYXJndW1lbnRzW3RdOwogICAgICB9CgogICAgICBjbGVhclRpbWVvdXQobyksIG8gPSBqcihmdW5jdGlvbiAoKSB7CiAgICAgICAgbi5hcHBseSh0aGlzLCBlKTsKICAgICAgfSwgcik7CiAgICB9OwoKICAgIHJldHVybiBlLnN0b3AgPSBmdW5jdGlvbiAoKSB7CiAgICAgIGNsZWFyVGltZW91dChvKTsKICAgIH0sIGU7CiAgfSwKICAgICAgcXIgPSB7CiAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWU6IGZ1bmN0aW9uIHJlcXVlc3RBbmltYXRpb25GcmFtZShlLCB0KSB7CiAgICAgIGtyID8ga3IudGhlbihlKSA6IGtyID0gbmV3IEJyKGZ1bmN0aW9uIChlKSB7CiAgICAgICAgIWZ1bmN0aW9uIChlLCB0KSB7CiAgICAgICAgICBmb3IgKHZhciBuID0gd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZSwgciA9IFsibXMiLCAibW96IiwgIndlYmtpdCJdLCBvID0gMDsgbyA8IHIubGVuZ3RoICYmICFuOyBvKyspIHsKICAgICAgICAgICAgbiA9IHdpbmRvd1tyW29dICsgIlJlcXVlc3RBbmltYXRpb25GcmFtZSJdOwogICAgICAgICAgfQoKICAgICAgICAgIChuID0gbiB8fCBmdW5jdGlvbiAoZSkgewogICAgICAgICAgICB3aW5kb3cuc2V0VGltZW91dChlLCAwKTsKICAgICAgICAgIH0pKGUsIHQpOwogICAgICAgIH0oZSwgdCA9IHQgfHwgZG9jdW1lbnQuYm9keSk7CiAgICAgIH0pLnRoZW4oZSk7CiAgICB9LAogICAgc2V0VGltZW91dDoganIsCiAgICBzZXRJbnRlcnZhbDogSHIsCiAgICBzZXRFZGl0b3JUaW1lb3V0OiBmdW5jdGlvbiBzZXRFZGl0b3JUaW1lb3V0KGUsIHQsIG4pIHsKICAgICAgcmV0dXJuIGpyKGZ1bmN0aW9uICgpIHsKICAgICAgICBlLnJlbW92ZWQgfHwgdCgpOwogICAgICB9LCBuKTsKICAgIH0sCiAgICBzZXRFZGl0b3JJbnRlcnZhbDogZnVuY3Rpb24gc2V0RWRpdG9ySW50ZXJ2YWwoZSwgdCwgbikgewogICAgICB2YXIgciA9IEhyKGZ1bmN0aW9uICgpIHsKICAgICAgICBlLnJlbW92ZWQgPyBjbGVhckludGVydmFsKHIpIDogdCgpOwogICAgICB9LCBuKTsKICAgICAgcmV0dXJuIHI7CiAgICB9LAogICAgZGVib3VuY2U6IFZyLAogICAgdGhyb3R0bGU6IFZyLAogICAgY2xlYXJJbnRlcnZhbDogZnVuY3Rpb24gKF9jbGVhckludGVydmFsKSB7CiAgICAgIGZ1bmN0aW9uIGNsZWFySW50ZXJ2YWwoX3gyKSB7CiAgICAgICAgcmV0dXJuIF9jbGVhckludGVydmFsLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgIH0KCiAgICAgIGNsZWFySW50ZXJ2YWwudG9TdHJpbmcgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgcmV0dXJuIF9jbGVhckludGVydmFsLnRvU3RyaW5nKCk7CiAgICAgIH07CgogICAgICByZXR1cm4gY2xlYXJJbnRlcnZhbDsKICAgIH0oZnVuY3Rpb24gKGUpIHsKICAgICAgcmV0dXJuIGNsZWFySW50ZXJ2YWwoZSk7CiAgICB9KSwKICAgIGNsZWFyVGltZW91dDogZnVuY3Rpb24gKF9jbGVhclRpbWVvdXQpIHsKICAgICAgZnVuY3Rpb24gY2xlYXJUaW1lb3V0KF94MykgewogICAgICAgIHJldHVybiBfY2xlYXJUaW1lb3V0LmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgIH0KCiAgICAgIGNsZWFyVGltZW91dC50b1N0cmluZyA9IGZ1bmN0aW9uICgpIHsKICAgICAgICByZXR1cm4gX2NsZWFyVGltZW91dC50b1N0cmluZygpOwogICAgICB9OwoKICAgICAgcmV0dXJuIGNsZWFyVGltZW91dDsKICAgIH0oZnVuY3Rpb24gKGUpIHsKICAgICAgcmV0dXJuIGNsZWFyVGltZW91dChlKTsKICAgIH0pCiAgfTsKCiAgZnVuY3Rpb24gJHIobSwgcCkgewogICAgdm9pZCAwID09PSBwICYmIChwID0ge30pOwoKICAgIHZhciBnID0gMCwKICAgICAgICBoID0ge30sCiAgICAgICAgdiA9IEF0LmZyb21Eb20obSksCiAgICAgICAgeSA9IFZ0KHYpLAogICAgICAgIGIgPSBwLm1heExvYWRUaW1lIHx8IDVlMywKICAgICAgICBuID0gZnVuY3Rpb24gbihlLCB0LCBfbjIpIHsKICAgICAgdmFyIHIsCiAgICAgICAgICBvID0ga3QuX2FkZENhY2hlU3VmZml4KGUpLAogICAgICAgICAgaSA9IGdlKGgsIG8pLmdldE9yVGh1bmsoZnVuY3Rpb24gKCkgewogICAgICAgIHJldHVybiB7CiAgICAgICAgICBpZDogIm1jZS11IiArIGcrKywKICAgICAgICAgIHBhc3NlZDogW10sCiAgICAgICAgICBmYWlsZWQ6IFtdLAogICAgICAgICAgY291bnQ6IDAKICAgICAgICB9OwogICAgICB9KTsKCiAgICAgIChoW29dID0gaSkuY291bnQrKzsKCiAgICAgIHZhciBhLAogICAgICAgICAgdSwKICAgICAgICAgIHMsCiAgICAgICAgICBjID0gZnVuY3Rpb24gYyhlLCB0KSB7CiAgICAgICAgZm9yICh2YXIgbiA9IGUubGVuZ3RoOyBuLS07KSB7CiAgICAgICAgICBlW25dKCk7CiAgICAgICAgfQoKICAgICAgICBpLnN0YXR1cyA9IHQsIGkucGFzc2VkID0gW10sIGkuZmFpbGVkID0gW10sIHIgJiYgKHIub25sb2FkID0gbnVsbCwgci5vbmVycm9yID0gbnVsbCwgciA9IG51bGwpOwogICAgICB9LAogICAgICAgICAgbCA9IGZ1bmN0aW9uIGwoKSB7CiAgICAgICAgcmV0dXJuIGMoaS5wYXNzZWQsIDIpOwogICAgICB9LAogICAgICAgICAgZiA9IGZ1bmN0aW9uIGYoKSB7CiAgICAgICAgcmV0dXJuIGMoaS5mYWlsZWQsIDMpOwogICAgICB9LAogICAgICAgICAgZCA9IGZ1bmN0aW9uIGQoKSB7CiAgICAgICAgdmFyIGU7CiAgICAgICAgZSA9IGQsIGZ1bmN0aW9uICgpIHsKICAgICAgICAgIGZvciAodmFyIGUgPSBtLnN0eWxlU2hlZXRzLCB0ID0gZS5sZW5ndGg7IHQtLTspIHsKICAgICAgICAgICAgdmFyIG4gPSBlW3RdLm93bmVyTm9kZTsKICAgICAgICAgICAgaWYgKG4gJiYgbi5pZCA9PT0gci5pZCkgcmV0dXJuIGwoKSwgMTsKICAgICAgICAgIH0KICAgICAgICB9KCkgfHwgKERhdGUubm93KCkgLSB1IDwgYiA/IHFyLnNldFRpbWVvdXQoZSkgOiBmKCkpOwogICAgICB9OwoKICAgICAgdCAmJiBpLnBhc3NlZC5wdXNoKHQpLCBfbjIgJiYgaS5mYWlsZWQucHVzaChfbjIpLCAxICE9PSBpLnN0YXR1cyAmJiAoMiAhPT0gaS5zdGF0dXMgPyAzICE9PSBpLnN0YXR1cyA/IChpLnN0YXR1cyA9IDEsIGEgPSBBdC5mcm9tVGFnKCJsaW5rIiwgeS5kb20pLCBZbihhLCB7CiAgICAgICAgcmVsOiAic3R5bGVzaGVldCIsCiAgICAgICAgdHlwZTogInRleHQvY3NzIiwKICAgICAgICBpZDogaS5pZAogICAgICB9KSwgdSA9IERhdGUubm93KCksIHAuY29udGVudENzc0NvcnMgJiYgWG4oYSwgImNyb3NzT3JpZ2luIiwgImFub255bW91cyIpLCBwLnJlZmVycmVyUG9saWN5ICYmIFhuKGEsICJyZWZlcnJlcnBvbGljeSIsIHAucmVmZXJyZXJQb2xpY3kpLCAociA9IGEuZG9tKS5vbmxvYWQgPSBkLCByLm9uZXJyb3IgPSBmLCBzID0gYSwgZm4ob24odiksIHMpLCBYbihhLCAiaHJlZiIsIG8pKSA6IGYoKSA6IGwoKSk7CiAgICB9LAogICAgICAgIG8gPSBmdW5jdGlvbiBvKHQpIHsKICAgICAgcmV0dXJuIGdyKGZ1bmN0aW9uIChlKSB7CiAgICAgICAgbih0LCBhKGUsIEUoYnIudmFsdWUodCkpKSwgYShlLCBFKGJyLmVycm9yKHQpKSkpOwogICAgICB9KTsKICAgIH0sCiAgICAgICAgdCA9IGZ1bmN0aW9uIHQoZSkgewogICAgICB2YXIgciA9IGt0Ll9hZGRDYWNoZVN1ZmZpeChlKTsKCiAgICAgIGdlKGgsIHIpLmVhY2goZnVuY3Rpb24gKGUpIHsKICAgICAgICB2YXIgdCwgbjsKICAgICAgICAwID09IC0tZS5jb3VudCAmJiAoZGVsZXRlIGhbcl0sIHQgPSBlLmlkLCBuID0gb24odiksIERyKG4sICIjIiArIHQpLmVhY2gocG4pKTsKICAgICAgfSk7CiAgICB9OwoKICAgIHJldHVybiB7CiAgICAgIGxvYWQ6IG4sCiAgICAgIGxvYWRBbGw6IGZ1bmN0aW9uIGxvYWRBbGwoZSwgbiwgcikgewogICAgICAgIHZhciB0OwogICAgICAgIHQgPSB6KGUsIG8pLCBocih0LCBncikuZ2V0KGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICB2YXIgdCA9IGZ1bmN0aW9uIChlLCB0KSB7CiAgICAgICAgICAgIGZvciAodmFyIG4gPSBbXSwgciA9IFtdLCBvID0gMCwgaSA9IGUubGVuZ3RoOyBvIDwgaTsgbysrKSB7CiAgICAgICAgICAgICAgdmFyIGEgPSBlW29dOwogICAgICAgICAgICAgICh0KGEsIG8pID8gbiA6IHIpLnB1c2goYSk7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIHJldHVybiB7CiAgICAgICAgICAgICAgcGFzczogbiwKICAgICAgICAgICAgICBmYWlsOiByCiAgICAgICAgICAgIH07CiAgICAgICAgICB9KGUsIGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICAgIHJldHVybiBlLmlzVmFsdWUoKTsKICAgICAgICAgIH0pOwoKICAgICAgICAgIDAgPCB0LmZhaWwubGVuZ3RoID8gcih0LmZhaWwubWFwKHdyKSkgOiBuKHQucGFzcy5tYXAod3IpKTsKICAgICAgICB9KTsKICAgICAgfSwKICAgICAgdW5sb2FkOiB0LAogICAgICB1bmxvYWRBbGw6IGZ1bmN0aW9uIHVubG9hZEFsbChlKSB7CiAgICAgICAgVyhlLCBmdW5jdGlvbiAoZSkgewogICAgICAgICAgdChlKTsKICAgICAgICB9KTsKICAgICAgfSwKICAgICAgX3NldFJlZmVycmVyUG9saWN5OiBmdW5jdGlvbiBfc2V0UmVmZXJyZXJQb2xpY3koZSkgewogICAgICAgIHAucmVmZXJyZXJQb2xpY3kgPSBlOwogICAgICB9CiAgICB9OwogIH0KCiAgdmFyIFdyLAogICAgICBLciA9IChXciA9IG5ldyBXZWFrTWFwKCksIHsKICAgIGZvckVsZW1lbnQ6IGZ1bmN0aW9uIGZvckVsZW1lbnQoZSwgdCkgewogICAgICB2YXIgbiA9IHJuKGUpLmRvbTsKICAgICAgcmV0dXJuIFUuZnJvbShXci5nZXQobikpLmdldE9yVGh1bmsoZnVuY3Rpb24gKCkgewogICAgICAgIHZhciBlID0gJHIobiwgdCk7CiAgICAgICAgcmV0dXJuIFdyLnNldChuLCBlKSwgZTsKICAgICAgfSk7CiAgICB9CiAgfSksCiAgICAgIFhyID0gKFlyLnByb3RvdHlwZS5jdXJyZW50ID0gZnVuY3Rpb24gKCkgewogICAgcmV0dXJuIHRoaXMubm9kZTsKICB9LCBZci5wcm90b3R5cGUubmV4dCA9IGZ1bmN0aW9uIChlKSB7CiAgICByZXR1cm4gdGhpcy5ub2RlID0gdGhpcy5maW5kU2libGluZyh0aGlzLm5vZGUsICJmaXJzdENoaWxkIiwgIm5leHRTaWJsaW5nIiwgZSksIHRoaXMubm9kZTsKICB9LCBZci5wcm90b3R5cGUucHJldiA9IGZ1bmN0aW9uIChlKSB7CiAgICByZXR1cm4gdGhpcy5ub2RlID0gdGhpcy5maW5kU2libGluZyh0aGlzLm5vZGUsICJsYXN0Q2hpbGQiLCAicHJldmlvdXNTaWJsaW5nIiwgZSksIHRoaXMubm9kZTsKICB9LCBZci5wcm90b3R5cGUucHJldjIgPSBmdW5jdGlvbiAoZSkgewogICAgcmV0dXJuIHRoaXMubm9kZSA9IHRoaXMuZmluZFByZXZpb3VzTm9kZSh0aGlzLm5vZGUsICJsYXN0Q2hpbGQiLCAicHJldmlvdXNTaWJsaW5nIiwgZSksIHRoaXMubm9kZTsKICB9LCBZci5wcm90b3R5cGUuZmluZFNpYmxpbmcgPSBmdW5jdGlvbiAoZSwgdCwgbiwgcikgewogICAgdmFyIG8sIGk7CgogICAgaWYgKGUpIHsKICAgICAgaWYgKCFyICYmIGVbdF0pIHJldHVybiBlW3RdOwoKICAgICAgaWYgKGUgIT09IHRoaXMucm9vdE5vZGUpIHsKICAgICAgICBpZiAobyA9IGVbbl0pIHJldHVybiBvOwoKICAgICAgICBmb3IgKGkgPSBlLnBhcmVudE5vZGU7IGkgJiYgaSAhPT0gdGhpcy5yb290Tm9kZTsgaSA9IGkucGFyZW50Tm9kZSkgewogICAgICAgICAgaWYgKG8gPSBpW25dKSByZXR1cm4gbzsKICAgICAgICB9CiAgICAgIH0KICAgIH0KICB9LCBZci5wcm90b3R5cGUuZmluZFByZXZpb3VzTm9kZSA9IGZ1bmN0aW9uIChlLCB0LCBuLCByKSB7CiAgICB2YXIgbywgaSwgYTsKCiAgICBpZiAoZSkgewogICAgICBpZiAobyA9IGVbbl0sIHRoaXMucm9vdE5vZGUgJiYgbyA9PT0gdGhpcy5yb290Tm9kZSkgcmV0dXJuOwoKICAgICAgaWYgKG8pIHsKICAgICAgICBpZiAoIXIpIGZvciAoYSA9IG9bdF07IGE7IGEgPSBhW3RdKSB7CiAgICAgICAgICBpZiAoIWFbdF0pIHJldHVybiBhOwogICAgICAgIH0KICAgICAgICByZXR1cm4gbzsKICAgICAgfQoKICAgICAgaWYgKChpID0gZS5wYXJlbnROb2RlKSAmJiBpICE9PSB0aGlzLnJvb3ROb2RlKSByZXR1cm4gaTsKICAgIH0KICB9LCBZcik7CgogIGZ1bmN0aW9uIFlyKGUsIHQpIHsKICAgIHRoaXMubm9kZSA9IGUsIHRoaXMucm9vdE5vZGUgPSB0LCB0aGlzLmN1cnJlbnQgPSB0aGlzLmN1cnJlbnQuYmluZCh0aGlzKSwgdGhpcy5uZXh0ID0gdGhpcy5uZXh0LmJpbmQodGhpcyksIHRoaXMucHJldiA9IHRoaXMucHJldi5iaW5kKHRoaXMpLCB0aGlzLnByZXYyID0gdGhpcy5wcmV2Mi5iaW5kKHRoaXMpOwogIH0KCiAgdmFyIEdyLAogICAgICBKciwKICAgICAgUXIgPSBmdW5jdGlvbiBRcih0KSB7CiAgICB2YXIgbjsKICAgIHJldHVybiBmdW5jdGlvbiAoZSkgewogICAgICByZXR1cm4gKG4gPSBuIHx8IGZ1bmN0aW9uIChlLCB0KSB7CiAgICAgICAgZm9yICh2YXIgbiA9IHt9LCByID0gMCwgbyA9IGUubGVuZ3RoOyByIDwgbzsgcisrKSB7CiAgICAgICAgICB2YXIgaSA9IGVbcl07CiAgICAgICAgICBuW1N0cmluZyhpKV0gPSB0KGksIHIpOwogICAgICAgIH0KCiAgICAgICAgcmV0dXJuIG47CiAgICAgIH0odCwgaykpLmhhc093blByb3BlcnR5KEx0KGUpKTsKICAgIH07CiAgfSwKICAgICAgWnIgPSBRcihbImgxIiwgImgyIiwgImgzIiwgImg0IiwgImg1IiwgImg2Il0pLAogICAgICBlbyA9IFFyKFsiYXJ0aWNsZSIsICJhc2lkZSIsICJkZXRhaWxzIiwgImRpdiIsICJkdCIsICJmaWdjYXB0aW9uIiwgImZvb3RlciIsICJmb3JtIiwgImZpZWxkc2V0IiwgImhlYWRlciIsICJoZ3JvdXAiLCAiaHRtbCIsICJtYWluIiwgIm5hdiIsICJzZWN0aW9uIiwgInN1bW1hcnkiLCAiYm9keSIsICJwIiwgImRsIiwgIm11bHRpY29sIiwgImRkIiwgImZpZ3VyZSIsICJhZGRyZXNzIiwgImNlbnRlciIsICJibG9ja3F1b3RlIiwgImgxIiwgImgyIiwgImgzIiwgImg0IiwgImg1IiwgImg2IiwgImxpc3RpbmciLCAieG1wIiwgInByZSIsICJwbGFpbnRleHQiLCAibWVudSIsICJkaXIiLCAidWwiLCAib2wiLCAibGkiLCAiaHIiLCAidGFibGUiLCAidGJvZHkiLCAidGhlYWQiLCAidGZvb3QiLCAidGgiLCAidHIiLCAidGQiLCAiY2FwdGlvbiJdKSwKICAgICAgdG8gPSBmdW5jdGlvbiB0byhlKSB7CiAgICByZXR1cm4gRnQoZSkgJiYgIWVvKGUpOwogIH0sCiAgICAgIG5vID0gZnVuY3Rpb24gbm8oZSkgewogICAgcmV0dXJuIEZ0KGUpICYmICJiciIgPT09IEx0KGUpOwogIH0sCiAgICAgIHJvID0gUXIoWyJoMSIsICJoMiIsICJoMyIsICJoNCIsICJoNSIsICJoNiIsICJwIiwgImRpdiIsICJhZGRyZXNzIiwgInByZSIsICJmb3JtIiwgImJsb2NrcXVvdGUiLCAiY2VudGVyIiwgImRpciIsICJmaWVsZHNldCIsICJoZWFkZXIiLCAiZm9vdGVyIiwgImFydGljbGUiLCAic2VjdGlvbiIsICJoZ3JvdXAiLCAiYXNpZGUiLCAibmF2IiwgImZpZ3VyZSJdKSwKICAgICAgb28gPSBRcihbInVsIiwgIm9sIiwgImRsIl0pLAogICAgICBpbyA9IFFyKFsibGkiLCAiZGQiLCAiZHQiXSksCiAgICAgIGFvID0gUXIoWyJ0aGVhZCIsICJ0Ym9keSIsICJ0Zm9vdCJdKSwKICAgICAgdW8gPSBRcihbInRkIiwgInRoIl0pLAogICAgICBzbyA9IFFyKFsicHJlIiwgInNjcmlwdCIsICJ0ZXh0YXJlYSIsICJzdHlsZSJdKSwKICAgICAgY28gPSAiXHVGRUZGIiwKICAgICAgbG8gPSAiXHhhMCIsCiAgICAgIGZvID0gY28sCiAgICAgIG1vID0gZnVuY3Rpb24gbW8oZSkgewogICAgcmV0dXJuIGUgPT09IGNvOwogIH0sCiAgICAgIHBvID0gZnVuY3Rpb24gcG8oZSkgewogICAgcmV0dXJuIGUucmVwbGFjZSgvXHVGRUZGL2csICIiKTsKICB9LAogICAgICBnbyA9IEFuLAogICAgICBobyA9IEluLAogICAgICB2byA9IGZ1bmN0aW9uIHZvKGUpIHsKICAgIHJldHVybiBobyhlKSAmJiAoZSA9IGUucGFyZW50Tm9kZSksIGdvKGUpICYmIGUuaGFzQXR0cmlidXRlKCJkYXRhLW1jZS1jYXJldCIpOwogIH0sCiAgICAgIHlvID0gZnVuY3Rpb24geW8oZSkgewogICAgcmV0dXJuIGhvKGUpICYmIG1vKGUuZGF0YSk7CiAgfSwKICAgICAgYm8gPSBmdW5jdGlvbiBibyhlKSB7CiAgICByZXR1cm4gdm8oZSkgfHwgeW8oZSk7CiAgfSwKICAgICAgQ28gPSBmdW5jdGlvbiBDbyhlKSB7CiAgICByZXR1cm4gZS5maXJzdENoaWxkICE9PSBlLmxhc3RDaGlsZCB8fCAhem4oZS5maXJzdENoaWxkKTsKICB9LAogICAgICB3byA9IGZ1bmN0aW9uIHdvKGUpIHsKICAgIHZhciB0ID0gZS5jb250YWluZXIoKTsKICAgIHJldHVybiAhIUluKHQpICYmICh0LmRhdGEuY2hhckF0KGUub2Zmc2V0KCkpID09PSBmbyB8fCBlLmlzQXRTdGFydCgpICYmIHlvKHQucHJldmlvdXNTaWJsaW5nKSk7CiAgfSwKICAgICAgeG8gPSBmdW5jdGlvbiB4byhlKSB7CiAgICB2YXIgdCA9IGUuY29udGFpbmVyKCk7CiAgICByZXR1cm4gISFJbih0KSAmJiAodC5kYXRhLmNoYXJBdChlLm9mZnNldCgpIC0gMSkgPT09IGZvIHx8IGUuaXNBdEVuZCgpICYmIHlvKHQubmV4dFNpYmxpbmcpKTsKICB9LAogICAgICBTbyA9IGZ1bmN0aW9uIFNvKGUsIHQsIG4pIHsKICAgIHZhciByLAogICAgICAgIG8gPSB0Lm93bmVyRG9jdW1lbnQuY3JlYXRlRWxlbWVudChlKTsKICAgIG8uc2V0QXR0cmlidXRlKCJkYXRhLW1jZS1jYXJldCIsIG4gPyAiYmVmb3JlIiA6ICJhZnRlciIpLCBvLnNldEF0dHJpYnV0ZSgiZGF0YS1tY2UtYm9ndXMiLCAiYWxsIiksIG8uYXBwZW5kQ2hpbGQoKChyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiYnIiKSkuc2V0QXR0cmlidXRlKCJkYXRhLW1jZS1ib2d1cyIsICIxIiksIHIpKTsKICAgIHZhciBpID0gdC5wYXJlbnROb2RlOwogICAgcmV0dXJuIG4gPyBpLmluc2VydEJlZm9yZShvLCB0KSA6IHQubmV4dFNpYmxpbmcgPyBpLmluc2VydEJlZm9yZShvLCB0Lm5leHRTaWJsaW5nKSA6IGkuYXBwZW5kQ2hpbGQobyksIG87CiAgfSwKICAgICAgTm8gPSBmdW5jdGlvbiBObyhlKSB7CiAgICByZXR1cm4gaG8oZSkgJiYgZS5kYXRhWzBdID09PSBmbzsKICB9LAogICAgICBFbyA9IGZ1bmN0aW9uIEVvKGUpIHsKICAgIHJldHVybiBobyhlKSAmJiBlLmRhdGFbZS5kYXRhLmxlbmd0aCAtIDFdID09PSBmbzsKICB9LAogICAgICBrbyA9IGZ1bmN0aW9uIGtvKGUpIHsKICAgIHJldHVybiBlICYmIGUuaGFzQXR0cmlidXRlKCJkYXRhLW1jZS1jYXJldCIpID8gKHQgPSBlLmdldEVsZW1lbnRzQnlUYWdOYW1lKCJiciIpLCBuID0gdFt0Lmxlbmd0aCAtIDFdLCBPbihuKSAmJiBuLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQobiksIGUucmVtb3ZlQXR0cmlidXRlKCJkYXRhLW1jZS1jYXJldCIpLCBlLnJlbW92ZUF0dHJpYnV0ZSgiZGF0YS1tY2UtYm9ndXMiKSwgZS5yZW1vdmVBdHRyaWJ1dGUoInN0eWxlIiksIGUucmVtb3ZlQXR0cmlidXRlKCJfbW96X2Fic3BvcyIpLCBlKSA6IG51bGw7CiAgICB2YXIgdCwgbjsKICB9LAogICAgICBfbyA9IEhuLAogICAgICBBbyA9IFZuLAogICAgICBSbyA9IHpuLAogICAgICBUbyA9IEluLAogICAgICBEbyA9IFJuKFsic2NyaXB0IiwgInN0eWxlIiwgInRleHRhcmVhIl0pLAogICAgICBPbyA9IFJuKFsiaW1nIiwgImlucHV0IiwgInRleHRhcmVhIiwgImhyIiwgImlmcmFtZSIsICJ2aWRlbyIsICJhdWRpbyIsICJvYmplY3QiLCAiZW1iZWQiXSksCiAgICAgIEJvID0gUm4oWyJ0YWJsZSJdKSwKICAgICAgUG8gPSBibywKICAgICAgTG8gPSBmdW5jdGlvbiBMbyhlKSB7CiAgICByZXR1cm4gIVBvKGUpICYmIChUbyhlKSA/ICFEbyhlLnBhcmVudE5vZGUpIDogT28oZSkgfHwgUm8oZSkgfHwgQm8oZSkgfHwgSW8oZSkpOwogIH0sCiAgICAgIElvID0gZnVuY3Rpb24gSW8oZSkgewogICAgcmV0dXJuICExID09PSAoQW4odCA9IGUpICYmICJ0cnVlIiA9PT0gdC5nZXRBdHRyaWJ1dGUoInVuc2VsZWN0YWJsZSIpKSAmJiBBbyhlKTsKICAgIHZhciB0OwogIH0sCiAgICAgIE1vID0gZnVuY3Rpb24gTW8oZSwgdCkgewogICAgcmV0dXJuIExvKGUpICYmIGZ1bmN0aW9uIChlLCB0KSB7CiAgICAgIGZvciAoZSA9IGUucGFyZW50Tm9kZTsgZSAmJiBlICE9PSB0OyBlID0gZS5wYXJlbnROb2RlKSB7CiAgICAgICAgaWYgKElvKGUpKSByZXR1cm4gITE7CiAgICAgICAgaWYgKF9vKGUpKSByZXR1cm4gITA7CiAgICAgIH0KCiAgICAgIHJldHVybiAhMDsKICAgIH0oZSwgdCk7CiAgfSwKICAgICAgRm8gPSAvXlsgXHRcclxuXSokLywKICAgICAgVW8gPSBmdW5jdGlvbiBVbyhlKSB7CiAgICByZXR1cm4gRm8udGVzdChlKTsKICB9LAogICAgICB6byA9IGZ1bmN0aW9uIHpvKGUsIHQpIHsKICAgIHZhciBuLAogICAgICAgIHIsCiAgICAgICAgbywKICAgICAgICBpID0gQXQuZnJvbURvbSh0KSwKICAgICAgICBhID0gQXQuZnJvbURvbShlKTsKICAgIHJldHVybiBuID0gYSwgciA9ICJwcmUsY29kZSIsIG8gPSBOKE90LCBpKSwgVHIobiwgciwgbykuaXNTb21lKCk7CiAgfSwKICAgICAgam8gPSBmdW5jdGlvbiBqbyhlLCB0KSB7CiAgICByZXR1cm4gTG8oZSkgJiYgITEgPT09IChvID0gdCwgSW4ociA9IGUpICYmIFVvKHIuZGF0YSkgJiYgITEgPT09IHpvKHIsIG8pKSB8fCBBbihuID0gZSkgJiYgIkEiID09PSBuLm5vZGVOYW1lICYmICFuLmhhc0F0dHJpYnV0ZSgiaHJlZiIpICYmIChuLmhhc0F0dHJpYnV0ZSgibmFtZSIpIHx8IG4uaGFzQXR0cmlidXRlKCJpZCIpKSB8fCBIbyhlKTsKICAgIHZhciBuLCByLCBvOwogIH0sCiAgICAgIEhvID0gRG4oImRhdGEtbWNlLWJvb2ttYXJrIiksCiAgICAgIFZvID0gRG4oImRhdGEtbWNlLWJvZ3VzIiksCiAgICAgIHFvID0gKEdyID0gImRhdGEtbWNlLWJvZ3VzIiwgSnIgPSAiYWxsIiwgZnVuY3Rpb24gKGUpIHsKICAgIHJldHVybiBBbihlKSAmJiBlLmdldEF0dHJpYnV0ZShHcikgPT09IEpyOwogIH0pLAogICAgICAkbyA9IGZ1bmN0aW9uICRvKGUsIHQpIHsKICAgIHJldHVybiB2b2lkIDAgPT09IHQgJiYgKHQgPSAhMCksIGZ1bmN0aW9uIChlLCB0KSB7CiAgICAgIHZhciBuLAogICAgICAgICAgciA9IDA7CiAgICAgIGlmIChqbyhlLCBlKSkgcmV0dXJuICExOwogICAgICBpZiAoIShuID0gZS5maXJzdENoaWxkKSkgcmV0dXJuICEwOwogICAgICB2YXIgbyA9IG5ldyBYcihuLCBlKTsKCiAgICAgIGRvIHsKICAgICAgICBpZiAodCkgewogICAgICAgICAgaWYgKHFvKG4pKSB7CiAgICAgICAgICAgIG4gPSBvLm5leHQoITApOwogICAgICAgICAgICBjb250aW51ZTsKICAgICAgICAgIH0KCiAgICAgICAgICBpZiAoVm8obikpIHsKICAgICAgICAgICAgbiA9IG8ubmV4dCgpOwogICAgICAgICAgICBjb250aW51ZTsKICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIGlmICh6bihuKSkgcisrLCBuID0gby5uZXh0KCk7ZWxzZSB7CiAgICAgICAgICBpZiAoam8obiwgZSkpIHJldHVybiAhMTsKICAgICAgICAgIG4gPSBvLm5leHQoKTsKICAgICAgICB9CiAgICAgIH0gd2hpbGUgKG4pOwoKICAgICAgcmV0dXJuIHIgPD0gMTsKICAgIH0oZS5kb20sIHQpOwogIH0sCiAgICAgIFdvID0gZnVuY3Rpb24gV28oZSwgdCkgewogICAgcmV0dXJuIEQoZSkgJiYgKGpvKGUsIHQpIHx8IHRvKEF0LmZyb21Eb20oZSkpKTsKICB9LAogICAgICBLbyA9IGZ1bmN0aW9uIEtvKGUpIHsKICAgIHJldHVybiAic3BhbiIgPT09IGUubm9kZU5hbWUudG9Mb3dlckNhc2UoKSAmJiAiYm9va21hcmsiID09PSBlLmdldEF0dHJpYnV0ZSgiZGF0YS1tY2UtdHlwZSIpOwogIH0sCiAgICAgIFhvID0gZnVuY3Rpb24gWG8oZSwgdCkgewogICAgcmV0dXJuIEluKGUpICYmIDAgPCBlLmRhdGEubGVuZ3RoICYmIChvID0gbmV3IFhyKG4gPSBlLCByID0gdCkucHJldighMSksIGkgPSBuZXcgWHIobiwgcikubmV4dCghMSksIGEgPSBSKG8pIHx8IFdvKG8sIHIpLCB1ID0gUihpKSB8fCBXbyhpLCByKSwgYSAmJiB1KTsKICAgIHZhciBuLCByLCBvLCBpLCBhLCB1OwogIH0sCiAgICAgIFlvID0gZnVuY3Rpb24gWW8oZSwgdCwgbikgewogICAgdmFyIHIgPSBuIHx8IHQ7CiAgICBpZiAoQW4odCkgJiYgS28odCkpIHJldHVybiB0OwoKICAgIGZvciAodmFyIG8sIGksIGEsIHUgPSB0LmNoaWxkTm9kZXMsIHMgPSB1Lmxlbmd0aCAtIDE7IDAgPD0gczsgcy0tKSB7CiAgICAgIFlvKGUsIHVbc10sIHIpOwogICAgfQoKICAgIHJldHVybiAhQW4odCkgfHwgMSA9PT0gKG8gPSB0LmNoaWxkTm9kZXMpLmxlbmd0aCAmJiBLbyhvWzBdKSAmJiB0LnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKG9bMF0sIHQpLCBVbihhID0gdCkgfHwgRm4oYSkgfHwgam8odCwgcikgfHwgQW4oaSA9IHQpICYmIDAgPCBpLmNoaWxkTm9kZXMubGVuZ3RoIHx8IFhvKHQsIHIpIHx8IGUucmVtb3ZlKHQpLCB0OwogIH0sCiAgICAgIEdvID0ga3QubWFrZU1hcCwKICAgICAgSm8gPSAvWyY8PlwiXHUwMDYwXHUwMDdFLVx1RDdGRlx1RTAwMC1cdUZGRUZdfFtcdUQ4MDAtXHVEQkZGXVtcdURDMDAtXHVERkZGXS9nLAogICAgICBRbyA9IC9bPD4mXHUwMDdFLVx1RDdGRlx1RTAwMC1cdUZGRUZdfFtcdUQ4MDAtXHVEQkZGXVtcdURDMDAtXHVERkZGXS9nLAogICAgICBabyA9IC9bPD4mXCJcJ10vZywKICAgICAgZWkgPSAvJiMoW2EtejAtOV0rKTs/fCYoW2EtejAtOV0rKTsvZ2ksCiAgICAgIHRpID0gewogICAgMTI4OiAiXHUyMEFDIiwKICAgIDEzMDogIlx1MjAxQSIsCiAgICAxMzE6ICJcdTAxOTIiLAogICAgMTMyOiAiXHUyMDFFIiwKICAgIDEzMzogIlx1MjAyNiIsCiAgICAxMzQ6ICJcdTIwMjAiLAogICAgMTM1OiAiXHUyMDIxIiwKICAgIDEzNjogIlx1MDJDNiIsCiAgICAxMzc6ICJcdTIwMzAiLAogICAgMTM4OiAiXHUwMTYwIiwKICAgIDEzOTogIlx1MjAzOSIsCiAgICAxNDA6ICJcdTAxNTIiLAogICAgMTQyOiAiXHUwMTdEIiwKICAgIDE0NTogIlx1MjAxOCIsCiAgICAxNDY6ICJcdTIwMTkiLAogICAgMTQ3OiAiXHUyMDFDIiwKICAgIDE0ODogIlx1MjAxRCIsCiAgICAxNDk6ICJcdTIwMjIiLAogICAgMTUwOiAiXHUyMDEzIiwKICAgIDE1MTogIlx1MjAxNCIsCiAgICAxNTI6ICJcdTAyREMiLAogICAgMTUzOiAiXHUyMTIyIiwKICAgIDE1NDogIlx1MDE2MSIsCiAgICAxNTU6ICJcdTIwM0EiLAogICAgMTU2OiAiXHUwMTUzIiwKICAgIDE1ODogIlx1MDE3RSIsCiAgICAxNTk6ICJcdTAxNzgiCiAgfSwKICAgICAgbmkgPSB7CiAgICAnIic6ICImcXVvdDsiLAogICAgIiciOiAiJiMzOTsiLAogICAgIjwiOiAiJmx0OyIsCiAgICAiPiI6ICImZ3Q7IiwKICAgICImIjogIiZhbXA7IiwKICAgICJgIjogIiYjOTY7IgogIH0sCiAgICAgIHJpID0gewogICAgIiZsdDsiOiAiPCIsCiAgICAiJmd0OyI6ICI+IiwKICAgICImYW1wOyI6ICImIiwKICAgICImcXVvdDsiOiAnIicsCiAgICAiJmFwb3M7IjogIiciCiAgfSwKICAgICAgb2kgPSBmdW5jdGlvbiBvaShlLCB0KSB7CiAgICB2YXIgbiwKICAgICAgICByLAogICAgICAgIG8sCiAgICAgICAgaSA9IHt9OwoKICAgIGlmIChlKSB7CiAgICAgIGZvciAoZSA9IGUuc3BsaXQoIiwiKSwgdCA9IHQgfHwgMTAsIG4gPSAwOyBuIDwgZS5sZW5ndGg7IG4gKz0gMikgewogICAgICAgIHIgPSBTdHJpbmcuZnJvbUNoYXJDb2RlKHBhcnNlSW50KGVbbl0sIHQpKSwgbmlbcl0gfHwgKG8gPSAiJiIgKyBlW24gKyAxXSArICI7IiwgaVtyXSA9IG8sIGlbb10gPSByKTsKICAgICAgfQoKICAgICAgcmV0dXJuIGk7CiAgICB9CiAgfSwKICAgICAgaWkgPSBvaSgiNTAsbmJzcCw1MSxpZXhjbCw1MixjZW50LDUzLHBvdW5kLDU0LGN1cnJlbiw1NSx5ZW4sNTYsYnJ2YmFyLDU3LHNlY3QsNTgsdW1sLDU5LGNvcHksNWEsb3JkZiw1YixsYXF1byw1Yyxub3QsNWQsc2h5LDVlLHJlZyw1ZixtYWNyLDVnLGRlZyw1aCxwbHVzbW4sNWksc3VwMiw1aixzdXAzLDVrLGFjdXRlLDVsLG1pY3JvLDVtLHBhcmEsNW4sbWlkZG90LDVvLGNlZGlsLDVwLHN1cDEsNXEsb3JkbSw1cixyYXF1byw1cyxmcmFjMTQsNXQsZnJhYzEyLDV1LGZyYWMzNCw1dixpcXVlc3QsNjAsQWdyYXZlLDYxLEFhY3V0ZSw2MixBY2lyYyw2MyxBdGlsZGUsNjQsQXVtbCw2NSxBcmluZyw2NixBRWxpZyw2NyxDY2VkaWwsNjgsRWdyYXZlLDY5LEVhY3V0ZSw2YSxFY2lyYyw2YixFdW1sLDZjLElncmF2ZSw2ZCxJYWN1dGUsNmUsSWNpcmMsNmYsSXVtbCw2ZyxFVEgsNmgsTnRpbGRlLDZpLE9ncmF2ZSw2aixPYWN1dGUsNmssT2NpcmMsNmwsT3RpbGRlLDZtLE91bWwsNm4sdGltZXMsNm8sT3NsYXNoLDZwLFVncmF2ZSw2cSxVYWN1dGUsNnIsVWNpcmMsNnMsVXVtbCw2dCxZYWN1dGUsNnUsVEhPUk4sNnYsc3psaWcsNzAsYWdyYXZlLDcxLGFhY3V0ZSw3MixhY2lyYyw3MyxhdGlsZGUsNzQsYXVtbCw3NSxhcmluZyw3NixhZWxpZyw3NyxjY2VkaWwsNzgsZWdyYXZlLDc5LGVhY3V0ZSw3YSxlY2lyYyw3YixldW1sLDdjLGlncmF2ZSw3ZCxpYWN1dGUsN2UsaWNpcmMsN2YsaXVtbCw3ZyxldGgsN2gsbnRpbGRlLDdpLG9ncmF2ZSw3aixvYWN1dGUsN2ssb2NpcmMsN2wsb3RpbGRlLDdtLG91bWwsN24sZGl2aWRlLDdvLG9zbGFzaCw3cCx1Z3JhdmUsN3EsdWFjdXRlLDdyLHVjaXJjLDdzLHV1bWwsN3QseWFjdXRlLDd1LHRob3JuLDd2LHl1bWwsY2ksZm5vZixzaCxBbHBoYSxzaSxCZXRhLHNqLEdhbW1hLHNrLERlbHRhLHNsLEVwc2lsb24sc20sWmV0YSxzbixFdGEsc28sVGhldGEsc3AsSW90YSxzcSxLYXBwYSxzcixMYW1iZGEsc3MsTXUsc3QsTnUsc3UsWGksc3YsT21pY3Jvbix0MCxQaSx0MSxSaG8sdDMsU2lnbWEsdDQsVGF1LHQ1LFVwc2lsb24sdDYsUGhpLHQ3LENoaSx0OCxQc2ksdDksT21lZ2EsdGgsYWxwaGEsdGksYmV0YSx0aixnYW1tYSx0ayxkZWx0YSx0bCxlcHNpbG9uLHRtLHpldGEsdG4sZXRhLHRvLHRoZXRhLHRwLGlvdGEsdHEsa2FwcGEsdHIsbGFtYmRhLHRzLG11LHR0LG51LHR1LHhpLHR2LG9taWNyb24sdTAscGksdTEscmhvLHUyLHNpZ21hZix1MyxzaWdtYSx1NCx0YXUsdTUsdXBzaWxvbix1NixwaGksdTcsY2hpLHU4LHBzaSx1OSxvbWVnYSx1aCx0aGV0YXN5bSx1aSx1cHNpaCx1bSxwaXYsODEyLGJ1bGwsODE2LGhlbGxpcCw4MWkscHJpbWUsODFqLFByaW1lLDgxdSxvbGluZSw4MjQsZnJhc2wsODhvLHdlaWVycCw4OGgsaW1hZ2UsODhzLHJlYWwsODkyLHRyYWRlLDg5bCxhbGVmc3ltLDhjZyxsYXJyLDhjaCx1YXJyLDhjaSxyYXJyLDhjaixkYXJyLDhjayxoYXJyLDhkbCxjcmFyciw4ZWcsbEFyciw4ZWgsdUFyciw4ZWksckFyciw4ZWosZEFyciw4ZWssaEFyciw4ZzAsZm9yYWxsLDhnMixwYXJ0LDhnMyxleGlzdCw4ZzUsZW1wdHksOGc3LG5hYmxhLDhnOCxpc2luLDhnOSxub3Rpbiw4Z2IsbmksOGdmLHByb2QsOGdoLHN1bSw4Z2ksbWludXMsOGduLGxvd2FzdCw4Z3EscmFkaWMsOGd0LHByb3AsOGd1LGluZmluLDhoMCxhbmcsOGg3LGFuZCw4aDgsb3IsOGg5LGNhcCw4aGEsY3VwLDhoYixpbnQsOGhrLHRoZXJlNCw4aHMsc2ltLDhpNSxjb25nLDhpOCxhc3ltcCw4ajAsbmUsOGoxLGVxdWl2LDhqNCxsZSw4ajUsZ2UsOGsyLHN1Yiw4azMsc3VwLDhrNCxuc3ViLDhrNixzdWJlLDhrNyxzdXBlLDhrbCxvcGx1cyw4a24sb3RpbWVzLDhsNSxwZXJwLDhtNSxzZG90LDhvOCxsY2VpbCw4bzkscmNlaWwsOG9hLGxmbG9vciw4b2IscmZsb29yLDhwOSxsYW5nLDhwYSxyYW5nLDllYSxsb3osOWowLHNwYWRlcyw5ajMsY2x1YnMsOWo1LGhlYXJ0cyw5ajYsZGlhbXMsYWksT0VsaWcsYWosb2VsaWcsYjAsU2Nhcm9uLGIxLHNjYXJvbixibyxZdW1sLG02LGNpcmMsbXMsdGlsZGUsODAyLGVuc3AsODAzLGVtc3AsODA5LHRoaW5zcCw4MGMsenduaiw4MGQsendqLDgwZSxscm0sODBmLHJsbSw4MGosbmRhc2gsODBrLG1kYXNoLDgwbyxsc3F1byw4MHAscnNxdW8sODBxLHNicXVvLDgwcyxsZHF1byw4MHQscmRxdW8sODB1LGJkcXVvLDgxMCxkYWdnZXIsODExLERhZ2dlciw4MWcscGVybWlsLDgxcCxsc2FxdW8sODFxLHJzYXF1byw4NWMsZXVybyIsIDMyKSwKICAgICAgYWkgPSBmdW5jdGlvbiBhaShlLCB0KSB7CiAgICByZXR1cm4gZS5yZXBsYWNlKHQgPyBKbyA6IFFvLCBmdW5jdGlvbiAoZSkgewogICAgICByZXR1cm4gbmlbZV0gfHwgZTsKICAgIH0pOwogIH0sCiAgICAgIHVpID0gZnVuY3Rpb24gdWkoZSwgdCkgewogICAgcmV0dXJuIGUucmVwbGFjZSh0ID8gSm8gOiBRbywgZnVuY3Rpb24gKGUpIHsKICAgICAgcmV0dXJuIDEgPCBlLmxlbmd0aCA/ICImIyIgKyAoMTAyNCAqIChlLmNoYXJDb2RlQXQoMCkgLSA1NTI5NikgKyAoZS5jaGFyQ29kZUF0KDEpIC0gNTYzMjApICsgNjU1MzYpICsgIjsiIDogbmlbZV0gfHwgIiYjIiArIGUuY2hhckNvZGVBdCgwKSArICI7IjsKICAgIH0pOwogIH0sCiAgICAgIHNpID0gZnVuY3Rpb24gc2koZSwgdCwgbikgewogICAgcmV0dXJuIG4gPSBuIHx8IGlpLCBlLnJlcGxhY2UodCA/IEpvIDogUW8sIGZ1bmN0aW9uIChlKSB7CiAgICAgIHJldHVybiBuaVtlXSB8fCBuW2VdIHx8IGU7CiAgICB9KTsKICB9LAogICAgICBjaSA9IHsKICAgIGVuY29kZVJhdzogYWksCiAgICBlbmNvZGVBbGxSYXc6IGZ1bmN0aW9uIGVuY29kZUFsbFJhdyhlKSB7CiAgICAgIHJldHVybiAoIiIgKyBlKS5yZXBsYWNlKFpvLCBmdW5jdGlvbiAoZSkgewogICAgICAgIHJldHVybiBuaVtlXSB8fCBlOwogICAgICB9KTsKICAgIH0sCiAgICBlbmNvZGVOdW1lcmljOiB1aSwKICAgIGVuY29kZU5hbWVkOiBzaSwKICAgIGdldEVuY29kZUZ1bmM6IGZ1bmN0aW9uIGdldEVuY29kZUZ1bmMoZSwgdCkgewogICAgICB2YXIgbiA9IG9pKHQpIHx8IGlpLAogICAgICAgICAgciA9IEdvKGUucmVwbGFjZSgvXCsvZywgIiwiKSk7CiAgICAgIHJldHVybiByLm5hbWVkICYmIHIubnVtZXJpYyA/IGZ1bmN0aW9uIChlLCB0KSB7CiAgICAgICAgcmV0dXJuIGUucmVwbGFjZSh0ID8gSm8gOiBRbywgZnVuY3Rpb24gKGUpIHsKICAgICAgICAgIHJldHVybiBuaVtlXSAhPT0gdW5kZWZpbmVkID8gbmlbZV0gOiBuW2VdICE9PSB1bmRlZmluZWQgPyBuW2VdIDogMSA8IGUubGVuZ3RoID8gIiYjIiArICgxMDI0ICogKGUuY2hhckNvZGVBdCgwKSAtIDU1Mjk2KSArIChlLmNoYXJDb2RlQXQoMSkgLSA1NjMyMCkgKyA2NTUzNikgKyAiOyIgOiAiJiMiICsgZS5jaGFyQ29kZUF0KDApICsgIjsiOwogICAgICAgIH0pOwogICAgICB9IDogci5uYW1lZCA/IHQgPyBmdW5jdGlvbiAoZSwgdCkgewogICAgICAgIHJldHVybiBzaShlLCB0LCBuKTsKICAgICAgfSA6IHNpIDogci5udW1lcmljID8gdWkgOiBhaTsKICAgIH0sCiAgICBkZWNvZGU6IGZ1bmN0aW9uIGRlY29kZShlKSB7CiAgICAgIHJldHVybiBlLnJlcGxhY2UoZWksIGZ1bmN0aW9uIChlLCB0KSB7CiAgICAgICAgcmV0dXJuIHQgPyA2NTUzNSA8ICh0ID0gIngiID09PSB0LmNoYXJBdCgwKS50b0xvd2VyQ2FzZSgpID8gcGFyc2VJbnQodC5zdWJzdHIoMSksIDE2KSA6IHBhcnNlSW50KHQsIDEwKSkgPyAodCAtPSA2NTUzNiwgU3RyaW5nLmZyb21DaGFyQ29kZSg1NTI5NiArICh0ID4+IDEwKSwgNTYzMjAgKyAoMTAyMyAmIHQpKSkgOiB0aVt0XSB8fCBTdHJpbmcuZnJvbUNoYXJDb2RlKHQpIDogcmlbZV0gfHwgaWlbZV0gfHwgKG4gPSBlLCAociA9IEF0LmZyb21UYWcoImRpdiIpLmRvbSkuaW5uZXJIVE1MID0gbiwgci50ZXh0Q29udGVudCB8fCByLmlubmVyVGV4dCB8fCBuKTsKICAgICAgICB2YXIgbiwgcjsKICAgICAgfSk7CiAgICB9CiAgfSwKICAgICAgbGkgPSB7fSwKICAgICAgZmkgPSB7fSwKICAgICAgZGkgPSBrdC5tYWtlTWFwLAogICAgICBtaSA9IGt0LmVhY2gsCiAgICAgIHBpID0ga3QuZXh0ZW5kLAogICAgICBnaSA9IGt0LmV4cGxvZGUsCiAgICAgIGhpID0ga3QuaW5BcnJheSwKICAgICAgdmkgPSBmdW5jdGlvbiB2aShlLCB0KSB7CiAgICByZXR1cm4gKGUgPSBrdC50cmltKGUpKSA/IGUuc3BsaXQodCB8fCAiICIpIDogW107CiAgfSwKICAgICAgeWkgPSBmdW5jdGlvbiB5aShlKSB7CiAgICB2YXIgcywKICAgICAgICB0LAogICAgICAgIG4sCiAgICAgICAgciwKICAgICAgICBvLAogICAgICAgIGksCiAgICAgICAgYyA9IHt9LAogICAgICAgIGEgPSBmdW5jdGlvbiBhKGUsIHQsIG4pIHsKICAgICAgdmFyIHIsCiAgICAgICAgICBvLAogICAgICAgICAgaSA9IGZ1bmN0aW9uIGkoZSwgdCkgewogICAgICAgIGZvciAodmFyIG4gPSB7fSwgciA9IDAsIG8gPSBlLmxlbmd0aDsgciA8IG87IHIrKykgewogICAgICAgICAgbltlW3JdXSA9IHQgfHwge307CiAgICAgICAgfQoKICAgICAgICByZXR1cm4gbjsKICAgICAgfTsKCiAgICAgIHQgPSB0IHx8ICIiLCAic3RyaW5nIiA9PSB0eXBlb2YgKG4gPSBuIHx8IFtdKSAmJiAobiA9IHZpKG4pKTsKCiAgICAgIGZvciAodmFyIGEgPSB2aShlKSwgdSA9IGEubGVuZ3RoOyB1LS07KSB7CiAgICAgICAgbyA9IHsKICAgICAgICAgIGF0dHJpYnV0ZXM6IGkociA9IHZpKFtzLCB0XS5qb2luKCIgIikpKSwKICAgICAgICAgIGF0dHJpYnV0ZXNPcmRlcjogciwKICAgICAgICAgIGNoaWxkcmVuOiBpKG4sIGZpKQogICAgICAgIH0sIGNbYVt1XV0gPSBvOwogICAgICB9CiAgICB9LAogICAgICAgIHUgPSBmdW5jdGlvbiB1KGUsIHQpIHsKICAgICAgZm9yICh2YXIgbiwgciwgbywgaSA9IHZpKGUpLCBhID0gaS5sZW5ndGgsIHUgPSB2aSh0KTsgYS0tOykgewogICAgICAgIGZvciAobiA9IGNbaVthXV0sIHIgPSAwLCBvID0gdS5sZW5ndGg7IHIgPCBvOyByKyspIHsKICAgICAgICAgIG4uYXR0cmlidXRlc1t1W3JdXSA9IHt9LCBuLmF0dHJpYnV0ZXNPcmRlci5wdXNoKHVbcl0pOwogICAgICAgIH0KICAgICAgfQogICAgfTsKCiAgICByZXR1cm4gbGlbZV0gPyBsaVtlXSA6IChzID0gImlkIGFjY2Vzc2tleSBjbGFzcyBkaXIgbGFuZyBzdHlsZSB0YWJpbmRleCB0aXRsZSByb2xlIiwgdCA9ICJhZGRyZXNzIGJsb2NrcXVvdGUgZGl2IGRsIGZpZWxkc2V0IGZvcm0gaDEgaDIgaDMgaDQgaDUgaDYgaHIgbWVudSBvbCBwIHByZSB0YWJsZSB1bCIsIG4gPSAiYSBhYmJyIGIgYmRvIGJyIGJ1dHRvbiBjaXRlIGNvZGUgZGVsIGRmbiBlbSBlbWJlZCBpIGlmcmFtZSBpbWcgaW5wdXQgaW5zIGtiZCBsYWJlbCBtYXAgbm9zY3JpcHQgb2JqZWN0IHEgcyBzYW1wIHNjcmlwdCBzZWxlY3Qgc21hbGwgc3BhbiBzdHJvbmcgc3ViIHN1cCB0ZXh0YXJlYSB1IHZhciAjdGV4dCAjY29tbWVudCIsICJodG1sNCIgIT09IGUgJiYgKHMgKz0gIiBjb250ZW50ZWRpdGFibGUgY29udGV4dG1lbnUgZHJhZ2dhYmxlIGRyb3B6b25lIGhpZGRlbiBzcGVsbGNoZWNrIHRyYW5zbGF0ZSIsIHQgKz0gIiBhcnRpY2xlIGFzaWRlIGRldGFpbHMgZGlhbG9nIGZpZ3VyZSBtYWluIGhlYWRlciBmb290ZXIgaGdyb3VwIHNlY3Rpb24gbmF2IiwgbiArPSAiIGF1ZGlvIGNhbnZhcyBjb21tYW5kIGRhdGFsaXN0IG1hcmsgbWV0ZXIgb3V0cHV0IHBpY3R1cmUgcHJvZ3Jlc3MgdGltZSB3YnIgdmlkZW8gcnVieSBiZGkga2V5Z2VuIiksICJodG1sNS1zdHJpY3QiICE9PSBlICYmIChzICs9ICIgeG1sOmxhbmciLCBuID0gW24sIGkgPSAiYWNyb255bSBhcHBsZXQgYmFzZWZvbnQgYmlnIGZvbnQgc3RyaWtlIHR0Il0uam9pbigiICIpLCBtaSh2aShpKSwgZnVuY3Rpb24gKGUpIHsKICAgICAgYShlLCAiIiwgbik7CiAgICB9KSwgdCA9IFt0LCBvID0gImNlbnRlciBkaXIgaXNpbmRleCBub2ZyYW1lcyJdLmpvaW4oIiAiKSwgciA9IFt0LCBuXS5qb2luKCIgIiksIG1pKHZpKG8pLCBmdW5jdGlvbiAoZSkgewogICAgICBhKGUsICIiLCByKTsKICAgIH0pKSwgciA9IHIgfHwgW3QsIG5dLmpvaW4oIiAiKSwgYSgiaHRtbCIsICJtYW5pZmVzdCIsICJoZWFkIGJvZHkiKSwgYSgiaGVhZCIsICIiLCAiYmFzZSBjb21tYW5kIGxpbmsgbWV0YSBub3NjcmlwdCBzY3JpcHQgc3R5bGUgdGl0bGUiKSwgYSgidGl0bGUgaHIgbm9zY3JpcHQgYnIiKSwgYSgiYmFzZSIsICJocmVmIHRhcmdldCIpLCBhKCJsaW5rIiwgImhyZWYgcmVsIG1lZGlhIGhyZWZsYW5nIHR5cGUgc2l6ZXMgaHJlZmxhbmciKSwgYSgibWV0YSIsICJuYW1lIGh0dHAtZXF1aXYgY29udGVudCBjaGFyc2V0IiksIGEoInN0eWxlIiwgIm1lZGlhIHR5cGUgc2NvcGVkIiksIGEoInNjcmlwdCIsICJzcmMgYXN5bmMgZGVmZXIgdHlwZSBjaGFyc2V0IiksIGEoImJvZHkiLCAib25hZnRlcnByaW50IG9uYmVmb3JlcHJpbnQgb25iZWZvcmV1bmxvYWQgb25ibHVyIG9uZXJyb3Igb25mb2N1cyBvbmhhc2hjaGFuZ2Ugb25sb2FkIG9ubWVzc2FnZSBvbm9mZmxpbmUgb25vbmxpbmUgb25wYWdlaGlkZSBvbnBhZ2VzaG93IG9ucG9wc3RhdGUgb25yZXNpemUgb25zY3JvbGwgb25zdG9yYWdlIG9udW5sb2FkIiwgciksIGEoImFkZHJlc3MgZHQgZGQgZGl2IGNhcHRpb24iLCAiIiwgciksIGEoImgxIGgyIGgzIGg0IGg1IGg2IHByZSBwIGFiYnIgY29kZSB2YXIgc2FtcCBrYmQgc3ViIHN1cCBpIGIgdSBiZG8gc3BhbiBsZWdlbmQgZW0gc3Ryb25nIHNtYWxsIHMgY2l0ZSBkZm4iLCAiIiwgbiksIGEoImJsb2NrcXVvdGUiLCAiY2l0ZSIsIHIpLCBhKCJvbCIsICJyZXZlcnNlZCBzdGFydCB0eXBlIiwgImxpIiksIGEoInVsIiwgIiIsICJsaSIpLCBhKCJsaSIsICJ2YWx1ZSIsIHIpLCBhKCJkbCIsICIiLCAiZHQgZGQiKSwgYSgiYSIsICJocmVmIHRhcmdldCByZWwgbWVkaWEgaHJlZmxhbmcgdHlwZSIsIG4pLCBhKCJxIiwgImNpdGUiLCBuKSwgYSgiaW5zIGRlbCIsICJjaXRlIGRhdGV0aW1lIiwgciksIGEoImltZyIsICJzcmMgc2l6ZXMgc3Jjc2V0IGFsdCB1c2VtYXAgaXNtYXAgd2lkdGggaGVpZ2h0IiksIGEoImlmcmFtZSIsICJzcmMgbmFtZSB3aWR0aCBoZWlnaHQiLCByKSwgYSgiZW1iZWQiLCAic3JjIHR5cGUgd2lkdGggaGVpZ2h0IiksIGEoIm9iamVjdCIsICJkYXRhIHR5cGUgdHlwZW11c3RtYXRjaCBuYW1lIHVzZW1hcCBmb3JtIHdpZHRoIGhlaWdodCIsIFtyLCAicGFyYW0iXS5qb2luKCIgIikpLCBhKCJwYXJhbSIsICJuYW1lIHZhbHVlIiksIGEoIm1hcCIsICJuYW1lIiwgW3IsICJhcmVhIl0uam9pbigiICIpKSwgYSgiYXJlYSIsICJhbHQgY29vcmRzIHNoYXBlIGhyZWYgdGFyZ2V0IHJlbCBtZWRpYSBocmVmbGFuZyB0eXBlIiksIGEoInRhYmxlIiwgImJvcmRlciIsICJjYXB0aW9uIGNvbGdyb3VwIHRoZWFkIHRmb290IHRib2R5IHRyIiArICgiaHRtbDQiID09PSBlID8gIiBjb2wiIDogIiIpKSwgYSgiY29sZ3JvdXAiLCAic3BhbiIsICJjb2wiKSwgYSgiY29sIiwgInNwYW4iKSwgYSgidGJvZHkgdGhlYWQgdGZvb3QiLCAiIiwgInRyIiksIGEoInRyIiwgIiIsICJ0ZCB0aCIpLCBhKCJ0ZCIsICJjb2xzcGFuIHJvd3NwYW4gaGVhZGVycyIsIHIpLCBhKCJ0aCIsICJjb2xzcGFuIHJvd3NwYW4gaGVhZGVycyBzY29wZSBhYmJyIiwgciksIGEoImZvcm0iLCAiYWNjZXB0LWNoYXJzZXQgYWN0aW9uIGF1dG9jb21wbGV0ZSBlbmN0eXBlIG1ldGhvZCBuYW1lIG5vdmFsaWRhdGUgdGFyZ2V0IiwgciksIGEoImZpZWxkc2V0IiwgImRpc2FibGVkIGZvcm0gbmFtZSIsIFtyLCAibGVnZW5kIl0uam9pbigiICIpKSwgYSgibGFiZWwiLCAiZm9ybSBmb3IiLCBuKSwgYSgiaW5wdXQiLCAiYWNjZXB0IGFsdCBhdXRvY29tcGxldGUgY2hlY2tlZCBkaXJuYW1lIGRpc2FibGVkIGZvcm0gZm9ybWFjdGlvbiBmb3JtZW5jdHlwZSBmb3JtbWV0aG9kIGZvcm1ub3ZhbGlkYXRlIGZvcm10YXJnZXQgaGVpZ2h0IGxpc3QgbWF4IG1heGxlbmd0aCBtaW4gbXVsdGlwbGUgbmFtZSBwYXR0ZXJuIHJlYWRvbmx5IHJlcXVpcmVkIHNpemUgc3JjIHN0ZXAgdHlwZSB2YWx1ZSB3aWR0aCIpLCBhKCJidXR0b24iLCAiZGlzYWJsZWQgZm9ybSBmb3JtYWN0aW9uIGZvcm1lbmN0eXBlIGZvcm1tZXRob2QgZm9ybW5vdmFsaWRhdGUgZm9ybXRhcmdldCBuYW1lIHR5cGUgdmFsdWUiLCAiaHRtbDQiID09PSBlID8gciA6IG4pLCBhKCJzZWxlY3QiLCAiZGlzYWJsZWQgZm9ybSBtdWx0aXBsZSBuYW1lIHJlcXVpcmVkIHNpemUiLCAib3B0aW9uIG9wdGdyb3VwIiksIGEoIm9wdGdyb3VwIiwgImRpc2FibGVkIGxhYmVsIiwgIm9wdGlvbiIpLCBhKCJvcHRpb24iLCAiZGlzYWJsZWQgbGFiZWwgc2VsZWN0ZWQgdmFsdWUiKSwgYSgidGV4dGFyZWEiLCAiY29scyBkaXJuYW1lIGRpc2FibGVkIGZvcm0gbWF4bGVuZ3RoIG5hbWUgcmVhZG9ubHkgcmVxdWlyZWQgcm93cyB3cmFwIiksIGEoIm1lbnUiLCAidHlwZSBsYWJlbCIsIFtyLCAibGkiXS5qb2luKCIgIikpLCBhKCJub3NjcmlwdCIsICIiLCByKSwgImh0bWw0IiAhPT0gZSAmJiAoYSgid2JyIiksIGEoInJ1YnkiLCAiIiwgW24sICJydCBycCJdLmpvaW4oIiAiKSksIGEoImZpZ2NhcHRpb24iLCAiIiwgciksIGEoIm1hcmsgcnQgcnAgc3VtbWFyeSBiZGkiLCAiIiwgbiksIGEoImNhbnZhcyIsICJ3aWR0aCBoZWlnaHQiLCByKSwgYSgidmlkZW8iLCAic3JjIGNyb3Nzb3JpZ2luIHBvc3RlciBwcmVsb2FkIGF1dG9wbGF5IG1lZGlhZ3JvdXAgbG9vcCBtdXRlZCBjb250cm9scyB3aWR0aCBoZWlnaHQgYnVmZmVyZWQiLCBbciwgInRyYWNrIHNvdXJjZSJdLmpvaW4oIiAiKSksIGEoImF1ZGlvIiwgInNyYyBjcm9zc29yaWdpbiBwcmVsb2FkIGF1dG9wbGF5IG1lZGlhZ3JvdXAgbG9vcCBtdXRlZCBjb250cm9scyBidWZmZXJlZCB2b2x1bWUiLCBbciwgInRyYWNrIHNvdXJjZSJdLmpvaW4oIiAiKSksIGEoInBpY3R1cmUiLCAiIiwgImltZyBzb3VyY2UiKSwgYSgic291cmNlIiwgInNyYyBzcmNzZXQgdHlwZSBtZWRpYSBzaXplcyIpLCBhKCJ0cmFjayIsICJraW5kIHNyYyBzcmNsYW5nIGxhYmVsIGRlZmF1bHQiKSwgYSgiZGF0YWxpc3QiLCAiIiwgW24sICJvcHRpb24iXS5qb2luKCIgIikpLCBhKCJhcnRpY2xlIHNlY3Rpb24gbmF2IGFzaWRlIG1haW4gaGVhZGVyIGZvb3RlciIsICIiLCByKSwgYSgiaGdyb3VwIiwgIiIsICJoMSBoMiBoMyBoNCBoNSBoNiIpLCBhKCJmaWd1cmUiLCAiIiwgW3IsICJmaWdjYXB0aW9uIl0uam9pbigiICIpKSwgYSgidGltZSIsICJkYXRldGltZSIsIG4pLCBhKCJkaWFsb2ciLCAib3BlbiIsIHIpLCBhKCJjb21tYW5kIiwgInR5cGUgbGFiZWwgaWNvbiBkaXNhYmxlZCBjaGVja2VkIHJhZGlvZ3JvdXAgY29tbWFuZCIpLCBhKCJvdXRwdXQiLCAiZm9yIGZvcm0gbmFtZSIsIG4pLCBhKCJwcm9ncmVzcyIsICJ2YWx1ZSBtYXgiLCBuKSwgYSgibWV0ZXIiLCAidmFsdWUgbWluIG1heCBsb3cgaGlnaCBvcHRpbXVtIiwgbiksIGEoImRldGFpbHMiLCAib3BlbiIsIFtyLCAic3VtbWFyeSJdLmpvaW4oIiAiKSksIGEoImtleWdlbiIsICJhdXRvZm9jdXMgY2hhbGxlbmdlIGRpc2FibGVkIGZvcm0ga2V5dHlwZSBuYW1lIikpLCAiaHRtbDUtc3RyaWN0IiAhPT0gZSAmJiAodSgic2NyaXB0IiwgImxhbmd1YWdlIHhtbDpzcGFjZSIpLCB1KCJzdHlsZSIsICJ4bWw6c3BhY2UiKSwgdSgib2JqZWN0IiwgImRlY2xhcmUgY2xhc3NpZCBjb2RlIGNvZGViYXNlIGNvZGV0eXBlIGFyY2hpdmUgc3RhbmRieSBhbGlnbiBib3JkZXIgaHNwYWNlIHZzcGFjZSIpLCB1KCJlbWJlZCIsICJhbGlnbiBuYW1lIGhzcGFjZSB2c3BhY2UiKSwgdSgicGFyYW0iLCAidmFsdWV0eXBlIHR5cGUiKSwgdSgiYSIsICJjaGFyc2V0IG5hbWUgcmV2IHNoYXBlIGNvb3JkcyIpLCB1KCJiciIsICJjbGVhciIpLCB1KCJhcHBsZXQiLCAiY29kZWJhc2UgYXJjaGl2ZSBjb2RlIG9iamVjdCBhbHQgbmFtZSB3aWR0aCBoZWlnaHQgYWxpZ24gaHNwYWNlIHZzcGFjZSIpLCB1KCJpbWciLCAibmFtZSBsb25nZGVzYyBhbGlnbiBib3JkZXIgaHNwYWNlIHZzcGFjZSIpLCB1KCJpZnJhbWUiLCAibG9uZ2Rlc2MgZnJhbWVib3JkZXIgbWFyZ2lud2lkdGggbWFyZ2luaGVpZ2h0IHNjcm9sbGluZyBhbGlnbiIpLCB1KCJmb250IGJhc2Vmb250IiwgInNpemUgY29sb3IgZmFjZSIpLCB1KCJpbnB1dCIsICJ1c2VtYXAgYWxpZ24iKSwgdSgic2VsZWN0IiksIHUoInRleHRhcmVhIiksIHUoImgxIGgyIGgzIGg0IGg1IGg2IGRpdiBwIGxlZ2VuZCBjYXB0aW9uIiwgImFsaWduIiksIHUoInVsIiwgInR5cGUgY29tcGFjdCIpLCB1KCJsaSIsICJ0eXBlIiksIHUoIm9sIGRsIG1lbnUgZGlyIiwgImNvbXBhY3QiKSwgdSgicHJlIiwgIndpZHRoIHhtbDpzcGFjZSIpLCB1KCJociIsICJhbGlnbiBub3NoYWRlIHNpemUgd2lkdGgiKSwgdSgiaXNpbmRleCIsICJwcm9tcHQiKSwgdSgidGFibGUiLCAic3VtbWFyeSB3aWR0aCBmcmFtZSBydWxlcyBjZWxsc3BhY2luZyBjZWxscGFkZGluZyBhbGlnbiBiZ2NvbG9yIiksIHUoImNvbCIsICJ3aWR0aCBhbGlnbiBjaGFyIGNoYXJvZmYgdmFsaWduIiksIHUoImNvbGdyb3VwIiwgIndpZHRoIGFsaWduIGNoYXIgY2hhcm9mZiB2YWxpZ24iKSwgdSgidGhlYWQiLCAiYWxpZ24gY2hhciBjaGFyb2ZmIHZhbGlnbiIpLCB1KCJ0ciIsICJhbGlnbiBjaGFyIGNoYXJvZmYgdmFsaWduIGJnY29sb3IiKSwgdSgidGgiLCAiYXhpcyBhbGlnbiBjaGFyIGNoYXJvZmYgdmFsaWduIG5vd3JhcCBiZ2NvbG9yIHdpZHRoIGhlaWdodCIpLCB1KCJmb3JtIiwgImFjY2VwdCIpLCB1KCJ0ZCIsICJhYmJyIGF4aXMgc2NvcGUgYWxpZ24gY2hhciBjaGFyb2ZmIHZhbGlnbiBub3dyYXAgYmdjb2xvciB3aWR0aCBoZWlnaHQiKSwgdSgidGZvb3QiLCAiYWxpZ24gY2hhciBjaGFyb2ZmIHZhbGlnbiIpLCB1KCJ0Ym9keSIsICJhbGlnbiBjaGFyIGNoYXJvZmYgdmFsaWduIiksIHUoImFyZWEiLCAibm9ocmVmIiksIHUoImJvZHkiLCAiYmFja2dyb3VuZCBiZ2NvbG9yIHRleHQgbGluayB2bGluayBhbGluayIpKSwgImh0bWw0IiAhPT0gZSAmJiAodSgiaW5wdXQgYnV0dG9uIHNlbGVjdCB0ZXh0YXJlYSIsICJhdXRvZm9jdXMiKSwgdSgiaW5wdXQgdGV4dGFyZWEiLCAicGxhY2Vob2xkZXIiKSwgdSgiYSIsICJkb3dubG9hZCIpLCB1KCJsaW5rIHNjcmlwdCBpbWciLCAiY3Jvc3NvcmlnaW4iKSwgdSgiaW1nIiwgImxvYWRpbmciKSwgdSgiaWZyYW1lIiwgInNhbmRib3ggc2VhbWxlc3MgYWxsb3dmdWxsc2NyZWVuIGxvYWRpbmciKSksIG1pKHZpKCJhIGZvcm0gbWV0ZXIgcHJvZ3Jlc3MgZGZuIiksIGZ1bmN0aW9uIChlKSB7CiAgICAgIGNbZV0gJiYgZGVsZXRlIGNbZV0uY2hpbGRyZW5bZV07CiAgICB9KSwgZGVsZXRlIGMuY2FwdGlvbi5jaGlsZHJlbi50YWJsZSwgZGVsZXRlIGMuc2NyaXB0LCBsaVtlXSA9IGMpOwogIH0sCiAgICAgIGJpID0gZnVuY3Rpb24gYmkoZSwgbikgewogICAgdmFyIHI7CiAgICByZXR1cm4gZSAmJiAociA9IHt9LCAic3RyaW5nIiA9PSB0eXBlb2YgZSAmJiAoZSA9IHsKICAgICAgIioiOiBlCiAgICB9KSwgbWkoZSwgZnVuY3Rpb24gKGUsIHQpIHsKICAgICAgclt0XSA9IHJbdC50b1VwcGVyQ2FzZSgpXSA9ICgibWFwIiA9PT0gbiA/IGRpIDogZ2kpKGUsIC9bLCBdLyk7CiAgICB9KSksIHI7CiAgfTsKCiAgZnVuY3Rpb24gQ2koaSkgewogICAgdmFyIFMgPSB7fSwKICAgICAgICB1ID0ge30sCiAgICAgICAgTiA9IFtdLAogICAgICAgIHMgPSB7fSwKICAgICAgICB0ID0ge30sCiAgICAgICAgZSA9IGZ1bmN0aW9uIGUoX2U0LCB0LCBuKSB7CiAgICAgIHZhciByID0gaVtfZTRdOwogICAgICByZXR1cm4gciA/IHIgPSBkaShyLCAvWywgXS8sIGRpKHIudG9VcHBlckNhc2UoKSwgL1ssIF0vKSkgOiAociA9IGxpW19lNF0pIHx8IChyID0gZGkodCwgIiAiLCBkaSh0LnRvVXBwZXJDYXNlKCksICIgIikpLCByID0gcGkociwgbiksIGxpW19lNF0gPSByKSwgcjsKICAgIH0sCiAgICAgICAgbiA9IHlpKChpID0gaSB8fCB7fSkuc2NoZW1hKTsKCiAgICAhMSA9PT0gaS52ZXJpZnlfaHRtbCAmJiAoaS52YWxpZF9lbGVtZW50cyA9ICIqWypdIik7CiAgICB2YXIgciA9IGJpKGkudmFsaWRfc3R5bGVzKSwKICAgICAgICBvID0gYmkoaS5pbnZhbGlkX3N0eWxlcywgIm1hcCIpLAogICAgICAgIGEgPSBiaShpLnZhbGlkX2NsYXNzZXMsICJtYXAiKSwKICAgICAgICBjID0gZSgid2hpdGVzcGFjZV9lbGVtZW50cyIsICJwcmUgc2NyaXB0IG5vc2NyaXB0IHN0eWxlIHRleHRhcmVhIHZpZGVvIGF1ZGlvIGlmcmFtZSBvYmplY3QgY29kZSIpLAogICAgICAgIGwgPSBlKCJzZWxmX2Nsb3NpbmdfZWxlbWVudHMiLCAiY29sZ3JvdXAgZGQgZHQgbGkgb3B0aW9uIHAgdGQgdGZvb3QgdGggdGhlYWQgdHIiKSwKICAgICAgICBmID0gZSgic2hvcnRfZW5kZWRfZWxlbWVudHMiLCAiYXJlYSBiYXNlIGJhc2Vmb250IGJyIGNvbCBmcmFtZSBociBpbWcgaW5wdXQgaXNpbmRleCBsaW5rIG1ldGEgcGFyYW0gZW1iZWQgc291cmNlIHdiciB0cmFjayIpLAogICAgICAgIGQgPSBlKCJib29sZWFuX2F0dHJpYnV0ZXMiLCAiY2hlY2tlZCBjb21wYWN0IGRlY2xhcmUgZGVmZXIgZGlzYWJsZWQgaXNtYXAgbXVsdGlwbGUgbm9ocmVmIG5vcmVzaXplIG5vc2hhZGUgbm93cmFwIHJlYWRvbmx5IHNlbGVjdGVkIGF1dG9wbGF5IGxvb3AgY29udHJvbHMiKSwKICAgICAgICBtID0gInRkIHRoIGlmcmFtZSB2aWRlbyBhdWRpbyBvYmplY3Qgc2NyaXB0IGNvZGUiLAogICAgICAgIHAgPSBlKCJub25fZW1wdHlfZWxlbWVudHMiLCBtICsgIiBwcmUiLCBmKSwKICAgICAgICBnID0gZSgibW92ZV9jYXJldF9iZWZvcmVfb25fZW50ZXJfZWxlbWVudHMiLCBtICsgIiB0YWJsZSIsIGYpLAogICAgICAgIGggPSBlKCJ0ZXh0X2Jsb2NrX2VsZW1lbnRzIiwgImgxIGgyIGgzIGg0IGg1IGg2IHAgZGl2IGFkZHJlc3MgcHJlIGZvcm0gYmxvY2txdW90ZSBjZW50ZXIgZGlyIGZpZWxkc2V0IGhlYWRlciBmb290ZXIgYXJ0aWNsZSBzZWN0aW9uIGhncm91cCBhc2lkZSBtYWluIG5hdiBmaWd1cmUiKSwKICAgICAgICB2ID0gZSgiYmxvY2tfZWxlbWVudHMiLCAiaHIgdGFibGUgdGJvZHkgdGhlYWQgdGZvb3QgdGggdHIgdGQgbGkgb2wgdWwgY2FwdGlvbiBkbCBkdCBkZCBub3NjcmlwdCBtZW51IGlzaW5kZXggb3B0aW9uIGRhdGFsaXN0IHNlbGVjdCBvcHRncm91cCBmaWdjYXB0aW9uIGRldGFpbHMgc3VtbWFyeSIsIGgpLAogICAgICAgIHkgPSBlKCJ0ZXh0X2lubGluZV9lbGVtZW50cyIsICJzcGFuIHN0cm9uZyBiIGVtIGkgZm9udCBzdHJpa2UgdSB2YXIgY2l0ZSBkZm4gY29kZSBtYXJrIHEgc3VwIHN1YiBzYW1wIik7CiAgICBtaSgoaS5zcGVjaWFsIHx8ICJzY3JpcHQgbm9zY3JpcHQgaWZyYW1lIG5vZnJhbWVzIG5vZW1iZWQgdGl0bGUgc3R5bGUgdGV4dGFyZWEgeG1wIikuc3BsaXQoIiAiKSwgZnVuY3Rpb24gKGUpIHsKICAgICAgdFtlXSA9IG5ldyBSZWdFeHAoIjwvIiArIGUgKyAiW14+XSo+IiwgImdpIik7CiAgICB9KTsKCiAgICB2YXIgRSA9IGZ1bmN0aW9uIEUoZSkgewogICAgICByZXR1cm4gbmV3IFJlZ0V4cCgiXiIgKyBlLnJlcGxhY2UoLyhbPysqXSkvZywgIi4kMSIpICsgIiQiKTsKICAgIH0sCiAgICAgICAgYiA9IGZ1bmN0aW9uIGIoZSkgewogICAgICB2YXIgdCwKICAgICAgICAgIG4sCiAgICAgICAgICByLAogICAgICAgICAgbywKICAgICAgICAgIGksCiAgICAgICAgICBhLAogICAgICAgICAgdSwKICAgICAgICAgIHMsCiAgICAgICAgICBjLAogICAgICAgICAgbCwKICAgICAgICAgIGYsCiAgICAgICAgICBkLAogICAgICAgICAgbSwKICAgICAgICAgIHAsCiAgICAgICAgICBnLAogICAgICAgICAgaCwKICAgICAgICAgIHYsCiAgICAgICAgICB5LAogICAgICAgICAgYiA9IC9eKFsjK1wtXSk/KFteXFshXC9dKykoPzpcLyhbXlxbIV0rKSk/KD86KCE/KVxbKFteXF1dKyldKT8kLywKICAgICAgICAgIEMgPSAvXihbIVwtXSk/KFx3K1tcXDpdOlx3K3xbXj06PF0rKT8oPzooWz06PF0pKC4qKSk/JC8sCiAgICAgICAgICB3ID0gL1sqPytdLzsKCiAgICAgIGlmIChlKSB7CiAgICAgICAgdmFyIHggPSB2aShlLCAiLCIpOwoKICAgICAgICBmb3IgKFNbIkAiXSAmJiAoaCA9IFNbIkAiXS5hdHRyaWJ1dGVzLCB2ID0gU1siQCJdLmF0dHJpYnV0ZXNPcmRlciksIHQgPSAwLCBuID0geC5sZW5ndGg7IHQgPCBuOyB0KyspIHsKICAgICAgICAgIGlmIChpID0gYi5leGVjKHhbdF0pKSB7CiAgICAgICAgICAgIGlmIChwID0gaVsxXSwgYyA9IGlbMl0sIGcgPSBpWzNdLCBzID0gaVs1XSwgYSA9IHsKICAgICAgICAgICAgICBhdHRyaWJ1dGVzOiBkID0ge30sCiAgICAgICAgICAgICAgYXR0cmlidXRlc09yZGVyOiBtID0gW10KICAgICAgICAgICAgfSwgIiMiID09PSBwICYmIChhLnBhZGRFbXB0eSA9ICEwKSwgIi0iID09PSBwICYmIChhLnJlbW92ZUVtcHR5ID0gITApLCAiISIgPT09IGlbNF0gJiYgKGEucmVtb3ZlRW1wdHlBdHRycyA9ICEwKSwgaCAmJiAodWUoaCwgZnVuY3Rpb24gKGUsIHQpIHsKICAgICAgICAgICAgICBkW3RdID0gZTsKICAgICAgICAgICAgfSksIG0ucHVzaC5hcHBseShtLCB2KSksIHMpIGZvciAociA9IDAsIG8gPSAocyA9IHZpKHMsICJ8IikpLmxlbmd0aDsgciA8IG87IHIrKykgewogICAgICAgICAgICAgIGlmIChpID0gQy5leGVjKHNbcl0pKSB7CiAgICAgICAgICAgICAgICBpZiAodSA9IHt9LCBmID0gaVsxXSwgbCA9IGlbMl0ucmVwbGFjZSgvW1xcOl06L2csICI6IiksIHAgPSBpWzNdLCB5ID0gaVs0XSwgIiEiID09PSBmICYmIChhLmF0dHJpYnV0ZXNSZXF1aXJlZCA9IGEuYXR0cmlidXRlc1JlcXVpcmVkIHx8IFtdLCBhLmF0dHJpYnV0ZXNSZXF1aXJlZC5wdXNoKGwpLCB1LnJlcXVpcmVkID0gITApLCAiLSIgPT09IGYpIHsKICAgICAgICAgICAgICAgICAgZGVsZXRlIGRbbF0sIG0uc3BsaWNlKGhpKG0sIGwpLCAxKTsKICAgICAgICAgICAgICAgICAgY29udGludWU7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgcCAmJiAoIj0iID09PSBwICYmIChhLmF0dHJpYnV0ZXNEZWZhdWx0ID0gYS5hdHRyaWJ1dGVzRGVmYXVsdCB8fCBbXSwgYS5hdHRyaWJ1dGVzRGVmYXVsdC5wdXNoKHsKICAgICAgICAgICAgICAgICAgbmFtZTogbCwKICAgICAgICAgICAgICAgICAgdmFsdWU6IHkKICAgICAgICAgICAgICAgIH0pLCB1LmRlZmF1bHRWYWx1ZSA9IHkpLCAiOiIgPT09IHAgJiYgKGEuYXR0cmlidXRlc0ZvcmNlZCA9IGEuYXR0cmlidXRlc0ZvcmNlZCB8fCBbXSwgYS5hdHRyaWJ1dGVzRm9yY2VkLnB1c2goewogICAgICAgICAgICAgICAgICBuYW1lOiBsLAogICAgICAgICAgICAgICAgICB2YWx1ZTogeQogICAgICAgICAgICAgICAgfSksIHUuZm9yY2VkVmFsdWUgPSB5KSwgIjwiID09PSBwICYmICh1LnZhbGlkVmFsdWVzID0gZGkoeSwgIj8iKSkpLCB3LnRlc3QobCkgPyAoYS5hdHRyaWJ1dGVQYXR0ZXJucyA9IGEuYXR0cmlidXRlUGF0dGVybnMgfHwgW10sIHUucGF0dGVybiA9IEUobCksIGEuYXR0cmlidXRlUGF0dGVybnMucHVzaCh1KSkgOiAoZFtsXSB8fCBtLnB1c2gobCksIGRbbF0gPSB1KTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgICAgaCB8fCAiQCIgIT09IGMgfHwgKGggPSBkLCB2ID0gbSksIGcgJiYgKGEub3V0cHV0TmFtZSA9IGMsIFNbZ10gPSBhKSwgdy50ZXN0KGMpID8gKGEucGF0dGVybiA9IEUoYyksIE4ucHVzaChhKSkgOiBTW2NdID0gYTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KICAgIH0sCiAgICAgICAgQyA9IGZ1bmN0aW9uIEMoZSkgewogICAgICBTID0ge30sIE4gPSBbXSwgYihlKSwgbWkobiwgZnVuY3Rpb24gKGUsIHQpIHsKICAgICAgICB1W3RdID0gZS5jaGlsZHJlbjsKICAgICAgfSk7CiAgICB9LAogICAgICAgIHcgPSBmdW5jdGlvbiB3KGUpIHsKICAgICAgdmFyIGEgPSAvXih+KT8oLispJC87CiAgICAgIGUgJiYgKGxpLnRleHRfYmxvY2tfZWxlbWVudHMgPSBsaS5ibG9ja19lbGVtZW50cyA9IG51bGwsIG1pKHZpKGUsICIsIiksIGZ1bmN0aW9uIChlKSB7CiAgICAgICAgdmFyIHQsCiAgICAgICAgICAgIG4gPSBhLmV4ZWMoZSksCiAgICAgICAgICAgIHIgPSAifiIgPT09IG5bMV0sCiAgICAgICAgICAgIG8gPSByID8gInNwYW4iIDogImRpdiIsCiAgICAgICAgICAgIGkgPSBuWzJdOwogICAgICAgIHVbaV0gPSB1W29dLCBzW2ldID0gbywgciB8fCAodltpLnRvVXBwZXJDYXNlKCldID0ge30sIHZbaV0gPSB7fSksIFNbaV0gfHwgKHQgPSBTW29dLCBkZWxldGUgKHQgPSBwaSh7fSwgdCkpLnJlbW92ZUVtcHR5QXR0cnMsIGRlbGV0ZSB0LnJlbW92ZUVtcHR5LCBTW2ldID0gdCksIG1pKHUsIGZ1bmN0aW9uIChlLCB0KSB7CiAgICAgICAgICBlW29dICYmICh1W3RdID0gZSA9IHBpKHt9LCB1W3RdKSwgZVtpXSA9IGVbb10pOwogICAgICAgIH0pOwogICAgICB9KSk7CiAgICB9LAogICAgICAgIHggPSBmdW5jdGlvbiB4KGUpIHsKICAgICAgdmFyIG8gPSAvXihbK1wtXT8pKFtBLVphLXowLTlfXC0uXHUwMGI3XHUwMGMwLVx1MDBkNlx1MDBkOC1cdTAwZjZcdTAwZjgtXHUwMzdkXHUwMzdmLVx1MWZmZlx1MjAwYy1cdTIwMGRcdTIwM2YtXHUyMDQwXHUyMDcwLVx1MjE4Zlx1MmMwMC1cdTJmZWZcdTMwMDEtXHVkN2ZmXHVmOTAwLVx1ZmRjZlx1ZmRmMC1cdWZmZmRdKylcWyhbXlxdXSspXSQvOwogICAgICBsaVtpLnNjaGVtYV0gPSBudWxsLCBlICYmIG1pKHZpKGUsICIsIiksIGZ1bmN0aW9uIChlKSB7CiAgICAgICAgdmFyIHQsCiAgICAgICAgICAgIG4sCiAgICAgICAgICAgIHIgPSBvLmV4ZWMoZSk7CiAgICAgICAgciAmJiAobiA9IHJbMV0sIHQgPSBuID8gdVtyWzJdXSA6IHVbclsyXV0gPSB7CiAgICAgICAgICAiI2NvbW1lbnQiOiB7fQogICAgICAgIH0sIHQgPSB1W3JbMl1dLCBtaSh2aShyWzNdLCAifCIpLCBmdW5jdGlvbiAoZSkgewogICAgICAgICAgIi0iID09PSBuID8gZGVsZXRlIHRbZV0gOiB0W2VdID0ge307CiAgICAgICAgfSkpOwogICAgICB9KTsKICAgIH0sCiAgICAgICAgayA9IGZ1bmN0aW9uIGsoZSkgewogICAgICB2YXIgdCwKICAgICAgICAgIG4gPSBTW2VdOwogICAgICBpZiAobikgcmV0dXJuIG47CgogICAgICBmb3IgKHQgPSBOLmxlbmd0aDsgdC0tOykgewogICAgICAgIGlmICgobiA9IE5bdF0pLnBhdHRlcm4udGVzdChlKSkgcmV0dXJuIG47CiAgICAgIH0KICAgIH07CgogICAgaS52YWxpZF9lbGVtZW50cyA/IEMoaS52YWxpZF9lbGVtZW50cykgOiAobWkobiwgZnVuY3Rpb24gKGUsIHQpIHsKICAgICAgU1t0XSA9IHsKICAgICAgICBhdHRyaWJ1dGVzOiBlLmF0dHJpYnV0ZXMsCiAgICAgICAgYXR0cmlidXRlc09yZGVyOiBlLmF0dHJpYnV0ZXNPcmRlcgogICAgICB9LCB1W3RdID0gZS5jaGlsZHJlbjsKICAgIH0pLCAiaHRtbDUiICE9PSBpLnNjaGVtYSAmJiBtaSh2aSgic3Ryb25nL2IgZW0vaSIpLCBmdW5jdGlvbiAoZSkgewogICAgICB2YXIgdCA9IHZpKGUsICIvIik7CiAgICAgIFNbdFsxXV0ub3V0cHV0TmFtZSA9IHRbMF07CiAgICB9KSwgbWkodmkoIm9sIHVsIHN1YiBzdXAgYmxvY2txdW90ZSBzcGFuIGZvbnQgYSB0YWJsZSB0Ym9keSBzdHJvbmcgZW0gYiBpIiksIGZ1bmN0aW9uIChlKSB7CiAgICAgIFNbZV0gJiYgKFNbZV0ucmVtb3ZlRW1wdHkgPSAhMCk7CiAgICB9KSwgbWkodmkoInAgaDEgaDIgaDMgaDQgaDUgaDYgdGggdGQgcHJlIGRpdiBhZGRyZXNzIGNhcHRpb24gbGkiKSwgZnVuY3Rpb24gKGUpIHsKICAgICAgU1tlXS5wYWRkRW1wdHkgPSAhMDsKICAgIH0pLCBtaSh2aSgic3BhbiIpLCBmdW5jdGlvbiAoZSkgewogICAgICBTW2VdLnJlbW92ZUVtcHR5QXR0cnMgPSAhMDsKICAgIH0pKSwgdyhpLmN1c3RvbV9lbGVtZW50cyksIHgoaS52YWxpZF9jaGlsZHJlbiksIGIoaS5leHRlbmRlZF92YWxpZF9lbGVtZW50cyksIHgoIitvbFt1bHxvbF0sK3VsW3VsfG9sXSIpLCBtaSh7CiAgICAgIGRkOiAiZGwiLAogICAgICBkdDogImRsIiwKICAgICAgbGk6ICJ1bCBvbCIsCiAgICAgIHRkOiAidHIiLAogICAgICB0aDogInRyIiwKICAgICAgdHI6ICJ0Ym9keSB0aGVhZCB0Zm9vdCIsCiAgICAgIHRib2R5OiAidGFibGUiLAogICAgICB0aGVhZDogInRhYmxlIiwKICAgICAgdGZvb3Q6ICJ0YWJsZSIsCiAgICAgIGxlZ2VuZDogImZpZWxkc2V0IiwKICAgICAgYXJlYTogIm1hcCIsCiAgICAgIHBhcmFtOiAidmlkZW8gYXVkaW8gb2JqZWN0IgogICAgfSwgZnVuY3Rpb24gKGUsIHQpIHsKICAgICAgU1t0XSAmJiAoU1t0XS5wYXJlbnRzUmVxdWlyZWQgPSB2aShlKSk7CiAgICB9KSwgaS5pbnZhbGlkX2VsZW1lbnRzICYmIG1pKGdpKGkuaW52YWxpZF9lbGVtZW50cyksIGZ1bmN0aW9uIChlKSB7CiAgICAgIFNbZV0gJiYgZGVsZXRlIFNbZV07CiAgICB9KSwgaygic3BhbiIpIHx8IGIoInNwYW5bIWRhdGEtbWNlLXR5cGV8Kl0iKTsKICAgIHJldHVybiB7CiAgICAgIGNoaWxkcmVuOiB1LAogICAgICBlbGVtZW50czogUywKICAgICAgZ2V0VmFsaWRTdHlsZXM6IGZ1bmN0aW9uIGdldFZhbGlkU3R5bGVzKCkgewogICAgICAgIHJldHVybiByOwogICAgICB9LAogICAgICBnZXRWYWxpZENsYXNzZXM6IGZ1bmN0aW9uIGdldFZhbGlkQ2xhc3NlcygpIHsKICAgICAgICByZXR1cm4gYTsKICAgICAgfSwKICAgICAgZ2V0QmxvY2tFbGVtZW50czogZnVuY3Rpb24gZ2V0QmxvY2tFbGVtZW50cygpIHsKICAgICAgICByZXR1cm4gdjsKICAgICAgfSwKICAgICAgZ2V0SW52YWxpZFN0eWxlczogZnVuY3Rpb24gZ2V0SW52YWxpZFN0eWxlcygpIHsKICAgICAgICByZXR1cm4gbzsKICAgICAgfSwKICAgICAgZ2V0U2hvcnRFbmRlZEVsZW1lbnRzOiBmdW5jdGlvbiBnZXRTaG9ydEVuZGVkRWxlbWVudHMoKSB7CiAgICAgICAgcmV0dXJuIGY7CiAgICAgIH0sCiAgICAgIGdldFRleHRCbG9ja0VsZW1lbnRzOiBmdW5jdGlvbiBnZXRUZXh0QmxvY2tFbGVtZW50cygpIHsKICAgICAgICByZXR1cm4gaDsKICAgICAgfSwKICAgICAgZ2V0VGV4dElubGluZUVsZW1lbnRzOiBmdW5jdGlvbiBnZXRUZXh0SW5saW5lRWxlbWVudHMoKSB7CiAgICAgICAgcmV0dXJuIHk7CiAgICAgIH0sCiAgICAgIGdldEJvb2xBdHRyczogZnVuY3Rpb24gZ2V0Qm9vbEF0dHJzKCkgewogICAgICAgIHJldHVybiBkOwogICAgICB9LAogICAgICBnZXRFbGVtZW50UnVsZTogaywKICAgICAgZ2V0U2VsZkNsb3NpbmdFbGVtZW50czogZnVuY3Rpb24gZ2V0U2VsZkNsb3NpbmdFbGVtZW50cygpIHsKICAgICAgICByZXR1cm4gbDsKICAgICAgfSwKICAgICAgZ2V0Tm9uRW1wdHlFbGVtZW50czogZnVuY3Rpb24gZ2V0Tm9uRW1wdHlFbGVtZW50cygpIHsKICAgICAgICByZXR1cm4gcDsKICAgICAgfSwKICAgICAgZ2V0TW92ZUNhcmV0QmVmb3JlT25FbnRlckVsZW1lbnRzOiBmdW5jdGlvbiBnZXRNb3ZlQ2FyZXRCZWZvcmVPbkVudGVyRWxlbWVudHMoKSB7CiAgICAgICAgcmV0dXJuIGc7CiAgICAgIH0sCiAgICAgIGdldFdoaXRlU3BhY2VFbGVtZW50czogZnVuY3Rpb24gZ2V0V2hpdGVTcGFjZUVsZW1lbnRzKCkgewogICAgICAgIHJldHVybiBjOwogICAgICB9LAogICAgICBnZXRTcGVjaWFsRWxlbWVudHM6IGZ1bmN0aW9uIGdldFNwZWNpYWxFbGVtZW50cygpIHsKICAgICAgICByZXR1cm4gdDsKICAgICAgfSwKICAgICAgaXNWYWxpZENoaWxkOiBmdW5jdGlvbiBpc1ZhbGlkQ2hpbGQoZSwgdCkgewogICAgICAgIHZhciBuID0gdVtlLnRvTG93ZXJDYXNlKCldOwogICAgICAgIHJldHVybiAhKCFuIHx8ICFuW3QudG9Mb3dlckNhc2UoKV0pOwogICAgICB9LAogICAgICBpc1ZhbGlkOiBmdW5jdGlvbiBpc1ZhbGlkKGUsIHQpIHsKICAgICAgICB2YXIgbiwKICAgICAgICAgICAgciwKICAgICAgICAgICAgbyA9IGsoZSk7CgogICAgICAgIGlmIChvKSB7CiAgICAgICAgICBpZiAoIXQpIHJldHVybiAhMDsKICAgICAgICAgIGlmIChvLmF0dHJpYnV0ZXNbdF0pIHJldHVybiAhMDsKICAgICAgICAgIGlmIChuID0gby5hdHRyaWJ1dGVQYXR0ZXJucykgZm9yIChyID0gbi5sZW5ndGg7IHItLTspIHsKICAgICAgICAgICAgaWYgKG5bcl0ucGF0dGVybi50ZXN0KGUpKSByZXR1cm4gITA7CiAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICByZXR1cm4gITE7CiAgICAgIH0sCiAgICAgIGdldEN1c3RvbUVsZW1lbnRzOiBmdW5jdGlvbiBnZXRDdXN0b21FbGVtZW50cygpIHsKICAgICAgICByZXR1cm4gczsKICAgICAgfSwKICAgICAgYWRkVmFsaWRFbGVtZW50czogYiwKICAgICAgc2V0VmFsaWRFbGVtZW50czogQywKICAgICAgYWRkQ3VzdG9tRWxlbWVudHM6IHcsCiAgICAgIGFkZFZhbGlkQ2hpbGRyZW46IHgKICAgIH07CiAgfQoKICB2YXIgd2kgPSBmdW5jdGlvbiB3aShlLCB0LCBuLCByKSB7CiAgICB2YXIgbyA9IGZ1bmN0aW9uIG8oZSkgewogICAgICByZXR1cm4gMSA8IChlID0gcGFyc2VJbnQoZSwgMTApLnRvU3RyaW5nKDE2KSkubGVuZ3RoID8gZSA6ICIwIiArIGU7CiAgICB9OwoKICAgIHJldHVybiAiIyIgKyBvKHQpICsgbyhuKSArIG8ocik7CiAgfSwKICAgICAgeGkgPSBmdW5jdGlvbiB4aShiLCBlKSB7CiAgICB2YXIgcywKICAgICAgICBjLAogICAgICAgIEMgPSAvcmdiXHMqXChccyooWzAtOV0rKVxzKixccyooWzAtOV0rKVxzKixccyooWzAtOV0rKVxzKlwpL2dpLAogICAgICAgIHcgPSAvKD86dXJsKD86KD86XChccypcIihbXlwiXSspXCJccypcKSl8KD86XChccypcJyhbXlwnXSspXCdccypcKSl8KD86XChccyooW14pXHNdKylccypcKSkpKXwoPzpcJyhbXlwnXSspXCcpfCg/OlwiKFteXCJdKylcIikvZ2ksCiAgICAgICAgeCA9IC9ccyooW146XSspOlxzKihbXjtdKyk7Py9nLAogICAgICAgIFMgPSAvXHMrJC8sCiAgICAgICAgTiA9IHt9LAogICAgICAgIEUgPSBjbzsKICAgIGIgPSBiIHx8IHt9LCBlICYmIChzID0gZS5nZXRWYWxpZFN0eWxlcygpLCBjID0gZS5nZXRJbnZhbGlkU3R5bGVzKCkpOwoKICAgIGZvciAodmFyIHQgPSAoIlxcXCIgXFwnIFxcOyBcXDogOyA6ICIgKyBFKS5zcGxpdCgiICIpLCBrID0gMDsgayA8IHQubGVuZ3RoOyBrKyspIHsKICAgICAgTlt0W2tdXSA9IEUgKyBrLCBOW0UgKyBrXSA9IHRba107CiAgICB9CgogICAgcmV0dXJuIHsKICAgICAgdG9IZXg6IGZ1bmN0aW9uIHRvSGV4KGUpIHsKICAgICAgICByZXR1cm4gZS5yZXBsYWNlKEMsIHdpKTsKICAgICAgfSwKICAgICAgcGFyc2U6IGZ1bmN0aW9uIHBhcnNlKGUpIHsKICAgICAgICB2YXIgdCwKICAgICAgICAgICAgbiwKICAgICAgICAgICAgciwKICAgICAgICAgICAgbywKICAgICAgICAgICAgaSwKICAgICAgICAgICAgYSwKICAgICAgICAgICAgdSwKICAgICAgICAgICAgcywKICAgICAgICAgICAgYyA9IHt9LAogICAgICAgICAgICBsID0gYi51cmxfY29udmVydGVyLAogICAgICAgICAgICBmID0gYi51cmxfY29udmVydGVyX3Njb3BlIHx8IHRoaXMsCiAgICAgICAgICAgIGQgPSBmdW5jdGlvbiBkKGUsIHQsIG4pIHsKICAgICAgICAgIHZhciByID0gY1tlICsgIi10b3AiICsgdF07CgogICAgICAgICAgaWYgKHIpIHsKICAgICAgICAgICAgdmFyIG8gPSBjW2UgKyAiLXJpZ2h0IiArIHRdOwoKICAgICAgICAgICAgaWYgKG8pIHsKICAgICAgICAgICAgICB2YXIgaSA9IGNbZSArICItYm90dG9tIiArIHRdOwoKICAgICAgICAgICAgICBpZiAoaSkgewogICAgICAgICAgICAgICAgdmFyIGEgPSBjW2UgKyAiLWxlZnQiICsgdF07CgogICAgICAgICAgICAgICAgaWYgKGEpIHsKICAgICAgICAgICAgICAgICAgdmFyIHUgPSBbciwgbywgaSwgYV07CgogICAgICAgICAgICAgICAgICBmb3IgKGsgPSB1Lmxlbmd0aCAtIDE7IGstLSAmJiB1W2tdID09PSB1W2sgKyAxXTspIHsKICAgICAgICAgICAgICAgICAgICA7CiAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgIC0xIDwgayAmJiBuIHx8IChjW2UgKyB0XSA9IC0xID09PSBrID8gdVswXSA6IHUuam9pbigiICIpLCBkZWxldGUgY1tlICsgIi10b3AiICsgdF0sIGRlbGV0ZSBjW2UgKyAiLXJpZ2h0IiArIHRdLCBkZWxldGUgY1tlICsgIi1ib3R0b20iICsgdF0sIGRlbGV0ZSBjW2UgKyAiLWxlZnQiICsgdF0pOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sCiAgICAgICAgICAgIG0gPSBmdW5jdGlvbiBtKGUpIHsKICAgICAgICAgIHZhciB0LAogICAgICAgICAgICAgIG4gPSBjW2VdOwoKICAgICAgICAgIGlmIChuKSB7CiAgICAgICAgICAgIGZvciAodCA9IChuID0gbi5zcGxpdCgiICIpKS5sZW5ndGg7IHQtLTspIHsKICAgICAgICAgICAgICBpZiAoblt0XSAhPT0gblswXSkgcmV0dXJuICExOwogICAgICAgICAgICB9CgogICAgICAgICAgICByZXR1cm4gY1tlXSA9IG5bMF0sICEwOwogICAgICAgICAgfQogICAgICAgIH0sCiAgICAgICAgICAgIHAgPSBmdW5jdGlvbiBwKGUpIHsKICAgICAgICAgIHJldHVybiBvID0gITAsIE5bZV07CiAgICAgICAgfSwKICAgICAgICAgICAgZyA9IGZ1bmN0aW9uIGcoZSwgdCkgewogICAgICAgICAgcmV0dXJuIG8gJiYgKGUgPSBlLnJlcGxhY2UoL1x1RkVGRlswLTldL2csIGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICAgIHJldHVybiBOW2VdOwogICAgICAgICAgfSkpLCB0IHx8IChlID0gZS5yZXBsYWNlKC9cXChbXCdcIjs6XSkvZywgIiQxIikpLCBlOwogICAgICAgIH0sCiAgICAgICAgICAgIGggPSBmdW5jdGlvbiBoKGUpIHsKICAgICAgICAgIHJldHVybiBTdHJpbmcuZnJvbUNoYXJDb2RlKHBhcnNlSW50KGUuc2xpY2UoMSksIDE2KSk7CiAgICAgICAgfSwKICAgICAgICAgICAgdiA9IGZ1bmN0aW9uIHYoZSkgewogICAgICAgICAgcmV0dXJuIGUucmVwbGFjZSgvXFxbMC05YS1mXSsvZ2ksIGgpOwogICAgICAgIH0sCiAgICAgICAgICAgIHkgPSBmdW5jdGlvbiB5KGUsIHQsIG4sIHIsIG8sIGkpIHsKICAgICAgICAgIGlmIChvID0gbyB8fCBpKSByZXR1cm4gIiciICsgKG8gPSBnKG8pKS5yZXBsYWNlKC9cJy9nLCAiXFwnIikgKyAiJyI7CgogICAgICAgICAgaWYgKHQgPSBnKHQgfHwgbiB8fCByKSwgIWIuYWxsb3dfc2NyaXB0X3VybHMpIHsKICAgICAgICAgICAgdmFyIGEgPSB0LnJlcGxhY2UoL1tcc1xyXG5dKy9nLCAiIik7CiAgICAgICAgICAgIGlmICgvKGphdmF8dmIpc2NyaXB0Oi9pLnRlc3QoYSkpIHJldHVybiAiIjsKICAgICAgICAgICAgaWYgKCFiLmFsbG93X3N2Z19kYXRhX3VybHMgJiYgL15kYXRhOmltYWdlXC9zdmcvaS50ZXN0KGEpKSByZXR1cm4gIiI7CiAgICAgICAgICB9CgogICAgICAgICAgcmV0dXJuIGwgJiYgKHQgPSBsLmNhbGwoZiwgdCwgInN0eWxlIikpLCAidXJsKCciICsgdC5yZXBsYWNlKC9cJy9nLCAiXFwnIikgKyAiJykiOwogICAgICAgIH07CgogICAgICAgIGlmIChlKSB7CiAgICAgICAgICBmb3IgKGUgPSAoZSA9IGUucmVwbGFjZSgvW1x1MDAwMC1cdTAwMUZdL2csICIiKSkucmVwbGFjZSgvXFxbXCJcJzs6XHVGRUZGXS9nLCBwKS5yZXBsYWNlKC9cIlteXCJdK1wifFwnW15cJ10rXCcvZywgZnVuY3Rpb24gKGUpIHsKICAgICAgICAgICAgcmV0dXJuIGUucmVwbGFjZSgvWzs6XS9nLCBwKTsKICAgICAgICAgIH0pOyB0ID0geC5leGVjKGUpOykgewogICAgICAgICAgICBpZiAoeC5sYXN0SW5kZXggPSB0LmluZGV4ICsgdFswXS5sZW5ndGgsIG4gPSB0WzFdLnJlcGxhY2UoUywgIiIpLnRvTG93ZXJDYXNlKCksIHIgPSB0WzJdLnJlcGxhY2UoUywgIiIpLCBuICYmIHIpIHsKICAgICAgICAgICAgICBpZiAobiA9IHYobiksIHIgPSB2KHIpLCAtMSAhPT0gbi5pbmRleE9mKEUpIHx8IC0xICE9PSBuLmluZGV4T2YoJyInKSkgY29udGludWU7CiAgICAgICAgICAgICAgaWYgKCFiLmFsbG93X3NjcmlwdF91cmxzICYmICgiYmVoYXZpb3IiID09PSBuIHx8IC9leHByZXNzaW9uXHMqXCh8XC9cKnxcKlwvLy50ZXN0KHIpKSkgY29udGludWU7CiAgICAgICAgICAgICAgImZvbnQtd2VpZ2h0IiA9PT0gbiAmJiAiNzAwIiA9PT0gciA/IHIgPSAiYm9sZCIgOiAiY29sb3IiICE9PSBuICYmICJiYWNrZ3JvdW5kLWNvbG9yIiAhPT0gbiB8fCAociA9IHIudG9Mb3dlckNhc2UoKSksIHIgPSAociA9IHIucmVwbGFjZShDLCB3aSkpLnJlcGxhY2UodywgeSksIGNbbl0gPSBvID8gZyhyLCAhMCkgOiByOwogICAgICAgICAgICB9CiAgICAgICAgICB9CgogICAgICAgICAgZCgiYm9yZGVyIiwgIiIsICEwKSwgZCgiYm9yZGVyIiwgIi13aWR0aCIpLCBkKCJib3JkZXIiLCAiLWNvbG9yIiksIGQoImJvcmRlciIsICItc3R5bGUiKSwgZCgicGFkZGluZyIsICIiKSwgZCgibWFyZ2luIiwgIiIpLCBpID0gImJvcmRlciIsIHUgPSAiYm9yZGVyLXN0eWxlIiwgcyA9ICJib3JkZXItY29sb3IiLCBtKGEgPSAiYm9yZGVyLXdpZHRoIikgJiYgbSh1KSAmJiBtKHMpICYmIChjW2ldID0gY1thXSArICIgIiArIGNbdV0gKyAiICIgKyBjW3NdLCBkZWxldGUgY1thXSwgZGVsZXRlIGNbdV0sIGRlbGV0ZSBjW3NdKSwgIm1lZGl1bSBub25lIiA9PT0gYy5ib3JkZXIgJiYgZGVsZXRlIGMuYm9yZGVyLCAibm9uZSIgPT09IGNbImJvcmRlci1pbWFnZSJdICYmIGRlbGV0ZSBjWyJib3JkZXItaW1hZ2UiXTsKICAgICAgICB9CgogICAgICAgIHJldHVybiBjOwogICAgICB9LAogICAgICBzZXJpYWxpemU6IGZ1bmN0aW9uIHNlcmlhbGl6ZShpLCBhKSB7CiAgICAgICAgdmFyIHUgPSAiIiwKICAgICAgICAgICAgZSA9IGZ1bmN0aW9uIGUoX2U1KSB7CiAgICAgICAgICB2YXIgdCwKICAgICAgICAgICAgICBuID0gc1tfZTVdOwogICAgICAgICAgaWYgKG4pIGZvciAodmFyIHIgPSAwLCBvID0gbi5sZW5ndGg7IHIgPCBvOyByKyspIHsKICAgICAgICAgICAgX2U1ID0gbltyXSwgKHQgPSBpW19lNV0pICYmICh1ICs9ICgwIDwgdS5sZW5ndGggPyAiICIgOiAiIikgKyBfZTUgKyAiOiAiICsgdCArICI7Iik7CiAgICAgICAgICB9CiAgICAgICAgfTsKCiAgICAgICAgcmV0dXJuIGEgJiYgcyA/IChlKCIqIiksIGUoYSkpIDogdWUoaSwgZnVuY3Rpb24gKGUsIHQpIHsKICAgICAgICAgIHZhciBuLCByLCBvOwogICAgICAgICAgIWUgfHwgYyAmJiAobiA9IHQsIHIgPSBhLCAobyA9IGNbIioiXSkgJiYgb1tuXSB8fCAobyA9IGNbcl0pICYmIG9bbl0pIHx8ICh1ICs9ICgwIDwgdS5sZW5ndGggPyAiICIgOiAiIikgKyB0ICsgIjogIiArIGUgKyAiOyIpOwogICAgICAgIH0pLCB1OwogICAgICB9CiAgICB9OwogIH0sCiAgICAgIFNpID0gL14oPzptb3VzZXxjb250ZXh0bWVudSl8Y2xpY2svLAogICAgICBOaSA9IHsKICAgIGtleUxvY2F0aW9uOiAxLAogICAgbGF5ZXJYOiAxLAogICAgbGF5ZXJZOiAxLAogICAgcmV0dXJuVmFsdWU6IDEsCiAgICB3ZWJraXRNb3ZlbWVudFg6IDEsCiAgICB3ZWJraXRNb3ZlbWVudFk6IDEsCiAgICBrZXlJZGVudGlmaWVyOiAxLAogICAgbW96UHJlc3N1cmU6IDEKICB9LAogICAgICBFaSA9IGZ1bmN0aW9uIEVpKCkgewogICAgcmV0dXJuICExOwogIH0sCiAgICAgIGtpID0gZnVuY3Rpb24ga2koKSB7CiAgICByZXR1cm4gITA7CiAgfSwKICAgICAgX2kgPSBmdW5jdGlvbiBfaShlLCB0LCBuLCByKSB7CiAgICBlLmFkZEV2ZW50TGlzdGVuZXIgPyBlLmFkZEV2ZW50TGlzdGVuZXIodCwgbiwgciB8fCAhMSkgOiBlLmF0dGFjaEV2ZW50ICYmIGUuYXR0YWNoRXZlbnQoIm9uIiArIHQsIG4pOwogIH0sCiAgICAgIEFpID0gZnVuY3Rpb24gQWkoZSwgdCwgbiwgcikgewogICAgZS5yZW1vdmVFdmVudExpc3RlbmVyID8gZS5yZW1vdmVFdmVudExpc3RlbmVyKHQsIG4sIHIgfHwgITEpIDogZS5kZXRhY2hFdmVudCAmJiBlLmRldGFjaEV2ZW50KCJvbiIgKyB0LCBuKTsKICB9LAogICAgICBSaSA9IGZ1bmN0aW9uIFJpKGUsIHQpIHsKICAgIHZhciBuLAogICAgICAgIHIsCiAgICAgICAgbywKICAgICAgICBpLAogICAgICAgIGEsCiAgICAgICAgdSwKICAgICAgICBzID0gdCB8fCB7fTsKCiAgICBmb3IgKG4gaW4gZSkgewogICAgICBOaVtuXSB8fCAoc1tuXSA9IGVbbl0pOwogICAgfQoKICAgIHJldHVybiBzLnRhcmdldCB8fCAocy50YXJnZXQgPSBzLnNyY0VsZW1lbnQgfHwgZG9jdW1lbnQpLCBzLmNvbXBvc2VkUGF0aCAmJiAocy5jb21wb3NlZFBhdGggPSBmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiBlLmNvbXBvc2VkUGF0aCgpOwogICAgfSksIGUgJiYgKGEgPSBlLCBTaS50ZXN0KGEudHlwZSkpICYmIGUucGFnZVggPT09IHVuZGVmaW5lZCAmJiBlLmNsaWVudFggIT09IHVuZGVmaW5lZCAmJiAobyA9IChyID0gcy50YXJnZXQub3duZXJEb2N1bWVudCB8fCBkb2N1bWVudCkuZG9jdW1lbnRFbGVtZW50LCBpID0gci5ib2R5LCBzLnBhZ2VYID0gZS5jbGllbnRYICsgKG8gJiYgby5zY3JvbGxMZWZ0IHx8IGkgJiYgaS5zY3JvbGxMZWZ0IHx8IDApIC0gKG8gJiYgby5jbGllbnRMZWZ0IHx8IGkgJiYgaS5jbGllbnRMZWZ0IHx8IDApLCBzLnBhZ2VZID0gZS5jbGllbnRZICsgKG8gJiYgby5zY3JvbGxUb3AgfHwgaSAmJiBpLnNjcm9sbFRvcCB8fCAwKSAtIChvICYmIG8uY2xpZW50VG9wIHx8IGkgJiYgaS5jbGllbnRUb3AgfHwgMCkpLCBzLnByZXZlbnREZWZhdWx0ID0gZnVuY3Rpb24gKCkgewogICAgICBzLmlzRGVmYXVsdFByZXZlbnRlZCA9IGtpLCBlICYmIChlLnByZXZlbnREZWZhdWx0ID8gZS5wcmV2ZW50RGVmYXVsdCgpIDogZS5yZXR1cm5WYWx1ZSA9ICExKTsKICAgIH0sIHMuc3RvcFByb3BhZ2F0aW9uID0gZnVuY3Rpb24gKCkgewogICAgICBzLmlzUHJvcGFnYXRpb25TdG9wcGVkID0ga2ksIGUgJiYgKGUuc3RvcFByb3BhZ2F0aW9uID8gZS5zdG9wUHJvcGFnYXRpb24oKSA6IGUuY2FuY2VsQnViYmxlID0gITApOwogICAgfSwgIShzLnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbiA9IGZ1bmN0aW9uICgpIHsKICAgICAgcy5pc0ltbWVkaWF0ZVByb3BhZ2F0aW9uU3RvcHBlZCA9IGtpLCBzLnN0b3BQcm9wYWdhdGlvbigpOwogICAgfSkgPT0gKCh1ID0gcykuaXNEZWZhdWx0UHJldmVudGVkID09PSBraSB8fCB1LmlzRGVmYXVsdFByZXZlbnRlZCA9PT0gRWkpICYmIChzLmlzRGVmYXVsdFByZXZlbnRlZCA9IEVpLCBzLmlzUHJvcGFnYXRpb25TdG9wcGVkID0gRWksIHMuaXNJbW1lZGlhdGVQcm9wYWdhdGlvblN0b3BwZWQgPSBFaSksICJ1bmRlZmluZWQiID09IHR5cGVvZiBzLm1ldGFLZXkgJiYgKHMubWV0YUtleSA9ICExKSwgczsKICB9LAogICAgICBUaSA9IChEaS5wcm90b3R5cGUuYmluZCA9IGZ1bmN0aW9uIChlLCB0LCBuLCByKSB7CiAgICB2YXIgbywKICAgICAgICBpLAogICAgICAgIGEsCiAgICAgICAgdSwKICAgICAgICBzLAogICAgICAgIGMsCiAgICAgICAgbCA9IHRoaXMsCiAgICAgICAgZiA9IHdpbmRvdywKICAgICAgICBkID0gZnVuY3Rpb24gZChlKSB7CiAgICAgIGwuZXhlY3V0ZUhhbmRsZXJzKFJpKGUgfHwgZi5ldmVudCksIG8pOwogICAgfTsKCiAgICBpZiAoZSAmJiAzICE9PSBlLm5vZGVUeXBlICYmIDggIT09IGUubm9kZVR5cGUpIHsKICAgICAgZVtsLmV4cGFuZG9dID8gbyA9IGVbbC5leHBhbmRvXSA6IChvID0gbC5jb3VudCsrLCBlW2wuZXhwYW5kb10gPSBvLCBsLmV2ZW50c1tvXSA9IHt9KSwgciA9IHIgfHwgZTsKCiAgICAgIGZvciAodmFyIG0gPSB0LnNwbGl0KCIgIiksIHAgPSBtLmxlbmd0aDsgcC0tOykgewogICAgICAgIHMgPSBkLCB1ID0gYyA9ICExLCAiRE9NQ29udGVudExvYWRlZCIgPT09IChhID0gbVtwXSkgJiYgKGEgPSAicmVhZHkiKSwgbC5kb21Mb2FkZWQgJiYgInJlYWR5IiA9PT0gYSAmJiAiY29tcGxldGUiID09PSBlLnJlYWR5U3RhdGUgPyBuLmNhbGwociwgUmkoewogICAgICAgICAgdHlwZTogYQogICAgICAgIH0pKSA6IChsLmhhc01vdXNlRW50ZXJMZWF2ZSB8fCAodSA9IGwubW91c2VFbnRlckxlYXZlW2FdKSAmJiAocyA9IGZ1bmN0aW9uIHMoZSkgewogICAgICAgICAgdmFyIHQgPSBlLmN1cnJlbnRUYXJnZXQsCiAgICAgICAgICAgICAgbiA9IGUucmVsYXRlZFRhcmdldDsKICAgICAgICAgIGlmIChuICYmIHQuY29udGFpbnMpIG4gPSB0LmNvbnRhaW5zKG4pO2Vsc2UgZm9yICg7IG4gJiYgbiAhPT0gdDspIHsKICAgICAgICAgICAgbiA9IG4ucGFyZW50Tm9kZTsKICAgICAgICAgIH0KICAgICAgICAgIG4gfHwgKChlID0gUmkoZSB8fCBmLmV2ZW50KSkudHlwZSA9ICJtb3VzZW91dCIgPT09IGUudHlwZSA/ICJtb3VzZWxlYXZlIiA6ICJtb3VzZWVudGVyIiwgZS50YXJnZXQgPSB0LCBsLmV4ZWN1dGVIYW5kbGVycyhlLCBvKSk7CiAgICAgICAgfSksIGwuaGFzRm9jdXNJbiB8fCAiZm9jdXNpbiIgIT09IGEgJiYgImZvY3Vzb3V0IiAhPT0gYSB8fCAoYyA9ICEwLCB1ID0gImZvY3VzaW4iID09PSBhID8gImZvY3VzIiA6ICJibHVyIiwgcyA9IGZ1bmN0aW9uIHMoZSkgewogICAgICAgICAgKGUgPSBSaShlIHx8IGYuZXZlbnQpKS50eXBlID0gImZvY3VzIiA9PT0gZS50eXBlID8gImZvY3VzaW4iIDogImZvY3Vzb3V0IiwgbC5leGVjdXRlSGFuZGxlcnMoZSwgbyk7CiAgICAgICAgfSksIChpID0gbC5ldmVudHNbb11bYV0pID8gInJlYWR5IiA9PT0gYSAmJiBsLmRvbUxvYWRlZCA/IG4oUmkoewogICAgICAgICAgdHlwZTogYQogICAgICAgIH0pKSA6IGkucHVzaCh7CiAgICAgICAgICBmdW5jOiBuLAogICAgICAgICAgc2NvcGU6IHIKICAgICAgICB9KSA6IChsLmV2ZW50c1tvXVthXSA9IGkgPSBbewogICAgICAgICAgZnVuYzogbiwKICAgICAgICAgIHNjb3BlOiByCiAgICAgICAgfV0sIGkuZmFrZU5hbWUgPSB1LCBpLmNhcHR1cmUgPSBjLCBpLm5hdGl2ZUhhbmRsZXIgPSBzLCAicmVhZHkiID09PSBhID8gZnVuY3Rpb24gKGUsIHQsIG4pIHsKICAgICAgICAgIHZhciBfcjIsCiAgICAgICAgICAgICAgbyA9IGUuZG9jdW1lbnQsCiAgICAgICAgICAgICAgaSA9IHsKICAgICAgICAgICAgdHlwZTogInJlYWR5IgogICAgICAgICAgfTsKCiAgICAgICAgICBuLmRvbUxvYWRlZCA/IHQoaSkgOiAoX3IyID0gZnVuY3Rpb24gcigpIHsKICAgICAgICAgICAgQWkoZSwgIkRPTUNvbnRlbnRMb2FkZWQiLCBfcjIpLCBBaShlLCAibG9hZCIsIF9yMiksIG4uZG9tTG9hZGVkIHx8IChuLmRvbUxvYWRlZCA9ICEwLCB0KGkpKSwgZSA9IG51bGw7CiAgICAgICAgICB9LCAiY29tcGxldGUiID09PSBvLnJlYWR5U3RhdGUgfHwgImludGVyYWN0aXZlIiA9PT0gby5yZWFkeVN0YXRlICYmIG8uYm9keSA/IF9yMigpIDogX2koZSwgIkRPTUNvbnRlbnRMb2FkZWQiLCBfcjIpLCBuLmRvbUxvYWRlZCB8fCBfaShlLCAibG9hZCIsIF9yMikpOwogICAgICAgIH0oZSwgcywgbCkgOiBfaShlLCB1IHx8IGEsIHMsIGMpKSk7CiAgICAgIH0KCiAgICAgIHJldHVybiBlID0gaSA9IG51bGwsIG47CiAgICB9CiAgfSwgRGkucHJvdG90eXBlLnVuYmluZCA9IGZ1bmN0aW9uIChuLCBlLCB0KSB7CiAgICB2YXIgciwgbywgaTsKICAgIGlmICghbiB8fCAzID09PSBuLm5vZGVUeXBlIHx8IDggPT09IG4ubm9kZVR5cGUpIHJldHVybiB0aGlzOwogICAgdmFyIGEgPSBuW3RoaXMuZXhwYW5kb107CgogICAgaWYgKGEpIHsKICAgICAgaWYgKGkgPSB0aGlzLmV2ZW50c1thXSwgZSkgewogICAgICAgIGZvciAodmFyIHUsIHMsIGMsIGwsIGYgPSBlLnNwbGl0KCIgIiksIGQgPSBmLmxlbmd0aDsgZC0tOykgewogICAgICAgICAgaWYgKGwgPSBpW28gPSBmW2RdXSkgewogICAgICAgICAgICBpZiAodCkgZm9yIChyID0gbC5sZW5ndGg7IHItLTspIHsKICAgICAgICAgICAgICBsW3JdLmZ1bmMgPT09IHQgJiYgKHUgPSBsLm5hdGl2ZUhhbmRsZXIsIHMgPSBsLmZha2VOYW1lLCBjID0gbC5jYXB0dXJlLCAobCA9IGwuc2xpY2UoMCwgcikuY29uY2F0KGwuc2xpY2UociArIDEpKSkubmF0aXZlSGFuZGxlciA9IHUsIGwuZmFrZU5hbWUgPSBzLCBsLmNhcHR1cmUgPSBjLCBpW29dID0gbCk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgdCAmJiAwICE9PSBsLmxlbmd0aCB8fCAoZGVsZXRlIGlbb10sIEFpKG4sIGwuZmFrZU5hbWUgfHwgbywgbC5uYXRpdmVIYW5kbGVyLCBsLmNhcHR1cmUpKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0gZWxzZSB1ZShpLCBmdW5jdGlvbiAoZSwgdCkgewogICAgICAgIEFpKG4sIGUuZmFrZU5hbWUgfHwgdCwgZS5uYXRpdmVIYW5kbGVyLCBlLmNhcHR1cmUpOwogICAgICB9KSwgaSA9IHt9OwoKICAgICAgZm9yIChvIGluIGkpIHsKICAgICAgICBpZiAoaGUoaSwgbykpIHJldHVybiB0aGlzOwogICAgICB9CgogICAgICBkZWxldGUgdGhpcy5ldmVudHNbYV07CgogICAgICB0cnkgewogICAgICAgIGRlbGV0ZSBuW3RoaXMuZXhwYW5kb107CiAgICAgIH0gY2F0Y2ggKG0pIHsKICAgICAgICBuW3RoaXMuZXhwYW5kb10gPSBudWxsOwogICAgICB9CiAgICB9CgogICAgcmV0dXJuIHRoaXM7CiAgfSwgRGkucHJvdG90eXBlLmZpcmUgPSBmdW5jdGlvbiAoZSwgdCwgbikgewogICAgdmFyIHI7CiAgICBpZiAoIWUgfHwgMyA9PT0gZS5ub2RlVHlwZSB8fCA4ID09PSBlLm5vZGVUeXBlKSByZXR1cm4gdGhpczsKICAgIHZhciBvID0gUmkobnVsbCwgbik7CgogICAgZm9yIChvLnR5cGUgPSB0LCBvLnRhcmdldCA9IGU7IChyID0gZVt0aGlzLmV4cGFuZG9dKSAmJiB0aGlzLmV4ZWN1dGVIYW5kbGVycyhvLCByKSwgKGUgPSBlLnBhcmVudE5vZGUgfHwgZS5vd25lckRvY3VtZW50IHx8IGUuZGVmYXVsdFZpZXcgfHwgZS5wYXJlbnRXaW5kb3cpICYmICFvLmlzUHJvcGFnYXRpb25TdG9wcGVkKCk7KSB7CiAgICAgIDsKICAgIH0KCiAgICByZXR1cm4gdGhpczsKICB9LCBEaS5wcm90b3R5cGUuY2xlYW4gPSBmdW5jdGlvbiAoZSkgewogICAgdmFyIHQsIG47CiAgICBpZiAoIWUgfHwgMyA9PT0gZS5ub2RlVHlwZSB8fCA4ID09PSBlLm5vZGVUeXBlKSByZXR1cm4gdGhpczsKICAgIGlmIChlW3RoaXMuZXhwYW5kb10gJiYgdGhpcy51bmJpbmQoZSksIGUuZ2V0RWxlbWVudHNCeVRhZ05hbWUgfHwgKGUgPSBlLmRvY3VtZW50KSwgZSAmJiBlLmdldEVsZW1lbnRzQnlUYWdOYW1lKSBmb3IgKHRoaXMudW5iaW5kKGUpLCB0ID0gKG4gPSBlLmdldEVsZW1lbnRzQnlUYWdOYW1lKCIqIikpLmxlbmd0aDsgdC0tOykgewogICAgICAoZSA9IG5bdF0pW3RoaXMuZXhwYW5kb10gJiYgdGhpcy51bmJpbmQoZSk7CiAgICB9CiAgICByZXR1cm4gdGhpczsKICB9LCBEaS5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uICgpIHsKICAgIHRoaXMuZXZlbnRzID0ge307CiAgfSwgRGkucHJvdG90eXBlLmNhbmNlbCA9IGZ1bmN0aW9uIChlKSB7CiAgICByZXR1cm4gZSAmJiAoZS5wcmV2ZW50RGVmYXVsdCgpLCBlLnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbigpKSwgITE7CiAgfSwgRGkucHJvdG90eXBlLmV4ZWN1dGVIYW5kbGVycyA9IGZ1bmN0aW9uIChlLCB0KSB7CiAgICB2YXIgbiA9IHRoaXMuZXZlbnRzW3RdLAogICAgICAgIHIgPSBuICYmIG5bZS50eXBlXTsKICAgIGlmIChyKSBmb3IgKHZhciBvID0gMCwgaSA9IHIubGVuZ3RoOyBvIDwgaTsgbysrKSB7CiAgICAgIHZhciBhID0gcltvXTsKICAgICAgaWYgKGEgJiYgITEgPT09IGEuZnVuYy5jYWxsKGEuc2NvcGUsIGUpICYmIGUucHJldmVudERlZmF1bHQoKSwgZS5pc0ltbWVkaWF0ZVByb3BhZ2F0aW9uU3RvcHBlZCgpKSByZXR1cm47CiAgICB9CiAgfSwgRGkuRXZlbnQgPSBuZXcgRGkoKSwgRGkpOwoKICBmdW5jdGlvbiBEaSgpIHsKICAgIHRoaXMuZG9tTG9hZGVkID0gITEsIHRoaXMuZXZlbnRzID0ge30sIHRoaXMuY291bnQgPSAxLCB0aGlzLmV4cGFuZG8gPSAibWNlLWRhdGEtIiArICgrbmV3IERhdGUoKSkudG9TdHJpbmcoMzIpLCB0aGlzLmhhc01vdXNlRW50ZXJMZWF2ZSA9ICJvbm1vdXNlZW50ZXIiIGluIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCwgdGhpcy5oYXNGb2N1c0luID0gIm9uZm9jdXNpbiIgaW4gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LCB0aGlzLmNvdW50ID0gMTsKICB9CgogIHZhciBPaSwKICAgICAgQmksCiAgICAgIFBpLAogICAgICBMaSwKICAgICAgSWksCiAgICAgIE1pLAogICAgICBGaSwKICAgICAgVWksCiAgICAgIHppLAogICAgICBqaSwKICAgICAgSGksCiAgICAgIFZpLAogICAgICBxaSwKICAgICAgJGksCiAgICAgIFdpLAogICAgICBLaSwKICAgICAgWGksCiAgICAgIFlpID0gInNpenpsZSIgKyAtbmV3IERhdGUoKSwKICAgICAgR2kgPSB3aW5kb3cuZG9jdW1lbnQsCiAgICAgIEppID0gMCwKICAgICAgUWkgPSAwLAogICAgICBaaSA9IERhKCksCiAgICAgIGVhID0gRGEoKSwKICAgICAgdGEgPSBEYSgpLAogICAgICBuYSA9IGZ1bmN0aW9uIG5hKGUsIHQpIHsKICAgIHJldHVybiBlID09PSB0ICYmIChqaSA9ICEwKSwgMDsKICB9LAogICAgICByYSA9IHR5cGVvZiB1bmRlZmluZWQgPT09ICJ1bmRlZmluZWQiID8gInVuZGVmaW5lZCIgOiBfdHlwZW9mKHVuZGVmaW5lZCksCiAgICAgIG9hID0ge30uaGFzT3duUHJvcGVydHksCiAgICAgIGlhID0gW10sCiAgICAgIGFhID0gaWEucG9wLAogICAgICB1YSA9IGlhLnB1c2gsCiAgICAgIHNhID0gaWEucHVzaCwKICAgICAgY2EgPSBpYS5zbGljZSwKICAgICAgbGEgPSBpYS5pbmRleE9mIHx8IGZ1bmN0aW9uIChlKSB7CiAgICBmb3IgKHZhciB0ID0gMCwgbiA9IHRoaXMubGVuZ3RoOyB0IDwgbjsgdCsrKSB7CiAgICAgIGlmICh0aGlzW3RdID09PSBlKSByZXR1cm4gdDsKICAgIH0KCiAgICByZXR1cm4gLTE7CiAgfSwKICAgICAgZmEgPSAiW1xceDIwXFx0XFxyXFxuXFxmXSIsCiAgICAgIGRhID0gIig/OlxcXFwufFtcXHctXXxbXlxceDAwLVxceGEwXSkrIiwKICAgICAgbWEgPSAiXFxbIiArIGZhICsgIiooIiArIGRhICsgIikoPzoiICsgZmEgKyAiKihbKl4kfCF+XT89KSIgKyBmYSArICIqKD86JygoPzpcXFxcLnxbXlxcXFwnXSkqKSd8XCIoKD86XFxcXC58W15cXFxcXCJdKSopXCJ8KCIgKyBkYSArICIpKXwpIiArIGZhICsgIipcXF0iLAogICAgICBwYSA9ICI6KCIgKyBkYSArICIpKD86XFwoKCgnKCg/OlxcXFwufFteXFxcXCddKSopJ3xcIigoPzpcXFxcLnxbXlxcXFxcIl0pKilcIil8KCg/OlxcXFwufFteXFxcXCgpW1xcXV18IiArIG1hICsgIikqKXwuKilcXCl8KSIsCiAgICAgIGdhID0gbmV3IFJlZ0V4cCgiXiIgKyBmYSArICIrfCgoPzpefFteXFxcXF0pKD86XFxcXC4pKikiICsgZmEgKyAiKyQiLCAiZyIpLAogICAgICBoYSA9IG5ldyBSZWdFeHAoIl4iICsgZmEgKyAiKiwiICsgZmEgKyAiKiIpLAogICAgICB2YSA9IG5ldyBSZWdFeHAoIl4iICsgZmEgKyAiKihbPit+XXwiICsgZmEgKyAiKSIgKyBmYSArICIqIiksCiAgICAgIHlhID0gbmV3IFJlZ0V4cCgiPSIgKyBmYSArICIqKFteXFxdJ1wiXSo/KSIgKyBmYSArICIqXFxdIiwgImciKSwKICAgICAgYmEgPSBuZXcgUmVnRXhwKHBhKSwKICAgICAgQ2EgPSBuZXcgUmVnRXhwKCJeIiArIGRhICsgIiQiKSwKICAgICAgd2EgPSB7CiAgICBJRDogbmV3IFJlZ0V4cCgiXiMoIiArIGRhICsgIikiKSwKICAgIENMQVNTOiBuZXcgUmVnRXhwKCJeXFwuKCIgKyBkYSArICIpIiksCiAgICBUQUc6IG5ldyBSZWdFeHAoIl4oIiArIGRhICsgInxbKl0pIiksCiAgICBBVFRSOiBuZXcgUmVnRXhwKCJeIiArIG1hKSwKICAgIFBTRVVETzogbmV3IFJlZ0V4cCgiXiIgKyBwYSksCiAgICBDSElMRDogbmV3IFJlZ0V4cCgiXjoob25seXxmaXJzdHxsYXN0fG50aHxudGgtbGFzdCktKGNoaWxkfG9mLXR5cGUpKD86XFwoIiArIGZhICsgIiooZXZlbnxvZGR8KChbKy1dfCkoXFxkKilufCkiICsgZmEgKyAiKig/OihbKy1dfCkiICsgZmEgKyAiKihcXGQrKXwpKSIgKyBmYSArICIqXFwpfCkiLCAiaSIpLAogICAgYm9vbDogbmV3IFJlZ0V4cCgiXig/OmNoZWNrZWR8c2VsZWN0ZWR8YXN5bmN8YXV0b2ZvY3VzfGF1dG9wbGF5fGNvbnRyb2xzfGRlZmVyfGRpc2FibGVkfGhpZGRlbnxpc21hcHxsb29wfG11bHRpcGxlfG9wZW58cmVhZG9ubHl8cmVxdWlyZWR8c2NvcGVkKSQiLCAiaSIpLAogICAgbmVlZHNDb250ZXh0OiBuZXcgUmVnRXhwKCJeIiArIGZhICsgIipbPit+XXw6KGV2ZW58b2RkfGVxfGd0fGx0fG50aHxmaXJzdHxsYXN0KSg/OlxcKCIgKyBmYSArICIqKCg/Oi1cXGQpP1xcZCopIiArIGZhICsgIipcXCl8KSg/PVteLV18JCkiLCAiaSIpCiAgfSwKICAgICAgeGEgPSAvXig/OmlucHV0fHNlbGVjdHx0ZXh0YXJlYXxidXR0b24pJC9pLAogICAgICBTYSA9IC9eaFxkJC9pLAogICAgICBOYSA9IC9eW157XStce1xzKlxbbmF0aXZlIFx3LywKICAgICAgRWEgPSAvXig/OiMoW1x3LV0rKXwoXHcrKXxcLihbXHctXSspKSQvLAogICAgICBrYSA9IC9bK35dLywKICAgICAgX2EgPSAvJ3xcXC9nLAogICAgICBBYSA9IG5ldyBSZWdFeHAoIlxcXFwoW1xcZGEtZl17MSw2fSIgKyBmYSArICI/fCgiICsgZmEgKyAiKXwuKSIsICJpZyIpLAogICAgICBSYSA9IGZ1bmN0aW9uIFJhKGUsIHQsIG4pIHsKICAgIHZhciByID0gIjB4IiArIHQgLSA2NTUzNjsKICAgIHJldHVybiByICE9IHIgfHwgbiA/IHQgOiByIDwgMCA/IFN0cmluZy5mcm9tQ2hhckNvZGUoNjU1MzYgKyByKSA6IFN0cmluZy5mcm9tQ2hhckNvZGUociA+PiAxMCB8IDU1Mjk2LCAxMDIzICYgciB8IDU2MzIwKTsKICB9OwoKICB0cnkgewogICAgc2EuYXBwbHkoaWEgPSBjYS5jYWxsKEdpLmNoaWxkTm9kZXMpLCBHaS5jaGlsZE5vZGVzKSwgaWFbR2kuY2hpbGROb2Rlcy5sZW5ndGhdLm5vZGVUeXBlOwogIH0gY2F0Y2ggKE9rKSB7CiAgICBzYSA9IHsKICAgICAgYXBwbHk6IGlhLmxlbmd0aCA/IGZ1bmN0aW9uIChlLCB0KSB7CiAgICAgICAgdWEuYXBwbHkoZSwgY2EuY2FsbCh0KSk7CiAgICAgIH0gOiBmdW5jdGlvbiAoZSwgdCkgewogICAgICAgIGZvciAodmFyIG4gPSBlLmxlbmd0aCwgciA9IDA7IGVbbisrXSA9IHRbcisrXTspIHsKICAgICAgICAgIDsKICAgICAgICB9CgogICAgICAgIGUubGVuZ3RoID0gbiAtIDE7CiAgICAgIH0KICAgIH07CiAgfQoKICB2YXIgVGEgPSBmdW5jdGlvbiBUYShlLCB0LCBuLCByKSB7CiAgICB2YXIgbywgaSwgYSwgdSwgcywgYywgbCwgZiwgZCwgbTsKICAgIGlmICgodCA/IHQub3duZXJEb2N1bWVudCB8fCB0IDogR2kpICE9PSBWaSAmJiBIaSh0KSwgbiA9IG4gfHwgW10sICFlIHx8ICJzdHJpbmciICE9IHR5cGVvZiBlKSByZXR1cm4gbjsKICAgIGlmICgxICE9PSAodSA9ICh0ID0gdCB8fCBWaSkubm9kZVR5cGUpICYmIDkgIT09IHUpIHJldHVybiBbXTsKCiAgICBpZiAoJGkgJiYgIXIpIHsKICAgICAgaWYgKG8gPSBFYS5leGVjKGUpKSBpZiAoYSA9IG9bMV0pIHsKICAgICAgICBpZiAoOSA9PT0gdSkgewogICAgICAgICAgaWYgKCEoaSA9IHQuZ2V0RWxlbWVudEJ5SWQoYSkpIHx8ICFpLnBhcmVudE5vZGUpIHJldHVybiBuOwogICAgICAgICAgaWYgKGkuaWQgPT09IGEpIHJldHVybiBuLnB1c2goaSksIG47CiAgICAgICAgfSBlbHNlIGlmICh0Lm93bmVyRG9jdW1lbnQgJiYgKGkgPSB0Lm93bmVyRG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYSkpICYmIFhpKHQsIGkpICYmIGkuaWQgPT09IGEpIHJldHVybiBuLnB1c2goaSksIG47CiAgICAgIH0gZWxzZSB7CiAgICAgICAgaWYgKG9bMl0pIHJldHVybiBzYS5hcHBseShuLCB0LmdldEVsZW1lbnRzQnlUYWdOYW1lKGUpKSwgbjsKICAgICAgICBpZiAoKGEgPSBvWzNdKSAmJiBPaS5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKSByZXR1cm4gc2EuYXBwbHkobiwgdC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKGEpKSwgbjsKICAgICAgfQoKICAgICAgaWYgKE9pLnFzYSAmJiAoIVdpIHx8ICFXaS50ZXN0KGUpKSkgewogICAgICAgIGlmIChmID0gbCA9IFlpLCBkID0gdCwgbSA9IDkgPT09IHUgJiYgZSwgMSA9PT0gdSAmJiAib2JqZWN0IiAhPT0gdC5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpKSB7CiAgICAgICAgICBmb3IgKGMgPSBJaShlKSwgKGwgPSB0LmdldEF0dHJpYnV0ZSgiaWQiKSkgPyBmID0gbC5yZXBsYWNlKF9hLCAiXFwkJiIpIDogdC5zZXRBdHRyaWJ1dGUoImlkIiwgZiksIGYgPSAiW2lkPSciICsgZiArICInXSAiLCBzID0gYy5sZW5ndGg7IHMtLTspIHsKICAgICAgICAgICAgY1tzXSA9IGYgKyBNYShjW3NdKTsKICAgICAgICAgIH0KCiAgICAgICAgICBkID0ga2EudGVzdChlKSAmJiBMYSh0LnBhcmVudE5vZGUpIHx8IHQsIG0gPSBjLmpvaW4oIiwiKTsKICAgICAgICB9CgogICAgICAgIGlmIChtKSB0cnkgewogICAgICAgICAgcmV0dXJuIHNhLmFwcGx5KG4sIGQucXVlcnlTZWxlY3RvckFsbChtKSksIG47CiAgICAgICAgfSBjYXRjaCAocCkge30gZmluYWxseSB7CiAgICAgICAgICBsIHx8IHQucmVtb3ZlQXR0cmlidXRlKCJpZCIpOwogICAgICAgIH0KICAgICAgfQogICAgfQoKICAgIHJldHVybiBGaShlLnJlcGxhY2UoZ2EsICIkMSIpLCB0LCBuLCByKTsKICB9OwoKICBmdW5jdGlvbiBEYSgpIHsKICAgIHZhciBuID0gW107CgogICAgZnVuY3Rpb24gcihlLCB0KSB7CiAgICAgIHJldHVybiBuLnB1c2goZSArICIgIikgPiBCaS5jYWNoZUxlbmd0aCAmJiBkZWxldGUgcltuLnNoaWZ0KCldLCByW2UgKyAiICJdID0gdDsKICAgIH0KCiAgICByZXR1cm4gcjsKICB9CgogIGZ1bmN0aW9uIE9hKGUpIHsKICAgIHJldHVybiBlW1lpXSA9ICEwLCBlOwogIH0KCiAgZnVuY3Rpb24gQmEoZSwgdCkgewogICAgdmFyIG4gPSB0ICYmIGUsCiAgICAgICAgciA9IG4gJiYgMSA9PT0gZS5ub2RlVHlwZSAmJiAxID09PSB0Lm5vZGVUeXBlICYmICh+dC5zb3VyY2VJbmRleCB8fCAxIDw8IDMxKSAtICh+ZS5zb3VyY2VJbmRleCB8fCAxIDw8IDMxKTsKICAgIGlmIChyKSByZXR1cm4gcjsKICAgIGlmIChuKSBmb3IgKDsgbiA9IG4ubmV4dFNpYmxpbmc7KSB7CiAgICAgIGlmIChuID09PSB0KSByZXR1cm4gLTE7CiAgICB9CiAgICByZXR1cm4gZSA/IDEgOiAtMTsKICB9CgogIGZ1bmN0aW9uIFBhKGEpIHsKICAgIHJldHVybiBPYShmdW5jdGlvbiAoaSkgewogICAgICByZXR1cm4gaSA9ICtpLCBPYShmdW5jdGlvbiAoZSwgdCkgewogICAgICAgIGZvciAodmFyIG4sIHIgPSBhKFtdLCBlLmxlbmd0aCwgaSksIG8gPSByLmxlbmd0aDsgby0tOykgewogICAgICAgICAgZVtuID0gcltvXV0gJiYgKGVbbl0gPSAhKHRbbl0gPSBlW25dKSk7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0pOwogIH0KCiAgZnVuY3Rpb24gTGEoZSkgewogICAgcmV0dXJuIGUgJiYgX3R5cGVvZihlLmdldEVsZW1lbnRzQnlUYWdOYW1lKSAhPSByYSAmJiBlOwogIH0KCiAgZnVuY3Rpb24gSWEoKSB7fQoKICBmdW5jdGlvbiBNYShlKSB7CiAgICBmb3IgKHZhciB0ID0gMCwgbiA9IGUubGVuZ3RoLCByID0gIiI7IHQgPCBuOyB0KyspIHsKICAgICAgciArPSBlW3RdLnZhbHVlOwogICAgfQoKICAgIHJldHVybiByOwogIH0KCiAgZnVuY3Rpb24gRmEoYSwgZSwgdCkgewogICAgdmFyIHUgPSBlLmRpciwKICAgICAgICBzID0gdCAmJiAicGFyZW50Tm9kZSIgPT09IHUsCiAgICAgICAgYyA9IFFpKys7CiAgICByZXR1cm4gZS5maXJzdCA/IGZ1bmN0aW9uIChlLCB0LCBuKSB7CiAgICAgIGZvciAoOyBlID0gZVt1XTspIHsKICAgICAgICBpZiAoMSA9PT0gZS5ub2RlVHlwZSB8fCBzKSByZXR1cm4gYShlLCB0LCBuKTsKICAgICAgfQogICAgfSA6IGZ1bmN0aW9uIChlLCB0LCBuKSB7CiAgICAgIHZhciByLAogICAgICAgICAgbywKICAgICAgICAgIGkgPSBbSmksIGNdOwoKICAgICAgaWYgKG4pIHsKICAgICAgICBmb3IgKDsgZSA9IGVbdV07KSB7CiAgICAgICAgICBpZiAoKDEgPT09IGUubm9kZVR5cGUgfHwgcykgJiYgYShlLCB0LCBuKSkgcmV0dXJuICEwOwogICAgICAgIH0KICAgICAgfSBlbHNlIGZvciAoOyBlID0gZVt1XTspIHsKICAgICAgICBpZiAoMSA9PT0gZS5ub2RlVHlwZSB8fCBzKSB7CiAgICAgICAgICBpZiAoKHIgPSAobyA9IGVbWWldIHx8IChlW1lpXSA9IHt9KSlbdV0pICYmIHJbMF0gPT09IEppICYmIHJbMV0gPT09IGMpIHJldHVybiBpWzJdID0gclsyXTsKICAgICAgICAgIGlmICgob1t1XSA9IGkpWzJdID0gYShlLCB0LCBuKSkgcmV0dXJuICEwOwogICAgICAgIH0KICAgICAgfQogICAgfTsKICB9CgogIGZ1bmN0aW9uIFVhKG8pIHsKICAgIHJldHVybiAxIDwgby5sZW5ndGggPyBmdW5jdGlvbiAoZSwgdCwgbikgewogICAgICBmb3IgKHZhciByID0gby5sZW5ndGg7IHItLTspIHsKICAgICAgICBpZiAoIW9bcl0oZSwgdCwgbikpIHJldHVybiAhMTsKICAgICAgfQoKICAgICAgcmV0dXJuICEwOwogICAgfSA6IG9bMF07CiAgfQoKICBmdW5jdGlvbiB6YShlLCB0LCBuLCByLCBvKSB7CiAgICBmb3IgKHZhciBpLCBhID0gW10sIHUgPSAwLCBzID0gZS5sZW5ndGgsIGMgPSBudWxsICE9IHQ7IHUgPCBzOyB1KyspIHsKICAgICAgKGkgPSBlW3VdKSAmJiAobiAmJiAhbihpLCByLCBvKSB8fCAoYS5wdXNoKGkpLCBjICYmIHQucHVzaCh1KSkpOwogICAgfQoKICAgIHJldHVybiBhOwogIH0KCiAgZnVuY3Rpb24gamEobSwgcCwgZywgaCwgdiwgZSkgewogICAgcmV0dXJuIGggJiYgIWhbWWldICYmIChoID0gamEoaCkpLCB2ICYmICF2W1lpXSAmJiAodiA9IGphKHYsIGUpKSwgT2EoZnVuY3Rpb24gKGUsIHQsIG4sIHIpIHsKICAgICAgdmFyIG8sCiAgICAgICAgICBpLAogICAgICAgICAgYSwKICAgICAgICAgIHUgPSBbXSwKICAgICAgICAgIHMgPSBbXSwKICAgICAgICAgIGMgPSB0Lmxlbmd0aCwKICAgICAgICAgIGwgPSBlIHx8IGZ1bmN0aW9uIChlLCB0LCBuKSB7CiAgICAgICAgZm9yICh2YXIgciA9IDAsIG8gPSB0Lmxlbmd0aDsgciA8IG87IHIrKykgewogICAgICAgICAgVGEoZSwgdFtyXSwgbik7CiAgICAgICAgfQoKICAgICAgICByZXR1cm4gbjsKICAgICAgfShwIHx8ICIqIiwgbi5ub2RlVHlwZSA/IFtuXSA6IG4sIFtdKSwKICAgICAgICAgIGYgPSAhbSB8fCAhZSAmJiBwID8gbCA6IHphKGwsIHUsIG0sIG4sIHIpLAogICAgICAgICAgZCA9IGcgPyB2IHx8IChlID8gbSA6IGMgfHwgaCkgPyBbXSA6IHQgOiBmOwoKICAgICAgaWYgKGcgJiYgZyhmLCBkLCBuLCByKSwgaCkgZm9yIChvID0gemEoZCwgcyksIGgobywgW10sIG4sIHIpLCBpID0gby5sZW5ndGg7IGktLTspIHsKICAgICAgICAoYSA9IG9baV0pICYmIChkW3NbaV1dID0gIShmW3NbaV1dID0gYSkpOwogICAgICB9CgogICAgICBpZiAoZSkgewogICAgICAgIGlmICh2IHx8IG0pIHsKICAgICAgICAgIGlmICh2KSB7CiAgICAgICAgICAgIGZvciAobyA9IFtdLCBpID0gZC5sZW5ndGg7IGktLTspIHsKICAgICAgICAgICAgICAoYSA9IGRbaV0pICYmIG8ucHVzaChmW2ldID0gYSk7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIHYobnVsbCwgZCA9IFtdLCBvLCByKTsKICAgICAgICAgIH0KCiAgICAgICAgICBmb3IgKGkgPSBkLmxlbmd0aDsgaS0tOykgewogICAgICAgICAgICAoYSA9IGRbaV0pICYmIC0xIDwgKG8gPSB2ID8gbGEuY2FsbChlLCBhKSA6IHVbaV0pICYmIChlW29dID0gISh0W29dID0gYSkpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSBlbHNlIGQgPSB6YShkID09PSB0ID8gZC5zcGxpY2UoYywgZC5sZW5ndGgpIDogZCksIHYgPyB2KG51bGwsIHQsIGQsIHIpIDogc2EuYXBwbHkodCwgZCk7CiAgICB9KTsKICB9CgogIE9pID0gVGEuc3VwcG9ydCA9IHt9LCBMaSA9IFRhLmlzWE1MID0gZnVuY3Rpb24gKGUpIHsKICAgIHZhciB0ID0gZSAmJiAoZS5vd25lckRvY3VtZW50IHx8IGUpLmRvY3VtZW50RWxlbWVudDsKICAgIHJldHVybiAhIXQgJiYgIkhUTUwiICE9PSB0Lm5vZGVOYW1lOwogIH0sIEhpID0gVGEuc2V0RG9jdW1lbnQgPSBmdW5jdGlvbiAoZSkgewogICAgdmFyIHQsCiAgICAgICAgcyA9IGUgPyBlLm93bmVyRG9jdW1lbnQgfHwgZSA6IEdpLAogICAgICAgIG4gPSBzLmRlZmF1bHRWaWV3OwogICAgcmV0dXJuIHMgIT09IFZpICYmIDkgPT09IHMubm9kZVR5cGUgJiYgcy5kb2N1bWVudEVsZW1lbnQgPyAocWkgPSAoVmkgPSBzKS5kb2N1bWVudEVsZW1lbnQsICRpID0gIUxpKHMpLCBuICYmIG4gIT09IGZ1bmN0aW9uIChlKSB7CiAgICAgIHRyeSB7CiAgICAgICAgcmV0dXJuIGUudG9wOwogICAgICB9IGNhdGNoICh0KSB7fQoKICAgICAgcmV0dXJuIG51bGw7CiAgICB9KG4pICYmIChuLmFkZEV2ZW50TGlzdGVuZXIgPyBuLmFkZEV2ZW50TGlzdGVuZXIoInVubG9hZCIsIGZ1bmN0aW9uICgpIHsKICAgICAgSGkoKTsKICAgIH0sICExKSA6IG4uYXR0YWNoRXZlbnQgJiYgbi5hdHRhY2hFdmVudCgib251bmxvYWQiLCBmdW5jdGlvbiAoKSB7CiAgICAgIEhpKCk7CiAgICB9KSksIE9pLmF0dHJpYnV0ZXMgPSAhMCwgT2kuZ2V0RWxlbWVudHNCeVRhZ05hbWUgPSAhMCwgT2kuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSA9IE5hLnRlc3Qocy5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKSwgT2kuZ2V0QnlJZCA9ICEwLCBCaS5maW5kLklEID0gZnVuY3Rpb24gKGUsIHQpIHsKICAgICAgaWYgKF90eXBlb2YodC5nZXRFbGVtZW50QnlJZCkgIT0gcmEgJiYgJGkpIHsKICAgICAgICB2YXIgbiA9IHQuZ2V0RWxlbWVudEJ5SWQoZSk7CiAgICAgICAgcmV0dXJuIG4gJiYgbi5wYXJlbnROb2RlID8gW25dIDogW107CiAgICAgIH0KICAgIH0sIEJpLmZpbHRlci5JRCA9IGZ1bmN0aW9uIChlKSB7CiAgICAgIHZhciB0ID0gZS5yZXBsYWNlKEFhLCBSYSk7CiAgICAgIHJldHVybiBmdW5jdGlvbiAoZSkgewogICAgICAgIHJldHVybiBlLmdldEF0dHJpYnV0ZSgiaWQiKSA9PT0gdDsKICAgICAgfTsKICAgIH0sIEJpLmZpbmQuVEFHID0gT2kuZ2V0RWxlbWVudHNCeVRhZ05hbWUgPyBmdW5jdGlvbiAoZSwgdCkgewogICAgICBpZiAoX3R5cGVvZih0LmdldEVsZW1lbnRzQnlUYWdOYW1lKSAhPSByYSkgcmV0dXJuIHQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoZSk7CiAgICB9IDogZnVuY3Rpb24gKGUsIHQpIHsKICAgICAgdmFyIG4sCiAgICAgICAgICByID0gW10sCiAgICAgICAgICBvID0gMCwKICAgICAgICAgIGkgPSB0LmdldEVsZW1lbnRzQnlUYWdOYW1lKGUpOwogICAgICBpZiAoIioiICE9PSBlKSByZXR1cm4gaTsKCiAgICAgIGZvciAoOyBuID0gaVtvKytdOykgewogICAgICAgIDEgPT09IG4ubm9kZVR5cGUgJiYgci5wdXNoKG4pOwogICAgICB9CgogICAgICByZXR1cm4gcjsKICAgIH0sIEJpLmZpbmQuQ0xBU1MgPSBPaS5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lICYmIGZ1bmN0aW9uIChlLCB0KSB7CiAgICAgIGlmICgkaSkgcmV0dXJuIHQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShlKTsKICAgIH0sIEtpID0gW10sIFdpID0gW10sIE9pLmRpc2Nvbm5lY3RlZE1hdGNoID0gITAsIFdpID0gV2kubGVuZ3RoICYmIG5ldyBSZWdFeHAoV2kuam9pbigifCIpKSwgS2kgPSBLaS5sZW5ndGggJiYgbmV3IFJlZ0V4cChLaS5qb2luKCJ8IikpLCB0ID0gTmEudGVzdChxaS5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbiksIFhpID0gdCB8fCBOYS50ZXN0KHFpLmNvbnRhaW5zKSA/IGZ1bmN0aW9uIChlLCB0KSB7CiAgICAgIHZhciBuID0gOSA9PT0gZS5ub2RlVHlwZSA/IGUuZG9jdW1lbnRFbGVtZW50IDogZSwKICAgICAgICAgIHIgPSB0ICYmIHQucGFyZW50Tm9kZTsKICAgICAgcmV0dXJuIGUgPT09IHIgfHwgISghciB8fCAxICE9PSByLm5vZGVUeXBlIHx8ICEobi5jb250YWlucyA/IG4uY29udGFpbnMocikgOiBlLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uICYmIDE2ICYgZS5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbihyKSkpOwogICAgfSA6IGZ1bmN0aW9uIChlLCB0KSB7CiAgICAgIGlmICh0KSBmb3IgKDsgdCA9IHQucGFyZW50Tm9kZTspIHsKICAgICAgICBpZiAodCA9PT0gZSkgcmV0dXJuICEwOwogICAgICB9CiAgICAgIHJldHVybiAhMTsKICAgIH0sIG5hID0gdCA/IGZ1bmN0aW9uIChlLCB0KSB7CiAgICAgIGlmIChlID09PSB0KSByZXR1cm4gamkgPSAhMCwgMDsKICAgICAgdmFyIG4gPSAhZS5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbiAtICF0LmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uOwogICAgICByZXR1cm4gbiB8fCAoMSAmIChuID0gKGUub3duZXJEb2N1bWVudCB8fCBlKSA9PT0gKHQub3duZXJEb2N1bWVudCB8fCB0KSA/IGUuY29tcGFyZURvY3VtZW50UG9zaXRpb24odCkgOiAxKSB8fCAhT2kuc29ydERldGFjaGVkICYmIHQuY29tcGFyZURvY3VtZW50UG9zaXRpb24oZSkgPT09IG4gPyBlID09PSBzIHx8IGUub3duZXJEb2N1bWVudCA9PT0gR2kgJiYgWGkoR2ksIGUpID8gLTEgOiB0ID09PSBzIHx8IHQub3duZXJEb2N1bWVudCA9PT0gR2kgJiYgWGkoR2ksIHQpID8gMSA6IHppID8gbGEuY2FsbCh6aSwgZSkgLSBsYS5jYWxsKHppLCB0KSA6IDAgOiA0ICYgbiA/IC0xIDogMSk7CiAgICB9IDogZnVuY3Rpb24gKGUsIHQpIHsKICAgICAgaWYgKGUgPT09IHQpIHJldHVybiBqaSA9ICEwLCAwOwogICAgICB2YXIgbiwKICAgICAgICAgIHIgPSAwLAogICAgICAgICAgbyA9IGUucGFyZW50Tm9kZSwKICAgICAgICAgIGkgPSB0LnBhcmVudE5vZGUsCiAgICAgICAgICBhID0gW2VdLAogICAgICAgICAgdSA9IFt0XTsKICAgICAgaWYgKCFvIHx8ICFpKSByZXR1cm4gZSA9PT0gcyA/IC0xIDogdCA9PT0gcyA/IDEgOiBvID8gLTEgOiBpID8gMSA6IHppID8gbGEuY2FsbCh6aSwgZSkgLSBsYS5jYWxsKHppLCB0KSA6IDA7CiAgICAgIGlmIChvID09PSBpKSByZXR1cm4gQmEoZSwgdCk7CgogICAgICBmb3IgKG4gPSBlOyBuID0gbi5wYXJlbnROb2RlOykgewogICAgICAgIGEudW5zaGlmdChuKTsKICAgICAgfQoKICAgICAgZm9yIChuID0gdDsgbiA9IG4ucGFyZW50Tm9kZTspIHsKICAgICAgICB1LnVuc2hpZnQobik7CiAgICAgIH0KCiAgICAgIGZvciAoOyBhW3JdID09PSB1W3JdOykgewogICAgICAgIHIrKzsKICAgICAgfQoKICAgICAgcmV0dXJuIHIgPyBCYShhW3JdLCB1W3JdKSA6IGFbcl0gPT09IEdpID8gLTEgOiB1W3JdID09PSBHaSA/IDEgOiAwOwogICAgfSwgcykgOiBWaTsKICB9LCBUYS5tYXRjaGVzID0gZnVuY3Rpb24gKGUsIHQpIHsKICAgIHJldHVybiBUYShlLCBudWxsLCBudWxsLCB0KTsKICB9LCBUYS5tYXRjaGVzU2VsZWN0b3IgPSBmdW5jdGlvbiAoZSwgdCkgewogICAgaWYgKChlLm93bmVyRG9jdW1lbnQgfHwgZSkgIT09IFZpICYmIEhpKGUpLCB0ID0gdC5yZXBsYWNlKHlhLCAiPSckMSddIiksIE9pLm1hdGNoZXNTZWxlY3RvciAmJiAkaSAmJiAoIUtpIHx8ICFLaS50ZXN0KHQpKSAmJiAoIVdpIHx8ICFXaS50ZXN0KHQpKSkgdHJ5IHsKICAgICAgdmFyIG4gPSAodm9pZCAwKS5jYWxsKGUsIHQpOwogICAgICBpZiAobiB8fCBPaS5kaXNjb25uZWN0ZWRNYXRjaCB8fCBlLmRvY3VtZW50ICYmIDExICE9PSBlLmRvY3VtZW50Lm5vZGVUeXBlKSByZXR1cm4gbjsKICAgIH0gY2F0Y2ggKE9rKSB7fQogICAgcmV0dXJuIDAgPCBUYSh0LCBWaSwgbnVsbCwgW2VdKS5sZW5ndGg7CiAgfSwgVGEuY29udGFpbnMgPSBmdW5jdGlvbiAoZSwgdCkgewogICAgcmV0dXJuIChlLm93bmVyRG9jdW1lbnQgfHwgZSkgIT09IFZpICYmIEhpKGUpLCBYaShlLCB0KTsKICB9LCBUYS5hdHRyID0gZnVuY3Rpb24gKGUsIHQpIHsKICAgIChlLm93bmVyRG9jdW1lbnQgfHwgZSkgIT09IFZpICYmIEhpKGUpOwogICAgdmFyIG4gPSBCaS5hdHRySGFuZGxlW3QudG9Mb3dlckNhc2UoKV0sCiAgICAgICAgciA9IG4gJiYgb2EuY2FsbChCaS5hdHRySGFuZGxlLCB0LnRvTG93ZXJDYXNlKCkpID8gbihlLCB0LCAhJGkpIDogdW5kZWZpbmVkOwogICAgcmV0dXJuIHIgIT09IHVuZGVmaW5lZCA/IHIgOiBPaS5hdHRyaWJ1dGVzIHx8ICEkaSA/IGUuZ2V0QXR0cmlidXRlKHQpIDogKHIgPSBlLmdldEF0dHJpYnV0ZU5vZGUodCkpICYmIHIuc3BlY2lmaWVkID8gci52YWx1ZSA6IG51bGw7CiAgfSwgVGEuZXJyb3IgPSBmdW5jdGlvbiAoZSkgewogICAgdGhyb3cgbmV3IEVycm9yKCJTeW50YXggZXJyb3IsIHVucmVjb2duaXplZCBleHByZXNzaW9uOiAiICsgZSk7CiAgfSwgVGEudW5pcXVlU29ydCA9IGZ1bmN0aW9uIChlKSB7CiAgICB2YXIgdCwKICAgICAgICBuID0gW10sCiAgICAgICAgciA9IDAsCiAgICAgICAgbyA9IDA7CgogICAgaWYgKGppID0gIU9pLmRldGVjdER1cGxpY2F0ZXMsIHppID0gIU9pLnNvcnRTdGFibGUgJiYgZS5zbGljZSgwKSwgZS5zb3J0KG5hKSwgamkpIHsKICAgICAgZm9yICg7IHQgPSBlW28rK107KSB7CiAgICAgICAgdCA9PT0gZVtvXSAmJiAociA9IG4ucHVzaChvKSk7CiAgICAgIH0KCiAgICAgIGZvciAoOyByLS07KSB7CiAgICAgICAgZS5zcGxpY2UobltyXSwgMSk7CiAgICAgIH0KICAgIH0KCiAgICByZXR1cm4gemkgPSBudWxsLCBlOwogIH0sIFBpID0gVGEuZ2V0VGV4dCA9IGZ1bmN0aW9uIChlKSB7CiAgICB2YXIgdCwKICAgICAgICBuID0gIiIsCiAgICAgICAgciA9IDAsCiAgICAgICAgbyA9IGUubm9kZVR5cGU7CgogICAgaWYgKG8pIHsKICAgICAgaWYgKDEgPT09IG8gfHwgOSA9PT0gbyB8fCAxMSA9PT0gbykgewogICAgICAgIGlmICgic3RyaW5nIiA9PSB0eXBlb2YgZS50ZXh0Q29udGVudCkgcmV0dXJuIGUudGV4dENvbnRlbnQ7CgogICAgICAgIGZvciAoZSA9IGUuZmlyc3RDaGlsZDsgZTsgZSA9IGUubmV4dFNpYmxpbmcpIHsKICAgICAgICAgIG4gKz0gUGkoZSk7CiAgICAgICAgfQogICAgICB9IGVsc2UgaWYgKDMgPT09IG8gfHwgNCA9PT0gbykgcmV0dXJuIGUubm9kZVZhbHVlOwogICAgfSBlbHNlIGZvciAoOyB0ID0gZVtyKytdOykgewogICAgICBuICs9IFBpKHQpOwogICAgfQoKICAgIHJldHVybiBuOwogIH0sIChCaSA9IFRhLnNlbGVjdG9ycyA9IHsKICAgIGNhY2hlTGVuZ3RoOiA1MCwKICAgIGNyZWF0ZVBzZXVkbzogT2EsCiAgICBtYXRjaDogd2EsCiAgICBhdHRySGFuZGxlOiB7fSwKICAgIGZpbmQ6IHt9LAogICAgcmVsYXRpdmU6IHsKICAgICAgIj4iOiB7CiAgICAgICAgZGlyOiAicGFyZW50Tm9kZSIsCiAgICAgICAgZmlyc3Q6ICEwCiAgICAgIH0sCiAgICAgICIgIjogewogICAgICAgIGRpcjogInBhcmVudE5vZGUiCiAgICAgIH0sCiAgICAgICIrIjogewogICAgICAgIGRpcjogInByZXZpb3VzU2libGluZyIsCiAgICAgICAgZmlyc3Q6ICEwCiAgICAgIH0sCiAgICAgICJ+IjogewogICAgICAgIGRpcjogInByZXZpb3VzU2libGluZyIKICAgICAgfQogICAgfSwKICAgIHByZUZpbHRlcjogewogICAgICBBVFRSOiBmdW5jdGlvbiBBVFRSKGUpIHsKICAgICAgICByZXR1cm4gZVsxXSA9IGVbMV0ucmVwbGFjZShBYSwgUmEpLCBlWzNdID0gKGVbM10gfHwgZVs0XSB8fCBlWzVdIHx8ICIiKS5yZXBsYWNlKEFhLCBSYSksICJ+PSIgPT09IGVbMl0gJiYgKGVbM10gPSAiICIgKyBlWzNdICsgIiAiKSwgZS5zbGljZSgwLCA0KTsKICAgICAgfSwKICAgICAgQ0hJTEQ6IGZ1bmN0aW9uIENISUxEKGUpIHsKICAgICAgICByZXR1cm4gZVsxXSA9IGVbMV0udG9Mb3dlckNhc2UoKSwgIm50aCIgPT09IGVbMV0uc2xpY2UoMCwgMykgPyAoZVszXSB8fCBUYS5lcnJvcihlWzBdKSwgZVs0XSA9ICsoZVs0XSA/IGVbNV0gKyAoZVs2XSB8fCAxKSA6IDIgKiAoImV2ZW4iID09PSBlWzNdIHx8ICJvZGQiID09PSBlWzNdKSksIGVbNV0gPSArKGVbN10gKyBlWzhdIHx8ICJvZGQiID09PSBlWzNdKSkgOiBlWzNdICYmIFRhLmVycm9yKGVbMF0pLCBlOwogICAgICB9LAogICAgICBQU0VVRE86IGZ1bmN0aW9uIFBTRVVETyhlKSB7CiAgICAgICAgdmFyIHQsCiAgICAgICAgICAgIG4gPSAhZVs2XSAmJiBlWzJdOwogICAgICAgIHJldHVybiB3YS5DSElMRC50ZXN0KGVbMF0pID8gbnVsbCA6IChlWzNdID8gZVsyXSA9IGVbNF0gfHwgZVs1XSB8fCAiIiA6IG4gJiYgYmEudGVzdChuKSAmJiAodCA9IElpKG4sICEwKSkgJiYgKHQgPSBuLmluZGV4T2YoIikiLCBuLmxlbmd0aCAtIHQpIC0gbi5sZW5ndGgpICYmIChlWzBdID0gZVswXS5zbGljZSgwLCB0KSwgZVsyXSA9IG4uc2xpY2UoMCwgdCkpLCBlLnNsaWNlKDAsIDMpKTsKICAgICAgfQogICAgfSwKICAgIGZpbHRlcjogewogICAgICBUQUc6IGZ1bmN0aW9uIFRBRyhlKSB7CiAgICAgICAgdmFyIHQgPSBlLnJlcGxhY2UoQWEsIFJhKS50b0xvd2VyQ2FzZSgpOwogICAgICAgIHJldHVybiAiKiIgPT09IGUgPyBmdW5jdGlvbiAoKSB7CiAgICAgICAgICByZXR1cm4gITA7CiAgICAgICAgfSA6IGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICByZXR1cm4gZS5ub2RlTmFtZSAmJiBlLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkgPT09IHQ7CiAgICAgICAgfTsKICAgICAgfSwKICAgICAgQ0xBU1M6IGZ1bmN0aW9uIENMQVNTKGUpIHsKICAgICAgICB2YXIgdCA9IFppW2UgKyAiICJdOwogICAgICAgIHJldHVybiB0IHx8ICh0ID0gbmV3IFJlZ0V4cCgiKF58IiArIGZhICsgIikiICsgZSArICIoIiArIGZhICsgInwkKSIpKSAmJiBaaShlLCBmdW5jdGlvbiAoZSkgewogICAgICAgICAgcmV0dXJuIHQudGVzdCgic3RyaW5nIiA9PSB0eXBlb2YgZS5jbGFzc05hbWUgJiYgZS5jbGFzc05hbWUgfHwgX3R5cGVvZihlLmdldEF0dHJpYnV0ZSkgIT0gcmEgJiYgZS5nZXRBdHRyaWJ1dGUoImNsYXNzIikgfHwgIiIpOwogICAgICAgIH0pOwogICAgICB9LAogICAgICBBVFRSOiBmdW5jdGlvbiBBVFRSKG4sIHIsIG8pIHsKICAgICAgICByZXR1cm4gZnVuY3Rpb24gKGUpIHsKICAgICAgICAgIHZhciB0ID0gVGEuYXR0cihlLCBuKTsKICAgICAgICAgIHJldHVybiBudWxsID09IHQgPyAiIT0iID09PSByIDogIXIgfHwgKHQgKz0gIiIsICI9IiA9PT0gciA/IHQgPT09IG8gOiAiIT0iID09PSByID8gdCAhPT0gbyA6ICJePSIgPT09IHIgPyBvICYmIDAgPT09IHQuaW5kZXhPZihvKSA6ICIqPSIgPT09IHIgPyBvICYmIC0xIDwgdC5pbmRleE9mKG8pIDogIiQ9IiA9PT0gciA/IG8gJiYgdC5zbGljZSgtby5sZW5ndGgpID09PSBvIDogIn49IiA9PT0gciA/IC0xIDwgKCIgIiArIHQgKyAiICIpLmluZGV4T2YobykgOiAifD0iID09PSByICYmICh0ID09PSBvIHx8IHQuc2xpY2UoMCwgby5sZW5ndGggKyAxKSA9PT0gbyArICItIikpOwogICAgICAgIH07CiAgICAgIH0sCiAgICAgIENISUxEOiBmdW5jdGlvbiBDSElMRChtLCBlLCB0LCBwLCBnKSB7CiAgICAgICAgdmFyIGggPSAibnRoIiAhPT0gbS5zbGljZSgwLCAzKSwKICAgICAgICAgICAgdiA9ICJsYXN0IiAhPT0gbS5zbGljZSgtNCksCiAgICAgICAgICAgIHkgPSAib2YtdHlwZSIgPT09IGU7CiAgICAgICAgcmV0dXJuIDEgPT09IHAgJiYgMCA9PT0gZyA/IGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICByZXR1cm4gISFlLnBhcmVudE5vZGU7CiAgICAgICAgfSA6IGZ1bmN0aW9uIChlLCB0LCBuKSB7CiAgICAgICAgICB2YXIgciwKICAgICAgICAgICAgICBvLAogICAgICAgICAgICAgIGksCiAgICAgICAgICAgICAgYSwKICAgICAgICAgICAgICB1LAogICAgICAgICAgICAgIHMsCiAgICAgICAgICAgICAgYyA9IGggIT0gdiA/ICJuZXh0U2libGluZyIgOiAicHJldmlvdXNTaWJsaW5nIiwKICAgICAgICAgICAgICBsID0gZS5wYXJlbnROb2RlLAogICAgICAgICAgICAgIGYgPSB5ICYmIGUubm9kZU5hbWUudG9Mb3dlckNhc2UoKSwKICAgICAgICAgICAgICBkID0gIW4gJiYgIXk7CgogICAgICAgICAgaWYgKGwpIHsKICAgICAgICAgICAgaWYgKGgpIHsKICAgICAgICAgICAgICBmb3IgKDsgYzspIHsKICAgICAgICAgICAgICAgIGZvciAoaSA9IGU7IGkgPSBpW2NdOykgewogICAgICAgICAgICAgICAgICBpZiAoeSA/IGkubm9kZU5hbWUudG9Mb3dlckNhc2UoKSA9PT0gZiA6IDEgPT09IGkubm9kZVR5cGUpIHJldHVybiAhMTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBzID0gYyA9ICJvbmx5IiA9PT0gbSAmJiAhcyAmJiAibmV4dFNpYmxpbmciOwogICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgcmV0dXJuICEwOwogICAgICAgICAgICB9CgogICAgICAgICAgICBpZiAocyA9IFt2ID8gbC5maXJzdENoaWxkIDogbC5sYXN0Q2hpbGRdLCB2ICYmIGQpIHsKICAgICAgICAgICAgICBmb3IgKHUgPSAociA9IChvID0gbFtZaV0gfHwgKGxbWWldID0ge30pKVttXSB8fCBbXSlbMF0gPT09IEppICYmIHJbMV0sIGEgPSByWzBdID09PSBKaSAmJiByWzJdLCBpID0gdSAmJiBsLmNoaWxkTm9kZXNbdV07IGkgPSArK3UgJiYgaSAmJiBpW2NdIHx8IChhID0gdSA9IDApIHx8IHMucG9wKCk7KSB7CiAgICAgICAgICAgICAgICBpZiAoMSA9PT0gaS5ub2RlVHlwZSAmJiArK2EgJiYgaSA9PT0gZSkgewogICAgICAgICAgICAgICAgICBvW21dID0gW0ppLCB1LCBhXTsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9IGVsc2UgaWYgKGQgJiYgKHIgPSAoZVtZaV0gfHwgKGVbWWldID0ge30pKVttXSkgJiYgclswXSA9PT0gSmkpIGEgPSByWzFdO2Vsc2UgZm9yICg7IChpID0gKyt1ICYmIGkgJiYgaVtjXSB8fCAoYSA9IHUgPSAwKSB8fCBzLnBvcCgpKSAmJiAoKHkgPyBpLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkgIT09IGYgOiAxICE9PSBpLm5vZGVUeXBlKSB8fCAhKythIHx8IChkICYmICgoaVtZaV0gfHwgKGlbWWldID0ge30pKVttXSA9IFtKaSwgYV0pLCBpICE9PSBlKSk7KSB7CiAgICAgICAgICAgICAgOwogICAgICAgICAgICB9CgogICAgICAgICAgICByZXR1cm4gKGEgLT0gZykgPT09IHAgfHwgYSAlIHAgPT0gMCAmJiAwIDw9IGEgLyBwOwogICAgICAgICAgfQogICAgICAgIH07CiAgICAgIH0sCiAgICAgIFBTRVVETzogZnVuY3Rpb24gUFNFVURPKGUsIGkpIHsKICAgICAgICB2YXIgdCwKICAgICAgICAgICAgYSA9IEJpLnBzZXVkb3NbZV0gfHwgQmkuc2V0RmlsdGVyc1tlLnRvTG93ZXJDYXNlKCldIHx8IFRhLmVycm9yKCJ1bnN1cHBvcnRlZCBwc2V1ZG86ICIgKyBlKTsKICAgICAgICByZXR1cm4gYVtZaV0gPyBhKGkpIDogMSA8IGEubGVuZ3RoID8gKHQgPSBbZSwgZSwgIiIsIGldLCBCaS5zZXRGaWx0ZXJzLmhhc093blByb3BlcnR5KGUudG9Mb3dlckNhc2UoKSkgPyBPYShmdW5jdGlvbiAoZSwgdCkgewogICAgICAgICAgZm9yICh2YXIgbiwgciA9IGEoZSwgaSksIG8gPSByLmxlbmd0aDsgby0tOykgewogICAgICAgICAgICBlW24gPSBsYS5jYWxsKGUsIHJbb10pXSA9ICEodFtuXSA9IHJbb10pOwogICAgICAgICAgfQogICAgICAgIH0pIDogZnVuY3Rpb24gKGUpIHsKICAgICAgICAgIHJldHVybiBhKGUsIDAsIHQpOwogICAgICAgIH0pIDogYTsKICAgICAgfQogICAgfSwKICAgIHBzZXVkb3M6IHsKICAgICAgbm90OiBPYShmdW5jdGlvbiAoZSkgewogICAgICAgIHZhciByID0gW10sCiAgICAgICAgICAgIG8gPSBbXSwKICAgICAgICAgICAgdSA9IE1pKGUucmVwbGFjZShnYSwgIiQxIikpOwogICAgICAgIHJldHVybiB1W1lpXSA/IE9hKGZ1bmN0aW9uIChlLCB0LCBuLCByKSB7CiAgICAgICAgICBmb3IgKHZhciBvLCBpID0gdShlLCBudWxsLCByLCBbXSksIGEgPSBlLmxlbmd0aDsgYS0tOykgewogICAgICAgICAgICAobyA9IGlbYV0pICYmIChlW2FdID0gISh0W2FdID0gbykpOwogICAgICAgICAgfQogICAgICAgIH0pIDogZnVuY3Rpb24gKGUsIHQsIG4pIHsKICAgICAgICAgIHJldHVybiByWzBdID0gZSwgdShyLCBudWxsLCBuLCBvKSwgIW8ucG9wKCk7CiAgICAgICAgfTsKICAgICAgfSksCiAgICAgIGhhczogT2EoZnVuY3Rpb24gKHQpIHsKICAgICAgICByZXR1cm4gZnVuY3Rpb24gKGUpIHsKICAgICAgICAgIHJldHVybiAwIDwgVGEodCwgZSkubGVuZ3RoOwogICAgICAgIH07CiAgICAgIH0pLAogICAgICBjb250YWluczogT2EoZnVuY3Rpb24gKHQpIHsKICAgICAgICByZXR1cm4gdCA9IHQucmVwbGFjZShBYSwgUmEpLCBmdW5jdGlvbiAoZSkgewogICAgICAgICAgcmV0dXJuIC0xIDwgKGUudGV4dENvbnRlbnQgfHwgZS5pbm5lclRleHQgfHwgUGkoZSkpLmluZGV4T2YodCk7CiAgICAgICAgfTsKICAgICAgfSksCiAgICAgIGxhbmc6IE9hKGZ1bmN0aW9uIChuKSB7CiAgICAgICAgcmV0dXJuIENhLnRlc3QobiB8fCAiIikgfHwgVGEuZXJyb3IoInVuc3VwcG9ydGVkIGxhbmc6ICIgKyBuKSwgbiA9IG4ucmVwbGFjZShBYSwgUmEpLnRvTG93ZXJDYXNlKCksIGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICB2YXIgdDsKCiAgICAgICAgICBkbyB7CiAgICAgICAgICAgIGlmICh0ID0gJGkgPyBlLmxhbmcgOiBlLmdldEF0dHJpYnV0ZSgieG1sOmxhbmciKSB8fCBlLmdldEF0dHJpYnV0ZSgibGFuZyIpKSByZXR1cm4gKHQgPSB0LnRvTG93ZXJDYXNlKCkpID09PSBuIHx8IDAgPT09IHQuaW5kZXhPZihuICsgIi0iKTsKICAgICAgICAgIH0gd2hpbGUgKChlID0gZS5wYXJlbnROb2RlKSAmJiAxID09PSBlLm5vZGVUeXBlKTsKCiAgICAgICAgICByZXR1cm4gITE7CiAgICAgICAgfTsKICAgICAgfSksCiAgICAgIHRhcmdldDogZnVuY3Rpb24gdGFyZ2V0KGUpIHsKICAgICAgICB2YXIgdCA9IHdpbmRvdy5sb2NhdGlvbiAmJiB3aW5kb3cubG9jYXRpb24uaGFzaDsKICAgICAgICByZXR1cm4gdCAmJiB0LnNsaWNlKDEpID09PSBlLmlkOwogICAgICB9LAogICAgICByb290OiBmdW5jdGlvbiByb290KGUpIHsKICAgICAgICByZXR1cm4gZSA9PT0gcWk7CiAgICAgIH0sCiAgICAgIGZvY3VzOiBmdW5jdGlvbiBmb2N1cyhlKSB7CiAgICAgICAgcmV0dXJuIGUgPT09IFZpLmFjdGl2ZUVsZW1lbnQgJiYgKCFWaS5oYXNGb2N1cyB8fCBWaS5oYXNGb2N1cygpKSAmJiAhIShlLnR5cGUgfHwgZS5ocmVmIHx8IH5lLnRhYkluZGV4KTsKICAgICAgfSwKICAgICAgZW5hYmxlZDogZnVuY3Rpb24gZW5hYmxlZChlKSB7CiAgICAgICAgcmV0dXJuICExID09PSBlLmRpc2FibGVkOwogICAgICB9LAogICAgICBkaXNhYmxlZDogZnVuY3Rpb24gZGlzYWJsZWQoZSkgewogICAgICAgIHJldHVybiAhMCA9PT0gZS5kaXNhYmxlZDsKICAgICAgfSwKICAgICAgY2hlY2tlZDogZnVuY3Rpb24gY2hlY2tlZChlKSB7CiAgICAgICAgdmFyIHQgPSBlLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk7CiAgICAgICAgcmV0dXJuICJpbnB1dCIgPT09IHQgJiYgISFlLmNoZWNrZWQgfHwgIm9wdGlvbiIgPT09IHQgJiYgISFlLnNlbGVjdGVkOwogICAgICB9LAogICAgICBzZWxlY3RlZDogZnVuY3Rpb24gc2VsZWN0ZWQoZSkgewogICAgICAgIHJldHVybiBlLnBhcmVudE5vZGUgJiYgZS5wYXJlbnROb2RlLnNlbGVjdGVkSW5kZXgsICEwID09PSBlLnNlbGVjdGVkOwogICAgICB9LAogICAgICBlbXB0eTogZnVuY3Rpb24gZW1wdHkoZSkgewogICAgICAgIGZvciAoZSA9IGUuZmlyc3RDaGlsZDsgZTsgZSA9IGUubmV4dFNpYmxpbmcpIHsKICAgICAgICAgIGlmIChlLm5vZGVUeXBlIDwgNikgcmV0dXJuICExOwogICAgICAgIH0KCiAgICAgICAgcmV0dXJuICEwOwogICAgICB9LAogICAgICBwYXJlbnQ6IGZ1bmN0aW9uIHBhcmVudChlKSB7CiAgICAgICAgcmV0dXJuICFCaS5wc2V1ZG9zLmVtcHR5KGUpOwogICAgICB9LAogICAgICBoZWFkZXI6IGZ1bmN0aW9uIGhlYWRlcihlKSB7CiAgICAgICAgcmV0dXJuIFNhLnRlc3QoZS5ub2RlTmFtZSk7CiAgICAgIH0sCiAgICAgIGlucHV0OiBmdW5jdGlvbiBpbnB1dChlKSB7CiAgICAgICAgcmV0dXJuIHhhLnRlc3QoZS5ub2RlTmFtZSk7CiAgICAgIH0sCiAgICAgIGJ1dHRvbjogZnVuY3Rpb24gYnV0dG9uKGUpIHsKICAgICAgICB2YXIgdCA9IGUubm9kZU5hbWUudG9Mb3dlckNhc2UoKTsKICAgICAgICByZXR1cm4gImlucHV0IiA9PT0gdCAmJiAiYnV0dG9uIiA9PT0gZS50eXBlIHx8ICJidXR0b24iID09PSB0OwogICAgICB9LAogICAgICB0ZXh0OiBmdW5jdGlvbiB0ZXh0KGUpIHsKICAgICAgICB2YXIgdDsKICAgICAgICByZXR1cm4gImlucHV0IiA9PT0gZS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpICYmICJ0ZXh0IiA9PT0gZS50eXBlICYmIChudWxsID09ICh0ID0gZS5nZXRBdHRyaWJ1dGUoInR5cGUiKSkgfHwgInRleHQiID09PSB0LnRvTG93ZXJDYXNlKCkpOwogICAgICB9LAogICAgICBmaXJzdDogUGEoZnVuY3Rpb24gKCkgewogICAgICAgIHJldHVybiBbMF07CiAgICAgIH0pLAogICAgICBsYXN0OiBQYShmdW5jdGlvbiAoZSwgdCkgewogICAgICAgIHJldHVybiBbdCAtIDFdOwogICAgICB9KSwKICAgICAgZXE6IFBhKGZ1bmN0aW9uIChlLCB0LCBuKSB7CiAgICAgICAgcmV0dXJuIFtuIDwgMCA/IG4gKyB0IDogbl07CiAgICAgIH0pLAogICAgICBldmVuOiBQYShmdW5jdGlvbiAoZSwgdCkgewogICAgICAgIGZvciAodmFyIG4gPSAwOyBuIDwgdDsgbiArPSAyKSB7CiAgICAgICAgICBlLnB1c2gobik7CiAgICAgICAgfQoKICAgICAgICByZXR1cm4gZTsKICAgICAgfSksCiAgICAgIG9kZDogUGEoZnVuY3Rpb24gKGUsIHQpIHsKICAgICAgICBmb3IgKHZhciBuID0gMTsgbiA8IHQ7IG4gKz0gMikgewogICAgICAgICAgZS5wdXNoKG4pOwogICAgICAgIH0KCiAgICAgICAgcmV0dXJuIGU7CiAgICAgIH0pLAogICAgICBsdDogUGEoZnVuY3Rpb24gKGUsIHQsIG4pIHsKICAgICAgICBmb3IgKHZhciByID0gbiA8IDAgPyBuICsgdCA6IG47IDAgPD0gLS1yOykgewogICAgICAgICAgZS5wdXNoKHIpOwogICAgICAgIH0KCiAgICAgICAgcmV0dXJuIGU7CiAgICAgIH0pLAogICAgICBndDogUGEoZnVuY3Rpb24gKGUsIHQsIG4pIHsKICAgICAgICBmb3IgKHZhciByID0gbiA8IDAgPyBuICsgdCA6IG47ICsrciA8IHQ7KSB7CiAgICAgICAgICBlLnB1c2gocik7CiAgICAgICAgfQoKICAgICAgICByZXR1cm4gZTsKICAgICAgfSkKICAgIH0KICB9KS5wc2V1ZG9zLm50aCA9IEJpLnBzZXVkb3MuZXEsIFcoWyJyYWRpbyIsICJjaGVja2JveCIsICJmaWxlIiwgInBhc3N3b3JkIiwgImltYWdlIl0sIGZ1bmN0aW9uIChlKSB7CiAgICB2YXIgdDsKICAgIEJpLnBzZXVkb3NbZV0gPSAodCA9IGUsIGZ1bmN0aW9uIChlKSB7CiAgICAgIHJldHVybiAiaW5wdXQiID09PSBlLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkgJiYgZS50eXBlID09PSB0OwogICAgfSk7CiAgfSksIFcoWyJzdWJtaXQiLCAicmVzZXQiXSwgZnVuY3Rpb24gKGUpIHsKICAgIHZhciBuOwogICAgQmkucHNldWRvc1tlXSA9IChuID0gZSwgZnVuY3Rpb24gKGUpIHsKICAgICAgdmFyIHQgPSBlLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk7CiAgICAgIHJldHVybiAoImlucHV0IiA9PT0gdCB8fCAiYnV0dG9uIiA9PT0gdCkgJiYgZS50eXBlID09PSBuOwogICAgfSk7CiAgfSksIElhLnByb3RvdHlwZSA9IEJpLmZpbHRlcnMgPSBCaS5wc2V1ZG9zLCBCaS5zZXRGaWx0ZXJzID0gbmV3IElhKCksIElpID0gVGEudG9rZW5pemUgPSBmdW5jdGlvbiAoZSwgdCkgewogICAgdmFyIG4sCiAgICAgICAgciwKICAgICAgICBvLAogICAgICAgIGksCiAgICAgICAgYSwKICAgICAgICB1LAogICAgICAgIHMsCiAgICAgICAgYyA9IGVhW2UgKyAiICJdOwogICAgaWYgKGMpIHJldHVybiB0ID8gMCA6IGMuc2xpY2UoMCk7CgogICAgZm9yIChhID0gZSwgdSA9IFtdLCBzID0gQmkucHJlRmlsdGVyOyBhOykgewogICAgICBmb3IgKGkgaW4gbiAmJiAhKHIgPSBoYS5leGVjKGEpKSB8fCAociAmJiAoYSA9IGEuc2xpY2UoclswXS5sZW5ndGgpIHx8IGEpLCB1LnB1c2gobyA9IFtdKSksIG4gPSAhMSwgKHIgPSB2YS5leGVjKGEpKSAmJiAobiA9IHIuc2hpZnQoKSwgby5wdXNoKHsKICAgICAgICB2YWx1ZTogbiwKICAgICAgICB0eXBlOiByWzBdLnJlcGxhY2UoZ2EsICIgIikKICAgICAgfSksIGEgPSBhLnNsaWNlKG4ubGVuZ3RoKSksIEJpLmZpbHRlcikgewogICAgICAgIEJpLmZpbHRlci5oYXNPd25Qcm9wZXJ0eShpKSAmJiAoIShyID0gd2FbaV0uZXhlYyhhKSkgfHwgc1tpXSAmJiAhKHIgPSBzW2ldKHIpKSB8fCAobiA9IHIuc2hpZnQoKSwgby5wdXNoKHsKICAgICAgICAgIHZhbHVlOiBuLAogICAgICAgICAgdHlwZTogaSwKICAgICAgICAgIG1hdGNoZXM6IHIKICAgICAgICB9KSwgYSA9IGEuc2xpY2Uobi5sZW5ndGgpKSk7CiAgICAgIH0KCiAgICAgIGlmICghbikgYnJlYWs7CiAgICB9CgogICAgcmV0dXJuIHQgPyBhLmxlbmd0aCA6IGEgPyBUYS5lcnJvcihlKSA6IGVhKGUsIHUpLnNsaWNlKDApOwogIH0sIE1pID0gVGEuY29tcGlsZSA9IGZ1bmN0aW9uIChlLCB0KSB7CiAgICB2YXIgbiwKICAgICAgICBoLAogICAgICAgIHYsCiAgICAgICAgeSwKICAgICAgICBiLAogICAgICAgIHIsCiAgICAgICAgbyA9IFtdLAogICAgICAgIGkgPSBbXSwKICAgICAgICBhID0gdGFbZSArICIgIl07CgogICAgaWYgKCFhKSB7CiAgICAgIGZvciAobiA9ICh0ID0gdCB8fCBJaShlKSkubGVuZ3RoOyBuLS07KSB7CiAgICAgICAgKGEgPSBmdW5jdGlvbiBmKGUpIHsKICAgICAgICAgIGZvciAodmFyIHIsIHQsIG4sIG8gPSBlLmxlbmd0aCwgaSA9IEJpLnJlbGF0aXZlW2VbMF0udHlwZV0sIGEgPSBpIHx8IEJpLnJlbGF0aXZlWyIgIl0sIHUgPSBpID8gMSA6IDAsIHMgPSBGYShmdW5jdGlvbiAoZSkgewogICAgICAgICAgICByZXR1cm4gZSA9PT0gcjsKICAgICAgICAgIH0sIGEsICEwKSwgYyA9IEZhKGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICAgIHJldHVybiAtMSA8IGxhLmNhbGwociwgZSk7CiAgICAgICAgICB9LCBhLCAhMCksIGwgPSBbZnVuY3Rpb24gKGUsIHQsIG4pIHsKICAgICAgICAgICAgcmV0dXJuICFpICYmIChuIHx8IHQgIT09IFVpKSB8fCAoKHIgPSB0KS5ub2RlVHlwZSA/IHMgOiBjKShlLCB0LCBuKTsKICAgICAgICAgIH1dOyB1IDwgbzsgdSsrKSB7CiAgICAgICAgICAgIGlmICh0ID0gQmkucmVsYXRpdmVbZVt1XS50eXBlXSkgbCA9IFtGYShVYShsKSwgdCldO2Vsc2UgewogICAgICAgICAgICAgIGlmICgodCA9IEJpLmZpbHRlcltlW3VdLnR5cGVdLmFwcGx5KG51bGwsIGVbdV0ubWF0Y2hlcykpW1lpXSkgewogICAgICAgICAgICAgICAgZm9yIChuID0gKyt1OyBuIDwgbyAmJiAhQmkucmVsYXRpdmVbZVtuXS50eXBlXTsgbisrKSB7CiAgICAgICAgICAgICAgICAgIDsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICByZXR1cm4gamEoMSA8IHUgJiYgVWEobCksIDEgPCB1ICYmIE1hKGUuc2xpY2UoMCwgdSAtIDEpLmNvbmNhdCh7CiAgICAgICAgICAgICAgICAgIHZhbHVlOiAiICIgPT09IGVbdSAtIDJdLnR5cGUgPyAiKiIgOiAiIgogICAgICAgICAgICAgICAgfSkpLnJlcGxhY2UoZ2EsICIkMSIpLCB0LCB1IDwgbiAmJiBmKGUuc2xpY2UodSwgbikpLCBuIDwgbyAmJiBmKGUgPSBlLnNsaWNlKG4pKSwgbiA8IG8gJiYgTWEoZSkpOwogICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgbC5wdXNoKHQpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CgogICAgICAgICAgcmV0dXJuIFVhKGwpOwogICAgICAgIH0odFtuXSkpW1lpXSA/IG8ucHVzaChhKSA6IGkucHVzaChhKTsKICAgICAgfQoKICAgICAgKGEgPSB0YShlLCAoaCA9IGksIHkgPSAwIDwgKHYgPSBvKS5sZW5ndGgsIGIgPSAwIDwgaC5sZW5ndGgsIHIgPSBmdW5jdGlvbiByKGUsIHQsIG4sIF9yMywgbykgewogICAgICAgIHZhciBpLAogICAgICAgICAgICBhLAogICAgICAgICAgICB1LAogICAgICAgICAgICBzID0gMCwKICAgICAgICAgICAgYyA9ICIwIiwKICAgICAgICAgICAgbCA9IGUgJiYgW10sCiAgICAgICAgICAgIGYgPSBbXSwKICAgICAgICAgICAgZCA9IFVpLAogICAgICAgICAgICBtID0gZSB8fCBiICYmIEJpLmZpbmQuVEFHKCIqIiwgbyksCiAgICAgICAgICAgIHAgPSBKaSArPSBudWxsID09IGQgPyAxIDogTWF0aC5yYW5kb20oKSB8fCAuMSwKICAgICAgICAgICAgZyA9IG0ubGVuZ3RoOwoKICAgICAgICBmb3IgKG8gJiYgKFVpID0gdCAhPT0gVmkgJiYgdCk7IGMgIT09IGcgJiYgbnVsbCAhPSAoaSA9IG1bY10pOyBjKyspIHsKICAgICAgICAgIGlmIChiICYmIGkpIHsKICAgICAgICAgICAgZm9yIChhID0gMDsgdSA9IGhbYSsrXTspIHsKICAgICAgICAgICAgICBpZiAodShpLCB0LCBuKSkgewogICAgICAgICAgICAgICAgX3IzLnB1c2goaSk7CgogICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CgogICAgICAgICAgICBvICYmIChKaSA9IHApOwogICAgICAgICAgfQoKICAgICAgICAgIHkgJiYgKChpID0gIXUgJiYgaSkgJiYgcy0tLCBlICYmIGwucHVzaChpKSk7CiAgICAgICAgfQoKICAgICAgICBpZiAocyArPSBjLCB5ICYmIGMgIT09IHMpIHsKICAgICAgICAgIGZvciAoYSA9IDA7IHUgPSB2W2ErK107KSB7CiAgICAgICAgICAgIHUobCwgZiwgdCwgbik7CiAgICAgICAgICB9CgogICAgICAgICAgaWYgKGUpIHsKICAgICAgICAgICAgaWYgKDAgPCBzKSBmb3IgKDsgYy0tOykgewogICAgICAgICAgICAgIGxbY10gfHwgZltjXSB8fCAoZltjXSA9IGFhLmNhbGwoX3IzKSk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgZiA9IHphKGYpOwogICAgICAgICAgfQoKICAgICAgICAgIHNhLmFwcGx5KF9yMywgZiksIG8gJiYgIWUgJiYgMCA8IGYubGVuZ3RoICYmIDEgPCBzICsgdi5sZW5ndGggJiYgVGEudW5pcXVlU29ydChfcjMpOwogICAgICAgIH0KCiAgICAgICAgcmV0dXJuIG8gJiYgKEppID0gcCwgVWkgPSBkKSwgbDsKICAgICAgfSwgeSA/IE9hKHIpIDogcikpKS5zZWxlY3RvciA9IGU7CiAgICB9CgogICAgcmV0dXJuIGE7CiAgfSwgRmkgPSBUYS5zZWxlY3QgPSBmdW5jdGlvbiAoZSwgdCwgbiwgcikgewogICAgdmFyIG8sCiAgICAgICAgaSwKICAgICAgICBhLAogICAgICAgIHUsCiAgICAgICAgcywKICAgICAgICBjID0gImZ1bmN0aW9uIiA9PSB0eXBlb2YgZSAmJiBlLAogICAgICAgIGwgPSAhciAmJiBJaShlID0gYy5zZWxlY3RvciB8fCBlKTsKCiAgICBpZiAobiA9IG4gfHwgW10sIDEgPT09IGwubGVuZ3RoKSB7CiAgICAgIGlmICgyIDwgKGkgPSBsWzBdID0gbFswXS5zbGljZSgwKSkubGVuZ3RoICYmICJJRCIgPT09IChhID0gaVswXSkudHlwZSAmJiBPaS5nZXRCeUlkICYmIDkgPT09IHQubm9kZVR5cGUgJiYgJGkgJiYgQmkucmVsYXRpdmVbaVsxXS50eXBlXSkgewogICAgICAgIGlmICghKHQgPSAoQmkuZmluZC5JRChhLm1hdGNoZXNbMF0ucmVwbGFjZShBYSwgUmEpLCB0KSB8fCBbXSlbMF0pKSByZXR1cm4gbjsKICAgICAgICBjICYmICh0ID0gdC5wYXJlbnROb2RlKSwgZSA9IGUuc2xpY2UoaS5zaGlmdCgpLnZhbHVlLmxlbmd0aCk7CiAgICAgIH0KCiAgICAgIGZvciAobyA9IHdhLm5lZWRzQ29udGV4dC50ZXN0KGUpID8gMCA6IGkubGVuZ3RoOyBvLS0gJiYgKGEgPSBpW29dLCAhQmkucmVsYXRpdmVbdSA9IGEudHlwZV0pOykgewogICAgICAgIGlmICgocyA9IEJpLmZpbmRbdV0pICYmIChyID0gcyhhLm1hdGNoZXNbMF0ucmVwbGFjZShBYSwgUmEpLCBrYS50ZXN0KGlbMF0udHlwZSkgJiYgTGEodC5wYXJlbnROb2RlKSB8fCB0KSkpIHsKICAgICAgICAgIGlmIChpLnNwbGljZShvLCAxKSwgIShlID0gci5sZW5ndGggJiYgTWEoaSkpKSByZXR1cm4gc2EuYXBwbHkobiwgciksIG47CiAgICAgICAgICBicmVhazsKICAgICAgICB9CiAgICAgIH0KICAgIH0KCiAgICByZXR1cm4gKGMgfHwgTWkoZSwgbCkpKHIsIHQsICEkaSwgbiwga2EudGVzdChlKSAmJiBMYSh0LnBhcmVudE5vZGUpIHx8IHQpLCBuOwogIH0sIE9pLnNvcnRTdGFibGUgPSBZaS5zcGxpdCgiIikuc29ydChuYSkuam9pbigiIikgPT09IFlpLCBPaS5kZXRlY3REdXBsaWNhdGVzID0gISFqaSwgSGkoKSwgT2kuc29ydERldGFjaGVkID0gITA7CgogIHZhciBIYSA9IGRvY3VtZW50LAogICAgICBWYSA9IEFycmF5LnByb3RvdHlwZS5wdXNoLAogICAgICBxYSA9IEFycmF5LnByb3RvdHlwZS5zbGljZSwKICAgICAgJGEgPSAvXig/OlteIzxdKig8W1x3XFddKz4pW14+XSokfCMoW1x3XC1dKikkKS8sCiAgICAgIFdhID0gVGkuRXZlbnQsCiAgICAgIEthID0ga3QubWFrZU1hcCgiY2hpbGRyZW4sY29udGVudHMsbmV4dCxwcmV2IiksCiAgICAgIFhhID0gZnVuY3Rpb24gWGEoZSkgewogICAgcmV0dXJuIHZvaWQgMCAhPT0gZTsKICB9LAogICAgICBZYSA9IGZ1bmN0aW9uIFlhKGUpIHsKICAgIHJldHVybiAic3RyaW5nIiA9PSB0eXBlb2YgZTsKICB9LAogICAgICBHYSA9IGZ1bmN0aW9uIEdhKGUsIHQpIHsKICAgIHZhciBuLAogICAgICAgIHIgPSAodCA9IHQgfHwgSGEpLmNyZWF0ZUVsZW1lbnQoImRpdiIpLAogICAgICAgIG8gPSB0LmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKTsKCiAgICBmb3IgKHIuaW5uZXJIVE1MID0gZTsgbiA9IHIuZmlyc3RDaGlsZDspIHsKICAgICAgby5hcHBlbmRDaGlsZChuKTsKICAgIH0KCiAgICByZXR1cm4gbzsKICB9LAogICAgICBKYSA9IGZ1bmN0aW9uIEphKGUsIHQsIG4sIHIpIHsKICAgIHZhciBvOwogICAgaWYgKFlhKHQpKSB0ID0gR2EodCwgZnUoZVswXSkpO2Vsc2UgaWYgKHQubGVuZ3RoICYmICF0Lm5vZGVUeXBlKSB7CiAgICAgIGlmICh0ID0gaHUubWFrZUFycmF5KHQpLCByKSBmb3IgKG8gPSB0Lmxlbmd0aCAtIDE7IDAgPD0gbzsgby0tKSB7CiAgICAgICAgSmEoZSwgdFtvXSwgbiwgcik7CiAgICAgIH0gZWxzZSBmb3IgKG8gPSAwOyBvIDwgdC5sZW5ndGg7IG8rKykgewogICAgICAgIEphKGUsIHRbb10sIG4sIHIpOwogICAgICB9CiAgICAgIHJldHVybiBlOwogICAgfQogICAgaWYgKHQubm9kZVR5cGUpIGZvciAobyA9IGUubGVuZ3RoOyBvLS07KSB7CiAgICAgIG4uY2FsbChlW29dLCB0KTsKICAgIH0KICAgIHJldHVybiBlOwogIH0sCiAgICAgIFFhID0gZnVuY3Rpb24gUWEoZSwgdCkgewogICAgcmV0dXJuIGUgJiYgdCAmJiAtMSAhPT0gKCIgIiArIGUuY2xhc3NOYW1lICsgIiAiKS5pbmRleE9mKCIgIiArIHQgKyAiICIpOwogIH0sCiAgICAgIFphID0gZnVuY3Rpb24gWmEoZSwgdCwgbikgewogICAgdmFyIHIsIG87CiAgICByZXR1cm4gdCA9IGh1KHQpWzBdLCBlLmVhY2goZnVuY3Rpb24gKCkgewogICAgICBuICYmIHIgPT09IHRoaXMucGFyZW50Tm9kZSB8fCAociA9IHRoaXMucGFyZW50Tm9kZSwgbyA9IHQuY2xvbmVOb2RlKCExKSwgdGhpcy5wYXJlbnROb2RlLmluc2VydEJlZm9yZShvLCB0aGlzKSksIG8uYXBwZW5kQ2hpbGQodGhpcyk7CiAgICB9KSwgZTsKICB9LAogICAgICBldSA9IGt0Lm1ha2VNYXAoImZpbGxPcGFjaXR5IGZvbnRXZWlnaHQgbGluZUhlaWdodCBvcGFjaXR5IG9ycGhhbnMgd2lkb3dzIHpJbmRleCB6b29tIiwgIiAiKSwKICAgICAgdHUgPSBrdC5tYWtlTWFwKCJjaGVja2VkIGNvbXBhY3QgZGVjbGFyZSBkZWZlciBkaXNhYmxlZCBpc21hcCBtdWx0aXBsZSBub2hyZWYgbm9zaGFkZSBub3dyYXAgcmVhZG9ubHkgc2VsZWN0ZWQiLCAiICIpLAogICAgICBudSA9IHsKICAgICJmb3IiOiAiaHRtbEZvciIsCiAgICAiY2xhc3MiOiAiY2xhc3NOYW1lIiwKICAgIHJlYWRvbmx5OiAicmVhZE9ubHkiCiAgfSwKICAgICAgcnUgPSB7CiAgICAiZmxvYXQiOiAiY3NzRmxvYXQiCiAgfSwKICAgICAgb3UgPSB7fSwKICAgICAgaXUgPSB7fSwKICAgICAgYXUgPSBmdW5jdGlvbiBhdShlLCB0KSB7CiAgICByZXR1cm4gbmV3IGh1LmZuLmluaXQoZSwgdCk7CiAgfSwKICAgICAgdXUgPSAvXlxzKnxccyokL2csCiAgICAgIHN1ID0gZnVuY3Rpb24gc3UoZSkgewogICAgcmV0dXJuIG51bGwgPT09IGUgfHwgZSA9PT0gdW5kZWZpbmVkID8gIiIgOiAoIiIgKyBlKS5yZXBsYWNlKHV1LCAiIik7CiAgfSwKICAgICAgY3UgPSBmdW5jdGlvbiBjdShlLCB0KSB7CiAgICB2YXIgbiwgciwgbywgaTsKICAgIGlmIChlKSBpZiAoKG4gPSBlLmxlbmd0aCkgPT09IHVuZGVmaW5lZCkgewogICAgICBmb3IgKHIgaW4gZSkgewogICAgICAgIGlmIChlLmhhc093blByb3BlcnR5KHIpICYmIChpID0gZVtyXSwgITEgPT09IHQuY2FsbChpLCByLCBpKSkpIGJyZWFrOwogICAgICB9CiAgICB9IGVsc2UgZm9yIChvID0gMDsgbyA8IG4gJiYgKGkgPSBlW29dLCAhMSAhPT0gdC5jYWxsKGksIG8sIGkpKTsgbysrKSB7CiAgICAgIDsKICAgIH0KICAgIHJldHVybiBlOwogIH0sCiAgICAgIGx1ID0gZnVuY3Rpb24gbHUoZSwgbikgewogICAgdmFyIHIgPSBbXTsKICAgIHJldHVybiBjdShlLCBmdW5jdGlvbiAoZSwgdCkgewogICAgICBuKHQsIGUpICYmIHIucHVzaCh0KTsKICAgIH0pLCByOwogIH0sCiAgICAgIGZ1ID0gZnVuY3Rpb24gZnUoZSkgewogICAgcmV0dXJuIGUgPyA5ID09PSBlLm5vZGVUeXBlID8gZSA6IGUub3duZXJEb2N1bWVudCA6IEhhOwogIH07CgogIGF1LmZuID0gYXUucHJvdG90eXBlID0gewogICAgY29uc3RydWN0b3I6IGF1LAogICAgc2VsZWN0b3I6ICIiLAogICAgY29udGV4dDogbnVsbCwKICAgIGxlbmd0aDogMCwKICAgIGluaXQ6IGZ1bmN0aW9uIGluaXQoZSwgdCkgewogICAgICB2YXIgbiwKICAgICAgICAgIHIsCiAgICAgICAgICBvID0gdGhpczsKICAgICAgaWYgKCFlKSByZXR1cm4gbzsKICAgICAgaWYgKGUubm9kZVR5cGUpIHJldHVybiBvLmNvbnRleHQgPSBvWzBdID0gZSwgby5sZW5ndGggPSAxLCBvOwogICAgICBpZiAodCAmJiB0Lm5vZGVUeXBlKSBvLmNvbnRleHQgPSB0O2Vsc2UgewogICAgICAgIGlmICh0KSByZXR1cm4gaHUoZSkuYXR0cih0KTsKICAgICAgICBvLmNvbnRleHQgPSB0ID0gZG9jdW1lbnQ7CiAgICAgIH0KCiAgICAgIGlmIChZYShlKSkgewogICAgICAgIGlmICghKG4gPSAiPCIgPT09IChvLnNlbGVjdG9yID0gZSkuY2hhckF0KDApICYmICI+IiA9PT0gZS5jaGFyQXQoZS5sZW5ndGggLSAxKSAmJiAzIDw9IGUubGVuZ3RoID8gW251bGwsIGUsIG51bGxdIDogJGEuZXhlYyhlKSkpIHJldHVybiBodSh0KS5maW5kKGUpOwogICAgICAgIGlmIChuWzFdKSBmb3IgKHIgPSBHYShlLCBmdSh0KSkuZmlyc3RDaGlsZDsgcjspIHsKICAgICAgICAgIFZhLmNhbGwobywgciksIHIgPSByLm5leHRTaWJsaW5nOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBpZiAoIShyID0gZnUodCkuZ2V0RWxlbWVudEJ5SWQoblsyXSkpKSByZXR1cm4gbzsKICAgICAgICAgIGlmIChyLmlkICE9PSBuWzJdKSByZXR1cm4gby5maW5kKGUpOwogICAgICAgICAgby5sZW5ndGggPSAxLCBvWzBdID0gcjsKICAgICAgICB9CiAgICAgIH0gZWxzZSB0aGlzLmFkZChlLCAhMSk7CgogICAgICByZXR1cm4gbzsKICAgIH0sCiAgICB0b0FycmF5OiBmdW5jdGlvbiB0b0FycmF5KCkgewogICAgICByZXR1cm4ga3QudG9BcnJheSh0aGlzKTsKICAgIH0sCiAgICBhZGQ6IGZ1bmN0aW9uIGFkZChlLCB0KSB7CiAgICAgIHZhciBuLCByOwogICAgICBpZiAoWWEoZSkpIHJldHVybiB0aGlzLmFkZChodShlKSk7CiAgICAgIGlmICghMSAhPT0gdCkgZm9yIChuID0gaHUudW5pcXVlKHRoaXMudG9BcnJheSgpLmNvbmNhdChodS5tYWtlQXJyYXkoZSkpKSwgdGhpcy5sZW5ndGggPSBuLmxlbmd0aCwgciA9IDA7IHIgPCBuLmxlbmd0aDsgcisrKSB7CiAgICAgICAgdGhpc1tyXSA9IG5bcl07CiAgICAgIH0gZWxzZSBWYS5hcHBseSh0aGlzLCBodS5tYWtlQXJyYXkoZSkpOwogICAgICByZXR1cm4gdGhpczsKICAgIH0sCiAgICBhdHRyOiBmdW5jdGlvbiBhdHRyKHQsIG4pIHsKICAgICAgdmFyIGUsCiAgICAgICAgICByID0gdGhpczsKICAgICAgaWYgKCJvYmplY3QiID09IF90eXBlb2YodCkpIGN1KHQsIGZ1bmN0aW9uIChlLCB0KSB7CiAgICAgICAgci5hdHRyKGUsIHQpOwogICAgICB9KTtlbHNlIHsKICAgICAgICBpZiAoIVhhKG4pKSB7CiAgICAgICAgICBpZiAoclswXSAmJiAxID09PSByWzBdLm5vZGVUeXBlKSB7CiAgICAgICAgICAgIGlmICgoZSA9IG91W3RdKSAmJiBlLmdldCkgcmV0dXJuIGUuZ2V0KHJbMF0sIHQpOwogICAgICAgICAgICBpZiAodHVbdF0pIHJldHVybiByLnByb3AodCkgPyB0IDogdW5kZWZpbmVkOwogICAgICAgICAgICBudWxsID09PSAobiA9IHJbMF0uZ2V0QXR0cmlidXRlKHQsIDIpKSAmJiAobiA9IHVuZGVmaW5lZCk7CiAgICAgICAgICB9CgogICAgICAgICAgcmV0dXJuIG47CiAgICAgICAgfQoKICAgICAgICB0aGlzLmVhY2goZnVuY3Rpb24gKCkgewogICAgICAgICAgdmFyIGU7CgogICAgICAgICAgaWYgKDEgPT09IHRoaXMubm9kZVR5cGUpIHsKICAgICAgICAgICAgaWYgKChlID0gb3VbdF0pICYmIGUuc2V0KSByZXR1cm4gdm9pZCBlLnNldCh0aGlzLCBuKTsKICAgICAgICAgICAgbnVsbCA9PT0gbiA/IHRoaXMucmVtb3ZlQXR0cmlidXRlKHQsIDIpIDogdGhpcy5zZXRBdHRyaWJ1dGUodCwgbiwgMik7CiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgIH0KICAgICAgcmV0dXJuIHI7CiAgICB9LAogICAgcmVtb3ZlQXR0cjogZnVuY3Rpb24gcmVtb3ZlQXR0cihlKSB7CiAgICAgIHJldHVybiB0aGlzLmF0dHIoZSwgbnVsbCk7CiAgICB9LAogICAgcHJvcDogZnVuY3Rpb24gcHJvcChlLCB0KSB7CiAgICAgIHZhciBuID0gdGhpczsKICAgICAgaWYgKCJvYmplY3QiID09IF90eXBlb2YoZSA9IG51W2VdIHx8IGUpKSBjdShlLCBmdW5jdGlvbiAoZSwgdCkgewogICAgICAgIG4ucHJvcChlLCB0KTsKICAgICAgfSk7ZWxzZSB7CiAgICAgICAgaWYgKCFYYSh0KSkgcmV0dXJuIG5bMF0gJiYgblswXS5ub2RlVHlwZSAmJiBlIGluIG5bMF0gPyBuWzBdW2VdIDogdDsKICAgICAgICB0aGlzLmVhY2goZnVuY3Rpb24gKCkgewogICAgICAgICAgMSA9PT0gdGhpcy5ub2RlVHlwZSAmJiAodGhpc1tlXSA9IHQpOwogICAgICAgIH0pOwogICAgICB9CiAgICAgIHJldHVybiBuOwogICAgfSwKICAgIGNzczogZnVuY3Rpb24gY3NzKG4sIHIpIHsKICAgICAgdmFyIGUsCiAgICAgICAgICBvLAogICAgICAgICAgaSA9IHRoaXMsCiAgICAgICAgICB0ID0gZnVuY3Rpb24gdChlKSB7CiAgICAgICAgcmV0dXJuIGUucmVwbGFjZSgvLShcRCkvZywgZnVuY3Rpb24gKGUsIHQpIHsKICAgICAgICAgIHJldHVybiB0LnRvVXBwZXJDYXNlKCk7CiAgICAgICAgfSk7CiAgICAgIH0sCiAgICAgICAgICBhID0gZnVuY3Rpb24gYShlKSB7CiAgICAgICAgcmV0dXJuIGUucmVwbGFjZSgvW0EtWl0vZywgZnVuY3Rpb24gKGUpIHsKICAgICAgICAgIHJldHVybiAiLSIgKyBlOwogICAgICAgIH0pOwogICAgICB9OwoKICAgICAgaWYgKCJvYmplY3QiID09IF90eXBlb2YobikpIGN1KG4sIGZ1bmN0aW9uIChlLCB0KSB7CiAgICAgICAgaS5jc3MoZSwgdCk7CiAgICAgIH0pO2Vsc2UgaWYgKFhhKHIpKSBuID0gdChuKSwgIm51bWJlciIgIT0gdHlwZW9mIHIgfHwgZXVbbl0gfHwgKHIgPSByLnRvU3RyaW5nKCkgKyAicHgiKSwgaS5lYWNoKGZ1bmN0aW9uICgpIHsKICAgICAgICB2YXIgZSA9IHRoaXMuc3R5bGU7CiAgICAgICAgaWYgKChvID0gaXVbbl0pICYmIG8uc2V0KSBvLnNldCh0aGlzLCByKTtlbHNlIHsKICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgIHRoaXMuc3R5bGVbcnVbbl0gfHwgbl0gPSByOwogICAgICAgICAgfSBjYXRjaCAodCkge30KCiAgICAgICAgICBudWxsICE9PSByICYmICIiICE9PSByIHx8IChlLnJlbW92ZVByb3BlcnR5ID8gZS5yZW1vdmVQcm9wZXJ0eShhKG4pKSA6IGUucmVtb3ZlQXR0cmlidXRlKG4pKTsKICAgICAgICB9CiAgICAgIH0pO2Vsc2UgewogICAgICAgIGlmIChlID0gaVswXSwgKG8gPSBpdVtuXSkgJiYgby5nZXQpIHJldHVybiBvLmdldChlKTsKICAgICAgICBpZiAoIWUub3duZXJEb2N1bWVudC5kZWZhdWx0VmlldykgcmV0dXJuIGUuY3VycmVudFN0eWxlID8gZS5jdXJyZW50U3R5bGVbdChuKV0gOiAiIjsKCiAgICAgICAgdHJ5IHsKICAgICAgICAgIHJldHVybiBlLm93bmVyRG9jdW1lbnQuZGVmYXVsdFZpZXcuZ2V0Q29tcHV0ZWRTdHlsZShlLCBudWxsKS5nZXRQcm9wZXJ0eVZhbHVlKGEobikpOwogICAgICAgIH0gY2F0Y2ggKHUpIHsKICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7CiAgICAgICAgfQogICAgICB9CiAgICAgIHJldHVybiBpOwogICAgfSwKICAgIHJlbW92ZTogZnVuY3Rpb24gcmVtb3ZlKCkgewogICAgICBmb3IgKHZhciBlLCB0ID0gdGhpcy5sZW5ndGg7IHQtLTspIHsKICAgICAgICBlID0gdGhpc1t0XSwgV2EuY2xlYW4oZSksIGUucGFyZW50Tm9kZSAmJiBlLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoZSk7CiAgICAgIH0KCiAgICAgIHJldHVybiB0aGlzOwogICAgfSwKICAgIGVtcHR5OiBmdW5jdGlvbiBlbXB0eSgpIHsKICAgICAgZm9yICh2YXIgZSwgdCA9IHRoaXMubGVuZ3RoOyB0LS07KSB7CiAgICAgICAgZm9yIChlID0gdGhpc1t0XTsgZS5maXJzdENoaWxkOykgewogICAgICAgICAgZS5yZW1vdmVDaGlsZChlLmZpcnN0Q2hpbGQpOwogICAgICAgIH0KICAgICAgfQoKICAgICAgcmV0dXJuIHRoaXM7CiAgICB9LAogICAgaHRtbDogZnVuY3Rpb24gaHRtbChlKSB7CiAgICAgIHZhciB0OwoKICAgICAgaWYgKFhhKGUpKSB7CiAgICAgICAgdCA9IHRoaXMubGVuZ3RoOwoKICAgICAgICB0cnkgewogICAgICAgICAgZm9yICg7IHQtLTspIHsKICAgICAgICAgICAgdGhpc1t0XS5pbm5lckhUTUwgPSBlOwogICAgICAgICAgfQogICAgICAgIH0gY2F0Y2ggKG4pIHsKICAgICAgICAgIGh1KHRoaXNbdF0pLmVtcHR5KCkuYXBwZW5kKGUpOwogICAgICAgIH0KCiAgICAgICAgcmV0dXJuIHRoaXM7CiAgICAgIH0KCiAgICAgIHJldHVybiB0aGlzWzBdID8gdGhpc1swXS5pbm5lckhUTUwgOiAiIjsKICAgIH0sCiAgICB0ZXh0OiBmdW5jdGlvbiB0ZXh0KGUpIHsKICAgICAgdmFyIHQ7CgogICAgICBpZiAoWGEoZSkpIHsKICAgICAgICBmb3IgKHQgPSB0aGlzLmxlbmd0aDsgdC0tOykgewogICAgICAgICAgImlubmVyVGV4dCIgaW4gdGhpc1t0XSA/IHRoaXNbdF0uaW5uZXJUZXh0ID0gZSA6IHRoaXNbMF0udGV4dENvbnRlbnQgPSBlOwogICAgICAgIH0KCiAgICAgICAgcmV0dXJuIHRoaXM7CiAgICAgIH0KCiAgICAgIHJldHVybiB0aGlzWzBdID8gdGhpc1swXS5pbm5lclRleHQgfHwgdGhpc1swXS50ZXh0Q29udGVudCA6ICIiOwogICAgfSwKICAgIGFwcGVuZDogZnVuY3Rpb24gYXBwZW5kKCkgewogICAgICByZXR1cm4gSmEodGhpcywgYXJndW1lbnRzLCBmdW5jdGlvbiAoZSkgewogICAgICAgICgxID09PSB0aGlzLm5vZGVUeXBlIHx8IHRoaXMuaG9zdCAmJiAxID09PSB0aGlzLmhvc3Qubm9kZVR5cGUpICYmIHRoaXMuYXBwZW5kQ2hpbGQoZSk7CiAgICAgIH0pOwogICAgfSwKICAgIHByZXBlbmQ6IGZ1bmN0aW9uIHByZXBlbmQoKSB7CiAgICAgIHJldHVybiBKYSh0aGlzLCBhcmd1bWVudHMsIGZ1bmN0aW9uIChlKSB7CiAgICAgICAgKDEgPT09IHRoaXMubm9kZVR5cGUgfHwgdGhpcy5ob3N0ICYmIDEgPT09IHRoaXMuaG9zdC5ub2RlVHlwZSkgJiYgdGhpcy5pbnNlcnRCZWZvcmUoZSwgdGhpcy5maXJzdENoaWxkKTsKICAgICAgfSwgITApOwogICAgfSwKICAgIGJlZm9yZTogZnVuY3Rpb24gYmVmb3JlKCkgewogICAgICByZXR1cm4gdGhpc1swXSAmJiB0aGlzWzBdLnBhcmVudE5vZGUgPyBKYSh0aGlzLCBhcmd1bWVudHMsIGZ1bmN0aW9uIChlKSB7CiAgICAgICAgdGhpcy5wYXJlbnROb2RlLmluc2VydEJlZm9yZShlLCB0aGlzKTsKICAgICAgfSkgOiB0aGlzOwogICAgfSwKICAgIGFmdGVyOiBmdW5jdGlvbiBhZnRlcigpIHsKICAgICAgcmV0dXJuIHRoaXNbMF0gJiYgdGhpc1swXS5wYXJlbnROb2RlID8gSmEodGhpcywgYXJndW1lbnRzLCBmdW5jdGlvbiAoZSkgewogICAgICAgIHRoaXMucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUoZSwgdGhpcy5uZXh0U2libGluZyk7CiAgICAgIH0sICEwKSA6IHRoaXM7CiAgICB9LAogICAgYXBwZW5kVG86IGZ1bmN0aW9uIGFwcGVuZFRvKGUpIHsKICAgICAgcmV0dXJuIGh1KGUpLmFwcGVuZCh0aGlzKSwgdGhpczsKICAgIH0sCiAgICBwcmVwZW5kVG86IGZ1bmN0aW9uIHByZXBlbmRUbyhlKSB7CiAgICAgIHJldHVybiBodShlKS5wcmVwZW5kKHRoaXMpLCB0aGlzOwogICAgfSwKICAgIHJlcGxhY2VXaXRoOiBmdW5jdGlvbiByZXBsYWNlV2l0aChlKSB7CiAgICAgIHJldHVybiB0aGlzLmJlZm9yZShlKS5yZW1vdmUoKTsKICAgIH0sCiAgICB3cmFwOiBmdW5jdGlvbiB3cmFwKGUpIHsKICAgICAgcmV0dXJuIFphKHRoaXMsIGUpOwogICAgfSwKICAgIHdyYXBBbGw6IGZ1bmN0aW9uIHdyYXBBbGwoZSkgewogICAgICByZXR1cm4gWmEodGhpcywgZSwgITApOwogICAgfSwKICAgIHdyYXBJbm5lcjogZnVuY3Rpb24gd3JhcElubmVyKGUpIHsKICAgICAgcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbiAoKSB7CiAgICAgICAgaHUodGhpcykuY29udGVudHMoKS53cmFwQWxsKGUpOwogICAgICB9KSwgdGhpczsKICAgIH0sCiAgICB1bndyYXA6IGZ1bmN0aW9uIHVud3JhcCgpIHsKICAgICAgcmV0dXJuIHRoaXMucGFyZW50KCkuZWFjaChmdW5jdGlvbiAoKSB7CiAgICAgICAgaHUodGhpcykucmVwbGFjZVdpdGgodGhpcy5jaGlsZE5vZGVzKTsKICAgICAgfSk7CiAgICB9LAogICAgY2xvbmU6IGZ1bmN0aW9uIGNsb25lKCkgewogICAgICB2YXIgZSA9IFtdOwogICAgICByZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uICgpIHsKICAgICAgICBlLnB1c2godGhpcy5jbG9uZU5vZGUoITApKTsKICAgICAgfSksIGh1KGUpOwogICAgfSwKICAgIGFkZENsYXNzOiBmdW5jdGlvbiBhZGRDbGFzcyhlKSB7CiAgICAgIHJldHVybiB0aGlzLnRvZ2dsZUNsYXNzKGUsICEwKTsKICAgIH0sCiAgICByZW1vdmVDbGFzczogZnVuY3Rpb24gcmVtb3ZlQ2xhc3MoZSkgewogICAgICByZXR1cm4gdGhpcy50b2dnbGVDbGFzcyhlLCAhMSk7CiAgICB9LAogICAgdG9nZ2xlQ2xhc3M6IGZ1bmN0aW9uIHRvZ2dsZUNsYXNzKG8sIGkpIHsKICAgICAgdmFyIGUgPSB0aGlzOwogICAgICByZXR1cm4gInN0cmluZyIgIT0gdHlwZW9mIG8gfHwgKC0xICE9PSBvLmluZGV4T2YoIiAiKSA/IGN1KG8uc3BsaXQoIiAiKSwgZnVuY3Rpb24gKCkgewogICAgICAgIGUudG9nZ2xlQ2xhc3ModGhpcywgaSk7CiAgICAgIH0pIDogZS5lYWNoKGZ1bmN0aW9uIChlLCB0KSB7CiAgICAgICAgdmFyIG4sCiAgICAgICAgICAgIHIgPSBRYSh0LCBvKTsKICAgICAgICByICE9PSBpICYmIChuID0gdC5jbGFzc05hbWUsIHIgPyB0LmNsYXNzTmFtZSA9IHN1KCgiICIgKyBuICsgIiAiKS5yZXBsYWNlKCIgIiArIG8gKyAiICIsICIgIikpIDogdC5jbGFzc05hbWUgKz0gbiA/ICIgIiArIG8gOiBvKTsKICAgICAgfSkpLCBlOwogICAgfSwKICAgIGhhc0NsYXNzOiBmdW5jdGlvbiBoYXNDbGFzcyhlKSB7CiAgICAgIHJldHVybiBRYSh0aGlzWzBdLCBlKTsKICAgIH0sCiAgICBlYWNoOiBmdW5jdGlvbiBlYWNoKGUpIHsKICAgICAgcmV0dXJuIGN1KHRoaXMsIGUpOwogICAgfSwKICAgIG9uOiBmdW5jdGlvbiBvbihlLCB0KSB7CiAgICAgIHJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24gKCkgewogICAgICAgIFdhLmJpbmQodGhpcywgZSwgdCk7CiAgICAgIH0pOwogICAgfSwKICAgIG9mZjogZnVuY3Rpb24gb2ZmKGUsIHQpIHsKICAgICAgcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbiAoKSB7CiAgICAgICAgV2EudW5iaW5kKHRoaXMsIGUsIHQpOwogICAgICB9KTsKICAgIH0sCiAgICB0cmlnZ2VyOiBmdW5jdGlvbiB0cmlnZ2VyKGUpIHsKICAgICAgcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbiAoKSB7CiAgICAgICAgIm9iamVjdCIgPT0gX3R5cGVvZihlKSA/IFdhLmZpcmUodGhpcywgZS50eXBlLCBlKSA6IFdhLmZpcmUodGhpcywgZSk7CiAgICAgIH0pOwogICAgfSwKICAgIHNob3c6IGZ1bmN0aW9uIHNob3coKSB7CiAgICAgIHJldHVybiB0aGlzLmNzcygiZGlzcGxheSIsICIiKTsKICAgIH0sCiAgICBoaWRlOiBmdW5jdGlvbiBoaWRlKCkgewogICAgICByZXR1cm4gdGhpcy5jc3MoImRpc3BsYXkiLCAibm9uZSIpOwogICAgfSwKICAgIHNsaWNlOiBmdW5jdGlvbiBzbGljZSgpIHsKICAgICAgcmV0dXJuIG5ldyBodShxYS5hcHBseSh0aGlzLCBhcmd1bWVudHMpKTsKICAgIH0sCiAgICBlcTogZnVuY3Rpb24gZXEoZSkgewogICAgICByZXR1cm4gLTEgPT09IGUgPyB0aGlzLnNsaWNlKGUpIDogdGhpcy5zbGljZShlLCArZSArIDEpOwogICAgfSwKICAgIGZpcnN0OiBmdW5jdGlvbiBmaXJzdCgpIHsKICAgICAgcmV0dXJuIHRoaXMuZXEoMCk7CiAgICB9LAogICAgbGFzdDogZnVuY3Rpb24gbGFzdCgpIHsKICAgICAgcmV0dXJuIHRoaXMuZXEoLTEpOwogICAgfSwKICAgIGZpbmQ6IGZ1bmN0aW9uIGZpbmQoZSkgewogICAgICBmb3IgKHZhciB0ID0gW10sIG4gPSAwLCByID0gdGhpcy5sZW5ndGg7IG4gPCByOyBuKyspIHsKICAgICAgICBodS5maW5kKGUsIHRoaXNbbl0sIHQpOwogICAgICB9CgogICAgICByZXR1cm4gaHUodCk7CiAgICB9LAogICAgZmlsdGVyOiBmdW5jdGlvbiBmaWx0ZXIobikgewogICAgICByZXR1cm4gaHUoImZ1bmN0aW9uIiA9PSB0eXBlb2YgbiA/IGx1KHRoaXMudG9BcnJheSgpLCBmdW5jdGlvbiAoZSwgdCkgewogICAgICAgIHJldHVybiBuKHQsIGUpOwogICAgICB9KSA6IGh1LmZpbHRlcihuLCB0aGlzLnRvQXJyYXkoKSkpOwogICAgfSwKICAgIGNsb3Nlc3Q6IGZ1bmN0aW9uIGNsb3Nlc3QobikgewogICAgICB2YXIgciA9IFtdOwogICAgICByZXR1cm4gbiBpbnN0YW5jZW9mIGh1ICYmIChuID0gblswXSksIHRoaXMuZWFjaChmdW5jdGlvbiAoZSwgdCkgewogICAgICAgIGZvciAoOyB0OykgewogICAgICAgICAgaWYgKCJzdHJpbmciID09IHR5cGVvZiBuICYmIGh1KHQpLmlzKG4pKSB7CiAgICAgICAgICAgIHIucHVzaCh0KTsKICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICB9CgogICAgICAgICAgaWYgKHQgPT09IG4pIHsKICAgICAgICAgICAgci5wdXNoKHQpOwogICAgICAgICAgICBicmVhazsKICAgICAgICAgIH0KCiAgICAgICAgICB0ID0gdC5wYXJlbnROb2RlOwogICAgICAgIH0KICAgICAgfSksIGh1KHIpOwogICAgfSwKICAgIG9mZnNldDogZnVuY3Rpb24gb2Zmc2V0KGUpIHsKICAgICAgdmFyIHQsCiAgICAgICAgICBuLAogICAgICAgICAgciwKICAgICAgICAgIG8sCiAgICAgICAgICBpID0gMCwKICAgICAgICAgIGEgPSAwOwogICAgICByZXR1cm4gZSA/IHRoaXMuY3NzKGUpIDogKCh0ID0gdGhpc1swXSkgJiYgKHIgPSAobiA9IHQub3duZXJEb2N1bWVudCkuZG9jdW1lbnRFbGVtZW50LCB0LmdldEJvdW5kaW5nQ2xpZW50UmVjdCAmJiAoaSA9IChvID0gdC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSkubGVmdCArIChyLnNjcm9sbExlZnQgfHwgbi5ib2R5LnNjcm9sbExlZnQpIC0gci5jbGllbnRMZWZ0LCBhID0gby50b3AgKyAoci5zY3JvbGxUb3AgfHwgbi5ib2R5LnNjcm9sbFRvcCkgLSByLmNsaWVudFRvcCkpLCB7CiAgICAgICAgbGVmdDogaSwKICAgICAgICB0b3A6IGEKICAgICAgfSk7CiAgICB9LAogICAgcHVzaDogVmEsCiAgICBzb3J0OiBBcnJheS5wcm90b3R5cGUuc29ydCwKICAgIHNwbGljZTogQXJyYXkucHJvdG90eXBlLnNwbGljZQogIH0sIGt0LmV4dGVuZChhdSwgewogICAgZXh0ZW5kOiBrdC5leHRlbmQsCiAgICBtYWtlQXJyYXk6IGZ1bmN0aW9uIG1ha2VBcnJheShlKSB7CiAgICAgIHJldHVybiAodCA9IGUpICYmIHQgPT09IHQud2luZG93IHx8IGUubm9kZVR5cGUgPyBbZV0gOiBrdC50b0FycmF5KGUpOwogICAgICB2YXIgdDsKICAgIH0sCiAgICBpbkFycmF5OiBmdW5jdGlvbiBpbkFycmF5KGUsIHQpIHsKICAgICAgdmFyIG47CiAgICAgIGlmICh0LmluZGV4T2YpIHJldHVybiB0LmluZGV4T2YoZSk7CgogICAgICBmb3IgKG4gPSB0Lmxlbmd0aDsgbi0tOykgewogICAgICAgIGlmICh0W25dID09PSBlKSByZXR1cm4gbjsKICAgICAgfQoKICAgICAgcmV0dXJuIC0xOwogICAgfSwKICAgIGlzQXJyYXk6IGt0LmlzQXJyYXksCiAgICBlYWNoOiBjdSwKICAgIHRyaW06IHN1LAogICAgZ3JlcDogbHUsCiAgICBmaW5kOiBUYSwKICAgIGV4cHI6IFRhLnNlbGVjdG9ycywKICAgIHVuaXF1ZTogVGEudW5pcXVlU29ydCwKICAgIHRleHQ6IFRhLmdldFRleHQsCiAgICBjb250YWluczogVGEuY29udGFpbnMsCiAgICBmaWx0ZXI6IGZ1bmN0aW9uIGZpbHRlcihlLCB0LCBuKSB7CiAgICAgIHZhciByID0gdC5sZW5ndGg7CgogICAgICBmb3IgKG4gJiYgKGUgPSAiOm5vdCgiICsgZSArICIpIik7IHItLTspIHsKICAgICAgICAxICE9PSB0W3JdLm5vZGVUeXBlICYmIHQuc3BsaWNlKHIsIDEpOwogICAgICB9CgogICAgICByZXR1cm4gdCA9IDEgPT09IHQubGVuZ3RoID8gaHUuZmluZC5tYXRjaGVzU2VsZWN0b3IodFswXSwgZSkgPyBbdFswXV0gOiBbXSA6IGh1LmZpbmQubWF0Y2hlcyhlLCB0KTsKICAgIH0KICB9KTsKCiAgdmFyIGR1ID0gZnVuY3Rpb24gZHUoZSwgdCwgbikgewogICAgdmFyIHIgPSBbXSwKICAgICAgICBvID0gZVt0XTsKCiAgICBmb3IgKCJzdHJpbmciICE9IHR5cGVvZiBuICYmIG4gaW5zdGFuY2VvZiBodSAmJiAobiA9IG5bMF0pOyBvICYmIDkgIT09IG8ubm9kZVR5cGU7KSB7CiAgICAgIGlmIChuICE9PSB1bmRlZmluZWQpIHsKICAgICAgICBpZiAobyA9PT0gbikgYnJlYWs7CiAgICAgICAgaWYgKCJzdHJpbmciID09IHR5cGVvZiBuICYmIGh1KG8pLmlzKG4pKSBicmVhazsKICAgICAgfQoKICAgICAgMSA9PT0gby5ub2RlVHlwZSAmJiByLnB1c2gobyksIG8gPSBvW3RdOwogICAgfQoKICAgIHJldHVybiByOwogIH0sCiAgICAgIG11ID0gZnVuY3Rpb24gbXUoZSwgdCwgbiwgcikgewogICAgdmFyIG8gPSBbXTsKCiAgICBmb3IgKHIgaW5zdGFuY2VvZiBodSAmJiAociA9IHJbMF0pOyBlOyBlID0gZVt0XSkgewogICAgICBpZiAoIW4gfHwgZS5ub2RlVHlwZSA9PT0gbikgewogICAgICAgIGlmIChyICE9PSB1bmRlZmluZWQpIHsKICAgICAgICAgIGlmIChlID09PSByKSBicmVhazsKICAgICAgICAgIGlmICgic3RyaW5nIiA9PSB0eXBlb2YgciAmJiBodShlKS5pcyhyKSkgYnJlYWs7CiAgICAgICAgfQoKICAgICAgICBvLnB1c2goZSk7CiAgICAgIH0KICAgIH0KCiAgICByZXR1cm4gbzsKICB9LAogICAgICBwdSA9IGZ1bmN0aW9uIHB1KGUsIHQsIG4pIHsKICAgIGZvciAoZSA9IGVbdF07IGU7IGUgPSBlW3RdKSB7CiAgICAgIGlmIChlLm5vZGVUeXBlID09PSBuKSByZXR1cm4gZTsKICAgIH0KCiAgICByZXR1cm4gbnVsbDsKICB9OwoKICBjdSh7CiAgICBwYXJlbnQ6IGZ1bmN0aW9uIHBhcmVudChlKSB7CiAgICAgIHZhciB0ID0gZS5wYXJlbnROb2RlOwogICAgICByZXR1cm4gdCAmJiAxMSAhPT0gdC5ub2RlVHlwZSA/IHQgOiBudWxsOwogICAgfSwKICAgIHBhcmVudHM6IGZ1bmN0aW9uIHBhcmVudHMoZSkgewogICAgICByZXR1cm4gZHUoZSwgInBhcmVudE5vZGUiKTsKICAgIH0sCiAgICBuZXh0OiBmdW5jdGlvbiBuZXh0KGUpIHsKICAgICAgcmV0dXJuIHB1KGUsICJuZXh0U2libGluZyIsIDEpOwogICAgfSwKICAgIHByZXY6IGZ1bmN0aW9uIHByZXYoZSkgewogICAgICByZXR1cm4gcHUoZSwgInByZXZpb3VzU2libGluZyIsIDEpOwogICAgfSwKICAgIGNoaWxkcmVuOiBmdW5jdGlvbiBjaGlsZHJlbihlKSB7CiAgICAgIHJldHVybiBtdShlLmZpcnN0Q2hpbGQsICJuZXh0U2libGluZyIsIDEpOwogICAgfSwKICAgIGNvbnRlbnRzOiBmdW5jdGlvbiBjb250ZW50cyhlKSB7CiAgICAgIHJldHVybiBrdC50b0FycmF5KCgiaWZyYW1lIiA9PT0gZS5ub2RlTmFtZSA/IGUuY29udGVudERvY3VtZW50IHx8IGUuY29udGVudFdpbmRvdy5kb2N1bWVudCA6IGUpLmNoaWxkTm9kZXMpOwogICAgfQogIH0sIGZ1bmN0aW9uIChyLCBvKSB7CiAgICBhdS5mbltyXSA9IGZ1bmN0aW9uICh0KSB7CiAgICAgIHZhciBuID0gW107CiAgICAgIHRoaXMuZWFjaChmdW5jdGlvbiAoKSB7CiAgICAgICAgdmFyIGUgPSBvLmNhbGwobiwgdGhpcywgdCwgbik7CiAgICAgICAgZSAmJiAoaHUuaXNBcnJheShlKSA/IG4ucHVzaC5hcHBseShuLCBlKSA6IG4ucHVzaChlKSk7CiAgICAgIH0pLCAxIDwgdGhpcy5sZW5ndGggJiYgKEthW3JdIHx8IChuID0gaHUudW5pcXVlKG4pKSwgMCA9PT0gci5pbmRleE9mKCJwYXJlbnRzIikgJiYgKG4gPSBuLnJldmVyc2UoKSkpOwogICAgICB2YXIgZSA9IGh1KG4pOwogICAgICByZXR1cm4gdCA/IGUuZmlsdGVyKHQpIDogZTsKICAgIH07CiAgfSksIGN1KHsKICAgIHBhcmVudHNVbnRpbDogZnVuY3Rpb24gcGFyZW50c1VudGlsKGUsIHQpIHsKICAgICAgcmV0dXJuIGR1KGUsICJwYXJlbnROb2RlIiwgdCk7CiAgICB9LAogICAgbmV4dFVudGlsOiBmdW5jdGlvbiBuZXh0VW50aWwoZSwgdCkgewogICAgICByZXR1cm4gbXUoZSwgIm5leHRTaWJsaW5nIiwgMSwgdCkuc2xpY2UoMSk7CiAgICB9LAogICAgcHJldlVudGlsOiBmdW5jdGlvbiBwcmV2VW50aWwoZSwgdCkgewogICAgICByZXR1cm4gbXUoZSwgInByZXZpb3VzU2libGluZyIsIDEsIHQpLnNsaWNlKDEpOwogICAgfQogIH0sIGZ1bmN0aW9uIChvLCBpKSB7CiAgICBhdS5mbltvXSA9IGZ1bmN0aW9uICh0LCBlKSB7CiAgICAgIHZhciBuID0gW107CiAgICAgIHRoaXMuZWFjaChmdW5jdGlvbiAoKSB7CiAgICAgICAgdmFyIGUgPSBpLmNhbGwobiwgdGhpcywgdCwgbik7CiAgICAgICAgZSAmJiAoaHUuaXNBcnJheShlKSA/IG4ucHVzaC5hcHBseShuLCBlKSA6IG4ucHVzaChlKSk7CiAgICAgIH0pLCAxIDwgdGhpcy5sZW5ndGggJiYgKG4gPSBodS51bmlxdWUobiksIDAgIT09IG8uaW5kZXhPZigicGFyZW50cyIpICYmICJwcmV2VW50aWwiICE9PSBvIHx8IChuID0gbi5yZXZlcnNlKCkpKTsKICAgICAgdmFyIHIgPSBodShuKTsKICAgICAgcmV0dXJuIGUgPyByLmZpbHRlcihlKSA6IHI7CiAgICB9OwogIH0pLCBhdS5mbi5pcyA9IGZ1bmN0aW9uIChlKSB7CiAgICByZXR1cm4gISFlICYmIDAgPCB0aGlzLmZpbHRlcihlKS5sZW5ndGg7CiAgfSwgYXUuZm4uaW5pdC5wcm90b3R5cGUgPSBhdS5mbiwgYXUub3ZlcnJpZGVEZWZhdWx0cyA9IGZ1bmN0aW9uIChuKSB7CiAgICB2YXIgciwKICAgICAgICBvID0gZnVuY3Rpb24gbyhlLCB0KSB7CiAgICAgIHJldHVybiByID0gciB8fCBuKCksIDAgPT09IGFyZ3VtZW50cy5sZW5ndGggJiYgKGUgPSByLmVsZW1lbnQpLCB0ID0gdCB8fCByLmNvbnRleHQsIG5ldyBvLmZuLmluaXQoZSwgdCk7CiAgICB9OwoKICAgIHJldHVybiBodS5leHRlbmQobywgdGhpcyksIG87CiAgfSwgYXUuYXR0ckhvb2tzID0gb3UsIGF1LmNzc0hvb2tzID0gaXU7CgogIHZhciBndSwKICAgICAgaHUgPSBhdSwKICAgICAgdnUgPSBrdC5lYWNoLAogICAgICB5dSA9IGt0LmdyZXAsCiAgICAgIGJ1ID0gd3QuaWUsCiAgICAgIEN1ID0gL14oW2EtejAtOV0sPykrJC9pLAogICAgICB3dSA9IGZ1bmN0aW9uIHd1KG4sIHIsIG8pIHsKICAgIHZhciBpID0gci5rZWVwX3ZhbHVlcywKICAgICAgICBlID0gewogICAgICBzZXQ6IGZ1bmN0aW9uIHNldChlLCB0LCBuKSB7CiAgICAgICAgci51cmxfY29udmVydGVyICYmICh0ID0gci51cmxfY29udmVydGVyLmNhbGwoci51cmxfY29udmVydGVyX3Njb3BlIHx8IG8oKSwgdCwgbiwgZVswXSkpLCBlLmF0dHIoImRhdGEtbWNlLSIgKyBuLCB0KS5hdHRyKG4sIHQpOwogICAgICB9LAogICAgICBnZXQ6IGZ1bmN0aW9uIGdldChlLCB0KSB7CiAgICAgICAgcmV0dXJuIGUuYXR0cigiZGF0YS1tY2UtIiArIHQpIHx8IGUuYXR0cih0KTsKICAgICAgfQogICAgfSwKICAgICAgICB0ID0gewogICAgICBzdHlsZTogewogICAgICAgIHNldDogZnVuY3Rpb24gc2V0KGUsIHQpIHsKICAgICAgICAgIG51bGwgPT09IHQgfHwgIm9iamVjdCIgIT0gX3R5cGVvZih0KSA/IChpICYmIGUuYXR0cigiZGF0YS1tY2Utc3R5bGUiLCB0KSwgbnVsbCAhPT0gdCAmJiAic3RyaW5nIiA9PSB0eXBlb2YgdCA/IChlLnJlbW92ZUF0dHIoInN0eWxlIiksIGUuY3NzKG4ucGFyc2UodCkpKSA6IGUuYXR0cigic3R5bGUiLCB0KSkgOiBlLmNzcyh0KTsKICAgICAgICB9LAogICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KGUpIHsKICAgICAgICAgIHZhciB0ID0gZS5hdHRyKCJkYXRhLW1jZS1zdHlsZSIpIHx8IGUuYXR0cigic3R5bGUiKTsKICAgICAgICAgIHJldHVybiB0ID0gbi5zZXJpYWxpemUobi5wYXJzZSh0KSwgZVswXS5ub2RlTmFtZSk7CiAgICAgICAgfQogICAgICB9CiAgICB9OwogICAgcmV0dXJuIGkgJiYgKHQuaHJlZiA9IHQuc3JjID0gZSksIHQ7CiAgfSwKICAgICAgeHUgPSBmdW5jdGlvbiB4dShlLCB0KSB7CiAgICB2YXIgbiA9IHQuYXR0cigic3R5bGUiKSwKICAgICAgICByID0gKHIgPSBlLnNlcmlhbGl6ZShlLnBhcnNlKG4pLCB0WzBdLm5vZGVOYW1lKSkgfHwgbnVsbDsKICAgIHQuYXR0cigiZGF0YS1tY2Utc3R5bGUiLCByKTsKICB9LAogICAgICBTdSA9IGZ1bmN0aW9uIFN1KGUsIHQpIHsKICAgIHZhciBuLAogICAgICAgIHIsCiAgICAgICAgbyA9IDA7CiAgICBpZiAoZSkgZm9yIChuID0gZS5ub2RlVHlwZSwgZSA9IGUucHJldmlvdXNTaWJsaW5nOyBlOyBlID0gZS5wcmV2aW91c1NpYmxpbmcpIHsKICAgICAgciA9IGUubm9kZVR5cGUsICghdCB8fCAzICE9PSByIHx8IHIgIT09IG4gJiYgZS5ub2RlVmFsdWUubGVuZ3RoKSAmJiAobysrLCBuID0gcik7CiAgICB9CiAgICByZXR1cm4gbzsKICB9OwoKICBmdW5jdGlvbiBOdShhLCB1KSB7CiAgICB2YXIgcyA9IHRoaXM7CiAgICB2b2lkIDAgPT09IHUgJiYgKHUgPSB7fSk7CgogICAgdmFyIHIgPSB7fSwKICAgICAgICBjID0gd2luZG93LAogICAgICAgIG4gPSB7fSwKICAgICAgICB0ID0gMCwKICAgICAgICBvID0gS3IuZm9yRWxlbWVudChBdC5mcm9tRG9tKGEpLCB7CiAgICAgIGNvbnRlbnRDc3NDb3JzOiB1LmNvbnRlbnRDc3NDb3JzLAogICAgICByZWZlcnJlclBvbGljeTogdS5yZWZlcnJlclBvbGljeQogICAgfSksCiAgICAgICAgbCA9IFtdLAogICAgICAgIGYgPSB1LnNjaGVtYSA/IHUuc2NoZW1hIDogQ2koe30pLAogICAgICAgIGkgPSB4aSh7CiAgICAgIHVybF9jb252ZXJ0ZXI6IHUudXJsX2NvbnZlcnRlciwKICAgICAgdXJsX2NvbnZlcnRlcl9zY29wZTogdS51cmxfY29udmVydGVyX3Njb3BlCiAgICB9LCB1LnNjaGVtYSksCiAgICAgICAgZCA9IHUub3duRXZlbnRzID8gbmV3IFRpKCkgOiBUaS5FdmVudCwKICAgICAgICBtID0gZi5nZXRCbG9ja0VsZW1lbnRzKCksCiAgICAgICAgcCA9IGh1Lm92ZXJyaWRlRGVmYXVsdHMoZnVuY3Rpb24gKCkgewogICAgICByZXR1cm4gewogICAgICAgIGNvbnRleHQ6IGEsCiAgICAgICAgZWxlbWVudDogai5nZXRSb290KCkKICAgICAgfTsKICAgIH0pLAogICAgICAgIGcgPSBmdW5jdGlvbiBnKGUpIHsKICAgICAgcmV0dXJuIGUgJiYgYSAmJiBxKGUpID8gYS5nZXRFbGVtZW50QnlJZChlKSA6IGU7CiAgICB9LAogICAgICAgIGggPSBmdW5jdGlvbiBoKGUpIHsKICAgICAgcmV0dXJuIHAoInN0cmluZyIgPT0gdHlwZW9mIGUgPyBnKGUpIDogZSk7CiAgICB9LAogICAgICAgIHYgPSBmdW5jdGlvbiB2KGUsIHQsIG4pIHsKICAgICAgdmFyIHIsCiAgICAgICAgICBvLAogICAgICAgICAgaSA9IGgoZSk7CiAgICAgIHJldHVybiBpLmxlbmd0aCAmJiAobyA9IChyID0gSFt0XSkgJiYgci5nZXQgPyByLmdldChpLCB0KSA6IGkuYXR0cih0KSksIHZvaWQgMCA9PT0gbyAmJiAobyA9IG4gfHwgIiIpLCBvOwogICAgfSwKICAgICAgICB5ID0gZnVuY3Rpb24geShlKSB7CiAgICAgIHZhciB0ID0gZyhlKTsKICAgICAgcmV0dXJuIHQgPyB0LmF0dHJpYnV0ZXMgOiBbXTsKICAgIH0sCiAgICAgICAgYiA9IGZ1bmN0aW9uIGIoZSwgdCwgbikgewogICAgICAiIiA9PT0gbiAmJiAobiA9IG51bGwpOwogICAgICB2YXIgciwKICAgICAgICAgIG8gPSBoKGUpLAogICAgICAgICAgaSA9IG8uYXR0cih0KTsKICAgICAgby5sZW5ndGggJiYgKChyID0gSFt0XSkgJiYgci5zZXQgPyByLnNldChvLCBuLCB0KSA6IG8uYXR0cih0LCBuKSwgaSAhPT0gbiAmJiB1Lm9uU2V0QXR0cmliICYmIHUub25TZXRBdHRyaWIoewogICAgICAgIGF0dHJFbG06IG8sCiAgICAgICAgYXR0ck5hbWU6IHQsCiAgICAgICAgYXR0clZhbHVlOiBuCiAgICAgIH0pKTsKICAgIH0sCiAgICAgICAgQyA9IGZ1bmN0aW9uIEMoKSB7CiAgICAgIHJldHVybiB1LnJvb3RfZWxlbWVudCB8fCBhLmJvZHk7CiAgICB9LAogICAgICAgIHcgPSBmdW5jdGlvbiB3KGUsIHQpIHsKICAgICAgcmV0dXJuIHVyKGEuYm9keSwgZyhlKSwgdCk7CiAgICB9LAogICAgICAgIHggPSBmdW5jdGlvbiB4KGUsIHQsIG4pIHsKICAgICAgdmFyIHIgPSBoKGUpOwogICAgICByZXR1cm4gbiA/IHIuY3NzKHQpIDogKCJmbG9hdCIgPT09ICh0ID0gdC5yZXBsYWNlKC8tKFxEKS9nLCBmdW5jdGlvbiAoZSwgdCkgewogICAgICAgIHJldHVybiB0LnRvVXBwZXJDYXNlKCk7CiAgICAgIH0pKSAmJiAodCA9IHd0LmJyb3dzZXIuaXNJRSgpID8gInN0eWxlRmxvYXQiIDogImNzc0Zsb2F0IiksIHJbMF0gJiYgclswXS5zdHlsZSA/IHJbMF0uc3R5bGVbdF0gOiB1bmRlZmluZWQpOwogICAgfSwKICAgICAgICBTID0gZnVuY3Rpb24gUyhlKSB7CiAgICAgIHZhciB0LCBuOwogICAgICByZXR1cm4gZSA9IGcoZSksIHQgPSB4KGUsICJ3aWR0aCIpLCBuID0geChlLCAiaGVpZ2h0IiksIC0xID09PSB0LmluZGV4T2YoInB4IikgJiYgKHQgPSAwKSwgLTEgPT09IG4uaW5kZXhPZigicHgiKSAmJiAobiA9IDApLCB7CiAgICAgICAgdzogcGFyc2VJbnQodCwgMTApIHx8IGUub2Zmc2V0V2lkdGggfHwgZS5jbGllbnRXaWR0aCwKICAgICAgICBoOiBwYXJzZUludChuLCAxMCkgfHwgZS5vZmZzZXRIZWlnaHQgfHwgZS5jbGllbnRIZWlnaHQKICAgICAgfTsKICAgIH0sCiAgICAgICAgTiA9IGZ1bmN0aW9uIE4oZSwgdCkgewogICAgICBpZiAoIWUpIHJldHVybiAhMTsKCiAgICAgIGlmICghQXJyYXkuaXNBcnJheShlKSkgewogICAgICAgIGlmICgiKiIgPT09IHQpIHJldHVybiAxID09PSBlLm5vZGVUeXBlOwoKICAgICAgICBpZiAoQ3UudGVzdCh0KSkgewogICAgICAgICAgZm9yICh2YXIgbiA9IHQudG9Mb3dlckNhc2UoKS5zcGxpdCgvLC8pLCByID0gZS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpLCBvID0gbi5sZW5ndGggLSAxOyAwIDw9IG87IG8tLSkgewogICAgICAgICAgICBpZiAobltvXSA9PT0gcikgcmV0dXJuICEwOwogICAgICAgICAgfQoKICAgICAgICAgIHJldHVybiAhMTsKICAgICAgICB9CgogICAgICAgIGlmIChlLm5vZGVUeXBlICYmIDEgIT09IGUubm9kZVR5cGUpIHJldHVybiAhMTsKICAgICAgfQoKICAgICAgdmFyIGkgPSBBcnJheS5pc0FycmF5KGUpID8gZSA6IFtlXTsKICAgICAgcmV0dXJuIDAgPCBUYSh0LCBpWzBdLm93bmVyRG9jdW1lbnQgfHwgaVswXSwgbnVsbCwgaSkubGVuZ3RoOwogICAgfSwKICAgICAgICBFID0gZnVuY3Rpb24gRShlLCB0LCBuLCByKSB7CiAgICAgIHZhciBvLAogICAgICAgICAgaSA9IFtdLAogICAgICAgICAgYSA9IGcoZSk7CgogICAgICBmb3IgKHIgPSByID09PSB1bmRlZmluZWQsIG4gPSBuIHx8ICgiQk9EWSIgIT09IEMoKS5ub2RlTmFtZSA/IEMoKS5wYXJlbnROb2RlIDogbnVsbCksIGt0LmlzKHQsICJzdHJpbmciKSAmJiAodCA9ICIqIiA9PT0gKG8gPSB0KSA/IGZ1bmN0aW9uIChlKSB7CiAgICAgICAgcmV0dXJuIDEgPT09IGUubm9kZVR5cGU7CiAgICAgIH0gOiBmdW5jdGlvbiAoZSkgewogICAgICAgIHJldHVybiBOKGUsIG8pOwogICAgICB9KTsgYSAmJiAhKGEgPT09IG4gfHwgJChhLm5vZGVUeXBlKSB8fCBGbihhKSB8fCBVbihhKSk7KSB7CiAgICAgICAgaWYgKCF0IHx8ICJmdW5jdGlvbiIgPT0gdHlwZW9mIHQgJiYgdChhKSkgewogICAgICAgICAgaWYgKCFyKSByZXR1cm4gW2FdOwogICAgICAgICAgaS5wdXNoKGEpOwogICAgICAgIH0KCiAgICAgICAgYSA9IGEucGFyZW50Tm9kZTsKICAgICAgfQoKICAgICAgcmV0dXJuIHIgPyBpIDogbnVsbDsKICAgIH0sCiAgICAgICAgayA9IGZ1bmN0aW9uIGsoZSwgdCwgbikgewogICAgICB2YXIgciA9IHQ7CiAgICAgIGlmIChlKSBmb3IgKCJzdHJpbmciID09IHR5cGVvZiB0ICYmIChyID0gZnVuY3Rpb24gcihlKSB7CiAgICAgICAgcmV0dXJuIE4oZSwgdCk7CiAgICAgIH0pLCBlID0gZVtuXTsgZTsgZSA9IGVbbl0pIHsKICAgICAgICBpZiAoImZ1bmN0aW9uIiA9PSB0eXBlb2YgciAmJiByKGUpKSByZXR1cm4gZTsKICAgICAgfQogICAgICByZXR1cm4gbnVsbDsKICAgIH0sCiAgICAgICAgXyA9IGZ1bmN0aW9uIF8oZSwgbiwgcikgewogICAgICB2YXIgbywKICAgICAgICAgIHQgPSAic3RyaW5nIiA9PSB0eXBlb2YgZSA/IGcoZSkgOiBlOwogICAgICBpZiAoIXQpIHJldHVybiAhMTsKICAgICAgaWYgKGt0LmlzQXJyYXkodCkgJiYgKHQubGVuZ3RoIHx8IDAgPT09IHQubGVuZ3RoKSkgcmV0dXJuIG8gPSBbXSwgdnUodCwgZnVuY3Rpb24gKGUsIHQpIHsKICAgICAgICBlICYmIG8ucHVzaChuLmNhbGwociwgInN0cmluZyIgPT0gdHlwZW9mIGUgPyBnKGUpIDogZSwgdCkpOwogICAgICB9KSwgbzsKICAgICAgdmFyIGkgPSByIHx8IHM7CiAgICAgIHJldHVybiBuLmNhbGwoaSwgdCk7CiAgICB9LAogICAgICAgIEEgPSBmdW5jdGlvbiBBKGUsIHQpIHsKICAgICAgaChlKS5lYWNoKGZ1bmN0aW9uIChlLCBuKSB7CiAgICAgICAgdnUodCwgZnVuY3Rpb24gKGUsIHQpIHsKICAgICAgICAgIGIobiwgdCwgZSk7CiAgICAgICAgfSk7CiAgICAgIH0pOwogICAgfSwKICAgICAgICBSID0gZnVuY3Rpb24gUihlLCByKSB7CiAgICAgIHZhciB0ID0gaChlKTsKICAgICAgYnUgPyB0LmVhY2goZnVuY3Rpb24gKGUsIHQpIHsKICAgICAgICBpZiAoITEgIT09IHQuY2FuSGF2ZUhUTUwpIHsKICAgICAgICAgIGZvciAoOyB0LmZpcnN0Q2hpbGQ7KSB7CiAgICAgICAgICAgIHQucmVtb3ZlQ2hpbGQodC5maXJzdENoaWxkKTsKICAgICAgICAgIH0KCiAgICAgICAgICB0cnkgewogICAgICAgICAgICB0LmlubmVySFRNTCA9ICI8YnI+IiArIHIsIHQucmVtb3ZlQ2hpbGQodC5maXJzdENoaWxkKTsKICAgICAgICAgIH0gY2F0Y2ggKG4pIHsKICAgICAgICAgICAgaHUoIjxkaXY+PC9kaXY+IikuaHRtbCgiPGJyPiIgKyByKS5jb250ZW50cygpLnNsaWNlKDEpLmFwcGVuZFRvKHQpOwogICAgICAgICAgfQoKICAgICAgICAgIHJldHVybiByOwogICAgICAgIH0KICAgICAgfSkgOiB0Lmh0bWwocik7CiAgICB9LAogICAgICAgIFQgPSBmdW5jdGlvbiBUKGUsIG4sIHIsIG8sIGkpIHsKICAgICAgcmV0dXJuIF8oZSwgZnVuY3Rpb24gKGUpIHsKICAgICAgICB2YXIgdCA9ICJzdHJpbmciID09IHR5cGVvZiBuID8gYS5jcmVhdGVFbGVtZW50KG4pIDogbjsKICAgICAgICByZXR1cm4gQSh0LCByKSwgbyAmJiAoInN0cmluZyIgIT0gdHlwZW9mIG8gJiYgby5ub2RlVHlwZSA/IHQuYXBwZW5kQ2hpbGQobykgOiAic3RyaW5nIiA9PSB0eXBlb2YgbyAmJiBSKHQsIG8pKSwgaSA/IHQgOiBlLmFwcGVuZENoaWxkKHQpOwogICAgICB9KTsKICAgIH0sCiAgICAgICAgRCA9IGZ1bmN0aW9uIEQoZSwgdCwgbikgewogICAgICByZXR1cm4gVChhLmNyZWF0ZUVsZW1lbnQoZSksIGUsIHQsIG4sICEwKTsKICAgIH0sCiAgICAgICAgZSA9IGNpLmRlY29kZSwKICAgICAgICBPID0gY2kuZW5jb2RlQWxsUmF3LAogICAgICAgIEIgPSBmdW5jdGlvbiBCKGUsIHQpIHsKICAgICAgdmFyIG4gPSBoKGUpOwogICAgICByZXR1cm4gdCA/IG4uZWFjaChmdW5jdGlvbiAoKSB7CiAgICAgICAgZm9yICh2YXIgZTsgZSA9IHRoaXMuZmlyc3RDaGlsZDspIHsKICAgICAgICAgIDMgPT09IGUubm9kZVR5cGUgJiYgMCA9PT0gZS5kYXRhLmxlbmd0aCA/IHRoaXMucmVtb3ZlQ2hpbGQoZSkgOiB0aGlzLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKGUsIHRoaXMpOwogICAgICAgIH0KICAgICAgfSkucmVtb3ZlKCkgOiBuLnJlbW92ZSgpLCAxIDwgbi5sZW5ndGggPyBuLnRvQXJyYXkoKSA6IG5bMF07CiAgICB9LAogICAgICAgIFAgPSBmdW5jdGlvbiBQKGUsIHQsIG4pIHsKICAgICAgaChlKS50b2dnbGVDbGFzcyh0LCBuKS5lYWNoKGZ1bmN0aW9uICgpIHsKICAgICAgICAiIiA9PT0gdGhpcy5jbGFzc05hbWUgJiYgaHUodGhpcykuYXR0cigiY2xhc3MiLCBudWxsKTsKICAgICAgfSk7CiAgICB9LAogICAgICAgIEwgPSBmdW5jdGlvbiBMKHQsIGUsIG4pIHsKICAgICAgcmV0dXJuIF8oZSwgZnVuY3Rpb24gKGUpIHsKICAgICAgICByZXR1cm4ga3QuaXMoZSwgImFycmF5IikgJiYgKHQgPSB0LmNsb25lTm9kZSghMCkpLCBuICYmIHZ1KHl1KGUuY2hpbGROb2RlcyksIGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICB0LmFwcGVuZENoaWxkKGUpOwogICAgICAgIH0pLCBlLnBhcmVudE5vZGUucmVwbGFjZUNoaWxkKHQsIGUpOwogICAgICB9KTsKICAgIH0sCiAgICAgICAgSSA9IGZ1bmN0aW9uIEkoZSkgewogICAgICBpZiAoQW4oZSkpIHsKICAgICAgICB2YXIgdCA9ICJhIiA9PT0gZS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpICYmICF2KGUsICJocmVmIikgJiYgdihlLCAiaWQiKTsKICAgICAgICBpZiAodihlLCAibmFtZSIpIHx8IHYoZSwgImRhdGEtbWNlLWJvb2ttYXJrIikgfHwgdCkgcmV0dXJuICEwOwogICAgICB9CgogICAgICByZXR1cm4gITE7CiAgICB9LAogICAgICAgIE0gPSBmdW5jdGlvbiBNKCkgewogICAgICByZXR1cm4gYS5jcmVhdGVSYW5nZSgpOwogICAgfSwKICAgICAgICBGID0gZnVuY3Rpb24gRihlLCB0LCBuLCByKSB7CiAgICAgIGlmIChrdC5pc0FycmF5KGUpKSB7CiAgICAgICAgZm9yICh2YXIgbyA9IGUubGVuZ3RoLCBpID0gW107IG8tLTspIHsKICAgICAgICAgIGlbb10gPSBGKGVbb10sIHQsIG4sIHIpOwogICAgICAgIH0KCiAgICAgICAgcmV0dXJuIGk7CiAgICAgIH0KCiAgICAgIHJldHVybiAhdS5jb2xsZWN0IHx8IGUgIT09IGEgJiYgZSAhPT0gYyB8fCBsLnB1c2goW2UsIHQsIG4sIHJdKSwgZC5iaW5kKGUsIHQsIG4sIHIgfHwgaik7CiAgICB9LAogICAgICAgIFUgPSBmdW5jdGlvbiBVKGUsIHQsIG4pIHsKICAgICAgaWYgKGt0LmlzQXJyYXkoZSkpIHsKICAgICAgICBmb3IgKHZhciByID0gZS5sZW5ndGgsIG8gPSBbXTsgci0tOykgewogICAgICAgICAgb1tyXSA9IFUoZVtyXSwgdCwgbik7CiAgICAgICAgfQoKICAgICAgICByZXR1cm4gbzsKICAgICAgfQoKICAgICAgaWYgKDAgPCBsLmxlbmd0aCAmJiAoZSA9PT0gYSB8fCBlID09PSBjKSkgZm9yIChyID0gbC5sZW5ndGg7IHItLTspIHsKICAgICAgICB2YXIgaSA9IGxbcl07CiAgICAgICAgZSAhPT0gaVswXSB8fCB0ICYmIHQgIT09IGlbMV0gfHwgbiAmJiBuICE9PSBpWzJdIHx8IGQudW5iaW5kKGlbMF0sIGlbMV0sIGlbMl0pOwogICAgICB9CiAgICAgIHJldHVybiBkLnVuYmluZChlLCB0LCBuKTsKICAgIH0sCiAgICAgICAgeiA9IGZ1bmN0aW9uIHooZSkgewogICAgICBpZiAoZSAmJiBBbihlKSkgewogICAgICAgIHZhciB0ID0gZS5nZXRBdHRyaWJ1dGUoImRhdGEtbWNlLWNvbnRlbnRlZGl0YWJsZSIpOwogICAgICAgIHJldHVybiB0ICYmICJpbmhlcml0IiAhPT0gdCA/IHQgOiAiaW5oZXJpdCIgIT09IGUuY29udGVudEVkaXRhYmxlID8gZS5jb250ZW50RWRpdGFibGUgOiBudWxsOwogICAgICB9CgogICAgICByZXR1cm4gbnVsbDsKICAgIH0sCiAgICAgICAgaiA9IHsKICAgICAgZG9jOiBhLAogICAgICBzZXR0aW5nczogdSwKICAgICAgd2luOiBjLAogICAgICBmaWxlczogbiwKICAgICAgc3RkTW9kZTogITAsCiAgICAgIGJveE1vZGVsOiAhMCwKICAgICAgc3R5bGVTaGVldExvYWRlcjogbywKICAgICAgYm91bmRFdmVudHM6IGwsCiAgICAgIHN0eWxlczogaSwKICAgICAgc2NoZW1hOiBmLAogICAgICBldmVudHM6IGQsCiAgICAgIGlzQmxvY2s6IGZ1bmN0aW9uIGlzQmxvY2soZSkgewogICAgICAgIGlmICgic3RyaW5nIiA9PSB0eXBlb2YgZSkgcmV0dXJuICEhbVtlXTsKCiAgICAgICAgaWYgKGUpIHsKICAgICAgICAgIHZhciB0ID0gZS5ub2RlVHlwZTsKICAgICAgICAgIGlmICh0KSByZXR1cm4gISgxICE9PSB0IHx8ICFtW2Uubm9kZU5hbWVdKTsKICAgICAgICB9CgogICAgICAgIHJldHVybiAhMTsKICAgICAgfSwKICAgICAgJDogcCwKICAgICAgJCQ6IGgsCiAgICAgIHJvb3Q6IG51bGwsCiAgICAgIGNsb25lOiBmdW5jdGlvbiBjbG9uZSh0LCBlKSB7CiAgICAgICAgaWYgKCFidSB8fCAxICE9PSB0Lm5vZGVUeXBlIHx8IGUpIHJldHVybiB0LmNsb25lTm9kZShlKTsKICAgICAgICB2YXIgbiA9IGEuY3JlYXRlRWxlbWVudCh0Lm5vZGVOYW1lKTsKICAgICAgICByZXR1cm4gdnUoeSh0KSwgZnVuY3Rpb24gKGUpIHsKICAgICAgICAgIGIobiwgZS5ub2RlTmFtZSwgdih0LCBlLm5vZGVOYW1lKSk7CiAgICAgICAgfSksIG47CiAgICAgIH0sCiAgICAgIGdldFJvb3Q6IEMsCiAgICAgIGdldFZpZXdQb3J0OiBmdW5jdGlvbiBnZXRWaWV3UG9ydChlKSB7CiAgICAgICAgdmFyIHQgPSBFbihlKTsKICAgICAgICByZXR1cm4gewogICAgICAgICAgeDogdC54LAogICAgICAgICAgeTogdC55LAogICAgICAgICAgdzogdC53aWR0aCwKICAgICAgICAgIGg6IHQuaGVpZ2h0CiAgICAgICAgfTsKICAgICAgfSwKICAgICAgZ2V0UmVjdDogZnVuY3Rpb24gZ2V0UmVjdChlKSB7CiAgICAgICAgZSA9IGcoZSk7CiAgICAgICAgdmFyIHQgPSB3KGUpLAogICAgICAgICAgICBuID0gUyhlKTsKICAgICAgICByZXR1cm4gewogICAgICAgICAgeDogdC54LAogICAgICAgICAgeTogdC55LAogICAgICAgICAgdzogbi53LAogICAgICAgICAgaDogbi5oCiAgICAgICAgfTsKICAgICAgfSwKICAgICAgZ2V0U2l6ZTogUywKICAgICAgZ2V0UGFyZW50OiBmdW5jdGlvbiBnZXRQYXJlbnQoZSwgdCwgbikgewogICAgICAgIHZhciByID0gRShlLCB0LCBuLCAhMSk7CiAgICAgICAgcmV0dXJuIHIgJiYgMCA8IHIubGVuZ3RoID8gclswXSA6IG51bGw7CiAgICAgIH0sCiAgICAgIGdldFBhcmVudHM6IEUsCiAgICAgIGdldDogZywKICAgICAgZ2V0TmV4dDogZnVuY3Rpb24gZ2V0TmV4dChlLCB0KSB7CiAgICAgICAgcmV0dXJuIGsoZSwgdCwgIm5leHRTaWJsaW5nIik7CiAgICAgIH0sCiAgICAgIGdldFByZXY6IGZ1bmN0aW9uIGdldFByZXYoZSwgdCkgewogICAgICAgIHJldHVybiBrKGUsIHQsICJwcmV2aW91c1NpYmxpbmciKTsKICAgICAgfSwKICAgICAgc2VsZWN0OiBmdW5jdGlvbiBzZWxlY3QoZSwgdCkgewogICAgICAgIHJldHVybiBUYShlLCBnKHQpIHx8IHUucm9vdF9lbGVtZW50IHx8IGEsIFtdKTsKICAgICAgfSwKICAgICAgaXM6IE4sCiAgICAgIGFkZDogVCwKICAgICAgY3JlYXRlOiBELAogICAgICBjcmVhdGVIVE1MOiBmdW5jdGlvbiBjcmVhdGVIVE1MKGUsIHQsIG4pIHsKICAgICAgICB2YXIgciwKICAgICAgICAgICAgbyA9ICIiOwoKICAgICAgICBmb3IgKHIgaW4gbyArPSAiPCIgKyBlLCB0KSB7CiAgICAgICAgICB0Lmhhc093blByb3BlcnR5KHIpICYmIG51bGwgIT09IHRbcl0gJiYgInVuZGVmaW5lZCIgIT0gdHlwZW9mIHRbcl0gJiYgKG8gKz0gIiAiICsgciArICc9IicgKyBPKHRbcl0pICsgJyInKTsKICAgICAgICB9CgogICAgICAgIHJldHVybiB2b2lkIDAgIT09IG4gPyBvICsgIj4iICsgbiArICI8LyIgKyBlICsgIj4iIDogbyArICIgLz4iOwogICAgICB9LAogICAgICBjcmVhdGVGcmFnbWVudDogZnVuY3Rpb24gY3JlYXRlRnJhZ21lbnQoZSkgewogICAgICAgIHZhciB0LAogICAgICAgICAgICBuID0gYS5jcmVhdGVFbGVtZW50KCJkaXYiKSwKICAgICAgICAgICAgciA9IGEuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpOwoKICAgICAgICBmb3IgKHIuYXBwZW5kQ2hpbGQobiksIGUgJiYgKG4uaW5uZXJIVE1MID0gZSk7IHQgPSBuLmZpcnN0Q2hpbGQ7KSB7CiAgICAgICAgICByLmFwcGVuZENoaWxkKHQpOwogICAgICAgIH0KCiAgICAgICAgcmV0dXJuIHIucmVtb3ZlQ2hpbGQobiksIHI7CiAgICAgIH0sCiAgICAgIHJlbW92ZTogQiwKICAgICAgc2V0U3R5bGU6IGZ1bmN0aW9uIHNldFN0eWxlKGUsIHQsIG4pIHsKICAgICAgICB2YXIgciA9IHEodCkgPyBoKGUpLmNzcyh0LCBuKSA6IGgoZSkuY3NzKHQpOwogICAgICAgIHUudXBkYXRlX3N0eWxlcyAmJiB4dShpLCByKTsKICAgICAgfSwKICAgICAgZ2V0U3R5bGU6IHgsCiAgICAgIHNldFN0eWxlczogZnVuY3Rpb24gc2V0U3R5bGVzKGUsIHQpIHsKICAgICAgICB2YXIgbiA9IGgoZSkuY3NzKHQpOwogICAgICAgIHUudXBkYXRlX3N0eWxlcyAmJiB4dShpLCBuKTsKICAgICAgfSwKICAgICAgcmVtb3ZlQWxsQXR0cmliczogZnVuY3Rpb24gcmVtb3ZlQWxsQXR0cmlicyhlKSB7CiAgICAgICAgcmV0dXJuIF8oZSwgZnVuY3Rpb24gKGUpIHsKICAgICAgICAgIGZvciAodmFyIHQgPSBlLmF0dHJpYnV0ZXMsIG4gPSB0Lmxlbmd0aCAtIDE7IDAgPD0gbjsgbi0tKSB7CiAgICAgICAgICAgIGUucmVtb3ZlQXR0cmlidXRlTm9kZSh0Lml0ZW0obikpOwogICAgICAgICAgfQogICAgICAgIH0pOwogICAgICB9LAogICAgICBzZXRBdHRyaWI6IGIsCiAgICAgIHNldEF0dHJpYnM6IEEsCiAgICAgIGdldEF0dHJpYjogdiwKICAgICAgZ2V0UG9zOiB3LAogICAgICBwYXJzZVN0eWxlOiBmdW5jdGlvbiBwYXJzZVN0eWxlKGUpIHsKICAgICAgICByZXR1cm4gaS5wYXJzZShlKTsKICAgICAgfSwKICAgICAgc2VyaWFsaXplU3R5bGU6IGZ1bmN0aW9uIHNlcmlhbGl6ZVN0eWxlKGUsIHQpIHsKICAgICAgICByZXR1cm4gaS5zZXJpYWxpemUoZSwgdCk7CiAgICAgIH0sCiAgICAgIGFkZFN0eWxlOiBmdW5jdGlvbiBhZGRTdHlsZShlKSB7CiAgICAgICAgdmFyIHQsIG47CgogICAgICAgIGlmIChqICE9PSBOdS5ET00gJiYgYSA9PT0gZG9jdW1lbnQpIHsKICAgICAgICAgIGlmIChyW2VdKSByZXR1cm47CiAgICAgICAgICByW2VdID0gITA7CiAgICAgICAgfQoKICAgICAgICAobiA9IGEuZ2V0RWxlbWVudEJ5SWQoIm1jZURlZmF1bHRTdHlsZXMiKSkgfHwgKChuID0gYS5jcmVhdGVFbGVtZW50KCJzdHlsZSIpKS5pZCA9ICJtY2VEZWZhdWx0U3R5bGVzIiwgbi50eXBlID0gInRleHQvY3NzIiwgKHQgPSBhLmdldEVsZW1lbnRzQnlUYWdOYW1lKCJoZWFkIilbMF0pLmZpcnN0Q2hpbGQgPyB0Lmluc2VydEJlZm9yZShuLCB0LmZpcnN0Q2hpbGQpIDogdC5hcHBlbmRDaGlsZChuKSksIG4uc3R5bGVTaGVldCA/IG4uc3R5bGVTaGVldC5jc3NUZXh0ICs9IGUgOiBuLmFwcGVuZENoaWxkKGEuY3JlYXRlVGV4dE5vZGUoZSkpOwogICAgICB9LAogICAgICBsb2FkQ1NTOiBmdW5jdGlvbiBsb2FkQ1NTKGUpIHsKICAgICAgICBXKChlID0gZSB8fCAiIikuc3BsaXQoIiwiKSwgZnVuY3Rpb24gKGUpIHsKICAgICAgICAgIG5bZV0gPSAhMCwgby5sb2FkKGUsIFYpOwogICAgICAgIH0pOwogICAgICB9LAogICAgICBhZGRDbGFzczogZnVuY3Rpb24gYWRkQ2xhc3MoZSwgdCkgewogICAgICAgIGgoZSkuYWRkQ2xhc3ModCk7CiAgICAgIH0sCiAgICAgIHJlbW92ZUNsYXNzOiBmdW5jdGlvbiByZW1vdmVDbGFzcyhlLCB0KSB7CiAgICAgICAgUChlLCB0LCAhMSk7CiAgICAgIH0sCiAgICAgIGhhc0NsYXNzOiBmdW5jdGlvbiBoYXNDbGFzcyhlLCB0KSB7CiAgICAgICAgcmV0dXJuIGgoZSkuaGFzQ2xhc3ModCk7CiAgICAgIH0sCiAgICAgIHRvZ2dsZUNsYXNzOiBQLAogICAgICBzaG93OiBmdW5jdGlvbiBzaG93KGUpIHsKICAgICAgICBoKGUpLnNob3coKTsKICAgICAgfSwKICAgICAgaGlkZTogZnVuY3Rpb24gaGlkZShlKSB7CiAgICAgICAgaChlKS5oaWRlKCk7CiAgICAgIH0sCiAgICAgIGlzSGlkZGVuOiBmdW5jdGlvbiBpc0hpZGRlbihlKSB7CiAgICAgICAgcmV0dXJuICJub25lIiA9PT0gaChlKS5jc3MoImRpc3BsYXkiKTsKICAgICAgfSwKICAgICAgdW5pcXVlSWQ6IGZ1bmN0aW9uIHVuaXF1ZUlkKGUpIHsKICAgICAgICByZXR1cm4gKGUgfHwgIm1jZV8iKSArIHQrKzsKICAgICAgfSwKICAgICAgc2V0SFRNTDogUiwKICAgICAgZ2V0T3V0ZXJIVE1MOiBmdW5jdGlvbiBnZXRPdXRlckhUTUwoZSkgewogICAgICAgIHZhciB0ID0gInN0cmluZyIgPT0gdHlwZW9mIGUgPyBnKGUpIDogZTsKICAgICAgICByZXR1cm4gQW4odCkgPyB0Lm91dGVySFRNTCA6IGh1KCI8ZGl2PjwvZGl2PiIpLmFwcGVuZChodSh0KS5jbG9uZSgpKS5odG1sKCk7CiAgICAgIH0sCiAgICAgIHNldE91dGVySFRNTDogZnVuY3Rpb24gc2V0T3V0ZXJIVE1MKGUsIHQpIHsKICAgICAgICBoKGUpLmVhY2goZnVuY3Rpb24gKCkgewogICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgaWYgKCJvdXRlckhUTUwiIGluIHRoaXMpIHJldHVybiB2b2lkICh0aGlzLm91dGVySFRNTCA9IHQpOwogICAgICAgICAgfSBjYXRjaCAoZSkge30KCiAgICAgICAgICBCKGh1KHRoaXMpLmh0bWwodCksICEwKTsKICAgICAgICB9KTsKICAgICAgfSwKICAgICAgZGVjb2RlOiBlLAogICAgICBlbmNvZGU6IE8sCiAgICAgIGluc2VydEFmdGVyOiBmdW5jdGlvbiBpbnNlcnRBZnRlcihlLCB0KSB7CiAgICAgICAgdmFyIHIgPSBnKHQpOwogICAgICAgIHJldHVybiBfKGUsIGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICB2YXIgdCA9IHIucGFyZW50Tm9kZSwKICAgICAgICAgICAgICBuID0gci5uZXh0U2libGluZzsKICAgICAgICAgIHJldHVybiBuID8gdC5pbnNlcnRCZWZvcmUoZSwgbikgOiB0LmFwcGVuZENoaWxkKGUpLCBlOwogICAgICAgIH0pOwogICAgICB9LAogICAgICByZXBsYWNlOiBMLAogICAgICByZW5hbWU6IGZ1bmN0aW9uIHJlbmFtZSh0LCBlKSB7CiAgICAgICAgdmFyIG47CiAgICAgICAgcmV0dXJuIHQubm9kZU5hbWUgIT09IGUudG9VcHBlckNhc2UoKSAmJiAobiA9IEQoZSksIHZ1KHkodCksIGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICBiKG4sIGUubm9kZU5hbWUsIHYodCwgZS5ub2RlTmFtZSkpOwogICAgICAgIH0pLCBMKG4sIHQsICEwKSksIG4gfHwgdDsKICAgICAgfSwKICAgICAgZmluZENvbW1vbkFuY2VzdG9yOiBmdW5jdGlvbiBmaW5kQ29tbW9uQW5jZXN0b3IoZSwgdCkgewogICAgICAgIGZvciAodmFyIG4sIHIgPSBlOyByOykgewogICAgICAgICAgZm9yIChuID0gdDsgbiAmJiByICE9PSBuOykgewogICAgICAgICAgICBuID0gbi5wYXJlbnROb2RlOwogICAgICAgICAgfQoKICAgICAgICAgIGlmIChyID09PSBuKSBicmVhazsKICAgICAgICAgIHIgPSByLnBhcmVudE5vZGU7CiAgICAgICAgfQoKICAgICAgICByZXR1cm4gIXIgJiYgZS5vd25lckRvY3VtZW50ID8gZS5vd25lckRvY3VtZW50LmRvY3VtZW50RWxlbWVudCA6IHI7CiAgICAgIH0sCiAgICAgIHRvSGV4OiBmdW5jdGlvbiB0b0hleChlKSB7CiAgICAgICAgcmV0dXJuIGkudG9IZXgoa3QudHJpbShlKSk7CiAgICAgIH0sCiAgICAgIHJ1bjogXywKICAgICAgZ2V0QXR0cmliczogeSwKICAgICAgaXNFbXB0eTogZnVuY3Rpb24gaXNFbXB0eShlLCB0KSB7CiAgICAgICAgdmFyIG4sCiAgICAgICAgICAgIHIsCiAgICAgICAgICAgIG8gPSAwOwogICAgICAgIGlmIChJKGUpKSByZXR1cm4gITE7CgogICAgICAgIGlmIChlID0gZS5maXJzdENoaWxkKSB7CiAgICAgICAgICB2YXIgaSA9IG5ldyBYcihlLCBlLnBhcmVudE5vZGUpLAogICAgICAgICAgICAgIGEgPSBmID8gZi5nZXRXaGl0ZVNwYWNlRWxlbWVudHMoKSA6IHt9OwogICAgICAgICAgdCA9IHQgfHwgKGYgPyBmLmdldE5vbkVtcHR5RWxlbWVudHMoKSA6IG51bGwpOwoKICAgICAgICAgIGRvIHsKICAgICAgICAgICAgaWYgKG4gPSBlLm5vZGVUeXBlLCBBbihlKSkgewogICAgICAgICAgICAgIHZhciB1ID0gZS5nZXRBdHRyaWJ1dGUoImRhdGEtbWNlLWJvZ3VzIik7CgogICAgICAgICAgICAgIGlmICh1KSB7CiAgICAgICAgICAgICAgICBlID0gaS5uZXh0KCJhbGwiID09PSB1KTsKICAgICAgICAgICAgICAgIGNvbnRpbnVlOwogICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgaWYgKHIgPSBlLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCksIHQgJiYgdFtyXSkgewogICAgICAgICAgICAgICAgaWYgKCJiciIgIT09IHIpIHJldHVybiAhMTsKICAgICAgICAgICAgICAgIG8rKywgZSA9IGkubmV4dCgpOwogICAgICAgICAgICAgICAgY29udGludWU7CiAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICBpZiAoSShlKSkgcmV0dXJuICExOwogICAgICAgICAgICB9CgogICAgICAgICAgICBpZiAoOCA9PT0gbikgcmV0dXJuICExOwogICAgICAgICAgICBpZiAoMyA9PT0gbiAmJiAhVW8oZS5ub2RlVmFsdWUpKSByZXR1cm4gITE7CiAgICAgICAgICAgIGlmICgzID09PSBuICYmIGUucGFyZW50Tm9kZSAmJiBhW2UucGFyZW50Tm9kZS5ub2RlTmFtZV0gJiYgVW8oZS5ub2RlVmFsdWUpKSByZXR1cm4gITE7CiAgICAgICAgICAgIGUgPSBpLm5leHQoKTsKICAgICAgICAgIH0gd2hpbGUgKGUpOwogICAgICAgIH0KCiAgICAgICAgcmV0dXJuIG8gPD0gMTsKICAgICAgfSwKICAgICAgY3JlYXRlUm5nOiBNLAogICAgICBub2RlSW5kZXg6IFN1LAogICAgICBzcGxpdDogZnVuY3Rpb24gc3BsaXQoZSwgdCwgbikgewogICAgICAgIHZhciByLAogICAgICAgICAgICBvLAogICAgICAgICAgICBpLAogICAgICAgICAgICBhID0gTSgpOwogICAgICAgIGlmIChlICYmIHQpIHJldHVybiBhLnNldFN0YXJ0KGUucGFyZW50Tm9kZSwgU3UoZSkpLCBhLnNldEVuZCh0LnBhcmVudE5vZGUsIFN1KHQpKSwgciA9IGEuZXh0cmFjdENvbnRlbnRzKCksIChhID0gTSgpKS5zZXRTdGFydCh0LnBhcmVudE5vZGUsIFN1KHQpICsgMSksIGEuc2V0RW5kKGUucGFyZW50Tm9kZSwgU3UoZSkgKyAxKSwgbyA9IGEuZXh0cmFjdENvbnRlbnRzKCksIChpID0gZS5wYXJlbnROb2RlKS5pbnNlcnRCZWZvcmUoWW8oaiwgciksIGUpLCBuID8gaS5pbnNlcnRCZWZvcmUobiwgZSkgOiBpLmluc2VydEJlZm9yZSh0LCBlKSwgaS5pbnNlcnRCZWZvcmUoWW8oaiwgbyksIGUpLCBCKGUpLCBuIHx8IHQ7CiAgICAgIH0sCiAgICAgIGJpbmQ6IEYsCiAgICAgIHVuYmluZDogVSwKICAgICAgZmlyZTogZnVuY3Rpb24gZmlyZShlLCB0LCBuKSB7CiAgICAgICAgcmV0dXJuIGQuZmlyZShlLCB0LCBuKTsKICAgICAgfSwKICAgICAgZ2V0Q29udGVudEVkaXRhYmxlOiB6LAogICAgICBnZXRDb250ZW50RWRpdGFibGVQYXJlbnQ6IGZ1bmN0aW9uIGdldENvbnRlbnRFZGl0YWJsZVBhcmVudChlKSB7CiAgICAgICAgZm9yICh2YXIgdCA9IEMoKSwgbiA9IG51bGw7IGUgJiYgZSAhPT0gdCAmJiBudWxsID09PSAobiA9IHooZSkpOyBlID0gZS5wYXJlbnROb2RlKSB7CiAgICAgICAgICA7CiAgICAgICAgfQoKICAgICAgICByZXR1cm4gbjsKICAgICAgfSwKICAgICAgZGVzdHJveTogZnVuY3Rpb24gZGVzdHJveSgpIHsKICAgICAgICBpZiAoMCA8IGwubGVuZ3RoKSBmb3IgKHZhciBlID0gbC5sZW5ndGg7IGUtLTspIHsKICAgICAgICAgIHZhciB0ID0gbFtlXTsKICAgICAgICAgIGQudW5iaW5kKHRbMF0sIHRbMV0sIHRbMl0pOwogICAgICAgIH0KICAgICAgICB1ZShuLCBmdW5jdGlvbiAoZSwgdCkgewogICAgICAgICAgby51bmxvYWQodCksIGRlbGV0ZSBuW3RdOwogICAgICAgIH0pLCBUYS5zZXREb2N1bWVudCAmJiBUYS5zZXREb2N1bWVudCgpOwogICAgICB9LAogICAgICBpc0NoaWxkT2Y6IGZ1bmN0aW9uIGlzQ2hpbGRPZihlLCB0KSB7CiAgICAgICAgZm9yICg7IGU7KSB7CiAgICAgICAgICBpZiAodCA9PT0gZSkgcmV0dXJuICEwOwogICAgICAgICAgZSA9IGUucGFyZW50Tm9kZTsKICAgICAgICB9CgogICAgICAgIHJldHVybiAhMTsKICAgICAgfSwKICAgICAgZHVtcFJuZzogZnVuY3Rpb24gZHVtcFJuZyhlKSB7CiAgICAgICAgcmV0dXJuICJzdGFydENvbnRhaW5lcjogIiArIGUuc3RhcnRDb250YWluZXIubm9kZU5hbWUgKyAiLCBzdGFydE9mZnNldDogIiArIGUuc3RhcnRPZmZzZXQgKyAiLCBlbmRDb250YWluZXI6ICIgKyBlLmVuZENvbnRhaW5lci5ub2RlTmFtZSArICIsIGVuZE9mZnNldDogIiArIGUuZW5kT2Zmc2V0OwogICAgICB9CiAgICB9LAogICAgICAgIEggPSB3dShpLCB1LCBmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiBqOwogICAgfSk7CgogICAgcmV0dXJuIGo7CiAgfQoKICAoZ3UgPSBOdSA9IE51IHx8IHt9KS5ET00gPSBndShkb2N1bWVudCksIGd1Lm5vZGVJbmRleCA9IFN1OwogIHZhciBFdSA9IE51LAogICAgICBrdSA9IEV1LkRPTSwKICAgICAgX3UgPSBrdC5lYWNoLAogICAgICBBdSA9IGt0LmdyZXAsCiAgICAgIFJ1ID0gKFR1LnByb3RvdHlwZS5fc2V0UmVmZXJyZXJQb2xpY3kgPSBmdW5jdGlvbiAoZSkgewogICAgdGhpcy5zZXR0aW5ncy5yZWZlcnJlclBvbGljeSA9IGU7CiAgfSwgVHUucHJvdG90eXBlLmxvYWRTY3JpcHQgPSBmdW5jdGlvbiAoZSwgdCwgbikgewogICAgdmFyIHIgPSBrdSwKICAgICAgICBvID0gZnVuY3Rpb24gbygpIHsKICAgICAgci5yZW1vdmUoaSksIGEgJiYgKGEub25lcnJvciA9IGEub25sb2FkID0gYSA9IG51bGwpOwogICAgfSwKICAgICAgICBpID0gci51bmlxdWVJZCgpLAogICAgICAgIGEgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJzY3JpcHQiKTsKCiAgICBhLmlkID0gaSwgYS50eXBlID0gInRleHQvamF2YXNjcmlwdCIsIGEuc3JjID0ga3QuX2FkZENhY2hlU3VmZml4KGUpLCB0aGlzLnNldHRpbmdzLnJlZmVycmVyUG9saWN5ICYmIHIuc2V0QXR0cmliKGEsICJyZWZlcnJlcnBvbGljeSIsIHRoaXMuc2V0dGluZ3MucmVmZXJyZXJQb2xpY3kpLCBhLm9ubG9hZCA9IGZ1bmN0aW9uICgpIHsKICAgICAgbygpLCB0KCk7CiAgICB9LCBhLm9uZXJyb3IgPSBmdW5jdGlvbiAoKSB7CiAgICAgIG8oKSwgVChuKSA/IG4oKSA6ICJ1bmRlZmluZWQiICE9IHR5cGVvZiBjb25zb2xlICYmIGNvbnNvbGUubG9nICYmIGNvbnNvbGUubG9nKCJGYWlsZWQgdG8gbG9hZCBzY3JpcHQ6ICIgKyBlKTsKICAgIH0sIChkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgiaGVhZCIpWzBdIHx8IGRvY3VtZW50LmJvZHkpLmFwcGVuZENoaWxkKGEpOwogIH0sIFR1LnByb3RvdHlwZS5pc0RvbmUgPSBmdW5jdGlvbiAoZSkgewogICAgcmV0dXJuIDIgPT09IHRoaXMuc3RhdGVzW2VdOwogIH0sIFR1LnByb3RvdHlwZS5tYXJrRG9uZSA9IGZ1bmN0aW9uIChlKSB7CiAgICB0aGlzLnN0YXRlc1tlXSA9IDI7CiAgfSwgVHUucHJvdG90eXBlLmFkZCA9IGZ1bmN0aW9uIChlLCB0LCBuLCByKSB7CiAgICB2YXIgbyA9IHRoaXMuc3RhdGVzW2VdOwogICAgdGhpcy5xdWV1ZS5wdXNoKGUpLCBvID09PSB1bmRlZmluZWQgJiYgKHRoaXMuc3RhdGVzW2VdID0gMCksIHQgJiYgKHRoaXMuc2NyaXB0TG9hZGVkQ2FsbGJhY2tzW2VdIHx8ICh0aGlzLnNjcmlwdExvYWRlZENhbGxiYWNrc1tlXSA9IFtdKSwgdGhpcy5zY3JpcHRMb2FkZWRDYWxsYmFja3NbZV0ucHVzaCh7CiAgICAgIHN1Y2Nlc3M6IHQsCiAgICAgIGZhaWx1cmU6IHIsCiAgICAgIHNjb3BlOiBuIHx8IHRoaXMKICAgIH0pKTsKICB9LCBUdS5wcm90b3R5cGUubG9hZCA9IGZ1bmN0aW9uIChlLCB0LCBuLCByKSB7CiAgICByZXR1cm4gdGhpcy5hZGQoZSwgdCwgbiwgcik7CiAgfSwgVHUucHJvdG90eXBlLnJlbW92ZSA9IGZ1bmN0aW9uIChlKSB7CiAgICBkZWxldGUgdGhpcy5zdGF0ZXNbZV0sIGRlbGV0ZSB0aGlzLnNjcmlwdExvYWRlZENhbGxiYWNrc1tlXTsKICB9LCBUdS5wcm90b3R5cGUubG9hZFF1ZXVlID0gZnVuY3Rpb24gKGUsIHQsIG4pIHsKICAgIHRoaXMubG9hZFNjcmlwdHModGhpcy5xdWV1ZSwgZSwgdCwgbik7CiAgfSwgVHUucHJvdG90eXBlLmxvYWRTY3JpcHRzID0gZnVuY3Rpb24gKG4sIGUsIHQsIHIpIHsKICAgIHZhciBvID0gdGhpcywKICAgICAgICBpID0gW10sCiAgICAgICAgYSA9IGZ1bmN0aW9uIGEodCwgZSkgewogICAgICBfdShvLnNjcmlwdExvYWRlZENhbGxiYWNrc1tlXSwgZnVuY3Rpb24gKGUpIHsKICAgICAgICBUKGVbdF0pICYmIGVbdF0uY2FsbChlLnNjb3BlKTsKICAgICAgfSksIG8uc2NyaXB0TG9hZGVkQ2FsbGJhY2tzW2VdID0gdW5kZWZpbmVkOwogICAgfTsKCiAgICBvLnF1ZXVlTG9hZGVkQ2FsbGJhY2tzLnB1c2goewogICAgICBzdWNjZXNzOiBlLAogICAgICBmYWlsdXJlOiByLAogICAgICBzY29wZTogdCB8fCB0aGlzCiAgICB9KTsKCiAgICB2YXIgdSA9IGZ1bmN0aW9uIHUoKSB7CiAgICAgIHZhciBlLAogICAgICAgICAgdCA9IEF1KG4pOwogICAgICBuLmxlbmd0aCA9IDAsIF91KHQsIGZ1bmN0aW9uIChlKSB7CiAgICAgICAgMiAhPT0gby5zdGF0ZXNbZV0gPyAzICE9PSBvLnN0YXRlc1tlXSA/IDEgIT09IG8uc3RhdGVzW2VdICYmIChvLnN0YXRlc1tlXSA9IDEsIG8ubG9hZGluZysrLCBvLmxvYWRTY3JpcHQoZSwgZnVuY3Rpb24gKCkgewogICAgICAgICAgby5zdGF0ZXNbZV0gPSAyLCBvLmxvYWRpbmctLSwgYSgic3VjY2VzcyIsIGUpLCB1KCk7CiAgICAgICAgfSwgZnVuY3Rpb24gKCkgewogICAgICAgICAgby5zdGF0ZXNbZV0gPSAzLCBvLmxvYWRpbmctLSwgaS5wdXNoKGUpLCBhKCJmYWlsdXJlIiwgZSksIHUoKTsKICAgICAgICB9KSkgOiBhKCJmYWlsdXJlIiwgZSkgOiBhKCJzdWNjZXNzIiwgZSk7CiAgICAgIH0pLCBvLmxvYWRpbmcgfHwgKGUgPSBvLnF1ZXVlTG9hZGVkQ2FsbGJhY2tzLnNsaWNlKDApLCBvLnF1ZXVlTG9hZGVkQ2FsbGJhY2tzLmxlbmd0aCA9IDAsIF91KGUsIGZ1bmN0aW9uIChlKSB7CiAgICAgICAgMCA9PT0gaS5sZW5ndGggPyBUKGUuc3VjY2VzcykgJiYgZS5zdWNjZXNzLmNhbGwoZS5zY29wZSkgOiBUKGUuZmFpbHVyZSkgJiYgZS5mYWlsdXJlLmNhbGwoZS5zY29wZSwgaSk7CiAgICAgIH0pKTsKICAgIH07CgogICAgdSgpOwogIH0sIFR1LlNjcmlwdExvYWRlciA9IG5ldyBUdSgpLCBUdSk7CgogIGZ1bmN0aW9uIFR1KGUpIHsKICAgIHZvaWQgMCA9PT0gZSAmJiAoZSA9IHt9KSwgdGhpcy5zdGF0ZXMgPSB7fSwgdGhpcy5xdWV1ZSA9IFtdLCB0aGlzLnNjcmlwdExvYWRlZENhbGxiYWNrcyA9IHt9LCB0aGlzLnF1ZXVlTG9hZGVkQ2FsbGJhY2tzID0gW10sIHRoaXMubG9hZGluZyA9IDAsIHRoaXMuc2V0dGluZ3MgPSBlOwogIH0KCiAgdmFyIER1LAogICAgICBPdSA9IGZ1bmN0aW9uIE91KGUpIHsKICAgIHZhciB0ID0gZTsKICAgIHJldHVybiB7CiAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkgewogICAgICAgIHJldHVybiB0OwogICAgICB9LAogICAgICBzZXQ6IGZ1bmN0aW9uIHNldChlKSB7CiAgICAgICAgdCA9IGU7CiAgICAgIH0KICAgIH07CiAgfSwKICAgICAgQnUgPSB7fSwKICAgICAgUHUgPSBPdSgiZW4iKSwKICAgICAgTHUgPSBmdW5jdGlvbiBMdSgpIHsKICAgIHJldHVybiBnZShCdSwgUHUuZ2V0KCkpOwogIH0sCiAgICAgIEl1ID0gewogICAgZ2V0RGF0YTogZnVuY3Rpb24gZ2V0RGF0YSgpIHsKICAgICAgcmV0dXJuIHNlKEJ1LCBmdW5jdGlvbiAoZSkgewogICAgICAgIHJldHVybiBfa2Uoe30sIGUpOwogICAgICB9KTsKICAgIH0sCiAgICBzZXRDb2RlOiBmdW5jdGlvbiBzZXRDb2RlKGUpIHsKICAgICAgZSAmJiBQdS5zZXQoZSk7CiAgICB9LAogICAgZ2V0Q29kZTogZnVuY3Rpb24gZ2V0Q29kZSgpIHsKICAgICAgcmV0dXJuIFB1LmdldCgpOwogICAgfSwKICAgIGFkZDogZnVuY3Rpb24gYWRkKGUsIHQpIHsKICAgICAgdmFyIG4gPSBCdVtlXTsKICAgICAgbiB8fCAoQnVbZV0gPSBuID0ge30pLCB1ZSh0LCBmdW5jdGlvbiAoZSwgdCkgewogICAgICAgIG5bdC50b0xvd2VyQ2FzZSgpXSA9IGU7CiAgICAgIH0pOwogICAgfSwKICAgIHRyYW5zbGF0ZTogZnVuY3Rpb24gdHJhbnNsYXRlKGUpIHsKICAgICAgdmFyIHQsCiAgICAgICAgICBuLAogICAgICAgICAgciA9IEx1KCkuZ2V0T3Ioe30pLAogICAgICAgICAgbyA9IGZ1bmN0aW9uIG8oZSkgewogICAgICAgIHJldHVybiBUKGUpID8gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGUpIDogaShlKSA/ICIiIDogIiIgKyBlOwogICAgICB9LAogICAgICAgICAgaSA9IGZ1bmN0aW9uIGkoZSkgewogICAgICAgIHJldHVybiAiIiA9PT0gZSB8fCBudWxsID09PSBlIHx8IGUgPT09IHVuZGVmaW5lZDsKICAgICAgfSwKICAgICAgICAgIGEgPSBmdW5jdGlvbiBhKGUpIHsKICAgICAgICB2YXIgdCA9IG8oZSk7CiAgICAgICAgcmV0dXJuIGdlKHIsIHQudG9Mb3dlckNhc2UoKSkubWFwKG8pLmdldE9yKHQpOwogICAgICB9LAogICAgICAgICAgdSA9IGZ1bmN0aW9uIHUoZSkgewogICAgICAgIHJldHVybiBlLnJlcGxhY2UoL3tjb250ZXh0Olx3K30kLywgIiIpOwogICAgICB9OwoKICAgICAgaWYgKGkoZSkpIHJldHVybiAiIjsKICAgICAgaWYgKF8odCA9IGUpICYmIGhlKHQsICJyYXciKSkgcmV0dXJuIG8oZS5yYXcpOwoKICAgICAgaWYgKFMobiA9IGUpICYmIDEgPCBuLmxlbmd0aCkgewogICAgICAgIHZhciBzID0gZS5zbGljZSgxKTsKICAgICAgICByZXR1cm4gdShhKGVbMF0pLnJlcGxhY2UoL1x7KFswLTldKylcfS9nLCBmdW5jdGlvbiAoZSwgdCkgewogICAgICAgICAgcmV0dXJuIGhlKHMsIHQpID8gbyhzW3RdKSA6IGU7CiAgICAgICAgfSkpOwogICAgICB9CgogICAgICByZXR1cm4gdShhKGUpKTsKICAgIH0sCiAgICBpc1J0bDogZnVuY3Rpb24gaXNSdGwoKSB7CiAgICAgIHJldHVybiBMdSgpLmJpbmQoZnVuY3Rpb24gKGUpIHsKICAgICAgICByZXR1cm4gZ2UoZSwgIl9kaXIiKTsKICAgICAgfSkuZXhpc3RzKGZ1bmN0aW9uIChlKSB7CiAgICAgICAgcmV0dXJuICJydGwiID09PSBlOwogICAgICB9KTsKICAgIH0sCiAgICBoYXNDb2RlOiBmdW5jdGlvbiBoYXNDb2RlKGUpIHsKICAgICAgcmV0dXJuIGhlKEJ1LCBlKTsKICAgIH0KICB9OwoKICBmdW5jdGlvbiBNdSgpIHsKICAgIHZhciByID0gdGhpcywKICAgICAgICBvID0gW10sCiAgICAgICAgcyA9IHt9LAogICAgICAgIGMgPSB7fSwKICAgICAgICBpID0gW10sCiAgICAgICAgbCA9IGZ1bmN0aW9uIGwodCwgbikgewogICAgICB2YXIgZSA9IEgoaSwgZnVuY3Rpb24gKGUpIHsKICAgICAgICByZXR1cm4gZS5uYW1lID09PSB0ICYmIGUuc3RhdGUgPT09IG47CiAgICAgIH0pOwogICAgICBXKGUsIGZ1bmN0aW9uIChlKSB7CiAgICAgICAgcmV0dXJuIGUuY2FsbGJhY2soKTsKICAgICAgfSk7CiAgICB9LAogICAgICAgIGYgPSBmdW5jdGlvbiBmKGUpIHsKICAgICAgdmFyIHQ7CiAgICAgIHJldHVybiBjW2VdICYmICh0ID0gY1tlXS5kZXBlbmRlbmNpZXMpLCB0IHx8IFtdOwogICAgfSwKICAgICAgICBkID0gZnVuY3Rpb24gZChlLCB0KSB7CiAgICAgIHJldHVybiAib2JqZWN0IiA9PSBfdHlwZW9mKHQpID8gdCA6ICJzdHJpbmciID09IHR5cGVvZiBlID8gewogICAgICAgIHByZWZpeDogIiIsCiAgICAgICAgcmVzb3VyY2U6IHQsCiAgICAgICAgc3VmZml4OiAiIgogICAgICB9IDogewogICAgICAgIHByZWZpeDogZS5wcmVmaXgsCiAgICAgICAgcmVzb3VyY2U6IHQsCiAgICAgICAgc3VmZml4OiBlLnN1ZmZpeAogICAgICB9OwogICAgfSwKICAgICAgICBtID0gZnVuY3Rpb24gbShvLCBpLCBhLCB1LCBlKSB7CiAgICAgIHZhciB0LCBuOwogICAgICBzW29dIHx8ICgwICE9PSAodCA9ICJzdHJpbmciID09IHR5cGVvZiBpID8gaSA6IGkucHJlZml4ICsgaS5yZXNvdXJjZSArIGkuc3VmZml4KS5pbmRleE9mKCIvIikgJiYgLTEgPT09IHQuaW5kZXhPZigiOi8vIikgJiYgKHQgPSBNdS5iYXNlVVJMICsgIi8iICsgdCksIHNbb10gPSB0LnN1YnN0cmluZygwLCB0Lmxhc3RJbmRleE9mKCIvIikpLCBuID0gZnVuY3Rpb24gbigpIHsKICAgICAgICB2YXIgbiwgZSwgdCwgcjsKICAgICAgICBsKG8sICJsb2FkZWQiKSwgbiA9IGksIGUgPSBhLCB0ID0gdSwgciA9IGYobyksIFcociwgZnVuY3Rpb24gKGUpIHsKICAgICAgICAgIHZhciB0ID0gZChuLCBlKTsKICAgICAgICAgIG0odC5yZXNvdXJjZSwgdCwgdW5kZWZpbmVkLCB1bmRlZmluZWQpOwogICAgICAgIH0pLCBlICYmICh0ID8gZS5jYWxsKHQpIDogZS5jYWxsKFJ1KSk7CiAgICAgIH0sIGNbb10gPyBuKCkgOiBSdS5TY3JpcHRMb2FkZXIuYWRkKHQsIG4sIHUsIGUpKTsKICAgIH0sCiAgICAgICAgZSA9IGZ1bmN0aW9uIGUoX2U2LCB0LCBuKSB7CiAgICAgIHZvaWQgMCA9PT0gbiAmJiAobiA9ICJhZGRlZCIpLCBoZShjLCBfZTYpICYmICJhZGRlZCIgPT09IG4gfHwgaGUocywgX2U2KSAmJiAibG9hZGVkIiA9PT0gbiA/IHQoKSA6IGkucHVzaCh7CiAgICAgICAgbmFtZTogX2U2LAogICAgICAgIHN0YXRlOiBuLAogICAgICAgIGNhbGxiYWNrOiB0CiAgICAgIH0pOwogICAgfTsKCiAgICByZXR1cm4gewogICAgICBpdGVtczogbywKICAgICAgdXJsczogcywKICAgICAgbG9va3VwOiBjLAogICAgICBfbGlzdGVuZXJzOiBpLAogICAgICBnZXQ6IGZ1bmN0aW9uIGdldChlKSB7CiAgICAgICAgcmV0dXJuIGNbZV0gPyBjW2VdLmluc3RhbmNlIDogdW5kZWZpbmVkOwogICAgICB9LAogICAgICBkZXBlbmRlbmNpZXM6IGYsCiAgICAgIHJlcXVpcmVMYW5nUGFjazogZnVuY3Rpb24gcmVxdWlyZUxhbmdQYWNrKHQsIG4pIHsKICAgICAgICAhMSAhPT0gTXUubGFuZ3VhZ2VMb2FkICYmIGUodCwgZnVuY3Rpb24gKCkgewogICAgICAgICAgdmFyIGUgPSBJdS5nZXRDb2RlKCk7CiAgICAgICAgICAhZSB8fCBuICYmIC0xID09PSAoIiwiICsgKG4gfHwgIiIpICsgIiwiKS5pbmRleE9mKCIsIiArIGUgKyAiLCIpIHx8IFJ1LlNjcmlwdExvYWRlci5hZGQoc1t0XSArICIvbGFuZ3MvIiArIGUgKyAiLmpzIik7CiAgICAgICAgfSwgImxvYWRlZCIpOwogICAgICB9LAogICAgICBhZGQ6IGZ1bmN0aW9uIGFkZChlLCB0LCBuKSB7CiAgICAgICAgdmFyIHIgPSB0OwogICAgICAgIHJldHVybiBvLnB1c2gociksIGNbZV0gPSB7CiAgICAgICAgICBpbnN0YW5jZTogciwKICAgICAgICAgIGRlcGVuZGVuY2llczogbgogICAgICAgIH0sIGwoZSwgImFkZGVkIiksIHI7CiAgICAgIH0sCiAgICAgIHJlbW92ZTogZnVuY3Rpb24gcmVtb3ZlKGUpIHsKICAgICAgICBkZWxldGUgc1tlXSwgZGVsZXRlIGNbZV07CiAgICAgIH0sCiAgICAgIGNyZWF0ZVVybDogZCwKICAgICAgYWRkQ29tcG9uZW50czogZnVuY3Rpb24gYWRkQ29tcG9uZW50cyhlLCB0KSB7CiAgICAgICAgdmFyIG4gPSByLnVybHNbZV07CiAgICAgICAgVyh0LCBmdW5jdGlvbiAoZSkgewogICAgICAgICAgUnUuU2NyaXB0TG9hZGVyLmFkZChuICsgIi8iICsgZSk7CiAgICAgICAgfSk7CiAgICAgIH0sCiAgICAgIGxvYWQ6IG0sCiAgICAgIHdhaXRGb3I6IGUKICAgIH07CiAgfQoKICAoRHUgPSBNdSA9IE11IHx8IHt9KS5QbHVnaW5NYW5hZ2VyID0gRHUoKSwgRHUuVGhlbWVNYW5hZ2VyID0gRHUoKTsKCiAgdmFyIEZ1LAogICAgICBVdSA9IE11LAogICAgICB6dSA9IGZ1bmN0aW9uIHp1KG4sIHIpIHsKICAgIHZhciBvID0gbnVsbDsKICAgIHJldHVybiB7CiAgICAgIGNhbmNlbDogZnVuY3Rpb24gY2FuY2VsKCkgewogICAgICAgIG51bGwgIT09IG8gJiYgKGNsZWFyVGltZW91dChvKSwgbyA9IG51bGwpOwogICAgICB9LAogICAgICB0aHJvdHRsZTogZnVuY3Rpb24gdGhyb3R0bGUoKSB7CiAgICAgICAgZm9yICh2YXIgZSA9IFtdLCB0ID0gMDsgdCA8IGFyZ3VtZW50cy5sZW5ndGg7IHQrKykgewogICAgICAgICAgZVt0XSA9IGFyZ3VtZW50c1t0XTsKICAgICAgICB9CgogICAgICAgIG51bGwgPT09IG8gJiYgKG8gPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICAgIG4uYXBwbHkobnVsbCwgZSksIG8gPSBudWxsOwogICAgICAgIH0sIHIpKTsKICAgICAgfQogICAgfTsKICB9LAogICAgICBqdSA9IGZ1bmN0aW9uIGp1KG4sIHIpIHsKICAgIHZhciBvID0gbnVsbDsKICAgIHJldHVybiB7CiAgICAgIGNhbmNlbDogZnVuY3Rpb24gY2FuY2VsKCkgewogICAgICAgIG51bGwgIT09IG8gJiYgKGNsZWFyVGltZW91dChvKSwgbyA9IG51bGwpOwogICAgICB9LAogICAgICB0aHJvdHRsZTogZnVuY3Rpb24gdGhyb3R0bGUoKSB7CiAgICAgICAgZm9yICh2YXIgZSA9IFtdLCB0ID0gMDsgdCA8IGFyZ3VtZW50cy5sZW5ndGg7IHQrKykgewogICAgICAgICAgZVt0XSA9IGFyZ3VtZW50c1t0XTsKICAgICAgICB9CgogICAgICAgIG51bGwgIT09IG8gJiYgY2xlYXJUaW1lb3V0KG8pLCBvID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgICBuLmFwcGx5KG51bGwsIGUpLCBvID0gbnVsbDsKICAgICAgICB9LCByKTsKICAgICAgfQogICAgfTsKICB9LAogICAgICBIdSA9IGZ1bmN0aW9uIEh1KGUsIHQpIHsKICAgIHZhciBuID0gR24oZSwgdCk7CiAgICByZXR1cm4gbiA9PT0gdW5kZWZpbmVkIHx8ICIiID09PSBuID8gW10gOiBuLnNwbGl0KCIgIik7CiAgfSwKICAgICAgVnUgPSBmdW5jdGlvbiBWdShlKSB7CiAgICByZXR1cm4gZS5kb20uY2xhc3NMaXN0ICE9PSB1bmRlZmluZWQ7CiAgfSwKICAgICAgcXUgPSBmdW5jdGlvbiBxdShlLCB0KSB7CiAgICByZXR1cm4gbyA9IHQsIGkgPSBIdShuID0gZSwgciA9ICJjbGFzcyIpLmNvbmNhdChbb10pLCBYbihuLCByLCBpLmpvaW4oIiAiKSksICEwOwogICAgdmFyIG4sIHIsIG8sIGk7CiAgfSwKICAgICAgJHUgPSBmdW5jdGlvbiAkdShlLCB0KSB7CiAgICByZXR1cm4gbyA9IHQsIDAgPCAoaSA9IEgoSHUobiA9IGUsIHIgPSAiY2xhc3MiKSwgZnVuY3Rpb24gKGUpIHsKICAgICAgcmV0dXJuIGUgIT09IG87CiAgICB9KSkubGVuZ3RoID8gWG4obiwgciwgaS5qb2luKCIgIikpIDogUW4obiwgciksICExOwogICAgdmFyIG4sIHIsIG8sIGk7CiAgfSwKICAgICAgV3UgPSBmdW5jdGlvbiBXdShlLCB0KSB7CiAgICBWdShlKSA/IGUuZG9tLmNsYXNzTGlzdC5hZGQodCkgOiBxdShlLCB0KTsKICB9LAogICAgICBLdSA9IGZ1bmN0aW9uIEt1KGUpIHsKICAgIDAgPT09IChWdShlKSA/IGUuZG9tLmNsYXNzTGlzdCA6IEh1KGUsICJjbGFzcyIpKS5sZW5ndGggJiYgUW4oZSwgImNsYXNzIik7CiAgfSwKICAgICAgWHUgPSBmdW5jdGlvbiBYdShlLCB0KSB7CiAgICByZXR1cm4gVnUoZSkgJiYgZS5kb20uY2xhc3NMaXN0LmNvbnRhaW5zKHQpOwogIH0sCiAgICAgIFl1ID0gZnVuY3Rpb24gWXUoZSwgdCkgewogICAgdmFyIG4gPSBbXTsKICAgIHJldHVybiBXKEd0KGUpLCBmdW5jdGlvbiAoZSkgewogICAgICB0KGUpICYmIChuID0gbi5jb25jYXQoW2VdKSksIG4gPSBuLmNvbmNhdChZdShlLCB0KSk7CiAgICB9KSwgbjsKICB9LAogICAgICBHdSA9IGZ1bmN0aW9uIEd1KGUsIHQpIHsKICAgIHJldHVybiBuID0gdCwgbyA9IChyID0gZSkgPT09IHVuZGVmaW5lZCA/IGRvY3VtZW50IDogci5kb20sIER0KG8pID8gW10gOiB6KG8ucXVlcnlTZWxlY3RvckFsbChuKSwgQXQuZnJvbURvbSk7CiAgICB2YXIgbiwgciwgbzsKICB9LAogICAgICBKdSA9IEUoIm1jZS1hbm5vdGF0aW9uIiksCiAgICAgIFF1ID0gRSgiZGF0YS1tY2UtYW5ub3RhdGlvbiIpLAogICAgICBadSA9IEUoImRhdGEtbWNlLWFubm90YXRpb24tdWlkIiksCiAgICAgIGVzID0gZnVuY3Rpb24gZXMociwgZSkgewogICAgdmFyIHQgPSByLnNlbGVjdGlvbi5nZXRSbmcoKSwKICAgICAgICBuID0gQXQuZnJvbURvbSh0LnN0YXJ0Q29udGFpbmVyKSwKICAgICAgICBvID0gQXQuZnJvbURvbShyLmdldEJvZHkoKSksCiAgICAgICAgaSA9IGUuZm9sZChmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiAiLiIgKyBKdSgpOwogICAgfSwgZnVuY3Rpb24gKGUpIHsKICAgICAgcmV0dXJuICJbIiArIFF1KCkgKyAnPSInICsgZSArICciXSc7CiAgICB9KSwKICAgICAgICBhID0gSnQobiwgdC5zdGFydE9mZnNldCkuZ2V0T3IobiksCiAgICAgICAgdSA9IE9yKGEsIGksIGZ1bmN0aW9uIChlKSB7CiAgICAgIHJldHVybiBPdChlLCBvKTsKICAgIH0pLAogICAgICAgIHMgPSBmdW5jdGlvbiBzKGUsIHQpIHsKICAgICAgcmV0dXJuIG4gPSB0LCAociA9IGUuZG9tKSAmJiByLmhhc0F0dHJpYnV0ZSAmJiByLmhhc0F0dHJpYnV0ZShuKSA/IFUuc29tZShHbihlLCB0KSkgOiBVLm5vbmUoKTsKICAgICAgdmFyIG4sIHI7CiAgICB9OwoKICAgIHJldHVybiB1LmJpbmQoZnVuY3Rpb24gKGUpIHsKICAgICAgcmV0dXJuIHMoZSwgIiIgKyBadSgpKS5iaW5kKGZ1bmN0aW9uIChuKSB7CiAgICAgICAgcmV0dXJuIHMoZSwgIiIgKyBRdSgpKS5tYXAoZnVuY3Rpb24gKGUpIHsKICAgICAgICAgIHZhciB0ID0gdHMociwgbik7CiAgICAgICAgICByZXR1cm4gewogICAgICAgICAgICB1aWQ6IG4sCiAgICAgICAgICAgIG5hbWU6IGUsCiAgICAgICAgICAgIGVsZW1lbnRzOiB0CiAgICAgICAgICB9OwogICAgICAgIH0pOwogICAgICB9KTsKICAgIH0pOwogIH0sCiAgICAgIHRzID0gZnVuY3Rpb24gdHMoZSwgdCkgewogICAgdmFyIG4gPSBBdC5mcm9tRG9tKGUuZ2V0Qm9keSgpKTsKICAgIHJldHVybiBHdShuLCAiWyIgKyBadSgpICsgJz0iJyArIHQgKyAnIl0nKTsKICB9LAogICAgICBucyA9IGZ1bmN0aW9uIG5zKGksIGUpIHsKICAgIHZhciBhID0gT3Uoe30pLAogICAgICAgIGMgPSBmdW5jdGlvbiBjKGUsIHQpIHsKICAgICAgdShlLCBmdW5jdGlvbiAoZSkgewogICAgICAgIHJldHVybiB0KGUpLCBlOwogICAgICB9KTsKICAgIH0sCiAgICAgICAgdSA9IGZ1bmN0aW9uIHUoZSwgdCkgewogICAgICB2YXIgbiA9IGEuZ2V0KCksCiAgICAgICAgICByID0gdChuLmhhc093blByb3BlcnR5KGUpID8gbltlXSA6IHsKICAgICAgICBsaXN0ZW5lcnM6IFtdLAogICAgICAgIHByZXZpb3VzOiBPdShVLm5vbmUoKSkKICAgICAgfSk7CiAgICAgIG5bZV0gPSByLCBhLnNldChuKTsKICAgIH0sCiAgICAgICAgdCA9IGp1KGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIGUsCiAgICAgICAgICB0LAogICAgICAgICAgbiwKICAgICAgICAgIHIgPSBhLmdldCgpLAogICAgICAgICAgbyA9IChlID0gaWUociksIChuID0gQi5jYWxsKGUsIDApKS5zb3J0KHQpLCBuKTsKICAgICAgVyhvLCBmdW5jdGlvbiAoZSkgewogICAgICAgIHUoZSwgZnVuY3Rpb24gKHUpIHsKICAgICAgICAgIHZhciBzID0gdS5wcmV2aW91cy5nZXQoKTsKICAgICAgICAgIHJldHVybiBlcyhpLCBVLnNvbWUoZSkpLmZvbGQoZnVuY3Rpb24gKCkgewogICAgICAgICAgICB2YXIgdDsKICAgICAgICAgICAgcy5pc1NvbWUoKSAmJiAoYyh0ID0gZSwgZnVuY3Rpb24gKGUpIHsKICAgICAgICAgICAgICBXKGUubGlzdGVuZXJzLCBmdW5jdGlvbiAoZSkgewogICAgICAgICAgICAgICAgcmV0dXJuIGUoITEsIHQpOwogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9KSwgdS5wcmV2aW91cy5zZXQoVS5ub25lKCkpKTsKICAgICAgICAgIH0sIGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICAgIHZhciB0LAogICAgICAgICAgICAgICAgbiwKICAgICAgICAgICAgICAgIHIsCiAgICAgICAgICAgICAgICBvID0gZS51aWQsCiAgICAgICAgICAgICAgICBpID0gZS5uYW1lLAogICAgICAgICAgICAgICAgYSA9IGUuZWxlbWVudHM7CiAgICAgICAgICAgIHMuaXMobykgfHwgKG4gPSBvLCByID0gYSwgYyh0ID0gaSwgZnVuY3Rpb24gKGUpIHsKICAgICAgICAgICAgICBXKGUubGlzdGVuZXJzLCBmdW5jdGlvbiAoZSkgewogICAgICAgICAgICAgICAgcmV0dXJuIGUoITAsIHQsIHsKICAgICAgICAgICAgICAgICAgdWlkOiBuLAogICAgICAgICAgICAgICAgICBub2RlczogeihyLCBmdW5jdGlvbiAoZSkgewogICAgICAgICAgICAgICAgICAgIHJldHVybiBlLmRvbTsKICAgICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9KSwgdS5wcmV2aW91cy5zZXQoVS5zb21lKG8pKSk7CiAgICAgICAgICB9KSwgewogICAgICAgICAgICBwcmV2aW91czogdS5wcmV2aW91cywKICAgICAgICAgICAgbGlzdGVuZXJzOiB1Lmxpc3RlbmVycwogICAgICAgICAgfTsKICAgICAgICB9KTsKICAgICAgfSk7CiAgICB9LCAzMCk7CgogICAgaS5vbigicmVtb3ZlIiwgZnVuY3Rpb24gKCkgewogICAgICB0LmNhbmNlbCgpOwogICAgfSksIGkub24oIk5vZGVDaGFuZ2UiLCBmdW5jdGlvbiAoKSB7CiAgICAgIHQudGhyb3R0bGUoKTsKICAgIH0pOwogICAgcmV0dXJuIHsKICAgICAgYWRkTGlzdGVuZXI6IGZ1bmN0aW9uIGFkZExpc3RlbmVyKGUsIHQpIHsKICAgICAgICB1KGUsIGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICByZXR1cm4gewogICAgICAgICAgICBwcmV2aW91czogZS5wcmV2aW91cywKICAgICAgICAgICAgbGlzdGVuZXJzOiBlLmxpc3RlbmVycy5jb25jYXQoW3RdKQogICAgICAgICAgfTsKICAgICAgICB9KTsKICAgICAgfQogICAgfTsKICB9LAogICAgICBycyA9IGZ1bmN0aW9uIHJzKGUsIG4pIHsKICAgIGUub24oImluaXQiLCBmdW5jdGlvbiAoKSB7CiAgICAgIGUuc2VyaWFsaXplci5hZGROb2RlRmlsdGVyKCJzcGFuIiwgZnVuY3Rpb24gKGUpIHsKICAgICAgICBXKGUsIGZ1bmN0aW9uICh0KSB7CiAgICAgICAgICB2YXIgZTsKICAgICAgICAgIGUgPSB0LCBVLmZyb20oZS5hdHRyKFF1KCkpKS5iaW5kKG4ubG9va3VwKS5lYWNoKGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICAgICExID09PSBlLnBlcnNpc3RlbnQgJiYgdC51bndyYXAoKTsKICAgICAgICAgIH0pOwogICAgICAgIH0pOwogICAgICB9KTsKICAgIH0pOwogIH0sCiAgICAgIG9zID0gMCwKICAgICAgaXMgPSBmdW5jdGlvbiBpcyhlKSB7CiAgICB2YXIgdCA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpOwogICAgcmV0dXJuIGUgKyAiXyIgKyBNYXRoLmZsb29yKDFlOSAqIE1hdGgucmFuZG9tKCkpICsgKytvcyArIFN0cmluZyh0KTsKICB9LAogICAgICBhcyA9IGZ1bmN0aW9uIGFzKGUsIHQpIHsKICAgIHZhciBuLAogICAgICAgIHIsCiAgICAgICAgbyA9IEh0KGUpLmRvbSwKICAgICAgICBpID0gQXQuZnJvbURvbShvLmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKSksCiAgICAgICAgYSA9IChuID0gdCwgKHIgPSAobyB8fCBkb2N1bWVudCkuY3JlYXRlRWxlbWVudCgiZGl2IikpLmlubmVySFRNTCA9IG4sIEd0KEF0LmZyb21Eb20ocikpKTsKICAgIGRuKGksIGEpLCBtbihlKSwgZm4oZSwgaSk7CiAgfSwKICAgICAgdXMgPSBmdW5jdGlvbiB1cyhlLCB0KSB7CiAgICByZXR1cm4gQXQuZnJvbURvbShlLmRvbS5jbG9uZU5vZGUodCkpOwogIH0sCiAgICAgIHNzID0gZnVuY3Rpb24gc3MoZSkgewogICAgcmV0dXJuIHVzKGUsICExKTsKICB9LAogICAgICBjcyA9IGZ1bmN0aW9uIGNzKGUpIHsKICAgIHJldHVybiB1cyhlLCAhMCk7CiAgfSwKICAgICAgbHMgPSBmdW5jdGlvbiBscyhlLCB0LCBuKSB7CiAgICB2b2lkIDAgPT09IG4gJiYgKG4gPSBDKTsKCiAgICB2YXIgciA9IG5ldyBYcihlLCB0KSwKICAgICAgICBvID0gZnVuY3Rpb24gbyhlKSB7CiAgICAgIGZvciAodmFyIHQ7ICh0ID0gcltlXSgpKSAmJiAhSW4odCkgJiYgIW4odCk7KSB7CiAgICAgICAgOwogICAgICB9CgogICAgICByZXR1cm4gVS5mcm9tKHQpLmZpbHRlcihJbik7CiAgICB9OwoKICAgIHJldHVybiB7CiAgICAgIGN1cnJlbnQ6IGZ1bmN0aW9uIGN1cnJlbnQoKSB7CiAgICAgICAgcmV0dXJuIFUuZnJvbShyLmN1cnJlbnQoKSkuZmlsdGVyKEluKTsKICAgICAgfSwKICAgICAgbmV4dDogZnVuY3Rpb24gbmV4dCgpIHsKICAgICAgICByZXR1cm4gbygibmV4dCIpOwogICAgICB9LAogICAgICBwcmV2OiBmdW5jdGlvbiBwcmV2KCkgewogICAgICAgIHJldHVybiBvKCJwcmV2Iik7CiAgICAgIH0sCiAgICAgIHByZXYyOiBmdW5jdGlvbiBwcmV2MigpIHsKICAgICAgICByZXR1cm4gbygicHJldjIiKTsKICAgICAgfQogICAgfTsKICB9LAogICAgICBmcyA9IGZ1bmN0aW9uIGZzKHQsIGUpIHsKICAgIHZhciBpID0gZSB8fCBmdW5jdGlvbiAoZSkgewogICAgICByZXR1cm4gdC5pc0Jsb2NrKGUpIHx8IHpuKGUpIHx8IFZuKGUpOwogICAgfSwKICAgICAgICBhID0gZnVuY3Rpb24gYShlLCB0LCBuLCByKSB7CiAgICAgIGlmIChJbihlKSkgewogICAgICAgIHZhciBvID0gcihlLCB0LCBlLmRhdGEpOwogICAgICAgIGlmICgtMSAhPT0gbykgcmV0dXJuIFUuc29tZSh7CiAgICAgICAgICBjb250YWluZXI6IGUsCiAgICAgICAgICBvZmZzZXQ6IG8KICAgICAgICB9KTsKICAgICAgfQoKICAgICAgcmV0dXJuIG4oKS5iaW5kKGZ1bmN0aW9uIChlKSB7CiAgICAgICAgcmV0dXJuIGEoZS5jb250YWluZXIsIGUub2Zmc2V0LCBuLCByKTsKICAgICAgfSk7CiAgICB9OwoKICAgIHJldHVybiB7CiAgICAgIGJhY2t3YXJkczogZnVuY3Rpb24gYmFja3dhcmRzKGUsIHQsIG4sIHIpIHsKICAgICAgICB2YXIgbyA9IGxzKGUsIHIsIGkpOwogICAgICAgIHJldHVybiBhKGUsIHQsIGZ1bmN0aW9uICgpIHsKICAgICAgICAgIHJldHVybiBvLnByZXYoKS5tYXAoZnVuY3Rpb24gKGUpIHsKICAgICAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgICBjb250YWluZXI6IGUsCiAgICAgICAgICAgICAgb2Zmc2V0OiBlLmxlbmd0aAogICAgICAgICAgICB9OwogICAgICAgICAgfSk7CiAgICAgICAgfSwgbikuZ2V0T3JOdWxsKCk7CiAgICAgIH0sCiAgICAgIGZvcndhcmRzOiBmdW5jdGlvbiBmb3J3YXJkcyhlLCB0LCBuLCByKSB7CiAgICAgICAgdmFyIG8gPSBscyhlLCByLCBpKTsKICAgICAgICByZXR1cm4gYShlLCB0LCBmdW5jdGlvbiAoKSB7CiAgICAgICAgICByZXR1cm4gby5uZXh0KCkubWFwKGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICAgIHJldHVybiB7CiAgICAgICAgICAgICAgY29udGFpbmVyOiBlLAogICAgICAgICAgICAgIG9mZnNldDogMAogICAgICAgICAgICB9OwogICAgICAgICAgfSk7CiAgICAgICAgfSwgbikuZ2V0T3JOdWxsKCk7CiAgICAgIH0KICAgIH07CiAgfSwKICAgICAgZHMgPSBmdW5jdGlvbiBkcyhlLCB0LCBuKSB7CiAgICByZXR1cm4gZS5pc1NvbWUoKSAmJiB0LmlzU29tZSgpID8gVS5zb21lKG4oZS5nZXRPckRpZSgpLCB0LmdldE9yRGllKCkpKSA6IFUubm9uZSgpOwogIH0sCiAgICAgIG1zID0gTWF0aC5yb3VuZCwKICAgICAgcHMgPSBmdW5jdGlvbiBwcyhlKSB7CiAgICByZXR1cm4gZSA/IHsKICAgICAgbGVmdDogbXMoZS5sZWZ0KSwKICAgICAgdG9wOiBtcyhlLnRvcCksCiAgICAgIGJvdHRvbTogbXMoZS5ib3R0b20pLAogICAgICByaWdodDogbXMoZS5yaWdodCksCiAgICAgIHdpZHRoOiBtcyhlLndpZHRoKSwKICAgICAgaGVpZ2h0OiBtcyhlLmhlaWdodCkKICAgIH0gOiB7CiAgICAgIGxlZnQ6IDAsCiAgICAgIHRvcDogMCwKICAgICAgYm90dG9tOiAwLAogICAgICByaWdodDogMCwKICAgICAgd2lkdGg6IDAsCiAgICAgIGhlaWdodDogMAogICAgfTsKICB9LAogICAgICBncyA9IGZ1bmN0aW9uIGdzKGUsIHQpIHsKICAgIHJldHVybiBlID0gcHMoZSksIHQgfHwgKGUubGVmdCA9IGUubGVmdCArIGUud2lkdGgpLCBlLnJpZ2h0ID0gZS5sZWZ0LCBlLndpZHRoID0gMCwgZTsKICB9LAogICAgICBocyA9IGZ1bmN0aW9uIGhzKGUsIHQsIG4pIHsKICAgIHJldHVybiAwIDw9IGUgJiYgZSA8PSBNYXRoLm1pbih0LmhlaWdodCwgbi5oZWlnaHQpIC8gMjsKICB9LAogICAgICB2cyA9IGZ1bmN0aW9uIHZzKGUsIHQpIHsKICAgIHZhciBuID0gTWF0aC5taW4odC5oZWlnaHQgLyAyLCBlLmhlaWdodCAvIDIpOwogICAgcmV0dXJuIGUuYm90dG9tIC0gbiA8IHQudG9wIHx8ICEoZS50b3AgPiB0LmJvdHRvbSkgJiYgaHModC50b3AgLSBlLmJvdHRvbSwgZSwgdCk7CiAgfSwKICAgICAgeXMgPSBmdW5jdGlvbiB5cyhlLCB0KSB7CiAgICByZXR1cm4gZS50b3AgPiB0LmJvdHRvbSB8fCAhKGUuYm90dG9tIDwgdC50b3ApICYmIGhzKHQuYm90dG9tIC0gZS50b3AsIGUsIHQpOwogIH0sCiAgICAgIGJzID0gZnVuY3Rpb24gYnMoZSwgdCwgbikgewogICAgcmV0dXJuIHQgPj0gZS5sZWZ0ICYmIHQgPD0gZS5yaWdodCAmJiBuID49IGUudG9wICYmIG4gPD0gZS5ib3R0b207CiAgfSwKICAgICAgQ3MgPSBmdW5jdGlvbiBDcyhlKSB7CiAgICB2YXIgdCA9IGUuc3RhcnRDb250YWluZXIsCiAgICAgICAgbiA9IGUuc3RhcnRPZmZzZXQ7CiAgICByZXR1cm4gdC5oYXNDaGlsZE5vZGVzKCkgJiYgZS5lbmRPZmZzZXQgPT09IG4gKyAxID8gdC5jaGlsZE5vZGVzW25dIDogbnVsbDsKICB9LAogICAgICB3cyA9IGZ1bmN0aW9uIHdzKGUsIHQpIHsKICAgIHJldHVybiAxID09PSBlLm5vZGVUeXBlICYmIGUuaGFzQ2hpbGROb2RlcygpICYmICh0ID49IGUuY2hpbGROb2Rlcy5sZW5ndGggJiYgKHQgPSBlLmNoaWxkTm9kZXMubGVuZ3RoIC0gMSksIGUgPSBlLmNoaWxkTm9kZXNbdF0pLCBlOwogIH0sCiAgICAgIHhzID0gbmV3IFJlZ0V4cCgiW1x1MDMwMC1cdTAzNkZcdTA0ODMtXHUwNDg3XHUwNDg4LVx1MDQ4OVx1MDU5MS1cdTA1QkRcdTA1QkZcdTA1QzEtXHUwNUMyXHUwNUM0LVx1MDVDNVx1MDVDN1x1MDYxMC1cdTA2MUFcdTA2NEItXHUwNjVGXHUwNjcwXHUwNkQ2LVx1MDZEQ1x1MDZERi1cdTA2RTRcdTA2RTctXHUwNkU4XHUwNkVBLVx1MDZFRFx1MDcxMVx1MDczMC1cdTA3NEFcdTA3QTYtXHUwN0IwXHUwN0VCLVx1MDdGM1x1MDgxNi1cdTA4MTlcdTA4MUItXHUwODIzXHUwODI1LVx1MDgyN1x1MDgyOS1cdTA4MkRcdTA4NTktXHUwODVCXHUwOEUzLVx1MDkwMlx1MDkzQVx1MDkzQ1x1MDk0MS1cdTA5NDhcdTA5NERcdTA5NTEtXHUwOTU3XHUwOTYyLVx1MDk2M1x1MDk4MVx1MDlCQ1x1MDlCRVx1MDlDMS1cdTA5QzRcdTA5Q0RcdTA5RDdcdTA5RTItXHUwOUUzXHUwQTAxLVx1MEEwMlx1MEEzQ1x1MEE0MS1cdTBBNDJcdTBBNDctXHUwQTQ4XHUwQTRCLVx1MEE0RFx1MEE1MVx1MEE3MC1cdTBBNzFcdTBBNzVcdTBBODEtXHUwQTgyXHUwQUJDXHUwQUMxLVx1MEFDNVx1MEFDNy1cdTBBQzhcdTBBQ0RcdTBBRTItXHUwQUUzXHUwQjAxXHUwQjNDXHUwQjNFXHUwQjNGXHUwQjQxLVx1MEI0NFx1MEI0RFx1MEI1Nlx1MEI1N1x1MEI2Mi1cdTBCNjNcdTBCODJcdTBCQkVcdTBCQzBcdTBCQ0RcdTBCRDdcdTBDMDBcdTBDM0UtXHUwQzQwXHUwQzQ2LVx1MEM0OFx1MEM0QS1cdTBDNERcdTBDNTUtXHUwQzU2XHUwQzYyLVx1MEM2M1x1MEM4MVx1MENCQ1x1MENCRlx1MENDMlx1MENDNlx1MENDQy1cdTBDQ0RcdTBDRDUtXHUwQ0Q2XHUwQ0UyLVx1MENFM1x1MEQwMVx1MEQzRVx1MEQ0MS1cdTBENDRcdTBENERcdTBENTdcdTBENjItXHUwRDYzXHUwRENBXHUwRENGXHUwREQyLVx1MERENFx1MERENlx1MERERlx1MEUzMVx1MEUzNC1cdTBFM0FcdTBFNDctXHUwRTRFXHUwRUIxXHUwRUI0LVx1MEVCOVx1MEVCQi1cdTBFQkNcdTBFQzgtXHUwRUNEXHUwRjE4LVx1MEYxOVx1MEYzNVx1MEYzN1x1MEYzOVx1MEY3MS1cdTBGN0VcdTBGODAtXHUwRjg0XHUwRjg2LVx1MEY4N1x1MEY4RC1cdTBGOTdcdTBGOTktXHUwRkJDXHUwRkM2XHUxMDJELVx1MTAzMFx1MTAzMi1cdTEwMzdcdTEwMzktXHUxMDNBXHUxMDNELVx1MTAzRVx1MTA1OC1cdTEwNTlcdTEwNUUtXHUxMDYwXHUxMDcxLVx1MTA3NFx1MTA4Mlx1MTA4NS1cdTEwODZcdTEwOERcdTEwOURcdTEzNUQtXHUxMzVGXHUxNzEyLVx1MTcxNFx1MTczMi1cdTE3MzRcdTE3NTItXHUxNzUzXHUxNzcyLVx1MTc3M1x1MTdCNC1cdTE3QjVcdTE3QjctXHUxN0JEXHUxN0M2XHUxN0M5LVx1MTdEM1x1MTdERFx1MTgwQi1cdTE4MERcdTE4QTlcdTE5MjAtXHUxOTIyXHUxOTI3LVx1MTkyOFx1MTkzMlx1MTkzOS1cdTE5M0JcdTFBMTctXHUxQTE4XHUxQTFCXHUxQTU2XHUxQTU4LVx1MUE1RVx1MUE2MFx1MUE2Mlx1MUE2NS1cdTFBNkNcdTFBNzMtXHUxQTdDXHUxQTdGXHUxQUIwLVx1MUFCRFx1MUFCRVx1MUIwMC1cdTFCMDNcdTFCMzRcdTFCMzYtXHUxQjNBXHUxQjNDXHUxQjQyXHUxQjZCLVx1MUI3M1x1MUI4MC1cdTFCODFcdTFCQTItXHUxQkE1XHUxQkE4LVx1MUJBOVx1MUJBQi1cdTFCQURcdTFCRTZcdTFCRTgtXHUxQkU5XHUxQkVEXHUxQkVGLVx1MUJGMVx1MUMyQy1cdTFDMzNcdTFDMzYtXHUxQzM3XHUxQ0QwLVx1MUNEMlx1MUNENC1cdTFDRTBcdTFDRTItXHUxQ0U4XHUxQ0VEXHUxQ0Y0XHUxQ0Y4LVx1MUNGOVx1MURDMC1cdTFERjVcdTFERkMtXHUxREZGXHUyMDBDLVx1MjAwRFx1MjBEMC1cdTIwRENcdTIwREQtXHUyMEUwXHUyMEUxXHUyMEUyLVx1MjBFNFx1MjBFNS1cdTIwRjBcdTJDRUYtXHUyQ0YxXHUyRDdGXHUyREUwLVx1MkRGRlx1MzAyQS1cdTMwMkRcdTMwMkUtXHUzMDJGXHUzMDk5LVx1MzA5QVx1QTY2Rlx1QTY3MC1cdUE2NzJcdUE2NzQtXHVBNjdEXHVBNjlFLVx1QTY5Rlx1QTZGMC1cdUE2RjFcdUE4MDJcdUE4MDZcdUE4MEJcdUE4MjUtXHVBODI2XHVBOEM0XHVBOEUwLVx1QThGMVx1QTkyNi1cdUE5MkRcdUE5NDctXHVBOTUxXHVBOTgwLVx1QTk4Mlx1QTlCM1x1QTlCNi1cdUE5QjlcdUE5QkNcdUE5RTVcdUFBMjktXHVBQTJFXHVBQTMxLVx1QUEzMlx1QUEzNS1cdUFBMzZcdUFBNDNcdUFBNENcdUFBN0NcdUFBQjBcdUFBQjItXHVBQUI0XHVBQUI3LVx1QUFCOFx1QUFCRS1cdUFBQkZcdUFBQzFcdUFBRUMtXHVBQUVEXHVBQUY2XHVBQkU1XHVBQkU4XHVBQkVEXHVGQjFFXHVGRTAwLVx1RkUwRlx1RkUyMC1cdUZFMkZcdUZGOUUtXHVGRjlGXSIpLAogICAgICBTcyA9IGZ1bmN0aW9uIFNzKGUpIHsKICAgIHJldHVybiAic3RyaW5nIiA9PSB0eXBlb2YgZSAmJiA3NjggPD0gZS5jaGFyQ29kZUF0KDApICYmIHhzLnRlc3QoZSk7CiAgfSwKICAgICAgTnMgPSBBbiwKICAgICAgRXMgPSBMbywKICAgICAga3MgPSBUbigiZGlzcGxheSIsICJibG9jayB0YWJsZSIpLAogICAgICBfcyA9IFRuKCJmbG9hdCIsICJsZWZ0IHJpZ2h0IiksCiAgICAgIEFzID0gZnVuY3Rpb24gKCkgewogICAgZm9yICh2YXIgbiA9IFtdLCBlID0gMDsgZSA8IGFyZ3VtZW50cy5sZW5ndGg7IGUrKykgewogICAgICBuW2VdID0gYXJndW1lbnRzW2VdOwogICAgfQoKICAgIHJldHVybiBmdW5jdGlvbiAoZSkgewogICAgICBmb3IgKHZhciB0ID0gMDsgdCA8IG4ubGVuZ3RoOyB0KyspIHsKICAgICAgICBpZiAoIW5bdF0oZSkpIHJldHVybiAhMTsKICAgICAgfQoKICAgICAgcmV0dXJuICEwOwogICAgfTsKICB9KE5zLCBFcywgZChfcykpLAogICAgICBScyA9IGQoVG4oIndoaXRlLXNwYWNlIiwgInByZSBwcmUtbGluZSBwcmUtd3JhcCIpKSwKICAgICAgVHMgPSBJbiwKICAgICAgRHMgPSB6biwKICAgICAgT3MgPSBFdS5ub2RlSW5kZXgsCiAgICAgIEJzID0gd3MsCiAgICAgIFBzID0gZnVuY3Rpb24gUHMoZSkgewogICAgcmV0dXJuICJjcmVhdGVSYW5nZSIgaW4gZSA/IGUuY3JlYXRlUmFuZ2UoKSA6IEV1LkRPTS5jcmVhdGVSbmcoKTsKICB9LAogICAgICBMcyA9IGZ1bmN0aW9uIExzKGUpIHsKICAgIHJldHVybiBlICYmIC9bXHJcblx0IF0vLnRlc3QoZSk7CiAgfSwKICAgICAgSXMgPSBmdW5jdGlvbiBJcyhlKSB7CiAgICByZXR1cm4gISFlLnNldFN0YXJ0ICYmICEhZS5zZXRFbmQ7CiAgfSwKICAgICAgTXMgPSBmdW5jdGlvbiBNcyhlKSB7CiAgICB2YXIgdCwKICAgICAgICBuID0gZS5zdGFydENvbnRhaW5lciwKICAgICAgICByID0gZS5zdGFydE9mZnNldDsKICAgIHJldHVybiAhIShMcyhlLnRvU3RyaW5nKCkpICYmIFJzKG4ucGFyZW50Tm9kZSkgJiYgSW4obikgJiYgKHQgPSBuLmRhdGEsIExzKHRbciAtIDFdKSB8fCBMcyh0W3IgKyAxXSkpKTsKICB9LAogICAgICBGcyA9IGZ1bmN0aW9uIEZzKGUpIHsKICAgIHJldHVybiAwID09PSBlLmxlZnQgJiYgMCA9PT0gZS5yaWdodCAmJiAwID09PSBlLnRvcCAmJiAwID09PSBlLmJvdHRvbTsKICB9LAogICAgICBVcyA9IGZ1bmN0aW9uIFVzKGUpIHsKICAgIHZhciB0ID0gZS5nZXRDbGllbnRSZWN0cygpLAogICAgICAgIG4gPSAwIDwgdC5sZW5ndGggPyBwcyh0WzBdKSA6IHBzKGUuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkpOwogICAgcmV0dXJuICFJcyhlKSAmJiBEcyhlKSAmJiBGcyhuKSA/IGZ1bmN0aW9uIChlKSB7CiAgICAgIHZhciB0ID0gZS5vd25lckRvY3VtZW50LAogICAgICAgICAgbiA9IFBzKHQpLAogICAgICAgICAgciA9IHQuY3JlYXRlVGV4dE5vZGUobG8pLAogICAgICAgICAgbyA9IGUucGFyZW50Tm9kZTsKICAgICAgby5pbnNlcnRCZWZvcmUociwgZSksIG4uc2V0U3RhcnQociwgMCksIG4uc2V0RW5kKHIsIDEpOwogICAgICB2YXIgaSA9IHBzKG4uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkpOwogICAgICByZXR1cm4gby5yZW1vdmVDaGlsZChyKSwgaTsKICAgIH0oZSkgOiBGcyhuKSAmJiBJcyhlKSA/IGZ1bmN0aW9uIChlKSB7CiAgICAgIHZhciB0ID0gZS5zdGFydENvbnRhaW5lciwKICAgICAgICAgIG4gPSBlLmVuZENvbnRhaW5lciwKICAgICAgICAgIHIgPSBlLnN0YXJ0T2Zmc2V0LAogICAgICAgICAgbyA9IGUuZW5kT2Zmc2V0OwoKICAgICAgaWYgKHQgPT09IG4gJiYgSW4obikgJiYgMCA9PT0gciAmJiAxID09PSBvKSB7CiAgICAgICAgdmFyIGkgPSBlLmNsb25lUmFuZ2UoKTsKICAgICAgICByZXR1cm4gaS5zZXRFbmRBZnRlcihuKSwgVXMoaSk7CiAgICAgIH0KCiAgICAgIHJldHVybiBudWxsOwogICAgfShlKSA6IG47CiAgfSwKICAgICAgenMgPSBmdW5jdGlvbiB6cyhlLCB0KSB7CiAgICB2YXIgbiA9IGdzKGUsIHQpOwogICAgcmV0dXJuIG4ud2lkdGggPSAxLCBuLnJpZ2h0ID0gbi5sZWZ0ICsgMSwgbjsKICB9LAogICAgICBqcyA9IGZ1bmN0aW9uIGpzKGUpIHsKICAgIHZhciB0LAogICAgICAgIG4sCiAgICAgICAgciA9IFtdLAogICAgICAgIG8gPSBmdW5jdGlvbiBvKGUpIHsKICAgICAgdmFyIHQsIG47CiAgICAgIDAgIT09IGUuaGVpZ2h0ICYmICgwIDwgci5sZW5ndGggJiYgKHQgPSBlLCBuID0gcltyLmxlbmd0aCAtIDFdLCB0LmxlZnQgPT09IG4ubGVmdCAmJiB0LnRvcCA9PT0gbi50b3AgJiYgdC5ib3R0b20gPT09IG4uYm90dG9tICYmIHQucmlnaHQgPT09IG4ucmlnaHQpIHx8IHIucHVzaChlKSk7CiAgICB9LAogICAgICAgIGkgPSBmdW5jdGlvbiBpKGUsIHQpIHsKICAgICAgdmFyIG4gPSBQcyhlLm93bmVyRG9jdW1lbnQpOwoKICAgICAgaWYgKHQgPCBlLmRhdGEubGVuZ3RoKSB7CiAgICAgICAgaWYgKFNzKGUuZGF0YVt0XSkpIHJldHVybiByOwogICAgICAgIGlmIChTcyhlLmRhdGFbdCAtIDFdKSAmJiAobi5zZXRTdGFydChlLCB0KSwgbi5zZXRFbmQoZSwgdCArIDEpLCAhTXMobikpKSByZXR1cm4gbyh6cyhVcyhuKSwgITEpKSwgcjsKICAgICAgfQoKICAgICAgMCA8IHQgJiYgKG4uc2V0U3RhcnQoZSwgdCAtIDEpLCBuLnNldEVuZChlLCB0KSwgTXMobikgfHwgbyh6cyhVcyhuKSwgITEpKSksIHQgPCBlLmRhdGEubGVuZ3RoICYmIChuLnNldFN0YXJ0KGUsIHQpLCBuLnNldEVuZChlLCB0ICsgMSksIE1zKG4pIHx8IG8oenMoVXMobiksICEwKSkpOwogICAgfTsKCiAgICBpZiAoVHMoZS5jb250YWluZXIoKSkpIHJldHVybiBpKGUuY29udGFpbmVyKCksIGUub2Zmc2V0KCkpLCByOwogICAgaWYgKE5zKGUuY29udGFpbmVyKCkpKSBpZiAoZS5pc0F0RW5kKCkpIG4gPSBCcyhlLmNvbnRhaW5lcigpLCBlLm9mZnNldCgpKSwgVHMobikgJiYgaShuLCBuLmRhdGEubGVuZ3RoKSwgQXMobikgJiYgIURzKG4pICYmIG8oenMoVXMobiksICExKSk7ZWxzZSB7CiAgICAgIGlmIChuID0gQnMoZS5jb250YWluZXIoKSwgZS5vZmZzZXQoKSksIFRzKG4pICYmIGkobiwgMCksIEFzKG4pICYmIGUuaXNBdEVuZCgpKSByZXR1cm4gbyh6cyhVcyhuKSwgITEpKSwgcjsKICAgICAgdCA9IEJzKGUuY29udGFpbmVyKCksIGUub2Zmc2V0KCkgLSAxKSwgQXModCkgJiYgIURzKHQpICYmICgha3ModCkgJiYgIWtzKG4pICYmIEFzKG4pIHx8IG8oenMoVXModCksICExKSkpLCBBcyhuKSAmJiBvKHpzKFVzKG4pLCAhMCkpOwogICAgfQogICAgcmV0dXJuIHI7CiAgfTsKCiAgZnVuY3Rpb24gSHModCwgbiwgZSkgewogICAgdmFyIHIgPSBmdW5jdGlvbiByKCkgewogICAgICByZXR1cm4gZSA9IGUgfHwganMoSHModCwgbikpOwogICAgfTsKCiAgICByZXR1cm4gewogICAgICBjb250YWluZXI6IEUodCksCiAgICAgIG9mZnNldDogRShuKSwKICAgICAgdG9SYW5nZTogZnVuY3Rpb24gdG9SYW5nZSgpIHsKICAgICAgICB2YXIgZSA9IFBzKHQub3duZXJEb2N1bWVudCk7CiAgICAgICAgcmV0dXJuIGUuc2V0U3RhcnQodCwgbiksIGUuc2V0RW5kKHQsIG4pLCBlOwogICAgICB9LAogICAgICBnZXRDbGllbnRSZWN0czogciwKICAgICAgaXNWaXNpYmxlOiBmdW5jdGlvbiBpc1Zpc2libGUoKSB7CiAgICAgICAgcmV0dXJuIDAgPCByKCkubGVuZ3RoOwogICAgICB9LAogICAgICBpc0F0U3RhcnQ6IGZ1bmN0aW9uIGlzQXRTdGFydCgpIHsKICAgICAgICByZXR1cm4gVHModCksIDAgPT09IG47CiAgICAgIH0sCiAgICAgIGlzQXRFbmQ6IGZ1bmN0aW9uIGlzQXRFbmQoKSB7CiAgICAgICAgcmV0dXJuIFRzKHQpID8gbiA+PSB0LmRhdGEubGVuZ3RoIDogbiA+PSB0LmNoaWxkTm9kZXMubGVuZ3RoOwogICAgICB9LAogICAgICBpc0VxdWFsOiBmdW5jdGlvbiBpc0VxdWFsKGUpIHsKICAgICAgICByZXR1cm4gZSAmJiB0ID09PSBlLmNvbnRhaW5lcigpICYmIG4gPT09IGUub2Zmc2V0KCk7CiAgICAgIH0sCiAgICAgIGdldE5vZGU6IGZ1bmN0aW9uIGdldE5vZGUoZSkgewogICAgICAgIHJldHVybiBCcyh0LCBlID8gbiAtIDEgOiBuKTsKICAgICAgfQogICAgfTsKICB9CgogIChGdSA9IEhzID0gSHMgfHwge30pLmZyb21SYW5nZVN0YXJ0ID0gZnVuY3Rpb24gKGUpIHsKICAgIHJldHVybiBGdShlLnN0YXJ0Q29udGFpbmVyLCBlLnN0YXJ0T2Zmc2V0KTsKICB9LCBGdS5mcm9tUmFuZ2VFbmQgPSBmdW5jdGlvbiAoZSkgewogICAgcmV0dXJuIEZ1KGUuZW5kQ29udGFpbmVyLCBlLmVuZE9mZnNldCk7CiAgfSwgRnUuYWZ0ZXIgPSBmdW5jdGlvbiAoZSkgewogICAgcmV0dXJuIEZ1KGUucGFyZW50Tm9kZSwgT3MoZSkgKyAxKTsKICB9LCBGdS5iZWZvcmUgPSBmdW5jdGlvbiAoZSkgewogICAgcmV0dXJuIEZ1KGUucGFyZW50Tm9kZSwgT3MoZSkpOwogIH0sIEZ1LmlzQWJvdmUgPSBmdW5jdGlvbiAoZSwgdCkgewogICAgcmV0dXJuIGRzKG5lKHQuZ2V0Q2xpZW50UmVjdHMoKSksIHJlKGUuZ2V0Q2xpZW50UmVjdHMoKSksIHZzKS5nZXRPcighMSk7CiAgfSwgRnUuaXNCZWxvdyA9IGZ1bmN0aW9uIChlLCB0KSB7CiAgICByZXR1cm4gZHMocmUodC5nZXRDbGllbnRSZWN0cygpKSwgbmUoZS5nZXRDbGllbnRSZWN0cygpKSwgeXMpLmdldE9yKCExKTsKICB9LCBGdS5pc0F0U3RhcnQgPSBmdW5jdGlvbiAoZSkgewogICAgcmV0dXJuICEhZSAmJiBlLmlzQXRTdGFydCgpOwogIH0sIEZ1LmlzQXRFbmQgPSBmdW5jdGlvbiAoZSkgewogICAgcmV0dXJuICEhZSAmJiBlLmlzQXRFbmQoKTsKICB9LCBGdS5pc1RleHRQb3NpdGlvbiA9IGZ1bmN0aW9uIChlKSB7CiAgICByZXR1cm4gISFlICYmIEluKGUuY29udGFpbmVyKCkpOwogIH0sIEZ1LmlzRWxlbWVudFBvc2l0aW9uID0gZnVuY3Rpb24gKGUpIHsKICAgIHJldHVybiAhMSA9PT0gRnUuaXNUZXh0UG9zaXRpb24oZSk7CiAgfTsKCiAgdmFyIFZzLAogICAgICBxcywKICAgICAgJHMgPSBIcywKICAgICAgV3MgPSBmdW5jdGlvbiBXcyhlLCB0KSB7CiAgICBJbih0KSAmJiAwID09PSB0LmRhdGEubGVuZ3RoICYmIGUucmVtb3ZlKHQpOwogIH0sCiAgICAgIEtzID0gZnVuY3Rpb24gS3MoZSwgdCwgbikgewogICAgdmFyIHIsIG8sIGksIGEsIHUsIHMsIGM7CiAgICBVbihuKSA/IChpID0gZSwgYSA9IHQsIHUgPSBuLCBzID0gVS5mcm9tKHUuZmlyc3RDaGlsZCksIGMgPSBVLmZyb20odS5sYXN0Q2hpbGQpLCBhLmluc2VydE5vZGUodSksIHMuZWFjaChmdW5jdGlvbiAoZSkgewogICAgICByZXR1cm4gV3MoaSwgZS5wcmV2aW91c1NpYmxpbmcpOwogICAgfSksIGMuZWFjaChmdW5jdGlvbiAoZSkgewogICAgICByZXR1cm4gV3MoaSwgZS5uZXh0U2libGluZyk7CiAgICB9KSkgOiAociA9IGUsIG8gPSBuLCB0Lmluc2VydE5vZGUobyksIFdzKHIsIG8ucHJldmlvdXNTaWJsaW5nKSwgV3Mociwgby5uZXh0U2libGluZykpOwogIH0sCiAgICAgIFhzID0gSW4sCiAgICAgIFlzID0gT24sCiAgICAgIEdzID0gRXUubm9kZUluZGV4LAogICAgICBKcyA9IGZ1bmN0aW9uIEpzKGUpIHsKICAgIHZhciB0ID0gZS5wYXJlbnROb2RlOwogICAgcmV0dXJuIFlzKHQpID8gSnModCkgOiB0OwogIH0sCiAgICAgIFFzID0gZnVuY3Rpb24gUXMoZSkgewogICAgcmV0dXJuIGUgPyBTZShlLmNoaWxkTm9kZXMsIGZ1bmN0aW9uIChlLCB0KSB7CiAgICAgIHJldHVybiBZcyh0KSAmJiAiQlIiICE9PSB0Lm5vZGVOYW1lID8gZSA9IGUuY29uY2F0KFFzKHQpKSA6IGUucHVzaCh0KSwgZTsKICAgIH0sIFtdKSA6IFtdOwogIH0sCiAgICAgIFpzID0gZnVuY3Rpb24gWnModCkgewogICAgcmV0dXJuIGZ1bmN0aW9uIChlKSB7CiAgICAgIHJldHVybiB0ID09PSBlOwogICAgfTsKICB9LAogICAgICBlYyA9IGZ1bmN0aW9uIGVjKGUpIHsKICAgIHZhciB0ID0gWHMoZSkgPyAidGV4dCgpIiA6IGUubm9kZU5hbWUudG9Mb3dlckNhc2UoKTsKICAgIHJldHVybiB0ICsgIlsiICsgZnVuY3Rpb24gKGUpIHsKICAgICAgdmFyIHIgPSBRcyhKcyhlKSksCiAgICAgICAgICB0ID0gTmUociwgWnMoZSksIGUpOwogICAgICByID0gci5zbGljZSgwLCB0ICsgMSk7CiAgICAgIHZhciBuID0gU2UociwgZnVuY3Rpb24gKGUsIHQsIG4pIHsKICAgICAgICByZXR1cm4gWHModCkgJiYgWHMocltuIC0gMV0pICYmIGUrKywgZTsKICAgICAgfSwgMCk7CiAgICAgIHJldHVybiByID0gd2UociwgUm4oW2Uubm9kZU5hbWVdKSksICh0ID0gTmUociwgWnMoZSksIGUpKSAtIG47CiAgICB9KGUpICsgIl0iOwogIH0sCiAgICAgIHRjID0gZnVuY3Rpb24gdGMoZSwgdCkgewogICAgdmFyIG4sCiAgICAgICAgciwKICAgICAgICBvLAogICAgICAgIGkgPSBbXSwKICAgICAgICBhID0gdC5jb250YWluZXIoKSwKICAgICAgICB1ID0gdC5vZmZzZXQoKTsKICAgIHJldHVybiBYcyhhKSA/IG4gPSBmdW5jdGlvbiAoZSwgdCkgewogICAgICBmb3IgKDsgKGUgPSBlLnByZXZpb3VzU2libGluZykgJiYgWHMoZSk7KSB7CiAgICAgICAgdCArPSBlLmRhdGEubGVuZ3RoOwogICAgICB9CgogICAgICByZXR1cm4gdDsKICAgIH0oYSwgdSkgOiAodSA+PSAociA9IGEuY2hpbGROb2RlcykubGVuZ3RoID8gKG4gPSAiYWZ0ZXIiLCB1ID0gci5sZW5ndGggLSAxKSA6IG4gPSAiYmVmb3JlIiwgYSA9IHJbdV0pLCBpLnB1c2goZWMoYSkpLCBvID0gZnVuY3Rpb24gKGUsIHQsIG4pIHsKICAgICAgdmFyIHIgPSBbXTsKCiAgICAgIGZvciAodCA9IHQucGFyZW50Tm9kZTsgdCAhPT0gZSAmJiAoIW4gfHwgIW4odCkpOyB0ID0gdC5wYXJlbnROb2RlKSB7CiAgICAgICAgci5wdXNoKHQpOwogICAgICB9CgogICAgICByZXR1cm4gcjsKICAgIH0oZSwgYSksIG8gPSB3ZShvLCBkKE9uKSksIChpID0gaS5jb25jYXQoQ2UobywgZWMpKSkucmV2ZXJzZSgpLmpvaW4oIi8iKSArICIsIiArIG47CiAgfSwKICAgICAgbmMgPSBmdW5jdGlvbiBuYyhlLCB0KSB7CiAgICBpZiAoIXQpIHJldHVybiBudWxsOwogICAgdmFyIG4gPSB0LnNwbGl0KCIsIiksCiAgICAgICAgciA9IG5bMF0uc3BsaXQoIi8iKSwKICAgICAgICBvID0gMSA8IG4ubGVuZ3RoID8gblsxXSA6ICJiZWZvcmUiLAogICAgICAgIGkgPSBTZShyLCBmdW5jdGlvbiAoZSwgdCkgewogICAgICB2YXIgbiwKICAgICAgICAgIHIsCiAgICAgICAgICBvLAogICAgICAgICAgaSwKICAgICAgICAgIGEgPSAvKFtcd1wtXChcKV0rKVxbKFswLTldKylcXS8uZXhlYyh0KTsKICAgICAgcmV0dXJuIGEgPyAoInRleHQoKSIgPT09IGFbMV0gJiYgKGFbMV0gPSAiI3RleHQiKSwgbiA9IGUsIHIgPSBhWzFdLCBvID0gcGFyc2VJbnQoYVsyXSwgMTApLCBpID0gUXMobiksIGkgPSB3ZShpLCBmdW5jdGlvbiAoZSwgdCkgewogICAgICAgIHJldHVybiAhWHMoZSkgfHwgIVhzKGlbdCAtIDFdKTsKICAgICAgfSksIChpID0gd2UoaSwgUm4oW3JdKSkpW29dKSA6IG51bGw7CiAgICB9LCBlKTsKICAgIHJldHVybiBpID8gWHMoaSkgPyBmdW5jdGlvbiAoZSwgdCkgewogICAgICBmb3IgKHZhciBuLCByID0gZSwgbyA9IDA7IFhzKHIpOykgewogICAgICAgIGlmIChuID0gci5kYXRhLmxlbmd0aCwgbyA8PSB0ICYmIHQgPD0gbyArIG4pIHsKICAgICAgICAgIGUgPSByLCB0IC09IG87CiAgICAgICAgICBicmVhazsKICAgICAgICB9CgogICAgICAgIGlmICghWHMoci5uZXh0U2libGluZykpIHsKICAgICAgICAgIGUgPSByLCB0ID0gbjsKICAgICAgICAgIGJyZWFrOwogICAgICAgIH0KCiAgICAgICAgbyArPSBuLCByID0gci5uZXh0U2libGluZzsKICAgICAgfQoKICAgICAgcmV0dXJuIFhzKGUpICYmIHQgPiBlLmRhdGEubGVuZ3RoICYmICh0ID0gZS5kYXRhLmxlbmd0aCksICRzKGUsIHQpOwogICAgfShpLCBwYXJzZUludChvLCAxMCkpIDogKG8gPSAiYWZ0ZXIiID09PSBvID8gR3MoaSkgKyAxIDogR3MoaSksICRzKGkucGFyZW50Tm9kZSwgbykpIDogbnVsbDsKICB9LAogICAgICByYyA9IFZuLAogICAgICBvYyA9IGZ1bmN0aW9uIG9jKGUsIHQsIG4sIHIsIG8pIHsKICAgIHZhciBpLAogICAgICAgIGEgPSByW28gPyAic3RhcnRDb250YWluZXIiIDogImVuZENvbnRhaW5lciJdLAogICAgICAgIHUgPSByW28gPyAic3RhcnRPZmZzZXQiIDogImVuZE9mZnNldCJdLAogICAgICAgIHMgPSBbXSwKICAgICAgICBjID0gMCwKICAgICAgICBsID0gZS5nZXRSb290KCk7CgogICAgZm9yIChJbihhKSA/IHMucHVzaChuID8gZnVuY3Rpb24gKGUsIHQsIG4pIHsKICAgICAgZm9yICh2YXIgciA9IGUodC5kYXRhLnNsaWNlKDAsIG4pKS5sZW5ndGgsIG8gPSB0LnByZXZpb3VzU2libGluZzsgbyAmJiBJbihvKTsgbyA9IG8ucHJldmlvdXNTaWJsaW5nKSB7CiAgICAgICAgciArPSBlKG8uZGF0YSkubGVuZ3RoOwogICAgICB9CgogICAgICByZXR1cm4gcjsKICAgIH0odCwgYSwgdSkgOiB1KSA6ICh1ID49IChpID0gYS5jaGlsZE5vZGVzKS5sZW5ndGggJiYgaS5sZW5ndGggJiYgKGMgPSAxLCB1ID0gTWF0aC5tYXgoMCwgaS5sZW5ndGggLSAxKSksIHMucHVzaChlLm5vZGVJbmRleChpW3VdLCBuKSArIGMpKTsgYSAmJiBhICE9PSBsOyBhID0gYS5wYXJlbnROb2RlKSB7CiAgICAgIHMucHVzaChlLm5vZGVJbmRleChhLCBuKSk7CiAgICB9CgogICAgcmV0dXJuIHM7CiAgfSwKICAgICAgaWMgPSBmdW5jdGlvbiBpYyhlLCB0LCBuKSB7CiAgICB2YXIgciA9IDA7CiAgICByZXR1cm4ga3QuZWFjaChlLnNlbGVjdCh0KSwgZnVuY3Rpb24gKGUpIHsKICAgICAgaWYgKCJhbGwiICE9PSBlLmdldEF0dHJpYnV0ZSgiZGF0YS1tY2UtYm9ndXMiKSkgcmV0dXJuIGUgIT09IG4gJiYgdm9pZCByKys7CiAgICB9KSwgcjsKICB9LAogICAgICBhYyA9IGZ1bmN0aW9uIGFjKGUsIHQpIHsKICAgIHZhciBuLAogICAgICAgIHIgPSB0ID8gInN0YXJ0IiA6ICJlbmQiLAogICAgICAgIG8gPSBlW3IgKyAiQ29udGFpbmVyIl0sCiAgICAgICAgaSA9IGVbciArICJPZmZzZXQiXTsKICAgIEFuKG8pICYmICJUUiIgPT09IG8ubm9kZU5hbWUgJiYgKG8gPSAobiA9IG8uY2hpbGROb2RlcylbTWF0aC5taW4odCA/IGkgOiBpIC0gMSwgbi5sZW5ndGggLSAxKV0pICYmIChpID0gdCA/IDAgOiBvLmNoaWxkTm9kZXMubGVuZ3RoLCBlWyJzZXQiICsgKHQgPyAiU3RhcnQiIDogIkVuZCIpXShvLCBpKSk7CiAgfSwKICAgICAgdWMgPSBmdW5jdGlvbiB1YyhlKSB7CiAgICByZXR1cm4gYWMoZSwgITApLCBhYyhlLCAhMSksIGU7CiAgfSwKICAgICAgc2MgPSBmdW5jdGlvbiBzYyhlLCB0KSB7CiAgICB2YXIgbjsKICAgIGlmIChBbihlKSAmJiAoZSA9IHdzKGUsIHQpLCByYyhlKSkpIHJldHVybiBlOwoKICAgIGlmIChibyhlKSkgewogICAgICBpZiAoSW4oZSkgJiYgdm8oZSkgJiYgKGUgPSBlLnBhcmVudE5vZGUpLCBuID0gZS5wcmV2aW91c1NpYmxpbmcsIHJjKG4pKSByZXR1cm4gbjsKICAgICAgaWYgKG4gPSBlLm5leHRTaWJsaW5nLCByYyhuKSkgcmV0dXJuIG47CiAgICB9CiAgfSwKICAgICAgY2MgPSBmdW5jdGlvbiBjYyhlLCB0LCBuKSB7CiAgICB2YXIgciA9IG4uZ2V0Tm9kZSgpLAogICAgICAgIG8gPSByID8gci5ub2RlTmFtZSA6IG51bGwsCiAgICAgICAgaSA9IG4uZ2V0Um5nKCk7CiAgICBpZiAocmMocikgfHwgIklNRyIgPT09IG8pIHJldHVybiB7CiAgICAgIG5hbWU6IG8sCiAgICAgIGluZGV4OiBpYyhuLmRvbSwgbywgcikKICAgIH07CiAgICB2YXIgYSwKICAgICAgICB1LAogICAgICAgIHMsCiAgICAgICAgYywKICAgICAgICBsLAogICAgICAgIGYsCiAgICAgICAgZCwKICAgICAgICBtID0gc2MoKGEgPSBpKS5zdGFydENvbnRhaW5lciwgYS5zdGFydE9mZnNldCkgfHwgc2MoYS5lbmRDb250YWluZXIsIGEuZW5kT2Zmc2V0KTsKICAgIHJldHVybiBtID8gewogICAgICBuYW1lOiBvID0gbS50YWdOYW1lLAogICAgICBpbmRleDogaWMobi5kb20sIG8sIG0pCiAgICB9IDogKHUgPSBlLCBjID0gdCwgbCA9IGksIGYgPSAocyA9IG4pLmRvbSwgKGQgPSB7fSkuc3RhcnQgPSBvYyhmLCB1LCBjLCBsLCAhMCksIHMuaXNDb2xsYXBzZWQoKSB8fCAoZC5lbmQgPSBvYyhmLCB1LCBjLCBsLCAhMSkpLCBkKTsKICB9LAogICAgICBsYyA9IGZ1bmN0aW9uIGxjKGUsIHQsIG4pIHsKICAgIHZhciByID0gewogICAgICAiZGF0YS1tY2UtdHlwZSI6ICJib29rbWFyayIsCiAgICAgIGlkOiB0LAogICAgICBzdHlsZTogIm92ZXJmbG93OmhpZGRlbjtsaW5lLWhlaWdodDowcHgiCiAgICB9OwogICAgcmV0dXJuIG4gPyBlLmNyZWF0ZSgic3BhbiIsIHIsICImI3hGRUZGOyIpIDogZS5jcmVhdGUoInNwYW4iLCByKTsKICB9LAogICAgICBmYyA9IGZ1bmN0aW9uIGZjKGUsIHQpIHsKICAgIHZhciBuID0gZS5kb20sCiAgICAgICAgciA9IGUuZ2V0Um5nKCksCiAgICAgICAgbyA9IG4udW5pcXVlSWQoKSwKICAgICAgICBpID0gZS5pc0NvbGxhcHNlZCgpLAogICAgICAgIGEgPSBlLmdldE5vZGUoKSwKICAgICAgICB1ID0gYS5ub2RlTmFtZTsKICAgIGlmICgiSU1HIiA9PT0gdSkgcmV0dXJuIHsKICAgICAgbmFtZTogdSwKICAgICAgaW5kZXg6IGljKG4sIHUsIGEpCiAgICB9OwogICAgdmFyIHMsCiAgICAgICAgYyA9IHVjKHIuY2xvbmVSYW5nZSgpKTsKICAgIGkgfHwgKGMuY29sbGFwc2UoITEpLCBzID0gbGMobiwgbyArICJfZW5kIiwgdCksIEtzKG4sIGMsIHMpKSwgKHIgPSB1YyhyKSkuY29sbGFwc2UoITApOwogICAgdmFyIGwgPSBsYyhuLCBvICsgIl9zdGFydCIsIHQpOwogICAgcmV0dXJuIEtzKG4sIHIsIGwpLCBlLm1vdmVUb0Jvb2ttYXJrKHsKICAgICAgaWQ6IG8sCiAgICAgIGtlZXA6ICEwCiAgICB9KSwgewogICAgICBpZDogbwogICAgfTsKICB9LAogICAgICBkYyA9IGZ1bmN0aW9uIGRjKGUsIHQsIG4pIHsKICAgIHJldHVybiAyID09PSB0ID8gY2MocG8sIG4sIGUpIDogMyA9PT0gdCA/IChvID0gKHIgPSBlKS5nZXRSbmcoKSwgewogICAgICBzdGFydDogdGMoci5kb20uZ2V0Um9vdCgpLCAkcy5mcm9tUmFuZ2VTdGFydChvKSksCiAgICAgIGVuZDogdGMoci5kb20uZ2V0Um9vdCgpLCAkcy5mcm9tUmFuZ2VFbmQobykpCiAgICB9KSA6IHQgPyB7CiAgICAgIHJuZzogZS5nZXRSbmcoKQogICAgfSA6IGZjKGUsICExKTsKICAgIHZhciByLCBvOwogIH0sCiAgICAgIG1jID0gTihjYywgbywgITApLAogICAgICBwYyA9IEV1LkRPTSwKICAgICAgZ2MgPSBmdW5jdGlvbiBnYyhlLCB0LCBuKSB7CiAgICB2YXIgciA9IGUuZ2V0UGFyYW0odCwgbik7CiAgICBpZiAoLTEgPT09IHIuaW5kZXhPZigiPSIpKSByZXR1cm4gcjsKICAgIHZhciBvID0gZS5nZXRQYXJhbSh0LCAiIiwgImhhc2giKTsKICAgIHJldHVybiBvLmhhc093blByb3BlcnR5KGUuaWQpID8gb1tlLmlkXSA6IG47CiAgfSwKICAgICAgaGMgPSBmdW5jdGlvbiBoYyhlKSB7CiAgICByZXR1cm4gZS5nZXRQYXJhbSgiY29udGVudF9zZWN1cml0eV9wb2xpY3kiLCAiIik7CiAgfSwKICAgICAgdmMgPSBmdW5jdGlvbiB2YyhlKSB7CiAgICBpZiAoZS5nZXRQYXJhbSgiZm9yY2VfcF9uZXdsaW5lcyIsICExKSkgcmV0dXJuICJwIjsKICAgIHZhciB0ID0gZS5nZXRQYXJhbSgiZm9yY2VkX3Jvb3RfYmxvY2siLCAicCIpOwogICAgcmV0dXJuICExID09PSB0ID8gIiIgOiAhMCA9PT0gdCA/ICJwIiA6IHQ7CiAgfSwKICAgICAgeWMgPSBmdW5jdGlvbiB5YyhlKSB7CiAgICByZXR1cm4gZS5nZXRQYXJhbSgiZm9yY2VkX3Jvb3RfYmxvY2tfYXR0cnMiLCB7fSk7CiAgfSwKICAgICAgYmMgPSBmdW5jdGlvbiBiYyhlKSB7CiAgICByZXR1cm4gZS5nZXRQYXJhbSgiYXV0b21hdGljX3VwbG9hZHMiLCAhMCwgImJvb2xlYW4iKTsKICB9LAogICAgICBDYyA9IGZ1bmN0aW9uIENjKGUpIHsKICAgIHJldHVybiBlLmdldFBhcmFtKCJpY29ucyIsICIiLCAic3RyaW5nIik7CiAgfSwKICAgICAgd2MgPSBmdW5jdGlvbiB3YyhlKSB7CiAgICByZXR1cm4gZS5nZXRQYXJhbSgicmVmZXJyZXJfcG9saWN5IiwgIiIsICJzdHJpbmciKTsKICB9LAogICAgICB4YyA9IGZ1bmN0aW9uIHhjKGUpIHsKICAgIHJldHVybiBlLmdldFBhcmFtKCJsYW5ndWFnZSIsICJlbiIsICJzdHJpbmciKTsKICB9LAogICAgICBTYyA9IGZ1bmN0aW9uIFNjKGUpIHsKICAgIHJldHVybiBlLmdldFBhcmFtKCJpbmRlbnRfdXNlX21hcmdpbiIsICExKTsKICB9LAogICAgICBOYyA9IGZ1bmN0aW9uIE5jKGUpIHsKICAgIHZhciB0ID0gZS5nZXRQYXJhbSgib2JqZWN0X3Jlc2l6aW5nIik7CiAgICByZXR1cm4gITEgIT09IHQgJiYgIXd0LmlPUyAmJiAocSh0KSA/IHQgOiAidGFibGUsaW1nLGZpZ3VyZS5pbWFnZSxkaXYiKTsKICB9LAogICAgICBFYyA9IGZ1bmN0aW9uIEVjKGUpIHsKICAgIHJldHVybiBlLmdldFBhcmFtKCJldmVudF9yb290Iik7CiAgfSwKICAgICAga2MgPSBmdW5jdGlvbiBrYyhlKSB7CiAgICByZXR1cm4gZS5nZXRQYXJhbSgidGhlbWUiKTsKICB9LAogICAgICBfYyA9IGZ1bmN0aW9uIF9jKGUpIHsKICAgIHJldHVybiAhMSAhPT0gZS5nZXRQYXJhbSgiaW5saW5lX2JvdW5kYXJpZXMiKTsKICB9LAogICAgICBBYyA9IGZ1bmN0aW9uIEFjKGUpIHsKICAgIHJldHVybiBlLmdldFBhcmFtKCJwbHVnaW5zIiwgIiIsICJzdHJpbmciKTsKICB9LAogICAgICBSYyA9IEFuLAogICAgICBUYyA9IEluLAogICAgICBEYyA9IGZ1bmN0aW9uIERjKGUpIHsKICAgIHZhciB0ID0gZS5wYXJlbnROb2RlOwogICAgdCAmJiB0LnJlbW92ZUNoaWxkKGUpOwogIH0sCiAgICAgIE9jID0gZnVuY3Rpb24gT2MoZSkgewogICAgdmFyIHQgPSBwbyhlKTsKICAgIHJldHVybiB7CiAgICAgIGNvdW50OiBlLmxlbmd0aCAtIHQubGVuZ3RoLAogICAgICB0ZXh0OiB0CiAgICB9OwogIH0sCiAgICAgIEJjID0gZnVuY3Rpb24gQmMoZSkgewogICAgZm9yICh2YXIgdDsgLTEgIT09ICh0ID0gZS5kYXRhLmxhc3RJbmRleE9mKGZvKSk7KSB7CiAgICAgIGUuZGVsZXRlRGF0YSh0LCAxKTsKICAgIH0KICB9LAogICAgICBQYyA9IGZ1bmN0aW9uIFBjKGUsIHQpIHsKICAgIHJldHVybiBGYyhlKSwgdDsKICB9LAogICAgICBMYyA9IGZ1bmN0aW9uIExjKGUsIHQpIHsKICAgIHZhciBuLAogICAgICAgIHIsCiAgICAgICAgbyA9IHQuY29udGFpbmVyKCksCiAgICAgICAgaSA9IChuID0gb2Uoby5jaGlsZE5vZGVzKSwgKC0xID09PSAociA9IEkobiwgZSkpID8gVS5ub25lKCkgOiBVLnNvbWUocikpLm1hcChmdW5jdGlvbiAoZSkgewogICAgICByZXR1cm4gZSA8IHQub2Zmc2V0KCkgPyAkcyhvLCB0Lm9mZnNldCgpIC0gMSkgOiB0OwogICAgfSkuZ2V0T3IodCkpOwogICAgcmV0dXJuIEZjKGUpLCBpOwogIH0sCiAgICAgIEljID0gZnVuY3Rpb24gSWMoZSwgdCkgewogICAgcmV0dXJuIFRjKGUpICYmIHQuY29udGFpbmVyKCkgPT09IGUgPyAociA9IHQsIG8gPSBPYygobiA9IGUpLmRhdGEuc3Vic3RyKDAsIHIub2Zmc2V0KCkpKSwgaSA9IE9jKG4uZGF0YS5zdWJzdHIoci5vZmZzZXQoKSkpLCAwIDwgKG8udGV4dCArIGkudGV4dCkubGVuZ3RoID8gKEJjKG4pLCAkcyhuLCByLm9mZnNldCgpIC0gby5jb3VudCkpIDogcikgOiBQYyhlLCB0KTsKICAgIHZhciBuLCByLCBvLCBpOwogIH0sCiAgICAgIE1jID0gZnVuY3Rpb24gTWMoZSwgdCkgewogICAgcmV0dXJuICRzLmlzVGV4dFBvc2l0aW9uKHQpID8gSWMoZSwgdCkgOiAobiA9IGUsICgociA9IHQpLmNvbnRhaW5lcigpID09PSBuLnBhcmVudE5vZGUgPyBMYyA6IFBjKShuLCByKSk7CiAgICB2YXIgbiwgcjsKICB9LAogICAgICBGYyA9IGZ1bmN0aW9uIEZjKGUpIHsKICAgIFJjKGUpICYmIGJvKGUpICYmIChDbyhlKSA/IGUucmVtb3ZlQXR0cmlidXRlKCJkYXRhLW1jZS1jYXJldCIpIDogRGMoZSkpLCBUYyhlKSAmJiAoQmMoZSksIDAgPT09IGUuZGF0YS5sZW5ndGggJiYgRGMoZSkpOwogIH0sCiAgICAgIFVjID0gZHQoKS5icm93c2VyLAogICAgICB6YyA9IFZuLAogICAgICBqYyA9ICRuLAogICAgICBIYyA9IHFuLAogICAgICBWYyA9IGZ1bmN0aW9uIFZjKGUsIHQsIG4pIHsKICAgIHZhciByLAogICAgICAgIG8sCiAgICAgICAgaSwKICAgICAgICBhLAogICAgICAgIHUgPSBncyh0LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLCBuKSwKICAgICAgICBzID0gIkJPRFkiID09PSBlLnRhZ05hbWUgPyAociA9IGUub3duZXJEb2N1bWVudC5kb2N1bWVudEVsZW1lbnQsIG8gPSBlLnNjcm9sbExlZnQgfHwgci5zY3JvbGxMZWZ0LCBlLnNjcm9sbFRvcCB8fCByLnNjcm9sbFRvcCkgOiAoYSA9IGUuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksIG8gPSBlLnNjcm9sbExlZnQgLSBhLmxlZnQsIGUuc2Nyb2xsVG9wIC0gYS50b3ApOwogICAgcmV0dXJuIHUubGVmdCArPSBvLCB1LnJpZ2h0ICs9IG8sIHUudG9wICs9IHMsIHUuYm90dG9tICs9IHMsIHUud2lkdGggPSAxLCAwIDwgKGkgPSB0Lm9mZnNldFdpZHRoIC0gdC5jbGllbnRXaWR0aCkgJiYgKG4gJiYgKGkgKj0gLTEpLCB1LmxlZnQgKz0gaSwgdS5yaWdodCArPSBpKSwgdTsKICB9LAogICAgICBxYyA9IGZ1bmN0aW9uIHFjKGUsIGksIGEsIHQpIHsKICAgIHZhciBuLAogICAgICAgIHUsCiAgICAgICAgcyA9IE91KFUubm9uZSgpKSwKICAgICAgICByID0gdmMoZSksCiAgICAgICAgYyA9IDAgPCByLmxlbmd0aCA/IHIgOiAicCIsCiAgICAgICAgbCA9IGZ1bmN0aW9uIGwoKSB7CiAgICAgICFmdW5jdGlvbiAoZSkgewogICAgICAgIGZvciAodmFyIHQgPSBHdShBdC5mcm9tRG9tKGUpLCAiKltjb250ZW50RWRpdGFibGU9ZmFsc2VdLHZpZGVvLGF1ZGlvLGVtYmVkLG9iamVjdCIpLCBuID0gMDsgbiA8IHQubGVuZ3RoOyBuKyspIHsKICAgICAgICAgIHZhciByLAogICAgICAgICAgICAgIG8gPSB0W25dLmRvbSwKICAgICAgICAgICAgICBpID0gby5wcmV2aW91c1NpYmxpbmc7CiAgICAgICAgICBFbyhpKSAmJiAoMSA9PT0gKHIgPSBpLmRhdGEpLmxlbmd0aCA/IGkucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChpKSA6IGkuZGVsZXRlRGF0YShyLmxlbmd0aCAtIDEsIDEpKSwgaSA9IG8ubmV4dFNpYmxpbmcsIE5vKGkpICYmICgxID09PSAociA9IGkuZGF0YSkubGVuZ3RoID8gaS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGkpIDogaS5kZWxldGVEYXRhKDAsIDEpKTsKICAgICAgICB9CiAgICAgIH0oaSksIHUgJiYgKEZjKHUpLCB1ID0gbnVsbCksIHMuZ2V0KCkuZWFjaChmdW5jdGlvbiAoZSkgewogICAgICAgIGh1KGUuY2FyZXQpLnJlbW92ZSgpLCBzLnNldChVLm5vbmUoKSk7CiAgICAgIH0pLCBuICYmIChxci5jbGVhckludGVydmFsKG4pLCBuID0gbnVsbCk7CiAgICB9LAogICAgICAgIGYgPSBmdW5jdGlvbiBmKCkgewogICAgICBuID0gcXIuc2V0SW50ZXJ2YWwoZnVuY3Rpb24gKCkgewogICAgICAgIHQoKSA/IGh1KCJkaXYubWNlLXZpc3VhbC1jYXJldCIsIGkpLnRvZ2dsZUNsYXNzKCJtY2UtdmlzdWFsLWNhcmV0LWhpZGRlbiIpIDogaHUoImRpdi5tY2UtdmlzdWFsLWNhcmV0IiwgaSkuYWRkQ2xhc3MoIm1jZS12aXN1YWwtY2FyZXQtaGlkZGVuIik7CiAgICAgIH0sIDUwMCk7CiAgICB9OwoKICAgIHJldHVybiB7CiAgICAgIHNob3c6IGZ1bmN0aW9uIHNob3codCwgZSkgewogICAgICAgIHZhciBuLCByOwogICAgICAgIGlmIChsKCksIEhjKGUpKSByZXR1cm4gbnVsbDsKICAgICAgICBpZiAoIWEoZSkpIHJldHVybiB1ID0gZnVuY3Rpb24gKGUsIHQpIHsKICAgICAgICAgIHZhciBuLAogICAgICAgICAgICAgIHIgPSBlLm93bmVyRG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoZm8pLAogICAgICAgICAgICAgIG8gPSBlLnBhcmVudE5vZGU7CgogICAgICAgICAgaWYgKHQpIHsKICAgICAgICAgICAgaWYgKG4gPSBlLnByZXZpb3VzU2libGluZywgaG8obikpIHsKICAgICAgICAgICAgICBpZiAoYm8obikpIHJldHVybiBuOwogICAgICAgICAgICAgIGlmIChFbyhuKSkgcmV0dXJuIG4uc3BsaXRUZXh0KG4uZGF0YS5sZW5ndGggLSAxKTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgby5pbnNlcnRCZWZvcmUociwgZSk7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBpZiAobiA9IGUubmV4dFNpYmxpbmcsIGhvKG4pKSB7CiAgICAgICAgICAgICAgaWYgKGJvKG4pKSByZXR1cm4gbjsKICAgICAgICAgICAgICBpZiAoTm8obikpIHJldHVybiBuLnNwbGl0VGV4dCgxKSwgbjsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgZS5uZXh0U2libGluZyA/IG8uaW5zZXJ0QmVmb3JlKHIsIGUubmV4dFNpYmxpbmcpIDogby5hcHBlbmRDaGlsZChyKTsKICAgICAgICAgIH0KCiAgICAgICAgICByZXR1cm4gcjsKICAgICAgICB9KGUsIHQpLCByID0gZS5vd25lckRvY3VtZW50LmNyZWF0ZVJhbmdlKCksIFdjKHUubmV4dFNpYmxpbmcpID8gKHIuc2V0U3RhcnQodSwgMCksIHIuc2V0RW5kKHUsIDApKSA6IChyLnNldFN0YXJ0KHUsIDEpLCByLnNldEVuZCh1LCAxKSksIHI7CiAgICAgICAgdSA9IFNvKGMsIGUsIHQpLCBuID0gVmMoaSwgZSwgdCksIGh1KHUpLmNzcygidG9wIiwgbi50b3ApOwogICAgICAgIHZhciBvID0gaHUoJzxkaXYgY2xhc3M9Im1jZS12aXN1YWwtY2FyZXQiIGRhdGEtbWNlLWJvZ3VzPSJhbGwiPjwvZGl2PicpLmNzcyhuKS5hcHBlbmRUbyhpKVswXTsKICAgICAgICByZXR1cm4gcy5zZXQoVS5zb21lKHsKICAgICAgICAgIGNhcmV0OiBvLAogICAgICAgICAgZWxlbWVudDogZSwKICAgICAgICAgIGJlZm9yZTogdAogICAgICAgIH0pKSwgcy5nZXQoKS5lYWNoKGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICB0ICYmIGh1KGUuY2FyZXQpLmFkZENsYXNzKCJtY2UtdmlzdWFsLWNhcmV0LWJlZm9yZSIpOwogICAgICAgIH0pLCBmKCksIChyID0gZS5vd25lckRvY3VtZW50LmNyZWF0ZVJhbmdlKCkpLnNldFN0YXJ0KHUsIDApLCByLnNldEVuZCh1LCAwKSwgcjsKICAgICAgfSwKICAgICAgaGlkZTogbCwKICAgICAgZ2V0Q3NzOiBmdW5jdGlvbiBnZXRDc3MoKSB7CiAgICAgICAgcmV0dXJuICIubWNlLXZpc3VhbC1jYXJldCB7cG9zaXRpb246IGFic29sdXRlO2JhY2tncm91bmQtY29sb3I6IGJsYWNrO2JhY2tncm91bmQtY29sb3I6IGN1cnJlbnRjb2xvcjt9Lm1jZS12aXN1YWwtY2FyZXQtaGlkZGVuIHtkaXNwbGF5OiBub25lO30qW2RhdGEtbWNlLWNhcmV0XSB7cG9zaXRpb246IGFic29sdXRlO2xlZnQ6IC0xMDAwcHg7cmlnaHQ6IGF1dG87dG9wOiAwO21hcmdpbjogMDtwYWRkaW5nOiAwO30iOwogICAgICB9LAogICAgICByZXBvc2l0aW9uOiBmdW5jdGlvbiByZXBvc2l0aW9uKCkgewogICAgICAgIHMuZ2V0KCkuZWFjaChmdW5jdGlvbiAoZSkgewogICAgICAgICAgdmFyIHQgPSBWYyhpLCBlLmVsZW1lbnQsIGUuYmVmb3JlKTsKICAgICAgICAgIGh1KGUuY2FyZXQpLmNzcyhfa2Uoe30sIHQpKTsKICAgICAgICB9KTsKICAgICAgfSwKICAgICAgZGVzdHJveTogZnVuY3Rpb24gZGVzdHJveSgpIHsKICAgICAgICByZXR1cm4gcXIuY2xlYXJJbnRlcnZhbChuKTsKICAgICAgfQogICAgfTsKICB9LAogICAgICAkYyA9IGZ1bmN0aW9uICRjKCkgewogICAgcmV0dXJuIFVjLmlzSUUoKSB8fCBVYy5pc0VkZ2UoKSB8fCBVYy5pc0ZpcmVmb3goKTsKICB9LAogICAgICBXYyA9IGZ1bmN0aW9uIFdjKGUpIHsKICAgIHJldHVybiB6YyhlKSB8fCBqYyhlKTsKICB9LAogICAgICBLYyA9IGZ1bmN0aW9uIEtjKGUpIHsKICAgIHJldHVybiBXYyhlKSB8fCBCbihlKSAmJiAkYygpOwogIH0sCiAgICAgIFhjID0gVm4sCiAgICAgIFljID0gJG4sCiAgICAgIEdjID0gVG4oImRpc3BsYXkiLCAiYmxvY2sgdGFibGUgdGFibGUtY2VsbCB0YWJsZS1jYXB0aW9uIGxpc3QtaXRlbSIpLAogICAgICBKYyA9IGJvLAogICAgICBRYyA9IHZvLAogICAgICBaYyA9IEFuLAogICAgICBlbCA9IExvLAogICAgICB0bCA9IGZ1bmN0aW9uIHRsKGUsIHQpIHsKICAgIGZvciAodmFyIG47IG4gPSBlKHQpOykgewogICAgICBpZiAoIVFjKG4pKSByZXR1cm4gbjsKICAgIH0KCiAgICByZXR1cm4gbnVsbDsKICB9LAogICAgICBubCA9IGZ1bmN0aW9uIG5sKGUsIHQsIG4sIHIsIG8pIHsKICAgIHZhciBpID0gbmV3IFhyKGUsIHIpLAogICAgICAgIGEgPSBYYyhlKSB8fCBRYyhlKTsKCiAgICBpZiAodCA8IDApIHsKICAgICAgaWYgKGEgJiYgbihlID0gdGwoaS5wcmV2LCAhMCkpKSByZXR1cm4gZTsKCiAgICAgIGZvciAoOyBlID0gdGwoaS5wcmV2LCBvKTspIHsKICAgICAgICBpZiAobihlKSkgcmV0dXJuIGU7CiAgICAgIH0KICAgIH0KCiAgICBpZiAoMCA8IHQpIHsKICAgICAgaWYgKGEgJiYgbihlID0gdGwoaS5uZXh0LCAhMCkpKSByZXR1cm4gZTsKCiAgICAgIGZvciAoOyBlID0gdGwoaS5uZXh0LCBvKTspIHsKICAgICAgICBpZiAobihlKSkgcmV0dXJuIGU7CiAgICAgIH0KICAgIH0KCiAgICByZXR1cm4gbnVsbDsKICB9LAogICAgICBybCA9IGZ1bmN0aW9uIHJsKGUsIHQpIHsKICAgIGZvciAoOyBlICYmIGUgIT09IHQ7KSB7CiAgICAgIGlmIChHYyhlKSkgcmV0dXJuIGU7CiAgICAgIGUgPSBlLnBhcmVudE5vZGU7CiAgICB9CgogICAgcmV0dXJuIG51bGw7CiAgfSwKICAgICAgb2wgPSBmdW5jdGlvbiBvbChlLCB0LCBuKSB7CiAgICByZXR1cm4gcmwoZS5jb250YWluZXIoKSwgbikgPT09IHJsKHQuY29udGFpbmVyKCksIG4pOwogIH0sCiAgICAgIGlsID0gZnVuY3Rpb24gaWwoZSwgdCkgewogICAgaWYgKCF0KSByZXR1cm4gbnVsbDsKICAgIHZhciBuID0gdC5jb250YWluZXIoKSwKICAgICAgICByID0gdC5vZmZzZXQoKTsKICAgIHJldHVybiBaYyhuKSA/IG4uY2hpbGROb2Rlc1tyICsgZV0gOiBudWxsOwogIH0sCiAgICAgIGFsID0gZnVuY3Rpb24gYWwoZSwgdCkgewogICAgdmFyIG4gPSB0Lm93bmVyRG9jdW1lbnQuY3JlYXRlUmFuZ2UoKTsKICAgIHJldHVybiBlID8gKG4uc2V0U3RhcnRCZWZvcmUodCksIG4uc2V0RW5kQmVmb3JlKHQpKSA6IChuLnNldFN0YXJ0QWZ0ZXIodCksIG4uc2V0RW5kQWZ0ZXIodCkpLCBuOwogIH0sCiAgICAgIHVsID0gZnVuY3Rpb24gdWwoZSwgdCwgbikgewogICAgZm9yICh2YXIgciwgbywgaSwgYSA9IGUgPyAicHJldmlvdXNTaWJsaW5nIiA6ICJuZXh0U2libGluZyI7IG4gJiYgbiAhPT0gdDspIHsKICAgICAgaWYgKHIgPSBuW2FdLCBKYyhyKSAmJiAociA9IHJbYV0pLCBYYyhyKSB8fCBZYyhyKSkgewogICAgICAgIGlmIChpID0gbiwgcmwociwgbyA9IHQpID09PSBybChpLCBvKSkgcmV0dXJuIHI7CiAgICAgICAgYnJlYWs7CiAgICAgIH0KCiAgICAgIGlmIChlbChyKSkgYnJlYWs7CiAgICAgIG4gPSBuLnBhcmVudE5vZGU7CiAgICB9CgogICAgcmV0dXJuIG51bGw7CiAgfSwKICAgICAgc2wgPSBOKGFsLCAhMCksCiAgICAgIGNsID0gTihhbCwgITEpLAogICAgICBsbCA9IGZ1bmN0aW9uIGxsKGUsIHQsIG4pIHsKICAgIHZhciByLAogICAgICAgIG8sCiAgICAgICAgaSA9IE4odWwsICEwLCB0KSwKICAgICAgICBhID0gTih1bCwgITEsIHQpLAogICAgICAgIHUgPSBuLnN0YXJ0Q29udGFpbmVyLAogICAgICAgIHMgPSBuLnN0YXJ0T2Zmc2V0OwoKICAgIGlmICh2byh1KSkgewogICAgICBpZiAoWmModSkgfHwgKHUgPSB1LnBhcmVudE5vZGUpLCAiYmVmb3JlIiA9PT0gKG8gPSB1LmdldEF0dHJpYnV0ZSgiZGF0YS1tY2UtY2FyZXQiKSkgJiYgKHIgPSB1Lm5leHRTaWJsaW5nLCBLYyhyKSkpIHJldHVybiBzbChyKTsKICAgICAgaWYgKCJhZnRlciIgPT09IG8gJiYgKHIgPSB1LnByZXZpb3VzU2libGluZywgS2MocikpKSByZXR1cm4gY2wocik7CiAgICB9CgogICAgaWYgKCFuLmNvbGxhcHNlZCkgcmV0dXJuIG47CgogICAgaWYgKEluKHUpKSB7CiAgICAgIGlmIChKYyh1KSkgewogICAgICAgIGlmICgxID09PSBlKSB7CiAgICAgICAgICBpZiAociA9IGEodSkpIHJldHVybiBzbChyKTsKICAgICAgICAgIGlmIChyID0gaSh1KSkgcmV0dXJuIGNsKHIpOwogICAgICAgIH0KCiAgICAgICAgaWYgKC0xID09PSBlKSB7CiAgICAgICAgICBpZiAociA9IGkodSkpIHJldHVybiBjbChyKTsKICAgICAgICAgIGlmIChyID0gYSh1KSkgcmV0dXJuIHNsKHIpOwogICAgICAgIH0KCiAgICAgICAgcmV0dXJuIG47CiAgICAgIH0KCiAgICAgIGlmIChFbyh1KSAmJiBzID49IHUuZGF0YS5sZW5ndGggLSAxKSByZXR1cm4gMSA9PT0gZSAmJiAociA9IGEodSkpID8gc2wocikgOiBuOwogICAgICBpZiAoTm8odSkgJiYgcyA8PSAxKSByZXR1cm4gLTEgPT09IGUgJiYgKHIgPSBpKHUpKSA/IGNsKHIpIDogbjsKICAgICAgaWYgKHMgPT09IHUuZGF0YS5sZW5ndGgpIHJldHVybiAociA9IGEodSkpID8gc2wocikgOiBuOwogICAgICBpZiAoMCA9PT0gcykgcmV0dXJuIChyID0gaSh1KSkgPyBjbChyKSA6IG47CiAgICB9CgogICAgcmV0dXJuIG47CiAgfSwKICAgICAgZmwgPSBmdW5jdGlvbiBmbChlLCB0KSB7CiAgICByZXR1cm4gVS5mcm9tKGlsKGUgPyAwIDogLTEsIHQpKS5maWx0ZXIoWGMpOwogIH0sCiAgICAgIGRsID0gZnVuY3Rpb24gZGwoZSwgdCwgbikgewogICAgdmFyIHIgPSBsbChlLCB0LCBuKTsKICAgIHJldHVybiAtMSA9PT0gZSA/IEhzLmZyb21SYW5nZVN0YXJ0KHIpIDogSHMuZnJvbVJhbmdlRW5kKHIpOwogIH0sCiAgICAgIG1sID0gZnVuY3Rpb24gbWwoZSkgewogICAgcmV0dXJuIFUuZnJvbShlLmdldE5vZGUoKSkubWFwKEF0LmZyb21Eb20pOwogIH0sCiAgICAgIHBsID0gZnVuY3Rpb24gcGwoZSwgdCkgewogICAgZm9yICg7IHQgPSBlKHQpOykgewogICAgICBpZiAodC5pc1Zpc2libGUoKSkgcmV0dXJuIHQ7CiAgICB9CgogICAgcmV0dXJuIHQ7CiAgfSwKICAgICAgZ2wgPSBmdW5jdGlvbiBnbChlLCB0KSB7CiAgICB2YXIgbiA9IG9sKGUsIHQpOwogICAgcmV0dXJuICEobiB8fCAhem4oZS5nZXROb2RlKCkpKSB8fCBuOwogIH07CgogIChxcyA9IFZzID0gVnMgfHwge30pW3FzLkJhY2t3YXJkcyA9IC0xXSA9ICJCYWNrd2FyZHMiLCBxc1txcy5Gb3J3YXJkcyA9IDFdID0gIkZvcndhcmRzIjsKCiAgdmFyIGhsLAogICAgICB2bCA9IFZuLAogICAgICB5bCA9IEluLAogICAgICBibCA9IEFuLAogICAgICBDbCA9IHpuLAogICAgICB3bCA9IExvLAogICAgICB4bCA9IGZ1bmN0aW9uIHhsKGUpIHsKICAgIHJldHVybiBPbyhlKSB8fCAhIUlvKHQgPSBlKSAmJiAhMCAhPT0gWChvZSh0LmdldEVsZW1lbnRzQnlUYWdOYW1lKCIqIikpLCBmdW5jdGlvbiAoZSwgdCkgewogICAgICByZXR1cm4gZSB8fCBfbyh0KTsKICAgIH0sICExKTsKICAgIHZhciB0OwogIH0sCiAgICAgIFNsID0gTW8sCiAgICAgIE5sID0gZnVuY3Rpb24gTmwoZSwgdCkgewogICAgcmV0dXJuIGUuaGFzQ2hpbGROb2RlcygpICYmIHQgPCBlLmNoaWxkTm9kZXMubGVuZ3RoID8gZS5jaGlsZE5vZGVzW3RdIDogbnVsbDsKICB9LAogICAgICBFbCA9IGZ1bmN0aW9uIEVsKGUsIHQpIHsKICAgIGlmICgwIDwgZSkgewogICAgICBpZiAod2wodC5wcmV2aW91c1NpYmxpbmcpICYmICF5bCh0LnByZXZpb3VzU2libGluZykpIHJldHVybiAkcy5iZWZvcmUodCk7CiAgICAgIGlmICh5bCh0KSkgcmV0dXJuICRzKHQsIDApOwogICAgfQoKICAgIGlmIChlIDwgMCkgewogICAgICBpZiAod2wodC5uZXh0U2libGluZykgJiYgIXlsKHQubmV4dFNpYmxpbmcpKSByZXR1cm4gJHMuYWZ0ZXIodCk7CiAgICAgIGlmICh5bCh0KSkgcmV0dXJuICRzKHQsIHQuZGF0YS5sZW5ndGgpOwogICAgfQoKICAgIHJldHVybiAhKGUgPCAwKSB8fCBDbCh0KSA/ICRzLmJlZm9yZSh0KSA6ICRzLmFmdGVyKHQpOwogIH0sCiAgICAgIGtsID0gZnVuY3Rpb24ga2woZSwgdCwgbikgewogICAgdmFyIHIsIG8sIGksIGE7CiAgICBpZiAoIWJsKG4pIHx8ICF0KSByZXR1cm4gbnVsbDsKCiAgICBpZiAodC5pc0VxdWFsKCRzLmFmdGVyKG4pKSAmJiBuLmxhc3RDaGlsZCkgewogICAgICBpZiAoYSA9ICRzLmFmdGVyKG4ubGFzdENoaWxkKSwgZSA8IDAgJiYgd2wobi5sYXN0Q2hpbGQpICYmIGJsKG4ubGFzdENoaWxkKSkgcmV0dXJuIENsKG4ubGFzdENoaWxkKSA/ICRzLmJlZm9yZShuLmxhc3RDaGlsZCkgOiBhOwogICAgfSBlbHNlIGEgPSB0OwoKICAgIHZhciB1LAogICAgICAgIHMsCiAgICAgICAgYywKICAgICAgICBsID0gYS5jb250YWluZXIoKSwKICAgICAgICBmID0gYS5vZmZzZXQoKTsKCiAgICBpZiAoeWwobCkpIHsKICAgICAgaWYgKGUgPCAwICYmIDAgPCBmKSByZXR1cm4gJHMobCwgLS1mKTsKICAgICAgaWYgKDAgPCBlICYmIGYgPCBsLmxlbmd0aCkgcmV0dXJuICRzKGwsICsrZik7CiAgICAgIHIgPSBsOwogICAgfSBlbHNlIHsKICAgICAgaWYgKGUgPCAwICYmIDAgPCBmICYmIChvID0gTmwobCwgZiAtIDEpLCB3bChvKSkpIHJldHVybiAheGwobykgJiYgKGkgPSBubChvLCBlLCBTbCwgbykpID8geWwoaSkgPyAkcyhpLCBpLmRhdGEubGVuZ3RoKSA6ICRzLmFmdGVyKGkpIDogeWwobykgPyAkcyhvLCBvLmRhdGEubGVuZ3RoKSA6ICRzLmJlZm9yZShvKTsKICAgICAgaWYgKDAgPCBlICYmIGYgPCBsLmNoaWxkTm9kZXMubGVuZ3RoICYmIChvID0gTmwobCwgZiksIHdsKG8pKSkgcmV0dXJuIENsKG8pID8gKHUgPSBuLCAoYyA9IChzID0gbykubmV4dFNpYmxpbmcpICYmIHdsKGMpID8geWwoYykgPyAkcyhjLCAwKSA6ICRzLmJlZm9yZShjKSA6IGtsKFZzLkZvcndhcmRzLCAkcy5hZnRlcihzKSwgdSkpIDogIXhsKG8pICYmIChpID0gbmwobywgZSwgU2wsIG8pKSA/IHlsKGkpID8gJHMoaSwgMCkgOiAkcy5iZWZvcmUoaSkgOiB5bChvKSA/ICRzKG8sIDApIDogJHMuYWZ0ZXIobyk7CiAgICAgIHIgPSBvIHx8IGEuZ2V0Tm9kZSgpOwogICAgfQoKICAgIGlmICgoMCA8IGUgJiYgYS5pc0F0RW5kKCkgfHwgZSA8IDAgJiYgYS5pc0F0U3RhcnQoKSkgJiYgKHIgPSBubChyLCBlLCBrLCBuLCAhMCksIFNsKHIsIG4pKSkgcmV0dXJuIEVsKGUsIHIpOwogICAgbyA9IG5sKHIsIGUsIFNsLCBuKTsKICAgIHZhciBkID0gRWUoSChmdW5jdGlvbiAoZSwgdCkgewogICAgICBmb3IgKHZhciBuID0gW107IGUgJiYgZSAhPT0gdDspIHsKICAgICAgICBuLnB1c2goZSksIGUgPSBlLnBhcmVudE5vZGU7CiAgICAgIH0KCiAgICAgIHJldHVybiBuOwogICAgfShsLCBuKSwgdmwpKTsKICAgIHJldHVybiAhZCB8fCBvICYmIGQuY29udGFpbnMobykgPyBvID8gRWwoZSwgbykgOiBudWxsIDogYSA9IDAgPCBlID8gJHMuYWZ0ZXIoZCkgOiAkcy5iZWZvcmUoZCk7CiAgfSwKICAgICAgX2wgPSBmdW5jdGlvbiBfbCh0KSB7CiAgICByZXR1cm4gewogICAgICBuZXh0OiBmdW5jdGlvbiBuZXh0KGUpIHsKICAgICAgICByZXR1cm4ga2woVnMuRm9yd2FyZHMsIGUsIHQpOwogICAgICB9LAogICAgICBwcmV2OiBmdW5jdGlvbiBwcmV2KGUpIHsKICAgICAgICByZXR1cm4ga2woVnMuQmFja3dhcmRzLCBlLCB0KTsKICAgICAgfQogICAgfTsKICB9LAogICAgICBBbCA9IGZ1bmN0aW9uIEFsKGUpIHsKICAgIHJldHVybiAkcy5pc1RleHRQb3NpdGlvbihlKSA/IDAgPT09IGUub2Zmc2V0KCkgOiBMbyhlLmdldE5vZGUoKSk7CiAgfSwKICAgICAgUmwgPSBmdW5jdGlvbiBSbChlKSB7CiAgICBpZiAoJHMuaXNUZXh0UG9zaXRpb24oZSkpIHsKICAgICAgdmFyIHQgPSBlLmNvbnRhaW5lcigpOwogICAgICByZXR1cm4gZS5vZmZzZXQoKSA9PT0gdC5kYXRhLmxlbmd0aDsKICAgIH0KCiAgICByZXR1cm4gTG8oZS5nZXROb2RlKCEwKSk7CiAgfSwKICAgICAgVGwgPSBmdW5jdGlvbiBUbChlLCB0KSB7CiAgICByZXR1cm4gISRzLmlzVGV4dFBvc2l0aW9uKGUpICYmICEkcy5pc1RleHRQb3NpdGlvbih0KSAmJiBlLmdldE5vZGUoKSA9PT0gdC5nZXROb2RlKCEwKTsKICB9LAogICAgICBEbCA9IGZ1bmN0aW9uIERsKGUsIHQsIG4pIHsKICAgIHJldHVybiBlID8gIVRsKHQsIG4pICYmIChyID0gdCwgISghJHMuaXNUZXh0UG9zaXRpb24ocikgJiYgem4oci5nZXROb2RlKCkpKSkgJiYgUmwodCkgJiYgQWwobikgOiAhVGwobiwgdCkgJiYgQWwodCkgJiYgUmwobik7CiAgICB2YXIgcjsKICB9LAogICAgICBPbCA9IGZ1bmN0aW9uIE9sKGUsIHQsIG4pIHsKICAgIHZhciByID0gX2wodCk7CgogICAgcmV0dXJuIFUuZnJvbShlID8gci5uZXh0KG4pIDogci5wcmV2KG4pKTsKICB9LAogICAgICBCbCA9IGZ1bmN0aW9uIEJsKHQsIG4sIHIpIHsKICAgIHJldHVybiBPbCh0LCBuLCByKS5iaW5kKGZ1bmN0aW9uIChlKSB7CiAgICAgIHJldHVybiBvbChyLCBlLCBuKSAmJiBEbCh0LCByLCBlKSA/IE9sKHQsIG4sIGUpIDogVS5zb21lKGUpOwogICAgfSk7CiAgfSwKICAgICAgUGwgPSBmdW5jdGlvbiBQbCh0LCBuLCBlLCByKSB7CiAgICByZXR1cm4gQmwodCwgbiwgZSkuYmluZChmdW5jdGlvbiAoZSkgewogICAgICByZXR1cm4gcihlKSA/IFBsKHQsIG4sIGUsIHIpIDogVS5zb21lKGUpOwogICAgfSk7CiAgfSwKICAgICAgTGwgPSBmdW5jdGlvbiBMbChlLCB0KSB7CiAgICB2YXIgbiwKICAgICAgICByLAogICAgICAgIG8sCiAgICAgICAgaSwKICAgICAgICBhLAogICAgICAgIHUgPSBlID8gdC5maXJzdENoaWxkIDogdC5sYXN0Q2hpbGQ7CiAgICByZXR1cm4gSW4odSkgPyBVLnNvbWUoJHModSwgZSA/IDAgOiB1LmRhdGEubGVuZ3RoKSkgOiB1ID8gTG8odSkgPyBVLnNvbWUoZSA/ICRzLmJlZm9yZSh1KSA6IHpuKGEgPSB1KSA/ICRzLmJlZm9yZShhKSA6ICRzLmFmdGVyKGEpKSA6IChyID0gdCwgbyA9IHUsIGkgPSAobiA9IGUpID8gJHMuYmVmb3JlKG8pIDogJHMuYWZ0ZXIobyksIE9sKG4sIHIsIGkpKSA6IFUubm9uZSgpOwogIH0sCiAgICAgIElsID0gTihPbCwgITApLAogICAgICBNbCA9IE4oT2wsICExKSwKICAgICAgRmwgPSBOKExsLCAhMCksCiAgICAgIFVsID0gTihMbCwgITEpLAogICAgICB6bCA9ICJfbWNlX2NhcmV0IiwKICAgICAgamwgPSBmdW5jdGlvbiBqbChlKSB7CiAgICByZXR1cm4gQW4oZSkgJiYgZS5pZCA9PT0gemw7CiAgfSwKICAgICAgSGwgPSBmdW5jdGlvbiBIbChlLCB0KSB7CiAgICBmb3IgKDsgdCAmJiB0ICE9PSBlOykgewogICAgICBpZiAodC5pZCA9PT0gemwpIHJldHVybiB0OwogICAgICB0ID0gdC5wYXJlbnROb2RlOwogICAgfQoKICAgIHJldHVybiBudWxsOwogIH0sCiAgICAgIFZsID0gZnVuY3Rpb24gVmwoZSwgdCkgewogICAgcmV0dXJuIEFuKHQpICYmIGUuaXNCbG9jayh0KSAmJiAhdC5pbm5lckhUTUwgJiYgIXd0LmllICYmICh0LmlubmVySFRNTCA9ICc8YnIgZGF0YS1tY2UtYm9ndXM9IjEiIC8+JyksIHQ7CiAgfSwKICAgICAgcWwgPSBmdW5jdGlvbiBxbChlLCB0LCBuKSB7CiAgICByZXR1cm4gISghMSAhPT0gdC5oYXNDaGlsZE5vZGVzKCkgfHwgIUhsKGUsIHQpKSAmJiAobyA9IG4sIGkgPSAociA9IHQpLm93bmVyRG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoZm8pLCByLmFwcGVuZENoaWxkKGkpLCBvLnNldFN0YXJ0KGksIDApLCBvLnNldEVuZChpLCAwKSwgITApOwogICAgdmFyIHIsIG8sIGk7CiAgfSwKICAgICAgJGwgPSBmdW5jdGlvbiAkbChlLCB0LCBuLCByKSB7CiAgICB2YXIgbywKICAgICAgICBpLAogICAgICAgIGEsCiAgICAgICAgdSwKICAgICAgICBzID0gblt0ID8gInN0YXJ0IiA6ICJlbmQiXSwKICAgICAgICBjID0gZS5nZXRSb290KCk7CgogICAgaWYgKHMpIHsKICAgICAgZm9yIChhID0gc1swXSwgaSA9IGMsIG8gPSBzLmxlbmd0aCAtIDE7IDEgPD0gbzsgby0tKSB7CiAgICAgICAgaWYgKHUgPSBpLmNoaWxkTm9kZXMsIHFsKGMsIGksIHIpKSByZXR1cm4gITA7CiAgICAgICAgaWYgKHNbb10gPiB1Lmxlbmd0aCAtIDEpIHJldHVybiAhIXFsKGMsIGksIHIpIHx8IGZ1bmN0aW9uIChlLCB0KSB7CiAgICAgICAgICByZXR1cm4gVWwoZSkuZm9sZChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIHJldHVybiAhMTsKICAgICAgICAgIH0sIGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICAgIHJldHVybiB0LnNldFN0YXJ0KGUuY29udGFpbmVyKCksIGUub2Zmc2V0KCkpLCB0LnNldEVuZChlLmNvbnRhaW5lcigpLCBlLm9mZnNldCgpKSwgITA7CiAgICAgICAgICB9KTsKICAgICAgICB9KGksIHIpOwogICAgICAgIGkgPSB1W3Nbb11dOwogICAgICB9CgogICAgICAzID09PSBpLm5vZGVUeXBlICYmIChhID0gTWF0aC5taW4oc1swXSwgaS5ub2RlVmFsdWUubGVuZ3RoKSksIDEgPT09IGkubm9kZVR5cGUgJiYgKGEgPSBNYXRoLm1pbihzWzBdLCBpLmNoaWxkTm9kZXMubGVuZ3RoKSksIHQgPyByLnNldFN0YXJ0KGksIGEpIDogci5zZXRFbmQoaSwgYSk7CiAgICB9CgogICAgcmV0dXJuICEwOwogIH0sCiAgICAgIFdsID0gZnVuY3Rpb24gV2woZSkgewogICAgcmV0dXJuIEluKGUpICYmIDAgPCBlLmRhdGEubGVuZ3RoOwogIH0sCiAgICAgIEtsID0gZnVuY3Rpb24gS2woZSwgdCwgbikgewogICAgdmFyIHIsCiAgICAgICAgbywKICAgICAgICBpLAogICAgICAgIGEsCiAgICAgICAgdSwKICAgICAgICBzLAogICAgICAgIGMgPSBlLmdldChuLmlkICsgIl8iICsgdCksCiAgICAgICAgbCA9IG4ua2VlcDsKCiAgICBpZiAoYykgewogICAgICBpZiAociA9IGMucGFyZW50Tm9kZSwgcyA9ICh1ID0gKG8gPSAic3RhcnQiID09PSB0ID8gbCA/IGMuaGFzQ2hpbGROb2RlcygpID8gKHIgPSBjLmZpcnN0Q2hpbGQsIDEpIDogV2woYy5uZXh0U2libGluZykgPyAociA9IGMubmV4dFNpYmxpbmcsIDApIDogV2woYy5wcmV2aW91c1NpYmxpbmcpID8gKHIgPSBjLnByZXZpb3VzU2libGluZywgYy5wcmV2aW91c1NpYmxpbmcuZGF0YS5sZW5ndGgpIDogKHIgPSBjLnBhcmVudE5vZGUsIGUubm9kZUluZGV4KGMpICsgMSkgOiBlLm5vZGVJbmRleChjKSA6IGwgPyBjLmhhc0NoaWxkTm9kZXMoKSA/IChyID0gYy5maXJzdENoaWxkLCAxKSA6IFdsKGMucHJldmlvdXNTaWJsaW5nKSA/IChyID0gYy5wcmV2aW91c1NpYmxpbmcsIGMucHJldmlvdXNTaWJsaW5nLmRhdGEubGVuZ3RoKSA6IChyID0gYy5wYXJlbnROb2RlLCBlLm5vZGVJbmRleChjKSkgOiBlLm5vZGVJbmRleChjKSwgciksIG8pLCAhbCkgewogICAgICAgIGZvciAoYSA9IGMucHJldmlvdXNTaWJsaW5nLCBpID0gYy5uZXh0U2libGluZywga3QuZWFjaChrdC5ncmVwKGMuY2hpbGROb2RlcyksIGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICBJbihlKSAmJiAoZS5ub2RlVmFsdWUgPSBlLm5vZGVWYWx1ZS5yZXBsYWNlKC9cdUZFRkYvZywgIiIpKTsKICAgICAgICB9KTsgYyA9IGUuZ2V0KG4uaWQgKyAiXyIgKyB0KTspIHsKICAgICAgICAgIGUucmVtb3ZlKGMsICEwKTsKICAgICAgICB9CgogICAgICAgIGEgJiYgaSAmJiBhLm5vZGVUeXBlID09PSBpLm5vZGVUeXBlICYmIEluKGEpICYmICF3dC5vcGVyYSAmJiAobyA9IGEubm9kZVZhbHVlLmxlbmd0aCwgYS5hcHBlbmREYXRhKGkubm9kZVZhbHVlKSwgZS5yZW1vdmUoaSksIHUgPSBhLCBzID0gbyk7CiAgICAgIH0KCiAgICAgIHJldHVybiBVLnNvbWUoJHModSwgcykpOwogICAgfQoKICAgIHJldHVybiBVLm5vbmUoKTsKICB9LAogICAgICBYbCA9IGZ1bmN0aW9uIFhsKGUsIHQpIHsKICAgIHZhciBuLAogICAgICAgIHIsCiAgICAgICAgbywKICAgICAgICBpLAogICAgICAgIGEsCiAgICAgICAgdSwKICAgICAgICBzLAogICAgICAgIGMsCiAgICAgICAgbCwKICAgICAgICBmLAogICAgICAgIGQsCiAgICAgICAgbSwKICAgICAgICBwLAogICAgICAgIGcsCiAgICAgICAgaCA9IGUuZG9tOwoKICAgIGlmICh0KSB7CiAgICAgIGlmIChnID0gdCwga3QuaXNBcnJheShnLnN0YXJ0KSkgcmV0dXJuIG0gPSB0LCBwID0gKGQgPSBoKS5jcmVhdGVSbmcoKSwgJGwoZCwgITAsIG0sIHApICYmICRsKGQsICExLCBtLCBwKSA/IFUuc29tZShwKSA6IFUubm9uZSgpOwogICAgICBpZiAoInN0cmluZyIgPT0gdHlwZW9mIHQuc3RhcnQpIHJldHVybiBVLnNvbWUoKGMgPSB0LCBsID0gKHMgPSBoKS5jcmVhdGVSbmcoKSwgZiA9IG5jKHMuZ2V0Um9vdCgpLCBjLnN0YXJ0KSwgbC5zZXRTdGFydChmLmNvbnRhaW5lcigpLCBmLm9mZnNldCgpKSwgZiA9IG5jKHMuZ2V0Um9vdCgpLCBjLmVuZCksIGwuc2V0RW5kKGYuY29udGFpbmVyKCksIGYub2Zmc2V0KCkpLCBsKSk7CiAgICAgIGlmICh0Lmhhc093blByb3BlcnR5KCJpZCIpKSByZXR1cm4gYSA9IEtsKG8gPSBoLCAic3RhcnQiLCBpID0gdCksIHUgPSBLbChvLCAiZW5kIiwgaSksIGRzKGEsIHUub3IoYSksIGZ1bmN0aW9uIChlLCB0KSB7CiAgICAgICAgdmFyIG4gPSBvLmNyZWF0ZVJuZygpOwogICAgICAgIHJldHVybiBuLnNldFN0YXJ0KFZsKG8sIGUuY29udGFpbmVyKCkpLCBlLm9mZnNldCgpKSwgbi5zZXRFbmQoVmwobywgdC5jb250YWluZXIoKSksIHQub2Zmc2V0KCkpLCBuOwogICAgICB9KTsKICAgICAgaWYgKHQuaGFzT3duUHJvcGVydHkoIm5hbWUiKSkgcmV0dXJuIG4gPSBoLCByID0gdCwgVS5mcm9tKG4uc2VsZWN0KHIubmFtZSlbci5pbmRleF0pLm1hcChmdW5jdGlvbiAoZSkgewogICAgICAgIHZhciB0ID0gbi5jcmVhdGVSbmcoKTsKICAgICAgICByZXR1cm4gdC5zZWxlY3ROb2RlKGUpLCB0OwogICAgICB9KTsKICAgICAgaWYgKHQuaGFzT3duUHJvcGVydHkoInJuZyIpKSByZXR1cm4gVS5zb21lKHQucm5nKTsKICAgIH0KCiAgICByZXR1cm4gVS5ub25lKCk7CiAgfSwKICAgICAgWWwgPSBkYywKICAgICAgR2wgPSBmdW5jdGlvbiBHbCh0LCBlKSB7CiAgICBYbCh0LCBlKS5lYWNoKGZ1bmN0aW9uIChlKSB7CiAgICAgIHQuc2V0Um5nKGUpOwogICAgfSk7CiAgfSwKICAgICAgSmwgPSBmdW5jdGlvbiBKbChlKSB7CiAgICByZXR1cm4gQW4oZSkgJiYgIlNQQU4iID09PSBlLnRhZ05hbWUgJiYgImJvb2ttYXJrIiA9PT0gZS5nZXRBdHRyaWJ1dGUoImRhdGEtbWNlLXR5cGUiKTsKICB9LAogICAgICBRbCA9IChobCA9IGxvLCBmdW5jdGlvbiAoZSkgewogICAgcmV0dXJuIGhsID09PSBlOwogIH0pLAogICAgICBabCA9IGZ1bmN0aW9uIFpsKGUpIHsKICAgIHJldHVybiAiIiAhPT0gZSAmJiAtMSAhPT0gIiBcZlxuXHJcdFx4MEIiLmluZGV4T2YoZSk7CiAgfSwKICAgICAgZWYgPSBmdW5jdGlvbiBlZihlKSB7CiAgICByZXR1cm4gIVpsKGUpICYmICFRbChlKTsKICB9LAogICAgICB0ZiA9IGZ1bmN0aW9uIHRmKGUpIHsKICAgIHJldHVybiAhIWUubm9kZVR5cGU7CiAgfSwKICAgICAgbmYgPSBmdW5jdGlvbiBuZihlLCB0LCBuKSB7CiAgICB2YXIgciwKICAgICAgICBvLAogICAgICAgIGksCiAgICAgICAgYSwKICAgICAgICB1ID0gbi5zdGFydE9mZnNldCwKICAgICAgICBzID0gbi5zdGFydENvbnRhaW5lcjsKICAgIGlmICgobi5zdGFydENvbnRhaW5lciAhPT0gbi5lbmRDb250YWluZXIgfHwgIShhID0gbi5zdGFydENvbnRhaW5lci5jaGlsZE5vZGVzW24uc3RhcnRPZmZzZXRdKSB8fCAhL14oSU1HKSQvLnRlc3QoYS5ub2RlTmFtZSkpICYmIDEgPT09IHMubm9kZVR5cGUpIGZvciAodSA8IChpID0gcy5jaGlsZE5vZGVzKS5sZW5ndGggPyAocyA9IGlbdV0sIHIgPSBuZXcgWHIocywgZS5nZXRQYXJlbnQocywgZS5pc0Jsb2NrKSkpIDogKHMgPSBpW2kubGVuZ3RoIC0gMV0sIChyID0gbmV3IFhyKHMsIGUuZ2V0UGFyZW50KHMsIGUuaXNCbG9jaykpKS5uZXh0KCEwKSksIG8gPSByLmN1cnJlbnQoKTsgbzsgbyA9IHIubmV4dCgpKSB7CiAgICAgIGlmICgzID09PSBvLm5vZGVUeXBlICYmICF1ZihvKSkgcmV0dXJuIG4uc2V0U3RhcnQobywgMCksIHZvaWQgdC5zZXRSbmcobik7CiAgICB9CiAgfSwKICAgICAgcmYgPSBmdW5jdGlvbiByZihlLCB0LCBuKSB7CiAgICBpZiAoZSkgewogICAgICB2YXIgciA9IHQgPyAibmV4dFNpYmxpbmciIDogInByZXZpb3VzU2libGluZyI7CgogICAgICBmb3IgKGUgPSBuID8gZSA6IGVbcl07IGU7IGUgPSBlW3JdKSB7CiAgICAgICAgaWYgKDEgPT09IGUubm9kZVR5cGUgfHwgIXVmKGUpKSByZXR1cm4gZTsKICAgICAgfQogICAgfQogIH0sCiAgICAgIG9mID0gZnVuY3Rpb24gb2YoZSwgdCkgewogICAgcmV0dXJuIHRmKHQpICYmICh0ID0gdC5ub2RlTmFtZSksICEhZS5zY2hlbWEuZ2V0VGV4dEJsb2NrRWxlbWVudHMoKVt0LnRvTG93ZXJDYXNlKCldOwogIH0sCiAgICAgIGFmID0gZnVuY3Rpb24gYWYoZSwgdCwgbikgewogICAgcmV0dXJuIGUuc2NoZW1hLmlzVmFsaWRDaGlsZCh0LCBuKTsKICB9LAogICAgICB1ZiA9IGZ1bmN0aW9uIHVmKGUsIHQpIHsKICAgIGlmICh2b2lkIDAgPT09IHQgJiYgKHQgPSAhMSksIEQoZSkgJiYgSW4oZSkpIHsKICAgICAgdmFyIG4gPSB0ID8gZS5kYXRhLnJlcGxhY2UoLyAvZywgIlx4YTAiKSA6IGUuZGF0YTsKICAgICAgcmV0dXJuIFVvKG4pOwogICAgfQoKICAgIHJldHVybiAhMTsKICB9LAogICAgICBzZiA9IGZ1bmN0aW9uIHNmKGUsIG4pIHsKICAgIHJldHVybiAic3RyaW5nIiAhPSB0eXBlb2YgZSA/IGUgPSBlKG4pIDogbiAmJiAoZSA9IGUucmVwbGFjZSgvJShcdyspL2csIGZ1bmN0aW9uIChlLCB0KSB7CiAgICAgIHJldHVybiBuW3RdIHx8IGU7CiAgICB9KSksIGU7CiAgfSwKICAgICAgY2YgPSBmdW5jdGlvbiBjZihlLCB0KSB7CiAgICByZXR1cm4gZSA9ICIiICsgKChlID0gZSB8fCAiIikubm9kZU5hbWUgfHwgZSksIHQgPSAiIiArICgodCA9IHQgfHwgIiIpLm5vZGVOYW1lIHx8IHQpLCBlLnRvTG93ZXJDYXNlKCkgPT09IHQudG9Mb3dlckNhc2UoKTsKICB9LAogICAgICBsZiA9IGZ1bmN0aW9uIGxmKGUsIHQsIG4pIHsKICAgIHJldHVybiAiY29sb3IiICE9PSBuICYmICJiYWNrZ3JvdW5kQ29sb3IiICE9PSBuIHx8ICh0ID0gZS50b0hleCh0KSksICJmb250V2VpZ2h0IiA9PT0gbiAmJiA3MDAgPT09IHQgJiYgKHQgPSAiYm9sZCIpLCAiZm9udEZhbWlseSIgPT09IG4gJiYgKHQgPSB0LnJlcGxhY2UoL1tcJ1wiXS9nLCAiIikucmVwbGFjZSgvLFxzKy9nLCAiLCIpKSwgIiIgKyB0OwogIH0sCiAgICAgIGZmID0gZnVuY3Rpb24gZmYoZSwgdCwgbikgewogICAgcmV0dXJuIGxmKGUsIGUuZ2V0U3R5bGUodCwgbiksIG4pOwogIH0sCiAgICAgIGRmID0gZnVuY3Rpb24gZGYodCwgZSkgewogICAgdmFyIG47CiAgICByZXR1cm4gdC5nZXRQYXJlbnQoZSwgZnVuY3Rpb24gKGUpIHsKICAgICAgcmV0dXJuIChuID0gdC5nZXRTdHlsZShlLCAidGV4dC1kZWNvcmF0aW9uIikpICYmICJub25lIiAhPT0gbjsKICAgIH0pLCBuOwogIH0sCiAgICAgIG1mID0gZnVuY3Rpb24gbWYoZSwgdCwgbikgewogICAgcmV0dXJuIGUuZ2V0UGFyZW50cyh0LCBuLCBlLmdldFJvb3QoKSk7CiAgfSwKICAgICAgcGYgPSBmdW5jdGlvbiBwZih0LCBlLCBuKSB7CiAgICB2YXIgciA9IFsiaW5saW5lIiwgImJsb2NrIiwgInNlbGVjdG9yIiwgImF0dHJpYnV0ZXMiLCAic3R5bGVzIiwgImNsYXNzZXMiXSwKICAgICAgICBhID0gZnVuY3Rpb24gYShlKSB7CiAgICAgIHJldHVybiBtZShlLCBmdW5jdGlvbiAoZSwgdCkgewogICAgICAgIHJldHVybiBGKHIsIGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICByZXR1cm4gZSA9PT0gdDsKICAgICAgICB9KTsKICAgICAgfSk7CiAgICB9OwoKICAgIHJldHVybiBGKHQuZm9ybWF0dGVyLmdldChlKSwgZnVuY3Rpb24gKGUpIHsKICAgICAgdmFyIGkgPSBhKGUpOwogICAgICByZXR1cm4gRih0LmZvcm1hdHRlci5nZXQobiksIGZ1bmN0aW9uIChlKSB7CiAgICAgICAgdmFyIHQsCiAgICAgICAgICAgIG4sCiAgICAgICAgICAgIHIsCiAgICAgICAgICAgIG8gPSBhKGUpOwogICAgICAgIHJldHVybiB0ID0gaSwgbiA9IG8sIHZvaWQgMCA9PT0gciAmJiAociA9IGwpLCB1KHIpLmVxKHQsIG4pOwogICAgICB9KTsKICAgIH0pOwogIH0sCiAgICAgIGdmID0gZnVuY3Rpb24gZ2YoZSkgewogICAgcmV0dXJuIHZlKGUsICJibG9jayIpOwogIH0sCiAgICAgIGhmID0gZnVuY3Rpb24gaGYoZSkgewogICAgcmV0dXJuIHZlKGUsICJzZWxlY3RvciIpOwogIH0sCiAgICAgIHZmID0gZnVuY3Rpb24gdmYoZSkgewogICAgcmV0dXJuIHZlKGUsICJpbmxpbmUiKTsKICB9LAogICAgICB5ZiA9IEpsLAogICAgICBiZiA9IG1mLAogICAgICBDZiA9IHVmLAogICAgICB3ZiA9IG9mLAogICAgICB4ZiA9IGZ1bmN0aW9uIHhmKGUsIHQpIHsKICAgIGZvciAodmFyIG4gPSB0OyBuOykgewogICAgICBpZiAoQW4obikgJiYgZS5nZXRDb250ZW50RWRpdGFibGUobikpIHJldHVybiAiZmFsc2UiID09PSBlLmdldENvbnRlbnRFZGl0YWJsZShuKSA/IG4gOiB0OwogICAgICBuID0gbi5wYXJlbnROb2RlOwogICAgfQoKICAgIHJldHVybiB0OwogIH0sCiAgICAgIFNmID0gZnVuY3Rpb24gU2YoZSwgdCwgbiwgcikgewogICAgZm9yICh2YXIgbyA9IHQuZGF0YSwgaSA9IG47IGUgPyAwIDw9IGkgOiBpIDwgby5sZW5ndGg7IGUgPyBpLS0gOiBpKyspIHsKICAgICAgaWYgKHIoby5jaGFyQXQoaSkpKSByZXR1cm4gZSA/IGkgKyAxIDogaTsKICAgIH0KCiAgICByZXR1cm4gLTE7CiAgfSwKICAgICAgTmYgPSBmdW5jdGlvbiBOZihlLCB0LCBuKSB7CiAgICByZXR1cm4gU2YoZSwgdCwgbiwgZnVuY3Rpb24gKGUpIHsKICAgICAgcmV0dXJuIFFsKGUpIHx8IFpsKGUpOwogICAgfSk7CiAgfSwKICAgICAgRWYgPSBmdW5jdGlvbiBFZihlLCB0LCBuKSB7CiAgICByZXR1cm4gU2YoZSwgdCwgbiwgZWYpOwogIH0sCiAgICAgIGtmID0gZnVuY3Rpb24ga2YoaSwgZSwgdCwgbiwgYSwgcikgewogICAgdmFyIHUsCiAgICAgICAgcyA9IGkuZ2V0UGFyZW50KHQsIGkuaXNCbG9jaykgfHwgZSwKICAgICAgICBvID0gZnVuY3Rpb24gbyhlLCB0LCBuKSB7CiAgICAgIHZhciByID0gZnMoaSksCiAgICAgICAgICBvID0gYSA/IHIuYmFja3dhcmRzIDogci5mb3J3YXJkczsKICAgICAgcmV0dXJuIFUuZnJvbShvKGUsIHQsIGZ1bmN0aW9uIChlLCB0KSB7CiAgICAgICAgcmV0dXJuIHlmKGUucGFyZW50Tm9kZSkgPyAtMSA6IG4oYSwgdSA9IGUsIHQpOwogICAgICB9LCBzKSk7CiAgICB9OwoKICAgIHJldHVybiBvKHQsIG4sIE5mKS5iaW5kKGZ1bmN0aW9uIChlKSB7CiAgICAgIHJldHVybiByID8gbyhlLmNvbnRhaW5lciwgZS5vZmZzZXQgKyAoYSA/IC0xIDogMCksIEVmKSA6IFUuc29tZShlKTsKICAgIH0pLm9yVGh1bmsoZnVuY3Rpb24gKCkgewogICAgICByZXR1cm4gdSA/IFUuc29tZSh7CiAgICAgICAgY29udGFpbmVyOiB1LAogICAgICAgIG9mZnNldDogYSA/IDAgOiB1Lmxlbmd0aAogICAgICB9KSA6IFUubm9uZSgpOwogICAgfSk7CiAgfSwKICAgICAgX2YgPSBmdW5jdGlvbiBfZihlLCB0LCBuLCByLCBvKSB7CiAgICBJbihyKSAmJiAwID09PSByLm5vZGVWYWx1ZS5sZW5ndGggJiYgcltvXSAmJiAociA9IHJbb10pOwoKICAgIGZvciAodmFyIGkgPSBiZihlLCByKSwgYSA9IDA7IGEgPCBpLmxlbmd0aDsgYSsrKSB7CiAgICAgIGZvciAodmFyIHUgPSAwOyB1IDwgdC5sZW5ndGg7IHUrKykgewogICAgICAgIHZhciBzID0gdFt1XTsKICAgICAgICBpZiAoISgiY29sbGFwc2VkIiBpbiBzICYmIHMuY29sbGFwc2VkICE9PSBuLmNvbGxhcHNlZCkgJiYgZS5pcyhpW2FdLCBzLnNlbGVjdG9yKSkgcmV0dXJuIGlbYV07CiAgICAgIH0KICAgIH0KCiAgICByZXR1cm4gcjsKICB9LAogICAgICBBZiA9IGZ1bmN0aW9uIEFmKHQsIGUsIG4sIHIpIHsKICAgIHZhciBvLAogICAgICAgIGksCiAgICAgICAgYSA9IHQuZG9tLAogICAgICAgIHUgPSBhLmdldFJvb3QoKTsKICAgIGlmIChlWzBdLndyYXBwZXIgfHwgKGkgPSBhLmdldFBhcmVudChuLCBlWzBdLmJsb2NrLCB1KSksIGkgfHwgKG8gPSBhLmdldFBhcmVudChuLCAiTEksVEQsVEgiKSwgaSA9IGEuZ2V0UGFyZW50KEluKG4pID8gbi5wYXJlbnROb2RlIDogbiwgZnVuY3Rpb24gKGUpIHsKICAgICAgcmV0dXJuIGUgIT09IHUgJiYgd2YodCwgZSk7CiAgICB9LCBvKSksIGkgJiYgZVswXS53cmFwcGVyICYmIChpID0gYmYoYSwgaSwgInVsLG9sIikucmV2ZXJzZSgpWzBdIHx8IGkpLCAhaSkgZm9yIChpID0gbjsgaVtyXSAmJiAhYS5pc0Jsb2NrKGlbcl0pICYmIChpID0gaVtyXSwgIWNmKGksICJiciIpKTspIHsKICAgICAgOwogICAgfQogICAgcmV0dXJuIGkgfHwgbjsKICB9LAogICAgICBSZiA9IGZ1bmN0aW9uIFJmKGUsIHQsIG4sIHIpIHsKICAgIHZhciBvID0gbi5wYXJlbnROb2RlOwogICAgcmV0dXJuICFEKG5bcl0pICYmICghKG8gIT09IHQgJiYgISQobykgJiYgIWUuaXNCbG9jayhvKSkgfHwgUmYoZSwgdCwgbywgcikpOwogIH0sCiAgICAgIFRmID0gZnVuY3Rpb24gVGYoZSwgdCwgbiwgciwgbykgewogICAgdmFyIGksCiAgICAgICAgYSwKICAgICAgICB1ID0gbiwKICAgICAgICBzID0gbyA/ICJwcmV2aW91c1NpYmxpbmciIDogIm5leHRTaWJsaW5nIiwKICAgICAgICBjID0gZS5nZXRSb290KCk7CiAgICBpZiAoSW4obikgJiYgIUNmKG4pICYmIChvID8gMCA8IHIgOiByIDwgbi5kYXRhLmxlbmd0aCkpIHJldHVybiBuOwoKICAgIGZvciAoOzspIHsKICAgICAgaWYgKCF0WzBdLmJsb2NrX2V4cGFuZCAmJiBlLmlzQmxvY2sodSkpIHJldHVybiB1OwoKICAgICAgZm9yIChpID0gdVtzXTsgaTsgaSA9IGlbc10pIHsKICAgICAgICB2YXIgbCA9IEluKGkpICYmICFSZihlLCBjLCBpLCBzKTsKICAgICAgICBpZiAoIXlmKGkpICYmICghem4oYSA9IGkpIHx8ICFhLmdldEF0dHJpYnV0ZSgiZGF0YS1tY2UtYm9ndXMiKSB8fCBhLm5leHRTaWJsaW5nKSAmJiAhQ2YoaSwgbCkpIHJldHVybiB1OwogICAgICB9CgogICAgICBpZiAodSA9PT0gYyB8fCB1LnBhcmVudE5vZGUgPT09IGMpIHsKICAgICAgICBuID0gdTsKICAgICAgICBicmVhazsKICAgICAgfQoKICAgICAgdSA9IHUucGFyZW50Tm9kZTsKICAgIH0KCiAgICByZXR1cm4gbjsKICB9LAogICAgICBEZiA9IGZ1bmN0aW9uIERmKGUpIHsKICAgIHJldHVybiB5ZihlLnBhcmVudE5vZGUpIHx8IHlmKGUpOwogIH0sCiAgICAgIE9mID0gZnVuY3Rpb24gT2YoZSwgdCwgbiwgcikgewogICAgdm9pZCAwID09PSByICYmIChyID0gITEpOwogICAgdmFyIG8gPSB0LnN0YXJ0Q29udGFpbmVyLAogICAgICAgIGkgPSB0LnN0YXJ0T2Zmc2V0LAogICAgICAgIGEgPSB0LmVuZENvbnRhaW5lciwKICAgICAgICB1ID0gdC5lbmRPZmZzZXQsCiAgICAgICAgcyA9IGUuZG9tOwogICAgcmV0dXJuIEFuKG8pICYmIG8uaGFzQ2hpbGROb2RlcygpICYmIChvID0gd3MobywgaSksIEluKG8pICYmIChpID0gMCkpLCBBbihhKSAmJiBhLmhhc0NoaWxkTm9kZXMoKSAmJiAoYSA9IHdzKGEsIHQuY29sbGFwc2VkID8gdSA6IHUgLSAxKSwgSW4oYSkgJiYgKHUgPSBhLm5vZGVWYWx1ZS5sZW5ndGgpKSwgbyA9IHhmKHMsIG8pLCBhID0geGYocywgYSksIERmKG8pICYmIChvID0geWYobykgPyBvIDogby5wYXJlbnROb2RlLCBvID0gdC5jb2xsYXBzZWQgPyBvLnByZXZpb3VzU2libGluZyB8fCBvIDogby5uZXh0U2libGluZyB8fCBvLCBJbihvKSAmJiAoaSA9IHQuY29sbGFwc2VkID8gby5sZW5ndGggOiAwKSksIERmKGEpICYmIChhID0geWYoYSkgPyBhIDogYS5wYXJlbnROb2RlLCBhID0gdC5jb2xsYXBzZWQgPyBhLm5leHRTaWJsaW5nIHx8IGEgOiBhLnByZXZpb3VzU2libGluZyB8fCBhLCBJbihhKSAmJiAodSA9IHQuY29sbGFwc2VkID8gMCA6IGEubGVuZ3RoKSksIHQuY29sbGFwc2VkICYmIChrZihzLCBlLmdldEJvZHkoKSwgbywgaSwgITAsIHIpLmVhY2goZnVuY3Rpb24gKGUpIHsKICAgICAgdmFyIHQgPSBlLmNvbnRhaW5lciwKICAgICAgICAgIG4gPSBlLm9mZnNldDsKICAgICAgbyA9IHQsIGkgPSBuOwogICAgfSksIGtmKHMsIGUuZ2V0Qm9keSgpLCBhLCB1LCAhMSwgcikuZWFjaChmdW5jdGlvbiAoZSkgewogICAgICB2YXIgdCA9IGUuY29udGFpbmVyLAogICAgICAgICAgbiA9IGUub2Zmc2V0OwogICAgICBhID0gdCwgdSA9IG47CiAgICB9KSksIChuWzBdLmlubGluZSB8fCBuWzBdLmJsb2NrX2V4cGFuZCkgJiYgKG5bMF0uaW5saW5lICYmIEluKG8pICYmIDAgIT09IGkgfHwgKG8gPSBUZihzLCBuLCBvLCBpLCAhMCkpLCBuWzBdLmlubGluZSAmJiBJbihhKSAmJiB1ICE9PSBhLm5vZGVWYWx1ZS5sZW5ndGggfHwgKGEgPSBUZihzLCBuLCBhLCB1LCAhMSkpKSwgblswXS5zZWxlY3RvciAmJiAhMSAhPT0gblswXS5leHBhbmQgJiYgIW5bMF0uaW5saW5lICYmIChvID0gX2YocywgbiwgdCwgbywgInByZXZpb3VzU2libGluZyIpLCBhID0gX2YocywgbiwgdCwgYSwgIm5leHRTaWJsaW5nIikpLCAoblswXS5ibG9jayB8fCBuWzBdLnNlbGVjdG9yKSAmJiAobyA9IEFmKGUsIG4sIG8sICJwcmV2aW91c1NpYmxpbmciKSwgYSA9IEFmKGUsIG4sIGEsICJuZXh0U2libGluZyIpLCBuWzBdLmJsb2NrICYmIChzLmlzQmxvY2sobykgfHwgKG8gPSBUZihzLCBuLCBvLCBpLCAhMCkpLCBzLmlzQmxvY2soYSkgfHwgKGEgPSBUZihzLCBuLCBhLCB1LCAhMSkpKSksIEFuKG8pICYmIChpID0gcy5ub2RlSW5kZXgobyksIG8gPSBvLnBhcmVudE5vZGUpLCBBbihhKSAmJiAodSA9IHMubm9kZUluZGV4KGEpICsgMSwgYSA9IGEucGFyZW50Tm9kZSksIHsKICAgICAgc3RhcnRDb250YWluZXI6IG8sCiAgICAgIHN0YXJ0T2Zmc2V0OiBpLAogICAgICBlbmRDb250YWluZXI6IGEsCiAgICAgIGVuZE9mZnNldDogdQogICAgfTsKICB9LAogICAgICBCZiA9IGZ1bmN0aW9uIEJmKGUsIHQpIHsKICAgIHZhciBuID0gZS5jaGlsZE5vZGVzOwogICAgcmV0dXJuIHQgPj0gbi5sZW5ndGggPyB0ID0gbi5sZW5ndGggLSAxIDogdCA8IDAgJiYgKHQgPSAwKSwgblt0XSB8fCBlOwogIH0sCiAgICAgIFBmID0gZnVuY3Rpb24gUGYoZSwgdCwgdSkgewogICAgdmFyIG4gPSB0LnN0YXJ0Q29udGFpbmVyLAogICAgICAgIHIgPSB0LnN0YXJ0T2Zmc2V0LAogICAgICAgIG8gPSB0LmVuZENvbnRhaW5lciwKICAgICAgICBpID0gdC5lbmRPZmZzZXQsCiAgICAgICAgcyA9IGZ1bmN0aW9uIHMoZSkgewogICAgICB2YXIgdCA9IGVbMF07CiAgICAgIHJldHVybiAzID09PSB0Lm5vZGVUeXBlICYmIHQgPT09IG4gJiYgciA+PSB0Lm5vZGVWYWx1ZS5sZW5ndGggJiYgZS5zcGxpY2UoMCwgMSksIHQgPSBlW2UubGVuZ3RoIC0gMV0sIDAgPT09IGkgJiYgMCA8IGUubGVuZ3RoICYmIHQgPT09IG8gJiYgMyA9PT0gdC5ub2RlVHlwZSAmJiBlLnNwbGljZShlLmxlbmd0aCAtIDEsIDEpLCBlOwogICAgfSwKICAgICAgICBjID0gZnVuY3Rpb24gYyhlLCB0LCBuKSB7CiAgICAgIGZvciAodmFyIHIgPSBbXTsgZSAmJiBlICE9PSBuOyBlID0gZVt0XSkgewogICAgICAgIHIucHVzaChlKTsKICAgICAgfQoKICAgICAgcmV0dXJuIHI7CiAgICB9LAogICAgICAgIGEgPSBmdW5jdGlvbiBhKGUsIHQpIHsKICAgICAgZG8gewogICAgICAgIGlmIChlLnBhcmVudE5vZGUgPT09IHQpIHJldHVybiBlOwogICAgICAgIGUgPSBlLnBhcmVudE5vZGU7CiAgICAgIH0gd2hpbGUgKGUpOwogICAgfSwKICAgICAgICBsID0gZnVuY3Rpb24gbChlLCB0LCBuKSB7CiAgICAgIGZvciAodmFyIHIgPSBuID8gIm5leHRTaWJsaW5nIiA6ICJwcmV2aW91c1NpYmxpbmciLCBvID0gZSwgaSA9IG8ucGFyZW50Tm9kZTsgbyAmJiBvICE9PSB0OyBvID0gaSkgewogICAgICAgIGkgPSBvLnBhcmVudE5vZGU7CiAgICAgICAgdmFyIGEgPSBjKG8gPT09IGUgPyBvIDogb1tyXSwgcik7CiAgICAgICAgYS5sZW5ndGggJiYgKG4gfHwgYS5yZXZlcnNlKCksIHUocyhhKSkpOwogICAgICB9CiAgICB9OwoKICAgIGlmICgxID09PSBuLm5vZGVUeXBlICYmIG4uaGFzQ2hpbGROb2RlcygpICYmIChuID0gQmYobiwgcikpLCAxID09PSBvLm5vZGVUeXBlICYmIG8uaGFzQ2hpbGROb2RlcygpICYmIChvID0gQmYobywgaSAtIDEpKSwgbiA9PT0gbykgcmV0dXJuIHUocyhbbl0pKTsKCiAgICBmb3IgKHZhciBmID0gZS5maW5kQ29tbW9uQW5jZXN0b3IobiwgbyksIGQgPSBuOyBkOyBkID0gZC5wYXJlbnROb2RlKSB7CiAgICAgIGlmIChkID09PSBvKSByZXR1cm4gbChuLCBmLCAhMCk7CiAgICAgIGlmIChkID09PSBmKSBicmVhazsKICAgIH0KCiAgICBmb3IgKGQgPSBvOyBkOyBkID0gZC5wYXJlbnROb2RlKSB7CiAgICAgIGlmIChkID09PSBuKSByZXR1cm4gbChvLCBmKTsKICAgICAgaWYgKGQgPT09IGYpIGJyZWFrOwogICAgfQoKICAgIHZhciBtID0gYShuLCBmKSB8fCBuLAogICAgICAgIHAgPSBhKG8sIGYpIHx8IG87CiAgICBsKG4sIG0sICEwKTsKICAgIHZhciBnID0gYyhtID09PSBuID8gbSA6IG0ubmV4dFNpYmxpbmcsICJuZXh0U2libGluZyIsIHAgPT09IG8gPyBwLm5leHRTaWJsaW5nIDogcCk7CiAgICBnLmxlbmd0aCAmJiB1KHMoZykpLCBsKG8sIHApOwogIH0sCiAgICAgIExmID0gZnVuY3Rpb24gTGYoZSkgewogICAgdmFyIHQgPSBbXTsKICAgIGlmIChlKSBmb3IgKHZhciBuID0gMDsgbiA8IGUucmFuZ2VDb3VudDsgbisrKSB7CiAgICAgIHQucHVzaChlLmdldFJhbmdlQXQobikpOwogICAgfQogICAgcmV0dXJuIHQ7CiAgfSwKICAgICAgSWYgPSBmdW5jdGlvbiBJZihlKSB7CiAgICByZXR1cm4gSChKKGUsIGZ1bmN0aW9uIChlKSB7CiAgICAgIHZhciB0ID0gQ3MoZSk7CiAgICAgIHJldHVybiB0ID8gW0F0LmZyb21Eb20odCldIDogW107CiAgICB9KSwgdW8pOwogIH0sCiAgICAgIE1mID0gZnVuY3Rpb24gTWYoZSwgdCkgewogICAgdmFyIG4gPSBHdSh0LCAidGRbZGF0YS1tY2Utc2VsZWN0ZWRdLHRoW2RhdGEtbWNlLXNlbGVjdGVkXSIpOwogICAgcmV0dXJuIDAgPCBuLmxlbmd0aCA/IG4gOiBJZihlKTsKICB9LAogICAgICBGZiA9IGZ1bmN0aW9uIEZmKGUpIHsKICAgIHJldHVybiBNZihMZihlLnNlbGVjdGlvbi5nZXRTZWwoKSksIEF0LmZyb21Eb20oZS5nZXRCb2R5KCkpKTsKICB9LAogICAgICBVZiA9IGZ1bmN0aW9uIFVmKHQpIHsKICAgIHJldHVybiBRdCh0KS5mb2xkKEUoW3RdKSwgZnVuY3Rpb24gKGUpIHsKICAgICAgcmV0dXJuIFt0XS5jb25jYXQoVWYoZSkpOwogICAgfSk7CiAgfSwKICAgICAgemYgPSBmdW5jdGlvbiB6Zih0KSB7CiAgICByZXR1cm4gWnQodCkuZm9sZChFKFt0XSksIGZ1bmN0aW9uIChlKSB7CiAgICAgIHJldHVybiAiYnIiID09PSBMdChlKSA/IFd0KGUpLm1hcChmdW5jdGlvbiAoZSkgewogICAgICAgIHJldHVybiBbdF0uY29uY2F0KHpmKGUpKTsKICAgICAgfSkuZ2V0T3IoW10pIDogW3RdLmNvbmNhdCh6ZihlKSk7CiAgICB9KTsKICB9LAogICAgICBqZiA9IGZ1bmN0aW9uIGpmKG8sIGUpIHsKICAgIHJldHVybiBkcygoYSA9IChpID0gZSkuc3RhcnRDb250YWluZXIsIHUgPSBpLnN0YXJ0T2Zmc2V0LCBJbihhKSA/IDAgPT09IHUgPyBVLnNvbWUoQXQuZnJvbURvbShhKSkgOiBVLm5vbmUoKSA6IFUuZnJvbShhLmNoaWxkTm9kZXNbdV0pLm1hcChBdC5mcm9tRG9tKSksIChuID0gKHQgPSBlKS5lbmRDb250YWluZXIsIHIgPSB0LmVuZE9mZnNldCwgSW4obikgPyByID09PSBuLmRhdGEubGVuZ3RoID8gVS5zb21lKEF0LmZyb21Eb20obikpIDogVS5ub25lKCkgOiBVLmZyb20obi5jaGlsZE5vZGVzW3IgLSAxXSkubWFwKEF0LmZyb21Eb20pKSwgZnVuY3Rpb24gKGUsIHQpIHsKICAgICAgdmFyIG4gPSBZKFVmKG8pLCBOKE90LCBlKSksCiAgICAgICAgICByID0gWSh6ZihvKSwgTihPdCwgdCkpOwogICAgICByZXR1cm4gbi5pc1NvbWUoKSAmJiByLmlzU29tZSgpOwogICAgfSkuZ2V0T3IoITEpOwogICAgdmFyIHQsIG4sIHIsIGksIGEsIHU7CiAgfSwKICAgICAgSGYgPSBmdW5jdGlvbiBIZihlLCB0LCBuLCByKSB7CiAgICB2YXIgbyA9IG4sCiAgICAgICAgaSA9IG5ldyBYcihuLCBvKSwKICAgICAgICBhID0gbWUoZS5zY2hlbWEuZ2V0TW92ZUNhcmV0QmVmb3JlT25FbnRlckVsZW1lbnRzKCksIGZ1bmN0aW9uIChlLCB0KSB7CiAgICAgIHJldHVybiAhTShbInRkIiwgInRoIiwgInRhYmxlIl0sIHQudG9Mb3dlckNhc2UoKSk7CiAgICB9KTsKCiAgICBkbyB7CiAgICAgIGlmIChJbihuKSAmJiAwICE9PSBrdC50cmltKG4ubm9kZVZhbHVlKS5sZW5ndGgpIHJldHVybiB2b2lkIChyID8gdC5zZXRTdGFydChuLCAwKSA6IHQuc2V0RW5kKG4sIG4ubm9kZVZhbHVlLmxlbmd0aCkpOwogICAgICBpZiAoYVtuLm5vZGVOYW1lXSkgcmV0dXJuIHZvaWQgKHIgPyB0LnNldFN0YXJ0QmVmb3JlKG4pIDogIkJSIiA9PT0gbi5ub2RlTmFtZSA/IHQuc2V0RW5kQmVmb3JlKG4pIDogdC5zZXRFbmRBZnRlcihuKSk7CiAgICB9IHdoaWxlIChuID0gciA/IGkubmV4dCgpIDogaS5wcmV2KCkpOwoKICAgICJCT0RZIiA9PT0gby5ub2RlTmFtZSAmJiAociA/IHQuc2V0U3RhcnQobywgMCkgOiB0LnNldEVuZChvLCBvLmNoaWxkTm9kZXMubGVuZ3RoKSk7CiAgfSwKICAgICAgVmYgPSBmdW5jdGlvbiBWZihlKSB7CiAgICB2YXIgdCA9IGUuc2VsZWN0aW9uLmdldFNlbCgpOwogICAgcmV0dXJuIHQgJiYgMCA8IHQucmFuZ2VDb3VudDsKICB9LAogICAgICBxZiA9IGZ1bmN0aW9uIHFmKHIsIG8pIHsKICAgIHZhciBlID0gRmYocik7CiAgICAwIDwgZS5sZW5ndGggPyBXKGUsIGZ1bmN0aW9uIChlKSB7CiAgICAgIHZhciB0ID0gZS5kb20sCiAgICAgICAgICBuID0gci5kb20uY3JlYXRlUm5nKCk7CiAgICAgIG4uc2V0U3RhcnRCZWZvcmUodCksIG4uc2V0RW5kQWZ0ZXIodCksIG8obiwgITApOwogICAgfSkgOiBvKHIuc2VsZWN0aW9uLmdldFJuZygpLCAhMSk7CiAgfSwKICAgICAgJGYgPSBmdW5jdGlvbiAkZihlLCB0LCBuKSB7CiAgICB2YXIgciA9IGZjKGUsIHQpOwogICAgbihyKSwgZS5tb3ZlVG9Cb29rbWFyayhyKTsKICB9OwoKICB2YXIgV2YsCiAgICAgIEtmLAogICAgICBYZiwKICAgICAgWWYgPSAoV2YgPSBVdCwgS2YgPSAidGV4dCIsIHsKICAgIGdldDogZnVuY3Rpb24gZ2V0KGUpIHsKICAgICAgaWYgKCFXZihlKSkgdGhyb3cgbmV3IEVycm9yKCJDYW4gb25seSBnZXQgIiArIEtmICsgIiB2YWx1ZSBvZiBhICIgKyBLZiArICIgbm9kZSIpOwogICAgICByZXR1cm4gWGYoZSkuZ2V0T3IoIiIpOwogICAgfSwKICAgIGdldE9wdGlvbjogWGYgPSBmdW5jdGlvbiBYZihlKSB7CiAgICAgIHJldHVybiBXZihlKSA/IFUuZnJvbShlLmRvbS5ub2RlVmFsdWUpIDogVS5ub25lKCk7CiAgICB9LAogICAgc2V0OiBmdW5jdGlvbiBzZXQoZSwgdCkgewogICAgICBpZiAoIVdmKGUpKSB0aHJvdyBuZXcgRXJyb3IoIkNhbiBvbmx5IHNldCByYXcgIiArIEtmICsgIiB2YWx1ZSBvZiBhICIgKyBLZiArICIgbm9kZSIpOwogICAgICBlLmRvbS5ub2RlVmFsdWUgPSB0OwogICAgfQogIH0pLAogICAgICBHZiA9IGZ1bmN0aW9uIEdmKGUpIHsKICAgIHJldHVybiBZZi5nZXQoZSk7CiAgfSwKICAgICAgSmYgPSBmdW5jdGlvbiBKZihyLCBvLCBpLCBhKSB7CiAgICByZXR1cm4gJHQobykuZm9sZChmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiAic2tpcHBpbmciOwogICAgfSwgZnVuY3Rpb24gKGUpIHsKICAgICAgcmV0dXJuICJiciIgPT09IGEgfHwgVXQobiA9IG8pICYmIEdmKG4pID09PSBmbyA/ICJ2YWxpZCIgOiBGdCh0ID0gbykgJiYgWHUodCwgSnUoKSkgPyAiZXhpc3RpbmciIDogamwoby5kb20pID8gImNhcmV0IiA6IGFmKHIsIGksIGEpICYmIGFmKHIsIEx0KGUpLCBpKSA/ICJ2YWxpZCIgOiAiaW52YWxpZC1jaGlsZCI7CiAgICAgIHZhciB0LCBuOwogICAgfSk7CiAgfSwKICAgICAgUWYgPSBmdW5jdGlvbiBRZihlLCB0LCBuLCByKSB7CiAgICB2YXIgbyA9IHQudWlkLAogICAgICAgIGkgPSB2b2lkIDAgPT09IG8gPyBpcygibWNlLWFubm90YXRpb24iKSA6IG8sCiAgICAgICAgYSA9IGZ1bmN0aW9uIChlLCB0KSB7CiAgICAgIHZhciBuID0ge307CgogICAgICBmb3IgKHZhciByIGluIGUpIHsKICAgICAgICBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSwgcikgJiYgdC5pbmRleE9mKHIpIDwgMCAmJiAobltyXSA9IGVbcl0pOwogICAgICB9CgogICAgICBpZiAobnVsbCAhPSBlICYmICJmdW5jdGlvbiIgPT0gdHlwZW9mIE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpIGZvciAodmFyIG8gPSAwLCByID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhlKTsgbyA8IHIubGVuZ3RoOyBvKyspIHsKICAgICAgICB0LmluZGV4T2YocltvXSkgPCAwICYmIE9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGUuY2FsbChlLCByW29dKSAmJiAobltyW29dXSA9IGVbcltvXV0pOwogICAgICB9CiAgICAgIHJldHVybiBuOwogICAgfSh0LCBbInVpZCJdKSwKICAgICAgICB1ID0gQXQuZnJvbVRhZygic3BhbiIsIGUpOwoKICAgIFd1KHUsIEp1KCkpLCBYbih1LCAiIiArIFp1KCksIGkpLCBYbih1LCAiIiArIFF1KCksIG4pOwogICAgdmFyIHMsCiAgICAgICAgYyA9IHIoaSwgYSksCiAgICAgICAgbCA9IGMuYXR0cmlidXRlcywKICAgICAgICBmID0gdm9pZCAwID09PSBsID8ge30gOiBsLAogICAgICAgIGQgPSBjLmNsYXNzZXMsCiAgICAgICAgbSA9IHZvaWQgMCA9PT0gZCA/IFtdIDogZDsKICAgIHJldHVybiBZbih1LCBmKSwgcyA9IHUsIFcobSwgZnVuY3Rpb24gKGUpIHsKICAgICAgV3UocywgZSk7CiAgICB9KSwgdTsKICB9LAogICAgICBaZiA9IGZ1bmN0aW9uIFpmKGksIGUsIHQsIG4sIHIpIHsKICAgIHZhciBhID0gW10sCiAgICAgICAgdSA9IFFmKGkuZ2V0RG9jKCksIHIsIHQsIG4pLAogICAgICAgIHMgPSBPdShVLm5vbmUoKSksCiAgICAgICAgYyA9IGZ1bmN0aW9uIGMoKSB7CiAgICAgIHMuc2V0KFUubm9uZSgpKTsKICAgIH0sCiAgICAgICAgbCA9IGZ1bmN0aW9uIGwoZSkgewogICAgICBXKGUsIG8pOwogICAgfSwKICAgICAgICBvID0gZnVuY3Rpb24gbyhlKSB7CiAgICAgIHZhciB0LCBuOwoKICAgICAgc3dpdGNoIChKZihpLCBlLCAic3BhbiIsIEx0KGUpKSkgewogICAgICAgIGNhc2UgImludmFsaWQtY2hpbGQiOgogICAgICAgICAgYygpOwogICAgICAgICAgdmFyIHIgPSBHdChlKTsKICAgICAgICAgIGwociksIGMoKTsKICAgICAgICAgIGJyZWFrOwoKICAgICAgICBjYXNlICJ2YWxpZCI6CiAgICAgICAgICB2YXIgbyA9IHMuZ2V0KCkuZ2V0T3JUaHVuayhmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIHZhciBlID0gc3ModSk7CiAgICAgICAgICAgIHJldHVybiBhLnB1c2goZSksIHMuc2V0KFUuc29tZShlKSksIGU7CiAgICAgICAgICB9KTsKICAgICAgICAgIHNuKHQgPSBlLCBuID0gbyksIGZuKG4sIHQpOwogICAgICB9CiAgICB9OwoKICAgIHJldHVybiBQZihpLmRvbSwgZSwgZnVuY3Rpb24gKGUpIHsKICAgICAgdmFyIHQ7CiAgICAgIGMoKSwgdCA9IHooZSwgQXQuZnJvbURvbSksIGwodCk7CiAgICB9KSwgYTsKICB9LAogICAgICBlZCA9IGZ1bmN0aW9uIGVkKHUsIHMsIGMsIGwpIHsKICAgIHUudW5kb01hbmFnZXIudHJhbnNhY3QoZnVuY3Rpb24gKCkgewogICAgICB2YXIgZSwKICAgICAgICAgIHQsCiAgICAgICAgICBuLAogICAgICAgICAgciwKICAgICAgICAgIG8gPSB1LnNlbGVjdGlvbiwKICAgICAgICAgIGkgPSBvLmdldFJuZygpLAogICAgICAgICAgYSA9IDAgPCBGZih1KS5sZW5ndGg7CiAgICAgIGkuY29sbGFwc2VkICYmICFhICYmIChuID0gT2YoZSA9IHUsIHQgPSBpLCBbewogICAgICAgIGlubGluZTogITAKICAgICAgfV0pLCB0LnNldFN0YXJ0KG4uc3RhcnRDb250YWluZXIsIG4uc3RhcnRPZmZzZXQpLCB0LnNldEVuZChuLmVuZENvbnRhaW5lciwgbi5lbmRPZmZzZXQpLCBlLnNlbGVjdGlvbi5zZXRSbmcodCkpLCBvLmdldFJuZygpLmNvbGxhcHNlZCAmJiAhYSA/IChyID0gUWYodS5nZXREb2MoKSwgbCwgcywgYy5kZWNvcmF0ZSksIGFzKHIsIGxvKSwgby5nZXRSbmcoKS5pbnNlcnROb2RlKHIuZG9tKSwgby5zZWxlY3Qoci5kb20pKSA6ICRmKG8sICExLCBmdW5jdGlvbiAoKSB7CiAgICAgICAgcWYodSwgZnVuY3Rpb24gKGUpIHsKICAgICAgICAgIFpmKHUsIGUsIHMsIGMuZGVjb3JhdGUsIGwpOwogICAgICAgIH0pOwogICAgICB9KTsKICAgIH0pOwogIH0sCiAgICAgIHRkID0gZnVuY3Rpb24gdGQodSkgewogICAgdmFyIG4sCiAgICAgICAgciA9IChuID0ge30sIHsKICAgICAgcmVnaXN0ZXI6IGZ1bmN0aW9uIHJlZ2lzdGVyKGUsIHQpIHsKICAgICAgICBuW2VdID0gewogICAgICAgICAgbmFtZTogZSwKICAgICAgICAgIHNldHRpbmdzOiB0CiAgICAgICAgfTsKICAgICAgfSwKICAgICAgbG9va3VwOiBmdW5jdGlvbiBsb29rdXAoZSkgewogICAgICAgIHJldHVybiBuLmhhc093blByb3BlcnR5KGUpID8gVS5mcm9tKG5bZV0pLm1hcChmdW5jdGlvbiAoZSkgewogICAgICAgICAgcmV0dXJuIGUuc2V0dGluZ3M7CiAgICAgICAgfSkgOiBVLm5vbmUoKTsKICAgICAgfQogICAgfSk7CiAgICBycyh1LCByKTsKICAgIHZhciBvID0gbnModSk7CiAgICByZXR1cm4gewogICAgICByZWdpc3RlcjogZnVuY3Rpb24gcmVnaXN0ZXIoZSwgdCkgewogICAgICAgIHIucmVnaXN0ZXIoZSwgdCk7CiAgICAgIH0sCiAgICAgIGFubm90YXRlOiBmdW5jdGlvbiBhbm5vdGF0ZSh0LCBuKSB7CiAgICAgICAgci5sb29rdXAodCkuZWFjaChmdW5jdGlvbiAoZSkgewogICAgICAgICAgZWQodSwgdCwgZSwgbik7CiAgICAgICAgfSk7CiAgICAgIH0sCiAgICAgIGFubm90YXRpb25DaGFuZ2VkOiBmdW5jdGlvbiBhbm5vdGF0aW9uQ2hhbmdlZChlLCB0KSB7CiAgICAgICAgby5hZGRMaXN0ZW5lcihlLCB0KTsKICAgICAgfSwKICAgICAgcmVtb3ZlOiBmdW5jdGlvbiByZW1vdmUoZSkgewogICAgICAgIGVzKHUsIFUuc29tZShlKSkuZWFjaChmdW5jdGlvbiAoZSkgewogICAgICAgICAgdmFyIHQgPSBlLmVsZW1lbnRzOwogICAgICAgICAgVyh0LCBnbik7CiAgICAgICAgfSk7CiAgICAgIH0sCiAgICAgIGdldEFsbDogZnVuY3Rpb24gZ2V0QWxsKGUpIHsKICAgICAgICB2YXIgdCwKICAgICAgICAgICAgbiwKICAgICAgICAgICAgciwKICAgICAgICAgICAgbywKICAgICAgICAgICAgaSwKICAgICAgICAgICAgYSA9ICh0ID0gdSwgbiA9IGUsIHIgPSBBdC5mcm9tRG9tKHQuZ2V0Qm9keSgpKSwgbyA9IEd1KHIsICJbIiArIFF1KCkgKyAnPSInICsgbiArICciXScpLCBpID0ge30sIFcobywgZnVuY3Rpb24gKGUpIHsKICAgICAgICAgIHZhciB0ID0gR24oZSwgWnUoKSksCiAgICAgICAgICAgICAgbiA9IGkuaGFzT3duUHJvcGVydHkodCkgPyBpW3RdIDogW107CiAgICAgICAgICBpW3RdID0gbi5jb25jYXQoW2VdKTsKICAgICAgICB9KSwgaSk7CiAgICAgICAgcmV0dXJuIHNlKGEsIGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICByZXR1cm4geihlLCBmdW5jdGlvbiAoZSkgewogICAgICAgICAgICByZXR1cm4gZS5kb207CiAgICAgICAgICB9KTsKICAgICAgICB9KTsKICAgICAgfQogICAgfTsKICB9OwoKICBmdW5jdGlvbiBuZChlKSB7CiAgICByZXR1cm4gewogICAgICBnZXRCb29rbWFyazogTihZbCwgZSksCiAgICAgIG1vdmVUb0Jvb2ttYXJrOiBOKEdsLCBlKQogICAgfTsKICB9CgogIChuZCA9IG5kIHx8IHt9KS5pc0Jvb2ttYXJrTm9kZSA9IEpsOwoKICB2YXIgcmQsCiAgICAgIG9kID0gbmQsCiAgICAgIGlkID0gZnVuY3Rpb24gaWQoZSwgdCkgewogICAgZm9yICg7IHQgJiYgdCAhPT0gZTspIHsKICAgICAgaWYgKEhuKHQpIHx8IFZuKHQpKSByZXR1cm4gdDsKICAgICAgdCA9IHQucGFyZW50Tm9kZTsKICAgIH0KCiAgICByZXR1cm4gbnVsbDsKICB9LAogICAgICBhZCA9IGZ1bmN0aW9uIGFkKHQsIG4sIGUpIHsKICAgIGlmIChlLmNvbGxhcHNlZCkgcmV0dXJuICExOwoKICAgIGlmICh3dC5icm93c2VyLmlzSUUoKSAmJiBlLnN0YXJ0T2Zmc2V0ID09PSBlLmVuZE9mZnNldCAtIDEgJiYgZS5zdGFydENvbnRhaW5lciA9PT0gZS5lbmRDb250YWluZXIpIHsKICAgICAgdmFyIHIgPSBlLnN0YXJ0Q29udGFpbmVyLmNoaWxkTm9kZXNbZS5zdGFydE9mZnNldF07CiAgICAgIGlmIChBbihyKSkgcmV0dXJuIEYoci5nZXRDbGllbnRSZWN0cygpLCBmdW5jdGlvbiAoZSkgewogICAgICAgIHJldHVybiBicyhlLCB0LCBuKTsKICAgICAgfSk7CiAgICB9CgogICAgcmV0dXJuIEYoZS5nZXRDbGllbnRSZWN0cygpLCBmdW5jdGlvbiAoZSkgewogICAgICByZXR1cm4gYnMoZSwgdCwgbik7CiAgICB9KTsKICB9LAogICAgICB1ZCA9IHsKICAgIEJBQ0tTUEFDRTogOCwKICAgIERFTEVURTogNDYsCiAgICBET1dOOiA0MCwKICAgIEVOVEVSOiAxMywKICAgIExFRlQ6IDM3LAogICAgUklHSFQ6IDM5LAogICAgU1BBQ0VCQVI6IDMyLAogICAgVEFCOiA5LAogICAgVVA6IDM4LAogICAgRU5EOiAzNSwKICAgIEhPTUU6IDM2LAogICAgbW9kaWZpZXJQcmVzc2VkOiBmdW5jdGlvbiBtb2RpZmllclByZXNzZWQoZSkgewogICAgICByZXR1cm4gZS5zaGlmdEtleSB8fCBlLmN0cmxLZXkgfHwgZS5hbHRLZXkgfHwgdGhpcy5tZXRhS2V5UHJlc3NlZChlKTsKICAgIH0sCiAgICBtZXRhS2V5UHJlc3NlZDogZnVuY3Rpb24gbWV0YUtleVByZXNzZWQoZSkgewogICAgICByZXR1cm4gd3QubWFjID8gZS5tZXRhS2V5IDogZS5jdHJsS2V5ICYmICFlLmFsdEtleTsKICAgIH0KICB9LAogICAgICBzZCA9IFZuLAogICAgICBjZCA9IGZ1bmN0aW9uIGNkKHIsIGwpIHsKICAgIHZhciBmLAogICAgICAgIGQsCiAgICAgICAgbSwKICAgICAgICBwLAogICAgICAgIGcsCiAgICAgICAgaCwKICAgICAgICB2LAogICAgICAgIHksCiAgICAgICAgYiwKICAgICAgICBDLAogICAgICAgIHcsCiAgICAgICAgeCwKICAgICAgICBTLAogICAgICAgIE4sCiAgICAgICAgRSA9IGwuZG9tLAogICAgICAgIHMgPSBrdC5lYWNoLAogICAgICAgIGMgPSBsLmdldERvYygpLAogICAgICAgIGsgPSBkb2N1bWVudCwKICAgICAgICBfID0gTWF0aC5hYnMsCiAgICAgICAgQSA9IE1hdGgucm91bmQsCiAgICAgICAgUiA9IGwuZ2V0Qm9keSgpLAogICAgICAgIFQgPSB7CiAgICAgIG53OiBbMCwgMCwgLTEsIC0xXSwKICAgICAgbmU6IFsxLCAwLCAxLCAtMV0sCiAgICAgIHNlOiBbMSwgMSwgMSwgMV0sCiAgICAgIHN3OiBbMCwgMSwgLTEsIDFdCiAgICB9LAogICAgICAgIEQgPSBmdW5jdGlvbiBEKGUpIHsKICAgICAgcmV0dXJuIGUgJiYgKCJJTUciID09PSBlLm5vZGVOYW1lIHx8IGwuZG9tLmlzKGUsICJmaWd1cmUuaW1hZ2UiKSk7CiAgICB9LAogICAgICAgIG4gPSBmdW5jdGlvbiBuKGUpIHsKICAgICAgdmFyIHQgPSBlLnRhcmdldDsKICAgICAgIWZ1bmN0aW9uIChlLCB0KSB7CiAgICAgICAgaWYgKCJsb25ncHJlc3MiICE9PSBlLnR5cGUgJiYgMCAhPT0gZS50eXBlLmluZGV4T2YoInRvdWNoIikpIHJldHVybiBEKGUudGFyZ2V0KSAmJiAhYWQoZS5jbGllbnRYLCBlLmNsaWVudFksIHQpOwogICAgICAgIHZhciBuID0gZS50b3VjaGVzWzBdOwogICAgICAgIHJldHVybiBEKGUudGFyZ2V0KSAmJiAhYWQobi5jbGllbnRYLCBuLmNsaWVudFksIHQpOwogICAgICB9KGUsIGwuc2VsZWN0aW9uLmdldFJuZygpKSB8fCBlLmlzRGVmYXVsdFByZXZlbnRlZCgpIHx8IGwuc2VsZWN0aW9uLnNlbGVjdCh0KTsKICAgIH0sCiAgICAgICAgTyA9IGZ1bmN0aW9uIE8oZSkgewogICAgICByZXR1cm4gbC5kb20uaXMoZSwgImZpZ3VyZS5pbWFnZSIpID8gZS5xdWVyeVNlbGVjdG9yKCJpbWciKSA6IGU7CiAgICB9LAogICAgICAgIEIgPSBmdW5jdGlvbiBCKGUpIHsKICAgICAgdmFyIHQgPSBOYyhsKTsKICAgICAgcmV0dXJuICEhdCAmJiAiZmFsc2UiICE9PSBlLmdldEF0dHJpYnV0ZSgiZGF0YS1tY2UtcmVzaXplIikgJiYgZSAhPT0gbC5nZXRCb2R5KCkgJiYgVHQoQXQuZnJvbURvbShlKSwgdCk7CiAgICB9LAogICAgICAgIFAgPSBmdW5jdGlvbiBQKGUsIHQsIG4pIHsKICAgICAgRS5zZXRTdHlsZXMoTyhlKSwgewogICAgICAgIHdpZHRoOiB0LAogICAgICAgIGhlaWdodDogbgogICAgICB9KTsKICAgIH0sCiAgICAgICAgTCA9IGZ1bmN0aW9uIEwoZSkgewogICAgICB2YXIgdCwKICAgICAgICAgIG4sCiAgICAgICAgICByLAogICAgICAgICAgbywKICAgICAgICAgIGksCiAgICAgICAgICBhLAogICAgICAgICAgdSwKICAgICAgICAgIHMgPSBlLnNjcmVlblggLSBnLAogICAgICAgICAgYyA9IGUuc2NyZWVuWSAtIGg7CiAgICAgIHcgPSBzICogcFsyXSArIHYsIHggPSBjICogcFszXSArIHksIHcgPSB3IDwgNSA/IDUgOiB3LCB4ID0geCA8IDUgPyA1IDogeCwgKEQoZikgJiYgITEgIT09IGwuZ2V0UGFyYW0oInJlc2l6ZV9pbWdfcHJvcG9ydGlvbmFsIiwgITAsICJib29sZWFuIikgPyAhdWQubW9kaWZpZXJQcmVzc2VkKGUpIDogdWQubW9kaWZpZXJQcmVzc2VkKGUpKSAmJiAoXyhzKSA+IF8oYykgPyAoeCA9IEEodyAqIGIpLCB3ID0gQSh4IC8gYikpIDogKHcgPSBBKHggLyBiKSwgeCA9IEEodyAqIGIpKSksIFAoZCwgdywgeCksIHQgPSAwIDwgKHQgPSBwLnN0YXJ0UG9zLnggKyBzKSA/IHQgOiAwLCBuID0gMCA8IChuID0gcC5zdGFydFBvcy55ICsgYykgPyBuIDogMCwgRS5zZXRTdHlsZXMobSwgewogICAgICAgIGxlZnQ6IHQsCiAgICAgICAgdG9wOiBuLAogICAgICAgIGRpc3BsYXk6ICJibG9jayIKICAgICAgfSksIG0uaW5uZXJIVE1MID0gdyArICIgJnRpbWVzOyAiICsgeCwgcFsyXSA8IDAgJiYgZC5jbGllbnRXaWR0aCA8PSB3ICYmIEUuc2V0U3R5bGUoZCwgImxlZnQiLCB2b2lkIDAgKyAodiAtIHcpKSwgcFszXSA8IDAgJiYgZC5jbGllbnRIZWlnaHQgPD0geCAmJiBFLnNldFN0eWxlKGQsICJ0b3AiLCB2b2lkIDAgKyAoeSAtIHgpKSwgKHMgPSBSLnNjcm9sbFdpZHRoIC0gUykgKyAoYyA9IFIuc2Nyb2xsSGVpZ2h0IC0gTikgIT09IDAgJiYgRS5zZXRTdHlsZXMobSwgewogICAgICAgIGxlZnQ6IHQgLSBzLAogICAgICAgIHRvcDogbiAtIGMKICAgICAgfSksIEMgfHwgKHIgPSBsLCBvID0gZiwgaSA9IHYsIGEgPSB5LCB1ID0gImNvcm5lci0iICsgcC5uYW1lLCByLmZpcmUoIk9iamVjdFJlc2l6ZVN0YXJ0IiwgewogICAgICAgIHRhcmdldDogbywKICAgICAgICB3aWR0aDogaSwKICAgICAgICBoZWlnaHQ6IGEsCiAgICAgICAgb3JpZ2luOiB1CiAgICAgIH0pLCBDID0gITApOwogICAgfSwKICAgICAgICBJID0gZnVuY3Rpb24gSSgpIHsKICAgICAgdmFyIGUgPSBDOwogICAgICBDID0gITE7CgogICAgICB2YXIgdCwKICAgICAgICAgIG4sCiAgICAgICAgICByLAogICAgICAgICAgbywKICAgICAgICAgIGksCiAgICAgICAgICBhID0gZnVuY3Rpb24gYShlLCB0KSB7CiAgICAgICAgdCAmJiAoZi5zdHlsZVtlXSB8fCAhbC5zY2hlbWEuaXNWYWxpZChmLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCksIGUpID8gRS5zZXRTdHlsZShPKGYpLCBlLCB0KSA6IEUuc2V0QXR0cmliKE8oZiksIGUsICIiICsgdCkpOwogICAgICB9OwoKICAgICAgZSAmJiAoYSgid2lkdGgiLCB3KSwgYSgiaGVpZ2h0IiwgeCkpLCBFLnVuYmluZChjLCAibW91c2Vtb3ZlIiwgTCksIEUudW5iaW5kKGMsICJtb3VzZXVwIiwgSSksIGsgIT09IGMgJiYgKEUudW5iaW5kKGssICJtb3VzZW1vdmUiLCBMKSwgRS51bmJpbmQoaywgIm1vdXNldXAiLCBJKSksIEUucmVtb3ZlKGQpLCBFLnJlbW92ZShtKSwgdShmKSwgZSAmJiAodCA9IGwsIG4gPSBmLCByID0gdywgbyA9IHgsIGkgPSAiY29ybmVyLSIgKyBwLm5hbWUsIHQuZmlyZSgiT2JqZWN0UmVzaXplZCIsIHsKICAgICAgICB0YXJnZXQ6IG4sCiAgICAgICAgd2lkdGg6IHIsCiAgICAgICAgaGVpZ2h0OiBvLAogICAgICAgIG9yaWdpbjogaQogICAgICB9KSwgRS5zZXRBdHRyaWIoZiwgInN0eWxlIiwgRS5nZXRBdHRyaWIoZiwgInN0eWxlIikpKSwgbC5ub2RlQ2hhbmdlZCgpOwogICAgfSwKICAgICAgICB1ID0gZnVuY3Rpb24gdShlKSB7CiAgICAgIE0oKSwgRigpOwogICAgICB2YXIgdCA9IEUuZ2V0UG9zKGUsIFIpLAogICAgICAgICAgbyA9IHQueCwKICAgICAgICAgIGkgPSB0LnksCiAgICAgICAgICBuID0gZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSwKICAgICAgICAgIGEgPSBuLndpZHRoIHx8IG4ucmlnaHQgLSBuLmxlZnQsCiAgICAgICAgICB1ID0gbi5oZWlnaHQgfHwgbi5ib3R0b20gLSBuLnRvcDsKICAgICAgZiAhPT0gZSAmJiAoZiA9IGUsIHcgPSB4ID0gMCk7CiAgICAgIHZhciByID0gbC5maXJlKCJPYmplY3RTZWxlY3RlZCIsIHsKICAgICAgICB0YXJnZXQ6IGUKICAgICAgfSk7CiAgICAgIEIoZSkgJiYgIXIuaXNEZWZhdWx0UHJldmVudGVkKCkgPyBzKFQsIGZ1bmN0aW9uIChuLCByKSB7CiAgICAgICAgdmFyIGUgPSBFLmdldCgibWNlUmVzaXplSGFuZGxlIiArIHIpOwogICAgICAgIGUgJiYgRS5yZW1vdmUoZSksIGUgPSBFLmFkZChSLCAiZGl2IiwgewogICAgICAgICAgaWQ6ICJtY2VSZXNpemVIYW5kbGUiICsgciwKICAgICAgICAgICJkYXRhLW1jZS1ib2d1cyI6ICJhbGwiLAogICAgICAgICAgImNsYXNzIjogIm1jZS1yZXNpemVoYW5kbGUiLAogICAgICAgICAgdW5zZWxlY3RhYmxlOiAhMCwKICAgICAgICAgIHN0eWxlOiAiY3Vyc29yOiIgKyByICsgIi1yZXNpemU7IG1hcmdpbjowOyBwYWRkaW5nOjAiCiAgICAgICAgfSksIDExID09PSB3dC5pZSAmJiAoZS5jb250ZW50RWRpdGFibGUgPSAhMSksIEUuYmluZChlLCAibW91c2Vkb3duIiwgZnVuY3Rpb24gKGUpIHsKICAgICAgICAgIHZhciB0OwogICAgICAgICAgZS5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKSwgZS5wcmV2ZW50RGVmYXVsdCgpLCBnID0gKHQgPSBlKS5zY3JlZW5YLCBoID0gdC5zY3JlZW5ZLCB2ID0gTyhmKS5jbGllbnRXaWR0aCwgeSA9IE8oZikuY2xpZW50SGVpZ2h0LCBiID0geSAvIHYsIChwID0gbikubmFtZSA9IHIsIHAuc3RhcnRQb3MgPSB7CiAgICAgICAgICAgIHg6IGEgKiBuWzBdICsgbywKICAgICAgICAgICAgeTogdSAqIG5bMV0gKyBpCiAgICAgICAgICB9LCBTID0gUi5zY3JvbGxXaWR0aCwgTiA9IFIuc2Nyb2xsSGVpZ2h0LCBkID0gZi5jbG9uZU5vZGUoITApLCBFLmFkZENsYXNzKGQsICJtY2UtY2xvbmVkcmVzaXphYmxlIiksIEUuc2V0QXR0cmliKGQsICJkYXRhLW1jZS1ib2d1cyIsICJhbGwiKSwgZC5jb250ZW50RWRpdGFibGUgPSAhMSwgZC51blNlbGVjdGFiZSA9ICEwLCBFLnNldFN0eWxlcyhkLCB7CiAgICAgICAgICAgIGxlZnQ6IG8sCiAgICAgICAgICAgIHRvcDogaSwKICAgICAgICAgICAgbWFyZ2luOiAwCiAgICAgICAgICB9KSwgUChkLCBhLCB1KSwgZC5yZW1vdmVBdHRyaWJ1dGUoImRhdGEtbWNlLXNlbGVjdGVkIiksIFIuYXBwZW5kQ2hpbGQoZCksIEUuYmluZChjLCAibW91c2Vtb3ZlIiwgTCksIEUuYmluZChjLCAibW91c2V1cCIsIEkpLCBrICE9PSBjICYmIChFLmJpbmQoaywgIm1vdXNlbW92ZSIsIEwpLCBFLmJpbmQoaywgIm1vdXNldXAiLCBJKSksIG0gPSBFLmFkZChSLCAiZGl2IiwgewogICAgICAgICAgICAiY2xhc3MiOiAibWNlLXJlc2l6ZS1oZWxwZXIiLAogICAgICAgICAgICAiZGF0YS1tY2UtYm9ndXMiOiAiYWxsIgogICAgICAgICAgfSwgdiArICIgJnRpbWVzOyAiICsgeSk7CiAgICAgICAgfSksIG4uZWxtID0gZSwgRS5zZXRTdHlsZXMoZSwgewogICAgICAgICAgbGVmdDogYSAqIG5bMF0gKyBvIC0gZS5vZmZzZXRXaWR0aCAvIDIsCiAgICAgICAgICB0b3A6IHUgKiBuWzFdICsgaSAtIGUub2Zmc2V0SGVpZ2h0IC8gMgogICAgICAgIH0pOwogICAgICB9KSA6IE0oKSwgZi5zZXRBdHRyaWJ1dGUoImRhdGEtbWNlLXNlbGVjdGVkIiwgIjEiKTsKICAgIH0sCiAgICAgICAgTSA9IGZ1bmN0aW9uIE0oKSB7CiAgICAgIEYoKSwgZiAmJiBmLnJlbW92ZUF0dHJpYnV0ZSgiZGF0YS1tY2Utc2VsZWN0ZWQiKSwgdWUoVCwgZnVuY3Rpb24gKGUsIHQpIHsKICAgICAgICB2YXIgbiA9IEUuZ2V0KCJtY2VSZXNpemVIYW5kbGUiICsgdCk7CiAgICAgICAgbiAmJiAoRS51bmJpbmQobiksIEUucmVtb3ZlKG4pKTsKICAgICAgfSk7CiAgICB9LAogICAgICAgIG8gPSBmdW5jdGlvbiBvKGUpIHsKICAgICAgdmFyIHQsCiAgICAgICAgICBuID0gZnVuY3Rpb24gbihlLCB0KSB7CiAgICAgICAgaWYgKGUpIGRvIHsKICAgICAgICAgIGlmIChlID09PSB0KSByZXR1cm4gITA7CiAgICAgICAgfSB3aGlsZSAoZSA9IGUucGFyZW50Tm9kZSk7CiAgICAgIH07CgogICAgICBDIHx8IGwucmVtb3ZlZCB8fCAocyhFLnNlbGVjdCgiaW1nW2RhdGEtbWNlLXNlbGVjdGVkXSxocltkYXRhLW1jZS1zZWxlY3RlZF0iKSwgZnVuY3Rpb24gKGUpIHsKICAgICAgICBlLnJlbW92ZUF0dHJpYnV0ZSgiZGF0YS1tY2Utc2VsZWN0ZWQiKTsKICAgICAgfSksIHQgPSAibW91c2Vkb3duIiA9PT0gZS50eXBlID8gZS50YXJnZXQgOiByLmdldE5vZGUoKSwgbih0ID0gRS4kKHQpLmNsb3Nlc3QoInRhYmxlLGltZyxmaWd1cmUuaW1hZ2UsaHIiKVswXSwgUikgJiYgKGEoKSwgbihyLmdldFN0YXJ0KCEwKSwgdCkgJiYgbihyLmdldEVuZCghMCksIHQpKSA/IHUodCkgOiBNKCkpOwogICAgfSwKICAgICAgICBpID0gZnVuY3Rpb24gaShlKSB7CiAgICAgIHJldHVybiBzZChpZChsLmdldEJvZHkoKSwgZSkpOwogICAgfSwKICAgICAgICBGID0gZnVuY3Rpb24gRigpIHsKICAgICAgdWUoVCwgZnVuY3Rpb24gKGUpIHsKICAgICAgICBlLmVsbSAmJiAoRS51bmJpbmQoZS5lbG0pLCBkZWxldGUgZS5lbG0pOwogICAgICB9KTsKICAgIH0sCiAgICAgICAgYSA9IGZ1bmN0aW9uIGEoKSB7CiAgICAgIHRyeSB7CiAgICAgICAgbC5nZXREb2MoKS5leGVjQ29tbWFuZCgiZW5hYmxlT2JqZWN0UmVzaXppbmciLCAhMSwgImZhbHNlIik7CiAgICAgIH0gY2F0Y2ggKGUpIHt9CiAgICB9OwoKICAgIGwub24oImluaXQiLCBmdW5jdGlvbiAoKSB7CiAgICAgIHZhciBlOwogICAgICBhKCksICh3dC5icm93c2VyLmlzSUUoKSB8fCB3dC5icm93c2VyLmlzRWRnZSgpKSAmJiAobC5vbigibW91c2Vkb3duIGNsaWNrIiwgZnVuY3Rpb24gKGUpIHsKICAgICAgICB2YXIgdCA9IGUudGFyZ2V0LAogICAgICAgICAgICBuID0gdC5ub2RlTmFtZTsKICAgICAgICBDIHx8ICEvXihUQUJMRXxJTUd8SFIpJC8udGVzdChuKSB8fCBpKHQpIHx8ICgyICE9PSBlLmJ1dHRvbiAmJiBsLnNlbGVjdGlvbi5zZWxlY3QodCwgIlRBQkxFIiA9PT0gbiksICJtb3VzZWRvd24iID09PSBlLnR5cGUgJiYgbC5ub2RlQ2hhbmdlZCgpKTsKICAgICAgfSksIGUgPSBmdW5jdGlvbiBlKF9lNykgewogICAgICAgIHZhciB0ID0gZnVuY3Rpb24gdChlKSB7CiAgICAgICAgICBxci5zZXRFZGl0b3JUaW1lb3V0KGwsIGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgcmV0dXJuIGwuc2VsZWN0aW9uLnNlbGVjdChlKTsKICAgICAgICAgIH0pOwogICAgICAgIH07CgogICAgICAgIGlmIChpKF9lNy50YXJnZXQpIHx8ICRuKF9lNy50YXJnZXQpKSByZXR1cm4gX2U3LnByZXZlbnREZWZhdWx0KCksIHZvaWQgdChfZTcudGFyZ2V0KTsKICAgICAgICAvXihUQUJMRXxJTUd8SFIpJC8udGVzdChfZTcudGFyZ2V0Lm5vZGVOYW1lKSAmJiAoX2U3LnByZXZlbnREZWZhdWx0KCksICJJTUciID09PSBfZTcudGFyZ2V0LnRhZ05hbWUgJiYgdChfZTcudGFyZ2V0KSk7CiAgICAgIH0sIEUuYmluZChSLCAibXNjb250cm9sc2VsZWN0IiwgZSksIGwub24oInJlbW92ZSIsIGZ1bmN0aW9uICgpIHsKICAgICAgICByZXR1cm4gRS51bmJpbmQoUiwgIm1zY29udHJvbHNlbGVjdCIsIGUpOwogICAgICB9KSk7CiAgICAgIHZhciB0ID0gcXIudGhyb3R0bGUoZnVuY3Rpb24gKGUpIHsKICAgICAgICBsLmNvbXBvc2luZyB8fCBvKGUpOwogICAgICB9KTsKICAgICAgbC5vbigibm9kZWNoYW5nZSBSZXNpemVFZGl0b3IgUmVzaXplV2luZG93IFJlc2l6ZUNvbnRlbnQgZHJvcCBGdWxsc2NyZWVuU3RhdGVDaGFuZ2VkIiwgdCksIGwub24oImtleXVwIGNvbXBvc2l0aW9uZW5kIiwgZnVuY3Rpb24gKGUpIHsKICAgICAgICBmICYmICJUQUJMRSIgPT09IGYubm9kZU5hbWUgJiYgdChlKTsKICAgICAgfSksIGwub24oImhpZGUgYmx1ciIsIE0pLCBsLm9uKCJjb250ZXh0bWVudSBsb25ncHJlc3MiLCBuLCAhMCk7CiAgICB9KSwgbC5vbigicmVtb3ZlIiwgRik7CiAgICByZXR1cm4gewogICAgICBpc1Jlc2l6YWJsZTogQiwKICAgICAgc2hvd1Jlc2l6ZVJlY3Q6IHUsCiAgICAgIGhpZGVSZXNpemVSZWN0OiBNLAogICAgICB1cGRhdGVSZXNpemVSZWN0OiBvLAogICAgICBkZXN0cm95OiBmdW5jdGlvbiBkZXN0cm95KCkgewogICAgICAgIGYgPSBkID0gbnVsbDsKICAgICAgfQogICAgfTsKICB9LAogICAgICBsZCA9IGZ1bmN0aW9uIGxkKGUpIHsKICAgIHJldHVybiBIbihlKSB8fCBWbihlKTsKICB9LAogICAgICBmZCA9IGZ1bmN0aW9uIGZkKGUsIHQsIG4pIHsKICAgIHZhciByLAogICAgICAgIG8sCiAgICAgICAgaSwKICAgICAgICBhLAogICAgICAgIHUsCiAgICAgICAgcyA9IG47CiAgICBpZiAocy5jYXJldFBvc2l0aW9uRnJvbVBvaW50KSAobyA9IHMuY2FyZXRQb3NpdGlvbkZyb21Qb2ludChlLCB0KSkgJiYgKChyID0gbi5jcmVhdGVSYW5nZSgpKS5zZXRTdGFydChvLm9mZnNldE5vZGUsIG8ub2Zmc2V0KSwgci5jb2xsYXBzZSghMCkpO2Vsc2UgaWYgKG4uY2FyZXRSYW5nZUZyb21Qb2ludCkgciA9IG4uY2FyZXRSYW5nZUZyb21Qb2ludChlLCB0KTtlbHNlIGlmIChzLmJvZHkuY3JlYXRlVGV4dFJhbmdlKSB7CiAgICAgIHIgPSBzLmJvZHkuY3JlYXRlVGV4dFJhbmdlKCk7CgogICAgICB0cnkgewogICAgICAgIHIubW92ZVRvUG9pbnQoZSwgdCksIHIuY29sbGFwc2UoITApOwogICAgICB9IGNhdGNoIChjKSB7CiAgICAgICAgciA9IGZ1bmN0aW9uIChlLCBuLCB0KSB7CiAgICAgICAgICB2YXIgciwKICAgICAgICAgICAgICBvID0gdC5lbGVtZW50RnJvbVBvaW50KGUsIG4pLAogICAgICAgICAgICAgIGkgPSB0LmJvZHkuY3JlYXRlVGV4dFJhbmdlKCk7CgogICAgICAgICAgaWYgKG8gJiYgIkhUTUwiICE9PSBvLnRhZ05hbWUgfHwgKG8gPSB0LmJvZHkpLCBpLm1vdmVUb0VsZW1lbnRUZXh0KG8pLCAwIDwgKHIgPSAociA9IGt0LnRvQXJyYXkoaS5nZXRDbGllbnRSZWN0cygpKSkuc29ydChmdW5jdGlvbiAoZSwgdCkgewogICAgICAgICAgICByZXR1cm4gKGUgPSBNYXRoLmFicyhNYXRoLm1heChlLnRvcCAtIG4sIGUuYm90dG9tIC0gbikpKSAtICh0ID0gTWF0aC5hYnMoTWF0aC5tYXgodC50b3AgLSBuLCB0LmJvdHRvbSAtIG4pKSk7CiAgICAgICAgICB9KSkubGVuZ3RoKSB7CiAgICAgICAgICAgIG4gPSAoclswXS5ib3R0b20gKyByWzBdLnRvcCkgLyAyOwoKICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICByZXR1cm4gaS5tb3ZlVG9Qb2ludChlLCBuKSwgaS5jb2xsYXBzZSghMCksIGk7CiAgICAgICAgICAgIH0gY2F0Y2ggKGEpIHt9CiAgICAgICAgICB9CgogICAgICAgICAgcmV0dXJuIG51bGw7CiAgICAgICAgfShlLCB0LCBuKTsKICAgICAgfQoKICAgICAgcmV0dXJuIGkgPSByLCBhID0gbi5ib2R5LCB1ID0gaSAmJiBpLnBhcmVudEVsZW1lbnQgPyBpLnBhcmVudEVsZW1lbnQoKSA6IG51bGwsIFZuKGZ1bmN0aW9uIChlLCB0LCBuKSB7CiAgICAgICAgZm9yICg7IGUgJiYgZSAhPT0gdDspIHsKICAgICAgICAgIGlmIChuKGUpKSByZXR1cm4gZTsKICAgICAgICAgIGUgPSBlLnBhcmVudE5vZGU7CiAgICAgICAgfQoKICAgICAgICByZXR1cm4gbnVsbDsKICAgICAgfSh1LCBhLCBsZCkpID8gbnVsbCA6IGk7CiAgICB9CiAgICByZXR1cm4gcjsKICB9LAogICAgICBkZCA9IGZ1bmN0aW9uIGRkKGUsIHQpIHsKICAgIHJldHVybiBlICYmIHQgJiYgZS5zdGFydENvbnRhaW5lciA9PT0gdC5zdGFydENvbnRhaW5lciAmJiBlLnN0YXJ0T2Zmc2V0ID09PSB0LnN0YXJ0T2Zmc2V0ICYmIGUuZW5kQ29udGFpbmVyID09PSB0LmVuZENvbnRhaW5lciAmJiBlLmVuZE9mZnNldCA9PT0gdC5lbmRPZmZzZXQ7CiAgfSwKICAgICAgbWQgPSBmdW5jdGlvbiBtZChlLCB0LCBuKSB7CiAgICByZXR1cm4gbnVsbCAhPT0gZnVuY3Rpb24gKGUsIHQsIG4pIHsKICAgICAgZm9yICg7IGUgJiYgZSAhPT0gdDspIHsKICAgICAgICBpZiAobihlKSkgcmV0dXJuIGU7CiAgICAgICAgZSA9IGUucGFyZW50Tm9kZTsKICAgICAgfQoKICAgICAgcmV0dXJuIG51bGw7CiAgICB9KGUsIHQsIG4pOwogIH0sCiAgICAgIHBkID0gZnVuY3Rpb24gcGQoZSkgewogICAgcmV0dXJuIGUgJiYgIlRBQkxFIiA9PT0gZS5ub2RlTmFtZTsKICB9LAogICAgICBnZCA9IGZ1bmN0aW9uIGdkKGUsIHQsIG4pIHsKICAgIGZvciAodmFyIHIgPSBuZXcgWHIodCwgZS5nZXRQYXJlbnQodC5wYXJlbnROb2RlLCBlLmlzQmxvY2spIHx8IGUuZ2V0Um9vdCgpKTsgdCA9IHJbbiA/ICJwcmV2IiA6ICJuZXh0Il0oKTspIHsKICAgICAgaWYgKHpuKHQpKSByZXR1cm4gITA7CiAgICB9CiAgfSwKICAgICAgaGQgPSBmdW5jdGlvbiBoZChlLCB0LCBuLCByLCBvKSB7CiAgICB2YXIgaSwKICAgICAgICBhLAogICAgICAgIHUgPSBlLmdldFJvb3QoKSwKICAgICAgICBzID0gZS5zY2hlbWEuZ2V0Tm9uRW1wdHlFbGVtZW50cygpLAogICAgICAgIGMgPSBlLmdldFBhcmVudChvLnBhcmVudE5vZGUsIGUuaXNCbG9jaykgfHwgdTsKICAgIGlmIChyICYmIHpuKG8pICYmIHQgJiYgZS5pc0VtcHR5KGMpKSByZXR1cm4gVS5zb21lKEhzKG8ucGFyZW50Tm9kZSwgZS5ub2RlSW5kZXgobykpKTsKCiAgICBmb3IgKHZhciBsLCBmLCBkID0gbmV3IFhyKG8sIGMpOyBhID0gZFtyID8gInByZXYiIDogIm5leHQiXSgpOykgewogICAgICBpZiAoImZhbHNlIiA9PT0gZS5nZXRDb250ZW50RWRpdGFibGVQYXJlbnQoYSkgfHwgKGYgPSB1LCBibyhsID0gYSkgJiYgITEgPT09IG1kKGwsIGYsIGpsKSkpIHJldHVybiBVLm5vbmUoKTsKICAgICAgaWYgKEluKGEpICYmIDAgPCBhLm5vZGVWYWx1ZS5sZW5ndGgpIHJldHVybiAhMSA9PT0gZnVuY3Rpb24gKGUsIHQsIG4pIHsKICAgICAgICByZXR1cm4gbWQoZSwgdCwgZnVuY3Rpb24gKGUpIHsKICAgICAgICAgIHJldHVybiBlLm5vZGVOYW1lID09PSBuOwogICAgICAgIH0pOwogICAgICB9KGEsIHUsICJBIikgPyBVLnNvbWUoSHMoYSwgciA/IGEubm9kZVZhbHVlLmxlbmd0aCA6IDApKSA6IFUubm9uZSgpOwogICAgICBpZiAoZS5pc0Jsb2NrKGEpIHx8IHNbYS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpXSkgcmV0dXJuIFUubm9uZSgpOwogICAgICBpID0gYTsKICAgIH0KCiAgICByZXR1cm4gbiAmJiBpID8gVS5zb21lKEhzKGksIDApKSA6IFUubm9uZSgpOwogIH0sCiAgICAgIHZkID0gZnVuY3Rpb24gdmQoZSwgdCwgbiwgcikgewogICAgdmFyIG8sCiAgICAgICAgaSwKICAgICAgICBhLAogICAgICAgIHUsCiAgICAgICAgcyA9IGUuZ2V0Um9vdCgpLAogICAgICAgIGMgPSAhMSwKICAgICAgICBsID0gclsobiA/ICJzdGFydCIgOiAiZW5kIikgKyAiQ29udGFpbmVyIl0sCiAgICAgICAgZiA9IHJbKG4gPyAic3RhcnQiIDogImVuZCIpICsgIk9mZnNldCJdLAogICAgICAgIGQgPSBBbihsKSAmJiBmID09PSBsLmNoaWxkTm9kZXMubGVuZ3RoLAogICAgICAgIG0gPSBlLnNjaGVtYS5nZXROb25FbXB0eUVsZW1lbnRzKCksCiAgICAgICAgcCA9IG47CiAgICBpZiAoYm8obCkpIHJldHVybiBVLm5vbmUoKTsKCiAgICBpZiAoQW4obCkgJiYgZiA+IGwuY2hpbGROb2Rlcy5sZW5ndGggLSAxICYmIChwID0gITEpLCBGbihsKSAmJiAobCA9IHMsIGYgPSAwKSwgbCA9PT0gcykgewogICAgICBpZiAocCAmJiAobyA9IGwuY2hpbGROb2Rlc1swIDwgZiA/IGYgLSAxIDogMF0pKSB7CiAgICAgICAgaWYgKGJvKG8pKSByZXR1cm4gVS5ub25lKCk7CiAgICAgICAgaWYgKG1bby5ub2RlTmFtZV0gfHwgcGQobykpIHJldHVybiBVLm5vbmUoKTsKICAgICAgfQoKICAgICAgaWYgKGwuaGFzQ2hpbGROb2RlcygpKSB7CiAgICAgICAgaWYgKGYgPSBNYXRoLm1pbighcCAmJiAwIDwgZiA/IGYgLSAxIDogZiwgbC5jaGlsZE5vZGVzLmxlbmd0aCAtIDEpLCBsID0gbC5jaGlsZE5vZGVzW2ZdLCBmID0gSW4obCkgJiYgZCA/IGwuZGF0YS5sZW5ndGggOiAwLCAhdCAmJiBsID09PSBzLmxhc3RDaGlsZCAmJiBwZChsKSkgcmV0dXJuIFUubm9uZSgpOwogICAgICAgIGlmIChmdW5jdGlvbiAoZSwgdCkgewogICAgICAgICAgZm9yICg7IHQgJiYgdCAhPT0gZTspIHsKICAgICAgICAgICAgaWYgKFZuKHQpKSByZXR1cm4gITA7CiAgICAgICAgICAgIHQgPSB0LnBhcmVudE5vZGU7CiAgICAgICAgICB9CgogICAgICAgICAgcmV0dXJuICExOwogICAgICAgIH0ocywgbCkgfHwgYm8obCkpIHJldHVybiBVLm5vbmUoKTsKCiAgICAgICAgaWYgKGwuaGFzQ2hpbGROb2RlcygpICYmICExID09PSBwZChsKSkgewogICAgICAgICAgdmFyIGcgPSBuZXcgWHIobyA9IGwsIHMpOwoKICAgICAgICAgIGRvIHsKICAgICAgICAgICAgaWYgKFZuKG8pIHx8IGJvKG8pKSB7CiAgICAgICAgICAgICAgYyA9ICExOwogICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICB9CgogICAgICAgICAgICBpZiAoSW4obykgJiYgMCA8IG8ubm9kZVZhbHVlLmxlbmd0aCkgewogICAgICAgICAgICAgIGYgPSBwID8gMCA6IG8ubm9kZVZhbHVlLmxlbmd0aCwgbCA9IG8sIGMgPSAhMDsKICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgaWYgKG1bby5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpXSAmJiAoIShpID0gbykgfHwgIS9eKFREfFRIfENBUFRJT04pJC8udGVzdChpLm5vZGVOYW1lKSkpIHsKICAgICAgICAgICAgICBmID0gZS5ub2RlSW5kZXgobyksIGwgPSBvLnBhcmVudE5vZGUsIHAgfHwgZisrLCBjID0gITA7CiAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0gd2hpbGUgKG8gPSBwID8gZy5uZXh0KCkgOiBnLnByZXYoKSk7CiAgICAgICAgfQogICAgICB9CiAgICB9CgogICAgcmV0dXJuIHQgJiYgKEluKGwpICYmIDAgPT09IGYgJiYgaGQoZSwgZCwgdCwgITAsIGwpLmVhY2goZnVuY3Rpb24gKGUpIHsKICAgICAgbCA9IGUuY29udGFpbmVyKCksIGYgPSBlLm9mZnNldCgpLCBjID0gITA7CiAgICB9KSwgQW4obCkgJiYgKCEobyA9IChvID0gbC5jaGlsZE5vZGVzW2ZdKSB8fCBsLmNoaWxkTm9kZXNbZiAtIDFdKSB8fCAhem4obykgfHwgKHUgPSAiQSIsIChhID0gbykucHJldmlvdXNTaWJsaW5nICYmIGEucHJldmlvdXNTaWJsaW5nLm5vZGVOYW1lID09PSB1KSB8fCBnZChlLCBvLCAhMSkgfHwgZ2QoZSwgbywgITApIHx8IGhkKGUsIGQsIHQsICEwLCBvKS5lYWNoKGZ1bmN0aW9uIChlKSB7CiAgICAgIGwgPSBlLmNvbnRhaW5lcigpLCBmID0gZS5vZmZzZXQoKSwgYyA9ICEwOwogICAgfSkpKSwgcCAmJiAhdCAmJiBJbihsKSAmJiBmID09PSBsLm5vZGVWYWx1ZS5sZW5ndGggJiYgaGQoZSwgZCwgdCwgITEsIGwpLmVhY2goZnVuY3Rpb24gKGUpIHsKICAgICAgbCA9IGUuY29udGFpbmVyKCksIGYgPSBlLm9mZnNldCgpLCBjID0gITA7CiAgICB9KSwgYyA/IFUuc29tZShIcyhsLCBmKSkgOiBVLm5vbmUoKTsKICB9LAogICAgICB5ZCA9IGZ1bmN0aW9uIHlkKGUsIHQpIHsKICAgIHZhciBuID0gdC5jb2xsYXBzZWQsCiAgICAgICAgciA9IHQuY2xvbmVSYW5nZSgpLAogICAgICAgIG8gPSBIcy5mcm9tUmFuZ2VTdGFydCh0KTsKICAgIHJldHVybiB2ZChlLCBuLCAhMCwgcikuZWFjaChmdW5jdGlvbiAoZSkgewogICAgICBuICYmIEhzLmlzQWJvdmUobywgZSkgfHwgci5zZXRTdGFydChlLmNvbnRhaW5lcigpLCBlLm9mZnNldCgpKTsKICAgIH0pLCBuIHx8IHZkKGUsIG4sICExLCByKS5lYWNoKGZ1bmN0aW9uIChlKSB7CiAgICAgIHIuc2V0RW5kKGUuY29udGFpbmVyKCksIGUub2Zmc2V0KCkpOwogICAgfSksIG4gJiYgci5jb2xsYXBzZSghMCksIGRkKHQsIHIpID8gVS5ub25lKCkgOiBVLnNvbWUocik7CiAgfSwKICAgICAgYmQgPSBmdW5jdGlvbiBiZChlLCB0KSB7CiAgICByZXR1cm4gZS5zcGxpdFRleHQodCk7CiAgfSwKICAgICAgQ2QgPSBmdW5jdGlvbiBDZChlKSB7CiAgICB2YXIgdCA9IGUuc3RhcnRDb250YWluZXIsCiAgICAgICAgbiA9IGUuc3RhcnRPZmZzZXQsCiAgICAgICAgciA9IGUuZW5kQ29udGFpbmVyLAogICAgICAgIG8gPSBlLmVuZE9mZnNldDsKICAgIHJldHVybiB0ID09PSByICYmIEluKHQpID8gMCA8IG4gJiYgbiA8IHQubm9kZVZhbHVlLmxlbmd0aCAmJiAodCA9IChyID0gYmQodCwgbikpLnByZXZpb3VzU2libGluZywgbiA8IG8gPyAodCA9IHIgPSBiZChyLCBvIC09IG4pLnByZXZpb3VzU2libGluZywgbyA9IHIubm9kZVZhbHVlLmxlbmd0aCwgbiA9IDApIDogbyA9IDApIDogKEluKHQpICYmIDAgPCBuICYmIG4gPCB0Lm5vZGVWYWx1ZS5sZW5ndGggJiYgKHQgPSBiZCh0LCBuKSwgbiA9IDApLCBJbihyKSAmJiAwIDwgbyAmJiBvIDwgci5ub2RlVmFsdWUubGVuZ3RoICYmIChvID0gKHIgPSBiZChyLCBvKS5wcmV2aW91c1NpYmxpbmcpLm5vZGVWYWx1ZS5sZW5ndGgpKSwgewogICAgICBzdGFydENvbnRhaW5lcjogdCwKICAgICAgc3RhcnRPZmZzZXQ6IG4sCiAgICAgIGVuZENvbnRhaW5lcjogciwKICAgICAgZW5kT2Zmc2V0OiBvCiAgICB9OwogIH07CgogIGZ1bmN0aW9uIHdkKG4pIHsKICAgIHJldHVybiB7CiAgICAgIHdhbGs6IGZ1bmN0aW9uIHdhbGsoZSwgdCkgewogICAgICAgIHJldHVybiBQZihuLCBlLCB0KTsKICAgICAgfSwKICAgICAgc3BsaXQ6IENkLAogICAgICBub3JtYWxpemU6IGZ1bmN0aW9uIG5vcm1hbGl6ZSh0KSB7CiAgICAgICAgcmV0dXJuIHlkKG4sIHQpLmZvbGQoQywgZnVuY3Rpb24gKGUpIHsKICAgICAgICAgIHJldHVybiB0LnNldFN0YXJ0KGUuc3RhcnRDb250YWluZXIsIGUuc3RhcnRPZmZzZXQpLCB0LnNldEVuZChlLmVuZENvbnRhaW5lciwgZS5lbmRPZmZzZXQpLCAhMDsKICAgICAgICB9KTsKICAgICAgfQogICAgfTsKICB9CgogIChyZCA9IHdkID0gd2QgfHwge30pLmNvbXBhcmVSYW5nZXMgPSBkZCwgcmQuZ2V0Q2FyZXRSYW5nZUZyb21Qb2ludCA9IGZkLCByZC5nZXRTZWxlY3RlZE5vZGUgPSBDcywgcmQuZ2V0Tm9kZSA9IHdzOwogIHZhciB4ZCA9IHdkOwoKICB2YXIgU2QsCiAgICAgIE5kLAogICAgICBFZCwKICAgICAga2QsCiAgICAgIF9kLAogICAgICBBZCA9IChTZCA9ICJoZWlnaHQiLCBOZCA9IGZ1bmN0aW9uIE5kKGUpIHsKICAgIHZhciB0ID0gZS5kb207CiAgICByZXR1cm4gaG4oZSkgPyB0LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLmhlaWdodCA6IHQub2Zmc2V0SGVpZ2h0OwogIH0sIHsKICAgIHNldDogZnVuY3Rpb24gc2V0KGUsIHQpIHsKICAgICAgaWYgKCFPKHQpICYmICF0Lm1hdGNoKC9eWzAtOV0rJC8pKSB0aHJvdyBuZXcgRXJyb3IoU2QgKyAiLnNldCBhY2NlcHRzIG9ubHkgcG9zaXRpdmUgaW50ZWdlciB2YWx1ZXMuIFZhbHVlIHdhcyAiICsgdCk7CiAgICAgIHZhciBuID0gZS5kb207CiAgICAgIFduKG4pICYmIChuLnN0eWxlW1NkXSA9IHQgKyAicHgiKTsKICAgIH0sCiAgICBnZXQ6IEVkID0gZnVuY3Rpb24gRWQoZSkgewogICAgICB2YXIgdCA9IE5kKGUpOwoKICAgICAgaWYgKHQgPD0gMCB8fCBudWxsID09PSB0KSB7CiAgICAgICAgdmFyIG4gPSBlcihlLCBTZCk7CiAgICAgICAgcmV0dXJuIHBhcnNlRmxvYXQobikgfHwgMDsKICAgICAgfQoKICAgICAgcmV0dXJuIHQ7CiAgICB9LAogICAgZ2V0T3V0ZXI6IEVkLAogICAgYWdncmVnYXRlOiBrZCA9IGZ1bmN0aW9uIGtkKG8sIGUpIHsKICAgICAgcmV0dXJuIFgoZSwgZnVuY3Rpb24gKGUsIHQpIHsKICAgICAgICB2YXIgbiA9IGVyKG8sIHQpLAogICAgICAgICAgICByID0gbiA9PT0gdW5kZWZpbmVkID8gMCA6IHBhcnNlSW50KG4sIDEwKTsKICAgICAgICByZXR1cm4gaXNOYU4ocikgPyBlIDogZSArIHI7CiAgICAgIH0sIDApOwogICAgfSwKICAgIG1heDogZnVuY3Rpb24gbWF4KGUsIHQsIG4pIHsKICAgICAgdmFyIHIgPSBrZChlLCBuKTsKICAgICAgcmV0dXJuIHIgPCB0ID8gdCAtIHIgOiAwOwogICAgfQogIH0pLAogICAgICBSZCA9IGZ1bmN0aW9uIFJkKHIsIGUpIHsKICAgIHJldHVybiByLnZpZXcoZSkuZm9sZChFKFtdKSwgZnVuY3Rpb24gKGUpIHsKICAgICAgdmFyIHQgPSByLm93bmVyKGUpLAogICAgICAgICAgbiA9IFJkKHIsIHQpOwogICAgICByZXR1cm4gW2VdLmNvbmNhdChuKTsKICAgIH0pOwogIH0sCiAgICAgIFRkID0KICAvKiAqLwogIE9iamVjdC5mcmVlemUoewogICAgX19wcm90b19fOiBudWxsLAogICAgdmlldzogZnVuY3Rpb24gdmlldyhlKSB7CiAgICAgIHZhciB0OwogICAgICByZXR1cm4gKGUuZG9tID09PSBkb2N1bWVudCA/IFUubm9uZSgpIDogVS5mcm9tKG51bGwgPT09ICh0ID0gZS5kb20uZGVmYXVsdFZpZXcpIHx8IHZvaWQgMCA9PT0gdCA/IHZvaWQgMCA6IHQuZnJhbWVFbGVtZW50KSkubWFwKEF0LmZyb21Eb20pOwogICAgfSwKICAgIG93bmVyOiBWdAogIH0pLAogICAgICBEZCA9IGZ1bmN0aW9uIERkKGUpIHsKICAgIHZhciB0LAogICAgICAgIG4sCiAgICAgICAgciwKICAgICAgICBvID0gQXQuZnJvbURvbShkb2N1bWVudCksCiAgICAgICAgaSA9IHduKG8pLAogICAgICAgIGEgPSAodCA9IGUsIHIgPSAobiA9IFRkKS5vd25lcih0KSwgUmQobiwgcikpLAogICAgICAgIHUgPSBDbihlKSwKICAgICAgICBzID0gSyhhLCBmdW5jdGlvbiAoZSwgdCkgewogICAgICB2YXIgbiA9IENuKHQpOwogICAgICByZXR1cm4gewogICAgICAgIGxlZnQ6IGUubGVmdCArIG4ubGVmdCwKICAgICAgICB0b3A6IGUudG9wICsgbi50b3AKICAgICAgfTsKICAgIH0sIHsKICAgICAgbGVmdDogMCwKICAgICAgdG9wOiAwCiAgICB9KTsKICAgIHJldHVybiB5bihzLmxlZnQgKyB1LmxlZnQgKyBpLmxlZnQsIHMudG9wICsgdS50b3AgKyBpLnRvcCk7CiAgfSwKICAgICAgT2QgPSBmdW5jdGlvbiBPZChlKSB7CiAgICByZXR1cm4gInRleHRhcmVhIiA9PT0gTHQoZSk7CiAgfSwKICAgICAgQmQgPSBmdW5jdGlvbiBCZChlLCB0KSB7CiAgICB2YXIgbiwKICAgICAgICByID0gZnVuY3Rpb24gKGUpIHsKICAgICAgdmFyIHQgPSBlLmRvbS5vd25lckRvY3VtZW50LAogICAgICAgICAgbiA9IHQuYm9keSwKICAgICAgICAgIHIgPSB0LmRlZmF1bHRWaWV3LAogICAgICAgICAgbyA9IHQuZG9jdW1lbnRFbGVtZW50OwogICAgICBpZiAobiA9PT0gZS5kb20pIHJldHVybiB5bihuLm9mZnNldExlZnQsIG4ub2Zmc2V0VG9wKTsKICAgICAgdmFyIGkgPSBibihudWxsID09IHIgPyB2b2lkIDAgOiByLnBhZ2VZT2Zmc2V0LCBvLnNjcm9sbFRvcCksCiAgICAgICAgICBhID0gYm4obnVsbCA9PSByID8gdm9pZCAwIDogci5wYWdlWE9mZnNldCwgby5zY3JvbGxMZWZ0KSwKICAgICAgICAgIHUgPSBibihvLmNsaWVudFRvcCwgbi5jbGllbnRUb3ApLAogICAgICAgICAgcyA9IGJuKG8uY2xpZW50TGVmdCwgbi5jbGllbnRMZWZ0KTsKICAgICAgcmV0dXJuIENuKGUpLnRyYW5zbGF0ZShhIC0gcywgaSAtIHUpOwogICAgfShlKSwKICAgICAgICBvID0gKG4gPSBlLCBBZC5nZXQobikpOwoKICAgIHJldHVybiB7CiAgICAgIGVsZW1lbnQ6IGUsCiAgICAgIGJvdHRvbTogci50b3AgKyBvLAogICAgICBoZWlnaHQ6IG8sCiAgICAgIHBvczogciwKICAgICAgY2xlYW51cDogdAogICAgfTsKICB9LAogICAgICBQZCA9IGZ1bmN0aW9uIFBkKGUsIHQpIHsKICAgIHZhciBuID0gZnVuY3Rpb24gKGUsIHQpIHsKICAgICAgdmFyIG4gPSBHdChlKTsKICAgICAgaWYgKDAgPT09IG4ubGVuZ3RoIHx8IE9kKGUpKSByZXR1cm4gewogICAgICAgIGVsZW1lbnQ6IGUsCiAgICAgICAgb2Zmc2V0OiB0CiAgICAgIH07CiAgICAgIGlmICh0IDwgbi5sZW5ndGggJiYgIU9kKG5bdF0pKSByZXR1cm4gewogICAgICAgIGVsZW1lbnQ6IG5bdF0sCiAgICAgICAgb2Zmc2V0OiAwCiAgICAgIH07CiAgICAgIHZhciByID0gbltuLmxlbmd0aCAtIDFdOwogICAgICByZXR1cm4gT2QocikgPyB7CiAgICAgICAgZWxlbWVudDogZSwKICAgICAgICBvZmZzZXQ6IHQKICAgICAgfSA6ICJpbWciID09PSBMdChyKSA/IHsKICAgICAgICBlbGVtZW50OiByLAogICAgICAgIG9mZnNldDogMQogICAgICB9IDogVXQocikgPyB7CiAgICAgICAgZWxlbWVudDogciwKICAgICAgICBvZmZzZXQ6IEdmKHIpLmxlbmd0aAogICAgICB9IDogewogICAgICAgIGVsZW1lbnQ6IHIsCiAgICAgICAgb2Zmc2V0OiBHdChyKS5sZW5ndGgKICAgICAgfTsKICAgIH0oZSwgdCksCiAgICAgICAgciA9IEF0LmZyb21IdG1sKCI8c3BhbiBkYXRhLW1jZS1ib2d1cz1cImFsbFwiPlx1RkVGRjwvc3Bhbj4iKTsKCiAgICByZXR1cm4gc24obi5lbGVtZW50LCByKSwgQmQociwgZnVuY3Rpb24gKCkgewogICAgICByZXR1cm4gcG4ocik7CiAgICB9KTsKICB9LAogICAgICBMZCA9IGZ1bmN0aW9uIExkKG4sIHIsIG8sIGkpIHsKICAgIFVkKG4sIGZ1bmN0aW9uIChlLCB0KSB7CiAgICAgIHJldHVybiBNZChuLCByLCBvLCBpKTsKICAgIH0sIG8pOwogIH0sCiAgICAgIElkID0gZnVuY3Rpb24gSWQoZSwgdCwgbiwgciwgbykgewogICAgdmFyIGksCiAgICAgICAgYSwKICAgICAgICB1ID0gewogICAgICBlbG06IHIuZWxlbWVudC5kb20sCiAgICAgIGFsaWduVG9Ub3A6IG8KICAgIH07CiAgICBpID0gdSwgZS5maXJlKCJTY3JvbGxJbnRvVmlldyIsIGkpLmlzRGVmYXVsdFByZXZlbnRlZCgpIHx8IChuKHQsIHduKHQpLnRvcCwgciwgbyksIGEgPSB1LCBlLmZpcmUoIkFmdGVyU2Nyb2xsSW50b1ZpZXciLCBhKSk7CiAgfSwKICAgICAgTWQgPSBmdW5jdGlvbiBNZChlLCB0LCBuLCByKSB7CiAgICB2YXIgbyA9IEF0LmZyb21Eb20oZS5nZXRCb2R5KCkpLAogICAgICAgIGkgPSBBdC5mcm9tRG9tKGUuZ2V0RG9jKCkpOwogICAgby5kb20ub2Zmc2V0V2lkdGg7CiAgICB2YXIgYSA9IFBkKEF0LmZyb21Eb20obi5zdGFydENvbnRhaW5lciksIG4uc3RhcnRPZmZzZXQpOwogICAgSWQoZSwgaSwgdCwgYSwgciksIGEuY2xlYW51cCgpOwogIH0sCiAgICAgIEZkID0gZnVuY3Rpb24gRmQoZSwgdCwgbiwgcikgewogICAgdmFyIG8sCiAgICAgICAgaSA9IEF0LmZyb21Eb20oZS5nZXREb2MoKSk7CiAgICBJZChlLCBpLCBuLCAobyA9IHQsIEJkKEF0LmZyb21Eb20obyksIFYpKSwgcik7CiAgfSwKICAgICAgVWQgPSBmdW5jdGlvbiBVZChlLCB0LCBuKSB7CiAgICB2YXIgciA9IG4uc3RhcnRDb250YWluZXIsCiAgICAgICAgbyA9IG4uc3RhcnRPZmZzZXQsCiAgICAgICAgaSA9IG4uZW5kQ29udGFpbmVyLAogICAgICAgIGEgPSBuLmVuZE9mZnNldDsKICAgIHQoQXQuZnJvbURvbShyKSwgQXQuZnJvbURvbShpKSk7CiAgICB2YXIgdSA9IGUuZG9tLmNyZWF0ZVJuZygpOwogICAgdS5zZXRTdGFydChyLCBvKSwgdS5zZXRFbmQoaSwgYSksIGUuc2VsZWN0aW9uLnNldFJuZyhuKTsKICB9LAogICAgICB6ZCA9IGZ1bmN0aW9uIHpkKGUsIHQsIG4sIHIpIHsKICAgIHZhciBvLAogICAgICAgIGkgPSBlLnBvczsKICAgIG4gPyB4bihpLmxlZnQsIGkudG9wLCByKSA6IChvID0gaS50b3AgLSB0ICsgZS5oZWlnaHQsIHhuKGkubGVmdCwgbywgcikpOwogIH0sCiAgICAgIGpkID0gZnVuY3Rpb24gamQoZSwgdCwgbiwgciwgbykgewogICAgdmFyIGkgPSBuICsgdCwKICAgICAgICBhID0gci5wb3MudG9wLAogICAgICAgIHUgPSByLmJvdHRvbSwKICAgICAgICBzID0gbiA8PSB1IC0gYTsKICAgIGEgPCB0ID8gemQociwgbiwgITEgIT09IG8sIGUpIDogaSA8IGEgPyB6ZChyLCBuLCBzID8gITEgIT09IG8gOiAhMCA9PT0gbywgZSkgOiBpIDwgdSAmJiAhcyAmJiB6ZChyLCBuLCAhMCA9PT0gbywgZSk7CiAgfSwKICAgICAgSGQgPSBmdW5jdGlvbiBIZChlLCB0LCBuLCByKSB7CiAgICB2YXIgbyA9IGUuZG9tLmRlZmF1bHRWaWV3LmlubmVySGVpZ2h0OwogICAgamQoZSwgdCwgbywgbiwgcik7CiAgfSwKICAgICAgVmQgPSBmdW5jdGlvbiBWZChlLCB0LCBuLCByKSB7CiAgICB2YXIgbyA9IGUuZG9tLmRlZmF1bHRWaWV3LmlubmVySGVpZ2h0OwogICAgamQoZSwgdCwgbywgbiwgcik7CiAgICB2YXIgaSA9IERkKG4uZWxlbWVudCksCiAgICAgICAgYSA9IEVuKHdpbmRvdyk7CiAgICBpLnRvcCA8IGEueSA/IFNuKG4uZWxlbWVudCwgITEgIT09IHIpIDogaS50b3AgPiBhLmJvdHRvbSAmJiBTbihuLmVsZW1lbnQsICEwID09PSByKTsKICB9LAogICAgICBxZCA9IGZ1bmN0aW9uIHFkKGUsIHQsIG4pIHsKICAgIHJldHVybiBMZChlLCBIZCwgdCwgbik7CiAgfSwKICAgICAgJGQgPSBmdW5jdGlvbiAkZChlLCB0LCBuKSB7CiAgICByZXR1cm4gRmQoZSwgdCwgSGQsIG4pOwogIH0sCiAgICAgIFdkID0gZnVuY3Rpb24gV2QoZSwgdCwgbikgewogICAgcmV0dXJuIExkKGUsIFZkLCB0LCBuKTsKICB9LAogICAgICBLZCA9IGZ1bmN0aW9uIEtkKGUsIHQsIG4pIHsKICAgIHJldHVybiBGZChlLCB0LCBWZCwgbik7CiAgfSwKICAgICAgWGQgPSBmdW5jdGlvbiBYZChlLCB0LCBuKSB7CiAgICAoZS5pbmxpbmUgPyBxZCA6IFdkKShlLCB0LCBuKTsKICB9LAogICAgICBZZCA9IGZ1bmN0aW9uIFlkKGUpIHsKICAgIHZhciB0ID0gcm4oZSkuZG9tOwogICAgcmV0dXJuIGUuZG9tID09PSB0LmFjdGl2ZUVsZW1lbnQ7CiAgfSwKICAgICAgR2QgPSBmdW5jdGlvbiBHZChlKSB7CiAgICByZXR1cm4gdm9pZCAwID09PSBlICYmIChlID0gQXQuZnJvbURvbShkb2N1bWVudCkpLCBVLmZyb20oZS5kb20uYWN0aXZlRWxlbWVudCkubWFwKEF0LmZyb21Eb20pOwogIH0sCiAgICAgIEpkID0gZnVuY3Rpb24gSmQoZSwgdCwgbiwgcikgewogICAgcmV0dXJuIHsKICAgICAgc3RhcnQ6IGUsCiAgICAgIHNvZmZzZXQ6IHQsCiAgICAgIGZpbmlzaDogbiwKICAgICAgZm9mZnNldDogcgogICAgfTsKICB9LAogICAgICBRZCA9IENyKFt7CiAgICBiZWZvcmU6IFsiZWxlbWVudCJdCiAgfSwgewogICAgb246IFsiZWxlbWVudCIsICJvZmZzZXQiXQogIH0sIHsKICAgIGFmdGVyOiBbImVsZW1lbnQiXQogIH1dKSwKICAgICAgWmQgPSAoUWQuYmVmb3JlLCBRZC5vbiwgUWQuYWZ0ZXIsIGZ1bmN0aW9uIChlKSB7CiAgICByZXR1cm4gZS5mb2xkKG8sIG8sIG8pOwogIH0pLAogICAgICBlbSA9IENyKFt7CiAgICBkb21SYW5nZTogWyJybmciXQogIH0sIHsKICAgIHJlbGF0aXZlOiBbInN0YXJ0U2l0dSIsICJmaW5pc2hTaXR1Il0KICB9LCB7CiAgICBleGFjdDogWyJzdGFydCIsICJzb2Zmc2V0IiwgImZpbmlzaCIsICJmb2Zmc2V0Il0KICB9XSksCiAgICAgIHRtID0gewogICAgZG9tUmFuZ2U6IGVtLmRvbVJhbmdlLAogICAgcmVsYXRpdmU6IGVtLnJlbGF0aXZlLAogICAgZXhhY3Q6IGVtLmV4YWN0LAogICAgZXhhY3RGcm9tUmFuZ2U6IGZ1bmN0aW9uIGV4YWN0RnJvbVJhbmdlKGUpIHsKICAgICAgcmV0dXJuIGVtLmV4YWN0KGUuc3RhcnQsIGUuc29mZnNldCwgZS5maW5pc2gsIGUuZm9mZnNldCk7CiAgICB9LAogICAgZ2V0V2luOiBmdW5jdGlvbiBnZXRXaW4oZSkgewogICAgICB2YXIgdCA9IGUubWF0Y2goewogICAgICAgIGRvbVJhbmdlOiBmdW5jdGlvbiBkb21SYW5nZShlKSB7CiAgICAgICAgICByZXR1cm4gQXQuZnJvbURvbShlLnN0YXJ0Q29udGFpbmVyKTsKICAgICAgICB9LAogICAgICAgIHJlbGF0aXZlOiBmdW5jdGlvbiByZWxhdGl2ZShlLCB0KSB7CiAgICAgICAgICByZXR1cm4gWmQoZSk7CiAgICAgICAgfSwKICAgICAgICBleGFjdDogZnVuY3Rpb24gZXhhY3QoZSwgdCwgbiwgcikgewogICAgICAgICAgcmV0dXJuIGU7CiAgICAgICAgfQogICAgICB9KTsKICAgICAgcmV0dXJuIHF0KHQpOwogICAgfSwKICAgIHJhbmdlOiBKZAogIH0sCiAgICAgIG5tID0gZHQoKS5icm93c2VyLAogICAgICBybSA9IGZ1bmN0aW9uIHJtKGUsIHQpIHsKICAgIHZhciBuID0gVXQodCkgPyBHZih0KS5sZW5ndGggOiBHdCh0KS5sZW5ndGggKyAxOwogICAgcmV0dXJuIG4gPCBlID8gbiA6IGUgPCAwID8gMCA6IGU7CiAgfSwKICAgICAgb20gPSBmdW5jdGlvbiBvbShlKSB7CiAgICByZXR1cm4gdG0ucmFuZ2UoZS5zdGFydCwgcm0oZS5zb2Zmc2V0LCBlLnN0YXJ0KSwgZS5maW5pc2gsIHJtKGUuZm9mZnNldCwgZS5maW5pc2gpKTsKICB9LAogICAgICBpbSA9IGZ1bmN0aW9uIGltKGUsIHQpIHsKICAgIHJldHVybiAhX24odC5kb20pICYmIChQdChlLCB0KSB8fCBPdChlLCB0KSk7CiAgfSwKICAgICAgYW0gPSBmdW5jdGlvbiBhbSh0KSB7CiAgICByZXR1cm4gZnVuY3Rpb24gKGUpIHsKICAgICAgcmV0dXJuIGltKHQsIGUuc3RhcnQpICYmIGltKHQsIGUuZmluaXNoKTsKICAgIH07CiAgfSwKICAgICAgdW0gPSBmdW5jdGlvbiB1bShlKSB7CiAgICByZXR1cm4gITAgPT09IGUuaW5saW5lIHx8IG5tLmlzSUUoKTsKICB9LAogICAgICBzbSA9IGZ1bmN0aW9uIHNtKGUpIHsKICAgIHJldHVybiB0bS5yYW5nZShBdC5mcm9tRG9tKGUuc3RhcnRDb250YWluZXIpLCBlLnN0YXJ0T2Zmc2V0LCBBdC5mcm9tRG9tKGUuZW5kQ29udGFpbmVyKSwgZS5lbmRPZmZzZXQpOwogIH0sCiAgICAgIGNtID0gZnVuY3Rpb24gY20oZSkgewogICAgdmFyIHQsCiAgICAgICAgbiwKICAgICAgICByID0gcXQoZSk7CiAgICByZXR1cm4gdCA9IHIuZG9tLCAoKG4gPSB0LmdldFNlbGVjdGlvbigpKSAmJiAwICE9PSBuLnJhbmdlQ291bnQgPyBVLmZyb20obi5nZXRSYW5nZUF0KDApKSA6IFUubm9uZSgpKS5tYXAoc20pLmZpbHRlcihhbShlKSk7CiAgfSwKICAgICAgbG0gPSBmdW5jdGlvbiBsbShlKSB7CiAgICB2YXIgdCA9IGRvY3VtZW50LmNyZWF0ZVJhbmdlKCk7CgogICAgdHJ5IHsKICAgICAgcmV0dXJuIHQuc2V0U3RhcnQoZS5zdGFydC5kb20sIGUuc29mZnNldCksIHQuc2V0RW5kKGUuZmluaXNoLmRvbSwgZS5mb2Zmc2V0KSwgVS5zb21lKHQpOwogICAgfSBjYXRjaCAobikgewogICAgICByZXR1cm4gVS5ub25lKCk7CiAgICB9CiAgfSwKICAgICAgZm0gPSBmdW5jdGlvbiBmbShlKSB7CiAgICB2YXIgdCA9IHVtKGUpID8gY20oQXQuZnJvbURvbShlLmdldEJvZHkoKSkpIDogVS5ub25lKCk7CiAgICBlLmJvb2ttYXJrID0gdC5pc1NvbWUoKSA/IHQgOiBlLmJvb2ttYXJrOwogIH0sCiAgICAgIGRtID0gZnVuY3Rpb24gZG0ocikgewogICAgcmV0dXJuIChyLmJvb2ttYXJrID8gci5ib29rbWFyayA6IFUubm9uZSgpKS5iaW5kKGZ1bmN0aW9uIChlKSB7CiAgICAgIHJldHVybiB0ID0gQXQuZnJvbURvbShyLmdldEJvZHkoKSksIG4gPSBlLCBVLmZyb20obikuZmlsdGVyKGFtKHQpKS5tYXAob20pOwogICAgICB2YXIgdCwgbjsKICAgIH0pLmJpbmQobG0pOwogIH0sCiAgICAgIG1tID0gewogICAgaXNFZGl0b3JVSUVsZW1lbnQ6IGZ1bmN0aW9uIGlzRWRpdG9yVUlFbGVtZW50KGUpIHsKICAgICAgdmFyIHQgPSBlLmNsYXNzTmFtZS50b1N0cmluZygpOwogICAgICByZXR1cm4gLTEgIT09IHQuaW5kZXhPZigidG94LSIpIHx8IC0xICE9PSB0LmluZGV4T2YoIm1jZS0iKTsKICAgIH0KICB9LAogICAgICBwbSA9IGZ1bmN0aW9uIHBtKG4sIGUpIHsKICAgIHZhciB0LCByOwogICAgZHQoKS5icm93c2VyLmlzSUUoKSA/IChyID0gbikub24oImZvY3Vzb3V0IiwgZnVuY3Rpb24gKCkgewogICAgICBmbShyKTsKICAgIH0pIDogKHQgPSBlLCBuLm9uKCJtb3VzZXVwIHRvdWNoZW5kIiwgZnVuY3Rpb24gKGUpIHsKICAgICAgdC50aHJvdHRsZSgpOwogICAgfSkpLCBuLm9uKCJrZXl1cCBOb2RlQ2hhbmdlIiwgZnVuY3Rpb24gKGUpIHsKICAgICAgdmFyIHQ7CiAgICAgICJub2RlY2hhbmdlIiA9PT0gKHQgPSBlKS50eXBlICYmIHQuc2VsZWN0aW9uQ2hhbmdlIHx8IGZtKG4pOwogICAgfSk7CiAgfSwKICAgICAgZ20gPSBmdW5jdGlvbiBnbShyKSB7CiAgICB2YXIgbyA9IHp1KGZ1bmN0aW9uICgpIHsKICAgICAgZm0ocik7CiAgICB9LCAwKTsKICAgIHIub24oImluaXQiLCBmdW5jdGlvbiAoKSB7CiAgICAgIHZhciBlLCB0LCBuOwogICAgICByLmlubGluZSAmJiAoZSA9IHIsIHQgPSBvLCBuID0gZnVuY3Rpb24gbigpIHsKICAgICAgICB0LnRocm90dGxlKCk7CiAgICAgIH0sIEV1LkRPTS5iaW5kKGRvY3VtZW50LCAibW91c2V1cCIsIG4pLCBlLm9uKCJyZW1vdmUiLCBmdW5jdGlvbiAoKSB7CiAgICAgICAgRXUuRE9NLnVuYmluZChkb2N1bWVudCwgIm1vdXNldXAiLCBuKTsKICAgICAgfSkpLCBwbShyLCBvKTsKICAgIH0pLCByLm9uKCJyZW1vdmUiLCBmdW5jdGlvbiAoKSB7CiAgICAgIG8uY2FuY2VsKCk7CiAgICB9KTsKICB9LAogICAgICBobSA9IEV1LkRPTSwKICAgICAgdm0gPSBmdW5jdGlvbiB2bSh0LCBlKSB7CiAgICB2YXIgbiA9IHQuZ2V0UGFyYW0oImN1c3RvbV91aV9zZWxlY3RvciIsICIiLCAic3RyaW5nIik7CiAgICByZXR1cm4gbnVsbCAhPT0gaG0uZ2V0UGFyZW50KGUsIGZ1bmN0aW9uIChlKSB7CiAgICAgIHJldHVybiBtbS5pc0VkaXRvclVJRWxlbWVudChlKSB8fCAhIW4gJiYgdC5kb20uaXMoZSwgbik7CiAgICB9KTsKICB9LAogICAgICB5bSA9IGZ1bmN0aW9uIHltKG4sIGUpIHsKICAgIHZhciB0ID0gZS5lZGl0b3I7CiAgICBnbSh0KSwgdC5vbigiZm9jdXNpbiIsIGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIGUgPSBuLmZvY3VzZWRFZGl0b3I7CiAgICAgIGUgIT09IHRoaXMgJiYgKGUgJiYgZS5maXJlKCJibHVyIiwgewogICAgICAgIGZvY3VzZWRFZGl0b3I6IHRoaXMKICAgICAgfSksIG4uc2V0QWN0aXZlKHRoaXMpLCAobi5mb2N1c2VkRWRpdG9yID0gdGhpcykuZmlyZSgiZm9jdXMiLCB7CiAgICAgICAgYmx1cnJlZEVkaXRvcjogZQogICAgICB9KSwgdGhpcy5mb2N1cyghMCkpOwogICAgfSksIHQub24oImZvY3Vzb3V0IiwgZnVuY3Rpb24gKCkgewogICAgICB2YXIgdCA9IHRoaXM7CiAgICAgIHFyLnNldEVkaXRvclRpbWVvdXQodCwgZnVuY3Rpb24gKCkgewogICAgICAgIHZhciBlID0gbi5mb2N1c2VkRWRpdG9yOwogICAgICAgIHZtKHQsIGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICB0cnkgewogICAgICAgICAgICB2YXIgdCA9IHJuKEF0LmZyb21Eb20oZS5nZXRFbGVtZW50KCkpKTsKICAgICAgICAgICAgcmV0dXJuIEdkKHQpLmZvbGQoZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgIHJldHVybiBkb2N1bWVudC5ib2R5OwogICAgICAgICAgICB9LCBmdW5jdGlvbiAoZSkgewogICAgICAgICAgICAgIHJldHVybiBlLmRvbTsKICAgICAgICAgICAgfSk7CiAgICAgICAgICB9IGNhdGNoIChuKSB7CiAgICAgICAgICAgIHJldHVybiBkb2N1bWVudC5ib2R5OwogICAgICAgICAgfQogICAgICAgIH0odCkpIHx8IGUgIT09IHQgfHwgKHQuZmlyZSgiYmx1ciIsIHsKICAgICAgICAgIGZvY3VzZWRFZGl0b3I6IG51bGwKICAgICAgICB9KSwgbi5mb2N1c2VkRWRpdG9yID0gbnVsbCk7CiAgICAgIH0pOwogICAgfSksIF9kIHx8IChfZCA9IGZ1bmN0aW9uIF9kKGUpIHsKICAgICAgdmFyIHQgPSBuLmFjdGl2ZUVkaXRvcjsKICAgICAgdCAmJiBmdW5jdGlvbiAoZSkgewogICAgICAgIGlmIChubigpICYmIEQoZS50YXJnZXQpKSB7CiAgICAgICAgICB2YXIgdCA9IEF0LmZyb21Eb20oZS50YXJnZXQpOwoKICAgICAgICAgIGlmIChGdCh0KSAmJiB1bih0KSAmJiBlLmNvbXBvc2VkICYmIGUuY29tcG9zZWRQYXRoKSB7CiAgICAgICAgICAgIHZhciBuID0gZS5jb21wb3NlZFBhdGgoKTsKICAgICAgICAgICAgaWYgKG4pIHJldHVybiBuZShuKTsKICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIHJldHVybiBVLmZyb20oZS50YXJnZXQpOwogICAgICB9KGUpLmVhY2goZnVuY3Rpb24gKGUpIHsKICAgICAgICBlLm93bmVyRG9jdW1lbnQgPT09IGRvY3VtZW50ICYmIChlID09PSBkb2N1bWVudC5ib2R5IHx8IHZtKHQsIGUpIHx8IG4uZm9jdXNlZEVkaXRvciAhPT0gdCB8fCAodC5maXJlKCJibHVyIiwgewogICAgICAgICAgZm9jdXNlZEVkaXRvcjogbnVsbAogICAgICAgIH0pLCBuLmZvY3VzZWRFZGl0b3IgPSBudWxsKSk7CiAgICAgIH0pOwogICAgfSwgaG0uYmluZChkb2N1bWVudCwgImZvY3VzaW4iLCBfZCkpOwogIH0sCiAgICAgIGJtID0gZnVuY3Rpb24gYm0oZSwgdCkgewogICAgZS5mb2N1c2VkRWRpdG9yID09PSB0LmVkaXRvciAmJiAoZS5mb2N1c2VkRWRpdG9yID0gbnVsbCksIGUuYWN0aXZlRWRpdG9yIHx8IChobS51bmJpbmQoZG9jdW1lbnQsICJmb2N1c2luIiwgX2QpLCBfZCA9IG51bGwpOwogIH0sCiAgICAgIENtID0gZnVuY3Rpb24gQ20odCwgZSkgewogICAgcmV0dXJuICgobiA9IGUpLmNvbGxhcHNlZCA/IFUuZnJvbSh3cyhuLnN0YXJ0Q29udGFpbmVyLCBuLnN0YXJ0T2Zmc2V0KSkubWFwKEF0LmZyb21Eb20pIDogVS5ub25lKCkpLmJpbmQoZnVuY3Rpb24gKGUpIHsKICAgICAgcmV0dXJuIGFvKGUpID8gVS5zb21lKGUpIDogITEgPT09IFB0KHQsIGUpID8gVS5zb21lKHQpIDogVS5ub25lKCk7CiAgICB9KTsKICAgIHZhciBuOwogIH0sCiAgICAgIHdtID0gZnVuY3Rpb24gd20odCwgZSkgewogICAgQ20oQXQuZnJvbURvbSh0LmdldEJvZHkoKSksIGUpLmJpbmQoZnVuY3Rpb24gKGUpIHsKICAgICAgcmV0dXJuIEZsKGUuZG9tKTsKICAgIH0pLmZvbGQoZnVuY3Rpb24gKCkgewogICAgICB0LnNlbGVjdGlvbi5ub3JtYWxpemUoKTsKICAgIH0sIGZ1bmN0aW9uIChlKSB7CiAgICAgIHJldHVybiB0LnNlbGVjdGlvbi5zZXRSbmcoZS50b1JhbmdlKCkpOwogICAgfSk7CiAgfSwKICAgICAgeG0gPSBmdW5jdGlvbiB4bShlKSB7CiAgICBpZiAoZS5zZXRBY3RpdmUpIHRyeSB7CiAgICAgIGUuc2V0QWN0aXZlKCk7CiAgICB9IGNhdGNoICh0KSB7CiAgICAgIGUuZm9jdXMoKTsKICAgIH0gZWxzZSBlLmZvY3VzKCk7CiAgfSwKICAgICAgU20gPSBmdW5jdGlvbiBTbShlKSB7CiAgICByZXR1cm4gWWQoZSkgfHwgR2Qocm4odCA9IGUpKS5maWx0ZXIoZnVuY3Rpb24gKGUpIHsKICAgICAgcmV0dXJuIHQuZG9tLmNvbnRhaW5zKGUuZG9tKTsKICAgIH0pLmlzU29tZSgpOwogICAgdmFyIHQ7CiAgfSwKICAgICAgTm0gPSBmdW5jdGlvbiBObShyKSB7CiAgICByZXR1cm4gR2QoKS5maWx0ZXIoZnVuY3Rpb24gKGUpIHsKICAgICAgcmV0dXJuIHQgPSBlLmRvbSwgISgobiA9IHQuY2xhc3NMaXN0KSAhPT0gdW5kZWZpbmVkICYmIChuLmNvbnRhaW5zKCJ0b3gtZWRpdC1hcmVhIikgfHwgbi5jb250YWlucygidG94LWVkaXQtYXJlYV9faWZyYW1lIikgfHwgbi5jb250YWlucygibWNlLWNvbnRlbnQtYm9keSIpKSkgJiYgdm0ociwgZS5kb20pOwogICAgICB2YXIgdCwgbjsKICAgIH0pLmlzU29tZSgpOwogIH0sCiAgICAgIEVtID0gZnVuY3Rpb24gRW0oZSkgewogICAgcmV0dXJuIGUuaW5saW5lID8gKG4gPSBlLmdldEJvZHkoKSkgJiYgU20oQXQuZnJvbURvbShuKSkgOiAodCA9IGUpLmlmcmFtZUVsZW1lbnQgJiYgWWQoQXQuZnJvbURvbSh0LmlmcmFtZUVsZW1lbnQpKTsKICAgIHZhciB0LCBuOwogIH0sCiAgICAgIGttID0gZnVuY3Rpb24ga20odCkgewogICAgdmFyIGUgPSB0LnNlbGVjdGlvbiwKICAgICAgICBuID0gdC5nZXRCb2R5KCksCiAgICAgICAgciA9IGUuZ2V0Um5nKCk7CiAgICB0LnF1aXJrcy5yZWZyZXNoQ29udGVudEVkaXRhYmxlKCksIHQuYm9va21hcmsgIT09IHVuZGVmaW5lZCAmJiAhMSA9PT0gRW0odCkgJiYgZG0odCkuZWFjaChmdW5jdGlvbiAoZSkgewogICAgICB0LnNlbGVjdGlvbi5zZXRSbmcoZSksIHIgPSBlOwogICAgfSk7CiAgICB2YXIgbywKICAgICAgICBpLAogICAgICAgIGEgPSAobyA9IHQsIGkgPSBlLmdldE5vZGUoKSwgby5kb20uZ2V0UGFyZW50KGksIGZ1bmN0aW9uIChlKSB7CiAgICAgIHJldHVybiAidHJ1ZSIgPT09IG8uZG9tLmdldENvbnRlbnRFZGl0YWJsZShlKTsKICAgIH0pKTsKICAgIGlmICh0LiQuY29udGFpbnMobiwgYSkpIHJldHVybiB4bShhKSwgd20odCwgciksIHZvaWQgX20odCk7CiAgICB0LmlubGluZSB8fCAod3Qub3BlcmEgfHwgeG0obiksIHQuZ2V0V2luKCkuZm9jdXMoKSksICh3dC5nZWNrbyB8fCB0LmlubGluZSkgJiYgKHhtKG4pLCB3bSh0LCByKSksIF9tKHQpOwogIH0sCiAgICAgIF9tID0gZnVuY3Rpb24gX20oZSkgewogICAgcmV0dXJuIGUuZWRpdG9yTWFuYWdlci5zZXRBY3RpdmUoZSk7CiAgfSwKICAgICAgQW0gPSBmdW5jdGlvbiBBbShlLCB0LCBuLCByLCBvKSB7CiAgICB2YXIgaSA9IG4gPyB0LnN0YXJ0Q29udGFpbmVyIDogdC5lbmRDb250YWluZXIsCiAgICAgICAgYSA9IG4gPyB0LnN0YXJ0T2Zmc2V0IDogdC5lbmRPZmZzZXQ7CiAgICByZXR1cm4gVS5mcm9tKGkpLm1hcChBdC5mcm9tRG9tKS5tYXAoZnVuY3Rpb24gKGUpIHsKICAgICAgcmV0dXJuIHIgJiYgdC5jb2xsYXBzZWQgPyBlIDogSnQoZSwgbyhlLCBhKSkuZ2V0T3IoZSk7CiAgICB9KS5iaW5kKGZ1bmN0aW9uIChlKSB7CiAgICAgIHJldHVybiBGdChlKSA/IFUuc29tZShlKSA6ICR0KGUpLmZpbHRlcihGdCk7CiAgICB9KS5tYXAoZnVuY3Rpb24gKGUpIHsKICAgICAgcmV0dXJuIGUuZG9tOwogICAgfSkuZ2V0T3IoZSk7CiAgfSwKICAgICAgUm0gPSBmdW5jdGlvbiBSbShlLCB0LCBuKSB7CiAgICByZXR1cm4gQW0oZSwgdCwgITAsIG4sIGZ1bmN0aW9uIChlLCB0KSB7CiAgICAgIHJldHVybiBNYXRoLm1pbihlLmRvbS5jaGlsZE5vZGVzLmxlbmd0aCwgdCk7CiAgICB9KTsKICB9LAogICAgICBUbSA9IGZ1bmN0aW9uIFRtKGUsIHQsIG4pIHsKICAgIHJldHVybiBBbShlLCB0LCAhMSwgbiwgZnVuY3Rpb24gKGUsIHQpIHsKICAgICAgcmV0dXJuIDAgPCB0ID8gdCAtIDEgOiB0OwogICAgfSk7CiAgfSwKICAgICAgRG0gPSBmdW5jdGlvbiBEbShlLCB0KSB7CiAgICBmb3IgKHZhciBuID0gZTsgZSAmJiBJbihlKSAmJiAwID09PSBlLmxlbmd0aDspIHsKICAgICAgZSA9IHQgPyBlLm5leHRTaWJsaW5nIDogZS5wcmV2aW91c1NpYmxpbmc7CiAgICB9CgogICAgcmV0dXJuIGUgfHwgbjsKICB9LAogICAgICBPbSA9IGZ1bmN0aW9uIE9tKG4sIGUpIHsKICAgIHJldHVybiB6KGUsIGZ1bmN0aW9uIChlKSB7CiAgICAgIHZhciB0ID0gbi5maXJlKCJHZXRTZWxlY3Rpb25SYW5nZSIsIHsKICAgICAgICByYW5nZTogZQogICAgICB9KTsKICAgICAgcmV0dXJuIHQucmFuZ2UgIT09IGUgPyB0LnJhbmdlIDogZTsKICAgIH0pOwogIH0sCiAgICAgIEJtID0gZnVuY3Rpb24gQm0oZSkgewogICAgcmV0dXJuIFQoZSkgPyBlIDogQzsKICB9LAogICAgICBQbSA9IGZ1bmN0aW9uIFBtKGUsIHQsIG4pIHsKICAgIHZhciByID0gdChlKSwKICAgICAgICBvID0gQm0obik7CiAgICByZXR1cm4gci5vclRodW5rKGZ1bmN0aW9uICgpIHsKICAgICAgcmV0dXJuIG8oZSkgPyBVLm5vbmUoKSA6IGZ1bmN0aW9uIChlLCB0LCBuKSB7CiAgICAgICAgZm9yICh2YXIgciA9IGUuZG9tLCBvID0gQm0obik7IHIucGFyZW50Tm9kZTspIHsKICAgICAgICAgIHIgPSByLnBhcmVudE5vZGU7CiAgICAgICAgICB2YXIgaSA9IEF0LmZyb21Eb20ociksCiAgICAgICAgICAgICAgYSA9IHQoaSk7CiAgICAgICAgICBpZiAoYS5pc1NvbWUoKSkgcmV0dXJuIGE7CiAgICAgICAgICBpZiAobyhpKSkgYnJlYWs7CiAgICAgICAgfQoKICAgICAgICByZXR1cm4gVS5ub25lKCk7CiAgICAgIH0oZSwgdCwgbyk7CiAgICB9KTsKICB9LAogICAgICBMbSA9IGNmLAogICAgICBJbSA9IGZ1bmN0aW9uIEltKGUsIHQsIG4pIHsKICAgIHZhciByID0gZS5mb3JtYXR0ZXIuZ2V0KG4pOwogICAgaWYgKHIpIGZvciAodmFyIG8gPSAwOyBvIDwgci5sZW5ndGg7IG8rKykgewogICAgICBpZiAoITEgPT09IHJbb10uaW5oZXJpdCAmJiBlLmRvbS5pcyh0LCByW29dLnNlbGVjdG9yKSkgcmV0dXJuICEwOwogICAgfQogICAgcmV0dXJuICExOwogIH0sCiAgICAgIE1tID0gZnVuY3Rpb24gTW0odCwgZSwgbiwgcikgewogICAgdmFyIG8gPSB0LmRvbS5nZXRSb290KCk7CiAgICByZXR1cm4gZSAhPT0gbyAmJiAoZSA9IHQuZG9tLmdldFBhcmVudChlLCBmdW5jdGlvbiAoZSkgewogICAgICByZXR1cm4gISFJbSh0LCBlLCBuKSB8fCBlLnBhcmVudE5vZGUgPT09IG8gfHwgISF6bSh0LCBlLCBuLCByLCAhMCk7CiAgICB9KSwgem0odCwgZSwgbiwgcikpOwogIH0sCiAgICAgIEZtID0gZnVuY3Rpb24gRm0oZSwgdCwgbikgewogICAgcmV0dXJuICEhTG0odCwgbi5pbmxpbmUpIHx8ICEhTG0odCwgbi5ibG9jaykgfHwgKG4uc2VsZWN0b3IgPyAxID09PSB0Lm5vZGVUeXBlICYmIGUuaXModCwgbi5zZWxlY3RvcikgOiB2b2lkIDApOwogIH0sCiAgICAgIFVtID0gZnVuY3Rpb24gVW0oZSwgdCwgbiwgciwgbywgaSkgewogICAgdmFyIGEsCiAgICAgICAgdSwKICAgICAgICBzLAogICAgICAgIGMgPSBuW3JdOwogICAgaWYgKG4ub25tYXRjaCkgcmV0dXJuIG4ub25tYXRjaCh0LCBuLCByKTsKICAgIGlmIChjKSBpZiAoInVuZGVmaW5lZCIgPT0gdHlwZW9mIGMubGVuZ3RoKSB7CiAgICAgIGZvciAoYSBpbiBjKSB7CiAgICAgICAgaWYgKGMuaGFzT3duUHJvcGVydHkoYSkpIHsKICAgICAgICAgIGlmICh1ID0gImF0dHJpYnV0ZXMiID09PSByID8gZS5nZXRBdHRyaWIodCwgYSkgOiBmZihlLCB0LCBhKSwgbyAmJiAhdSAmJiAhbi5leGFjdCkgcmV0dXJuOwogICAgICAgICAgaWYgKCghbyB8fCBuLmV4YWN0KSAmJiAhTG0odSwgbGYoZSwgc2YoY1thXSwgaSksIGEpKSkgcmV0dXJuOwogICAgICAgIH0KICAgICAgfQogICAgfSBlbHNlIGZvciAocyA9IDA7IHMgPCBjLmxlbmd0aDsgcysrKSB7CiAgICAgIGlmICgiYXR0cmlidXRlcyIgPT09IHIgPyBlLmdldEF0dHJpYih0LCBjW3NdKSA6IGZmKGUsIHQsIGNbc10pKSByZXR1cm4gbjsKICAgIH0KICAgIHJldHVybiBuOwogIH0sCiAgICAgIHptID0gZnVuY3Rpb24gem0oZSwgdCwgbiwgciwgbykgewogICAgdmFyIGksCiAgICAgICAgYSwKICAgICAgICB1LAogICAgICAgIHMsCiAgICAgICAgYyA9IGUuZm9ybWF0dGVyLmdldChuKSwKICAgICAgICBsID0gZS5kb207CiAgICBpZiAoYyAmJiB0KSBmb3IgKGEgPSAwOyBhIDwgYy5sZW5ndGg7IGErKykgewogICAgICBpZiAoaSA9IGNbYV0sIEZtKGUuZG9tLCB0LCBpKSAmJiBVbShsLCB0LCBpLCAiYXR0cmlidXRlcyIsIG8sIHIpICYmIFVtKGwsIHQsIGksICJzdHlsZXMiLCBvLCByKSkgewogICAgICAgIGlmIChzID0gaS5jbGFzc2VzKSBmb3IgKHUgPSAwOyB1IDwgcy5sZW5ndGg7IHUrKykgewogICAgICAgICAgaWYgKCFlLmRvbS5oYXNDbGFzcyh0LCBzW3VdKSkgcmV0dXJuOwogICAgICAgIH0KICAgICAgICByZXR1cm4gaTsKICAgICAgfQogICAgfQogIH0sCiAgICAgIGptID0gZnVuY3Rpb24gam0oZSwgdCwgbiwgcikgewogICAgaWYgKHIpIHJldHVybiBNbShlLCByLCB0LCBuKTsKICAgIGlmIChyID0gZS5zZWxlY3Rpb24uZ2V0Tm9kZSgpLCBNbShlLCByLCB0LCBuKSkgcmV0dXJuICEwOwogICAgdmFyIG8gPSBlLnNlbGVjdGlvbi5nZXRTdGFydCgpOwogICAgcmV0dXJuICEobyA9PT0gciB8fCAhTW0oZSwgbywgdCwgbikpOwogIH0sCiAgICAgIEhtID0gZnVuY3Rpb24gSG0ociwgdCkgewogICAgdmFyIG4gPSBmdW5jdGlvbiBuKGUpIHsKICAgICAgcmV0dXJuIE90KGUsIEF0LmZyb21Eb20oci5nZXRCb2R5KCkpKTsKICAgIH07CgogICAgcmV0dXJuIFUuZnJvbShyLnNlbGVjdGlvbi5nZXRTdGFydCghMCkpLmJpbmQoZnVuY3Rpb24gKGUpIHsKICAgICAgcmV0dXJuIFBtKEF0LmZyb21Eb20oZSksIGZ1bmN0aW9uIChuKSB7CiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChlLCB0KSB7CiAgICAgICAgICBmb3IgKHZhciBuID0gMDsgbiA8IGUubGVuZ3RoOyBuKyspIHsKICAgICAgICAgICAgdmFyIHIgPSB0KGVbbl0sIG4pOwogICAgICAgICAgICBpZiAoci5pc1NvbWUoKSkgcmV0dXJuIHI7CiAgICAgICAgICB9CgogICAgICAgICAgcmV0dXJuIFUubm9uZSgpOwogICAgICAgIH0odCwgZnVuY3Rpb24gKGUpIHsKICAgICAgICAgIHJldHVybiB0ID0gZSwgem0ociwgbi5kb20sIHQpID8gVS5zb21lKHQpIDogVS5ub25lKCk7CiAgICAgICAgICB2YXIgdDsKICAgICAgICB9KTsKICAgICAgfSwgbik7CiAgICB9KS5nZXRPck51bGwoKTsKICB9LAogICAgICBWbSA9IGZ1bmN0aW9uIFZtKG8sIGksIGUpIHsKICAgIHJldHVybiBYKGUsIGZ1bmN0aW9uIChlLCB0KSB7CiAgICAgIHZhciBuLAogICAgICAgICAgciA9IChuID0gdCwgRihvLmZvcm1hdHRlci5nZXQobiksIGZ1bmN0aW9uICh0KSB7CiAgICAgICAgdmFyIG4gPSBmdW5jdGlvbiBuKGUpIHsKICAgICAgICAgIHJldHVybiAxIDwgZS5sZW5ndGggJiYgIiUiID09PSBlLmNoYXJBdCgwKTsKICAgICAgICB9OwoKICAgICAgICByZXR1cm4gRihbInN0eWxlcyIsICJhdHRyaWJ1dGVzIl0sIGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICByZXR1cm4gZ2UodCwgZSkuZXhpc3RzKGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICAgIHZhciB0ID0gUyhlKSA/IGUgOiBwZShlKTsKICAgICAgICAgICAgcmV0dXJuIEYodCwgbik7CiAgICAgICAgICB9KTsKICAgICAgICB9KTsKICAgICAgfSkpOwogICAgICByZXR1cm4gby5mb3JtYXR0ZXIubWF0Y2hOb2RlKGksIHQsIHt9LCByKSA/IGUuY29uY2F0KFt0XSkgOiBlOwogICAgfSwgW10pOwogIH0sCiAgICAgIHFtID0gewogICAgIiN0ZXh0IjogMywKICAgICIjY29tbWVudCI6IDgsCiAgICAiI2NkYXRhIjogNCwKICAgICIjcGkiOiA3LAogICAgIiNkb2N0eXBlIjogMTAsCiAgICAiI2RvY3VtZW50LWZyYWdtZW50IjogMTEKICB9LAogICAgICAkbSA9IGZ1bmN0aW9uICRtKGUsIHQsIG4pIHsKICAgIHZhciByID0gbiA/ICJsYXN0Q2hpbGQiIDogImZpcnN0Q2hpbGQiLAogICAgICAgIG8gPSBuID8gInByZXYiIDogIm5leHQiOwogICAgaWYgKGVbcl0pIHJldHVybiBlW3JdOwoKICAgIGlmIChlICE9PSB0KSB7CiAgICAgIHZhciBpID0gZVtvXTsKICAgICAgaWYgKGkpIHJldHVybiBpOwoKICAgICAgZm9yICh2YXIgYSA9IGUucGFyZW50OyBhICYmIGEgIT09IHQ7IGEgPSBhLnBhcmVudCkgewogICAgICAgIGlmIChpID0gYVtvXSkgcmV0dXJuIGk7CiAgICAgIH0KICAgIH0KICB9LAogICAgICBXbSA9IGZ1bmN0aW9uIFdtKGUpIHsKICAgIHZhciB0ID0gImEiID09PSBlLm5hbWUgJiYgIWUuYXR0cigiaHJlZiIpICYmIGUuYXR0cigiaWQiKTsKICAgIHJldHVybiBlLmF0dHIoIm5hbWUiKSB8fCBlLmF0dHIoImlkIikgJiYgIWUuZmlyc3RDaGlsZCB8fCBlLmF0dHIoImRhdGEtbWNlLWJvb2ttYXJrIikgfHwgdDsKICB9LAogICAgICBLbSA9IChYbS5jcmVhdGUgPSBmdW5jdGlvbiAoZSwgdCkgewogICAgdmFyIG4gPSBuZXcgWG0oZSwgcW1bZV0gfHwgMSk7CiAgICByZXR1cm4gdCAmJiB1ZSh0LCBmdW5jdGlvbiAoZSwgdCkgewogICAgICBuLmF0dHIodCwgZSk7CiAgICB9KSwgbjsKICB9LCBYbS5wcm90b3R5cGUucmVwbGFjZSA9IGZ1bmN0aW9uIChlKSB7CiAgICByZXR1cm4gZS5wYXJlbnQgJiYgZS5yZW1vdmUoKSwgdGhpcy5pbnNlcnQoZSwgdGhpcyksIHRoaXMucmVtb3ZlKCksIHRoaXM7CiAgfSwgWG0ucHJvdG90eXBlLmF0dHIgPSBmdW5jdGlvbiAoZSwgdCkgewogICAgdmFyIG4sCiAgICAgICAgciA9IHRoaXM7CiAgICBpZiAoInN0cmluZyIgIT0gdHlwZW9mIGUpIHJldHVybiBlICE9PSB1bmRlZmluZWQgJiYgbnVsbCAhPT0gZSAmJiB1ZShlLCBmdW5jdGlvbiAoZSwgdCkgewogICAgICByLmF0dHIodCwgZSk7CiAgICB9KSwgcjsKCiAgICBpZiAobiA9IHIuYXR0cmlidXRlcykgewogICAgICBpZiAodCA9PT0gdW5kZWZpbmVkKSByZXR1cm4gbi5tYXBbZV07CgogICAgICBpZiAobnVsbCA9PT0gdCkgewogICAgICAgIGlmIChlIGluIG4ubWFwKSB7CiAgICAgICAgICBkZWxldGUgbi5tYXBbZV07CgogICAgICAgICAgZm9yICh2YXIgbyA9IG4ubGVuZ3RoOyBvLS07KSB7CiAgICAgICAgICAgIGlmIChuW29dLm5hbWUgPT09IGUpIHJldHVybiBuLnNwbGljZShvLCAxKSwgcjsKICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIHJldHVybiByOwogICAgICB9CgogICAgICBpZiAoZSBpbiBuLm1hcCkgewogICAgICAgIGZvciAobyA9IG4ubGVuZ3RoOyBvLS07KSB7CiAgICAgICAgICBpZiAobltvXS5uYW1lID09PSBlKSB7CiAgICAgICAgICAgIG5bb10udmFsdWUgPSB0OwogICAgICAgICAgICBicmVhazsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0gZWxzZSBuLnB1c2goewogICAgICAgIG5hbWU6IGUsCiAgICAgICAgdmFsdWU6IHQKICAgICAgfSk7CgogICAgICByZXR1cm4gbi5tYXBbZV0gPSB0LCByOwogICAgfQogIH0sIFhtLnByb3RvdHlwZS5jbG9uZSA9IGZ1bmN0aW9uICgpIHsKICAgIHZhciBlLAogICAgICAgIHQgPSBuZXcgWG0odGhpcy5uYW1lLCB0aGlzLnR5cGUpOwoKICAgIGlmIChlID0gdGhpcy5hdHRyaWJ1dGVzKSB7CiAgICAgIHZhciBuID0gW107CiAgICAgIG4ubWFwID0ge307CgogICAgICBmb3IgKHZhciByID0gMCwgbyA9IGUubGVuZ3RoOyByIDwgbzsgcisrKSB7CiAgICAgICAgdmFyIGkgPSBlW3JdOwogICAgICAgICJpZCIgIT09IGkubmFtZSAmJiAobltuLmxlbmd0aF0gPSB7CiAgICAgICAgICBuYW1lOiBpLm5hbWUsCiAgICAgICAgICB2YWx1ZTogaS52YWx1ZQogICAgICAgIH0sIG4ubWFwW2kubmFtZV0gPSBpLnZhbHVlKTsKICAgICAgfQoKICAgICAgdC5hdHRyaWJ1dGVzID0gbjsKICAgIH0KCiAgICByZXR1cm4gdC52YWx1ZSA9IHRoaXMudmFsdWUsIHQuc2hvcnRFbmRlZCA9IHRoaXMuc2hvcnRFbmRlZCwgdDsKICB9LCBYbS5wcm90b3R5cGUud3JhcCA9IGZ1bmN0aW9uIChlKSB7CiAgICByZXR1cm4gdGhpcy5wYXJlbnQuaW5zZXJ0KGUsIHRoaXMpLCBlLmFwcGVuZCh0aGlzKSwgdGhpczsKICB9LCBYbS5wcm90b3R5cGUudW53cmFwID0gZnVuY3Rpb24gKCkgewogICAgZm9yICh2YXIgZSA9IHRoaXMuZmlyc3RDaGlsZDsgZTspIHsKICAgICAgdmFyIHQgPSBlLm5leHQ7CiAgICAgIHRoaXMuaW5zZXJ0KGUsIHRoaXMsICEwKSwgZSA9IHQ7CiAgICB9CgogICAgdGhpcy5yZW1vdmUoKTsKICB9LCBYbS5wcm90b3R5cGUucmVtb3ZlID0gZnVuY3Rpb24gKCkgewogICAgdmFyIGUgPSB0aGlzLnBhcmVudCwKICAgICAgICB0ID0gdGhpcy5uZXh0LAogICAgICAgIG4gPSB0aGlzLnByZXY7CiAgICByZXR1cm4gZSAmJiAoZS5maXJzdENoaWxkID09PSB0aGlzID8gKGUuZmlyc3RDaGlsZCA9IHQpICYmICh0LnByZXYgPSBudWxsKSA6IG4ubmV4dCA9IHQsIGUubGFzdENoaWxkID09PSB0aGlzID8gKGUubGFzdENoaWxkID0gbikgJiYgKG4ubmV4dCA9IG51bGwpIDogdC5wcmV2ID0gbiwgdGhpcy5wYXJlbnQgPSB0aGlzLm5leHQgPSB0aGlzLnByZXYgPSBudWxsKSwgdGhpczsKICB9LCBYbS5wcm90b3R5cGUuYXBwZW5kID0gZnVuY3Rpb24gKGUpIHsKICAgIGUucGFyZW50ICYmIGUucmVtb3ZlKCk7CiAgICB2YXIgdCA9IHRoaXMubGFzdENoaWxkOwogICAgcmV0dXJuIHQgPyAoKHQubmV4dCA9IGUpLnByZXYgPSB0LCB0aGlzLmxhc3RDaGlsZCA9IGUpIDogdGhpcy5sYXN0Q2hpbGQgPSB0aGlzLmZpcnN0Q2hpbGQgPSBlLCBlLnBhcmVudCA9IHRoaXMsIGU7CiAgfSwgWG0ucHJvdG90eXBlLmluc2VydCA9IGZ1bmN0aW9uIChlLCB0LCBuKSB7CiAgICBlLnBhcmVudCAmJiBlLnJlbW92ZSgpOwogICAgdmFyIHIgPSB0LnBhcmVudCB8fCB0aGlzOwogICAgcmV0dXJuIG4gPyAodCA9PT0gci5maXJzdENoaWxkID8gci5maXJzdENoaWxkID0gZSA6IHQucHJldi5uZXh0ID0gZSwgZS5wcmV2ID0gdC5wcmV2LCAoZS5uZXh0ID0gdCkucHJldiA9IGUpIDogKHQgPT09IHIubGFzdENoaWxkID8gci5sYXN0Q2hpbGQgPSBlIDogdC5uZXh0LnByZXYgPSBlLCBlLm5leHQgPSB0Lm5leHQsIChlLnByZXYgPSB0KS5uZXh0ID0gZSksIGUucGFyZW50ID0gciwgZTsKICB9LCBYbS5wcm90b3R5cGUuZ2V0QWxsID0gZnVuY3Rpb24gKGUpIHsKICAgIGZvciAodmFyIHQgPSBbXSwgbiA9IHRoaXMuZmlyc3RDaGlsZDsgbjsgbiA9ICRtKG4sIHRoaXMpKSB7CiAgICAgIG4ubmFtZSA9PT0gZSAmJiB0LnB1c2gobik7CiAgICB9CgogICAgcmV0dXJuIHQ7CiAgfSwgWG0ucHJvdG90eXBlLmVtcHR5ID0gZnVuY3Rpb24gKCkgewogICAgaWYgKHRoaXMuZmlyc3RDaGlsZCkgewogICAgICBmb3IgKHZhciBlID0gW10sIHQgPSB0aGlzLmZpcnN0Q2hpbGQ7IHQ7IHQgPSAkbSh0LCB0aGlzKSkgewogICAgICAgIGUucHVzaCh0KTsKICAgICAgfQoKICAgICAgZm9yICh2YXIgbiA9IGUubGVuZ3RoOyBuLS07KSB7CiAgICAgICAgKHQgPSBlW25dKS5wYXJlbnQgPSB0LmZpcnN0Q2hpbGQgPSB0Lmxhc3RDaGlsZCA9IHQubmV4dCA9IHQucHJldiA9IG51bGw7CiAgICAgIH0KICAgIH0KCiAgICByZXR1cm4gdGhpcy5maXJzdENoaWxkID0gdGhpcy5sYXN0Q2hpbGQgPSBudWxsLCB0aGlzOwogIH0sIFhtLnByb3RvdHlwZS5pc0VtcHR5ID0gZnVuY3Rpb24gKGUsIHQsIG4pIHsKICAgIHZvaWQgMCA9PT0gdCAmJiAodCA9IHt9KTsKICAgIHZhciByID0gdGhpcy5maXJzdENoaWxkOwogICAgaWYgKFdtKHRoaXMpKSByZXR1cm4gITE7CiAgICBpZiAocikgZG8gewogICAgICBpZiAoMSA9PT0gci50eXBlKSB7CiAgICAgICAgaWYgKHIuYXR0cigiZGF0YS1tY2UtYm9ndXMiKSkgY29udGludWU7CiAgICAgICAgaWYgKGVbci5uYW1lXSkgcmV0dXJuICExOwogICAgICAgIGlmIChXbShyKSkgcmV0dXJuICExOwogICAgICB9CgogICAgICBpZiAoOCA9PT0gci50eXBlKSByZXR1cm4gITE7CiAgICAgIGlmICgzID09PSByLnR5cGUgJiYgIWZ1bmN0aW9uIChlKSB7CiAgICAgICAgaWYgKFVvKGUudmFsdWUpKSB7CiAgICAgICAgICB2YXIgdCA9IGUucGFyZW50OwogICAgICAgICAgcmV0dXJuICF0IHx8ICJzcGFuIiA9PT0gdC5uYW1lICYmICF0LmF0dHIoInN0eWxlIikgfHwgIS9eWyBdKyQvLnRlc3QoZS52YWx1ZSk7CiAgICAgICAgfQogICAgICB9KHIpKSByZXR1cm4gITE7CiAgICAgIGlmICgzID09PSByLnR5cGUgJiYgci5wYXJlbnQgJiYgdFtyLnBhcmVudC5uYW1lXSAmJiBVbyhyLnZhbHVlKSkgcmV0dXJuICExOwogICAgICBpZiAobiAmJiBuKHIpKSByZXR1cm4gITE7CiAgICB9IHdoaWxlIChyID0gJG0ociwgdGhpcykpOwogICAgcmV0dXJuICEwOwogIH0sIFhtLnByb3RvdHlwZS53YWxrID0gZnVuY3Rpb24gKGUpIHsKICAgIHJldHVybiAkbSh0aGlzLCBudWxsLCBlKTsKICB9LCBYbSk7CgogIGZ1bmN0aW9uIFhtKGUsIHQpIHsKICAgIHRoaXMubmFtZSA9IGUsIDEgPT09ICh0aGlzLnR5cGUgPSB0KSAmJiAodGhpcy5hdHRyaWJ1dGVzID0gW10sIHRoaXMuYXR0cmlidXRlcy5tYXAgPSB7fSk7CiAgfQoKICB2YXIgWW0gPSBrdC5tYWtlTWFwLAogICAgICBHbSA9IGZ1bmN0aW9uIEdtKGUpIHsKICAgIHZhciB1ID0gW10sCiAgICAgICAgcyA9IChlID0gZSB8fCB7fSkuaW5kZW50LAogICAgICAgIGMgPSBZbShlLmluZGVudF9iZWZvcmUgfHwgIiIpLAogICAgICAgIGwgPSBZbShlLmluZGVudF9hZnRlciB8fCAiIiksCiAgICAgICAgZiA9IGNpLmdldEVuY29kZUZ1bmMoZS5lbnRpdHlfZW5jb2RpbmcgfHwgInJhdyIsIGUuZW50aXRpZXMpLAogICAgICAgIGQgPSAiaHRtbCIgPT09IGUuZWxlbWVudF9mb3JtYXQ7CiAgICByZXR1cm4gewogICAgICBzdGFydDogZnVuY3Rpb24gc3RhcnQoZSwgdCwgbikgewogICAgICAgIHZhciByLCBvLCBpLCBhOwogICAgICAgIGlmIChzICYmIGNbZV0gJiYgMCA8IHUubGVuZ3RoICYmIDAgPCAoYSA9IHVbdS5sZW5ndGggLSAxXSkubGVuZ3RoICYmICJcbiIgIT09IGEgJiYgdS5wdXNoKCJcbiIpLCB1LnB1c2goIjwiLCBlKSwgdCkgZm9yIChyID0gMCwgbyA9IHQubGVuZ3RoOyByIDwgbzsgcisrKSB7CiAgICAgICAgICBpID0gdFtyXSwgdS5wdXNoKCIgIiwgaS5uYW1lLCAnPSInLCBmKGkudmFsdWUsICEwKSwgJyInKTsKICAgICAgICB9CiAgICAgICAgdVt1Lmxlbmd0aF0gPSAhbiB8fCBkID8gIj4iIDogIiAvPiIsIG4gJiYgcyAmJiBsW2VdICYmIDAgPCB1Lmxlbmd0aCAmJiAwIDwgKGEgPSB1W3UubGVuZ3RoIC0gMV0pLmxlbmd0aCAmJiAiXG4iICE9PSBhICYmIHUucHVzaCgiXG4iKTsKICAgICAgfSwKICAgICAgZW5kOiBmdW5jdGlvbiBlbmQoZSkgewogICAgICAgIHZhciB0OwogICAgICAgIHUucHVzaCgiPC8iLCBlLCAiPiIpLCBzICYmIGxbZV0gJiYgMCA8IHUubGVuZ3RoICYmIDAgPCAodCA9IHVbdS5sZW5ndGggLSAxXSkubGVuZ3RoICYmICJcbiIgIT09IHQgJiYgdS5wdXNoKCJcbiIpOwogICAgICB9LAogICAgICB0ZXh0OiBmdW5jdGlvbiB0ZXh0KGUsIHQpIHsKICAgICAgICAwIDwgZS5sZW5ndGggJiYgKHVbdS5sZW5ndGhdID0gdCA/IGUgOiBmKGUpKTsKICAgICAgfSwKICAgICAgY2RhdGE6IGZ1bmN0aW9uIGNkYXRhKGUpIHsKICAgICAgICB1LnB1c2goIjwhW0NEQVRBWyIsIGUsICJdXT4iKTsKICAgICAgfSwKICAgICAgY29tbWVudDogZnVuY3Rpb24gY29tbWVudChlKSB7CiAgICAgICAgdS5wdXNoKCJceDNjIS0tIiwgZSwgIi0tXHgzZSIpOwogICAgICB9LAogICAgICBwaTogZnVuY3Rpb24gcGkoZSwgdCkgewogICAgICAgIHQgPyB1LnB1c2goIjw/IiwgZSwgIiAiLCBmKHQpLCAiPz4iKSA6IHUucHVzaCgiPD8iLCBlLCAiPz4iKSwgcyAmJiB1LnB1c2goIlxuIik7CiAgICAgIH0sCiAgICAgIGRvY3R5cGU6IGZ1bmN0aW9uIGRvY3R5cGUoZSkgewogICAgICAgIHUucHVzaCgiPCFET0NUWVBFIiwgZSwgIj4iLCBzID8gIlxuIiA6ICIiKTsKICAgICAgfSwKICAgICAgcmVzZXQ6IGZ1bmN0aW9uIHJlc2V0KCkgewogICAgICAgIHUubGVuZ3RoID0gMDsKICAgICAgfSwKICAgICAgZ2V0Q29udGVudDogZnVuY3Rpb24gZ2V0Q29udGVudCgpIHsKICAgICAgICByZXR1cm4gdS5qb2luKCIiKS5yZXBsYWNlKC9cbiQvLCAiIik7CiAgICAgIH0KICAgIH07CiAgfSwKICAgICAgSm0gPSBmdW5jdGlvbiBKbSh0LCBwKSB7CiAgICB2b2lkIDAgPT09IHAgJiYgKHAgPSBDaSgpKTsKICAgIHZhciBnID0gR20odCk7CiAgICAodCA9IHQgfHwge30pLnZhbGlkYXRlID0gISgidmFsaWRhdGUiIGluIHQpIHx8IHQudmFsaWRhdGU7CiAgICByZXR1cm4gewogICAgICBzZXJpYWxpemU6IGZ1bmN0aW9uIHNlcmlhbGl6ZShlKSB7CiAgICAgICAgdmFyIGYgPSB0LnZhbGlkYXRlLAogICAgICAgICAgICBkID0gewogICAgICAgICAgMzogZnVuY3Rpb24gXyhlKSB7CiAgICAgICAgICAgIGcudGV4dChlLnZhbHVlLCBlLnJhdyk7CiAgICAgICAgICB9LAogICAgICAgICAgODogZnVuY3Rpb24gXyhlKSB7CiAgICAgICAgICAgIGcuY29tbWVudChlLnZhbHVlKTsKICAgICAgICAgIH0sCiAgICAgICAgICA3OiBmdW5jdGlvbiBfKGUpIHsKICAgICAgICAgICAgZy5waShlLm5hbWUsIGUudmFsdWUpOwogICAgICAgICAgfSwKICAgICAgICAgIDEwOiBmdW5jdGlvbiBfKGUpIHsKICAgICAgICAgICAgZy5kb2N0eXBlKGUudmFsdWUpOwogICAgICAgICAgfSwKICAgICAgICAgIDQ6IGZ1bmN0aW9uIF8oZSkgewogICAgICAgICAgICBnLmNkYXRhKGUudmFsdWUpOwogICAgICAgICAgfSwKICAgICAgICAgIDExOiBmdW5jdGlvbiBfKGUpIHsKICAgICAgICAgICAgaWYgKGUgPSBlLmZpcnN0Q2hpbGQpIGZvciAoOyBtKGUpLCBlID0gZS5uZXh0OykgewogICAgICAgICAgICAgIDsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH07CiAgICAgICAgZy5yZXNldCgpOwoKICAgICAgICB2YXIgbSA9IGZ1bmN0aW9uIG0oZSkgewogICAgICAgICAgdmFyIHQsCiAgICAgICAgICAgICAgbiwKICAgICAgICAgICAgICByLAogICAgICAgICAgICAgIG8sCiAgICAgICAgICAgICAgaSwKICAgICAgICAgICAgICBhLAogICAgICAgICAgICAgIHUsCiAgICAgICAgICAgICAgcywKICAgICAgICAgICAgICBjLAogICAgICAgICAgICAgIGwgPSBkW2UudHlwZV07CiAgICAgICAgICBpZiAobCkgbChlKTtlbHNlIHsKICAgICAgICAgICAgaWYgKHQgPSBlLm5hbWUsIG4gPSBlLnNob3J0RW5kZWQsIHIgPSBlLmF0dHJpYnV0ZXMsIGYgJiYgciAmJiAxIDwgci5sZW5ndGggJiYgKChhID0gW10pLm1hcCA9IHt9LCBjID0gcC5nZXRFbGVtZW50UnVsZShlLm5hbWUpKSkgewogICAgICAgICAgICAgIGZvciAodSA9IDAsIHMgPSBjLmF0dHJpYnV0ZXNPcmRlci5sZW5ndGg7IHUgPCBzOyB1KyspIHsKICAgICAgICAgICAgICAgIChvID0gYy5hdHRyaWJ1dGVzT3JkZXJbdV0pIGluIHIubWFwICYmIChpID0gci5tYXBbb10sIGEubWFwW29dID0gaSwgYS5wdXNoKHsKICAgICAgICAgICAgICAgICAgbmFtZTogbywKICAgICAgICAgICAgICAgICAgdmFsdWU6IGkKICAgICAgICAgICAgICAgIH0pKTsKICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIGZvciAodSA9IDAsIHMgPSByLmxlbmd0aDsgdSA8IHM7IHUrKykgewogICAgICAgICAgICAgICAgKG8gPSByW3VdLm5hbWUpIGluIGEubWFwIHx8IChpID0gci5tYXBbb10sIGEubWFwW29dID0gaSwgYS5wdXNoKHsKICAgICAgICAgICAgICAgICAgbmFtZTogbywKICAgICAgICAgICAgICAgICAgdmFsdWU6IGkKICAgICAgICAgICAgICAgIH0pKTsKICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIHIgPSBhOwogICAgICAgICAgICB9CgogICAgICAgICAgICBpZiAoZy5zdGFydChlLm5hbWUsIHIsIG4pLCAhbikgewogICAgICAgICAgICAgIGlmIChlID0gZS5maXJzdENoaWxkKSBmb3IgKDsgbShlKSwgZSA9IGUubmV4dDspIHsKICAgICAgICAgICAgICAgIDsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgZy5lbmQodCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9OwoKICAgICAgICByZXR1cm4gMSAhPT0gZS50eXBlIHx8IHQuaW5uZXIgPyBkWzExXShlKSA6IG0oZSksIGcuZ2V0Q29udGVudCgpOwogICAgICB9CiAgICB9OwogIH0sCiAgICAgIFFtID0gZnVuY3Rpb24gUW0oZSwgdCkgewogICAgcmV0dXJuIGUucmVwbGFjZShuZXcgUmVnRXhwKHQucHJlZml4ICsgIl9bMC05XSsiLCAiZyIpLCBmdW5jdGlvbiAoZSkgewogICAgICByZXR1cm4gZ2UodC51cmlzLCBlKS5nZXRPcihlKTsKICAgIH0pOwogIH0sCiAgICAgIFptID0gWyJpbWciLCAidmlkZW8iXSwKICAgICAgZXAgPSBmdW5jdGlvbiBlcChlLCB0LCBuKSB7CiAgICByZXR1cm4gIWUuYWxsb3dfaHRtbF9kYXRhX3VybHMgJiYgKC9eZGF0YTppbWFnZVwvL2kudGVzdCh0KSA/IChyID0gZS5hbGxvd19zdmdfZGF0YV91cmxzLCBvID0gbiwgISgkKHIpID8gTShabSwgbykgOiByKSAmJiAvXmRhdGE6aW1hZ2VcL3N2Z1wreG1sL2kudGVzdCh0KSkgOiAvXmRhdGE6L2kudGVzdCh0KSk7CiAgICB2YXIgciwgbzsKICB9LAogICAgICB0cCA9IGZ1bmN0aW9uIHRwKGUsIHQsIG4pIHsKICAgIHZhciByLAogICAgICAgIG8sCiAgICAgICAgaSA9IDEsCiAgICAgICAgYSA9IGUuZ2V0U2hvcnRFbmRlZEVsZW1lbnRzKCksCiAgICAgICAgdSA9IC88KFshP1wvXSk/KFtBLVphLXowLTlcLV9cOlwuXSspKCg/OlxzK1teIlwnPl0rKD86KD86IlteIl0qIil8KD86XCdbXlwnXSpcJyl8W14+XSopKSp8XC98XHMrKT4vZzsKCiAgICBmb3IgKHUubGFzdEluZGV4ID0gciA9IG47IG8gPSB1LmV4ZWModCk7KSB7CiAgICAgIGlmIChyID0gdS5sYXN0SW5kZXgsICIvIiA9PT0gb1sxXSkgaS0tO2Vsc2UgaWYgKCFvWzFdKSB7CiAgICAgICAgaWYgKG9bMl0gaW4gYSkgY29udGludWU7CiAgICAgICAgaSsrOwogICAgICB9CiAgICAgIGlmICgwID09PSBpKSBicmVhazsKICAgIH0KCiAgICByZXR1cm4gcjsKICB9OwoKICBmdW5jdGlvbiBucChXLCBLKSB7CiAgICB2b2lkIDAgPT09IEsgJiYgKEsgPSBDaSgpKTsKCiAgICB2YXIgZSA9IGZ1bmN0aW9uIGUoKSB7fTsKCiAgICAhMSAhPT0gKFcgPSBXIHx8IHt9KS5maXhfc2VsZl9jbG9zaW5nICYmIChXLmZpeF9zZWxmX2Nsb3NpbmcgPSAhMCk7CgogICAgdmFyIFggPSBXLmNvbW1lbnQgPyBXLmNvbW1lbnQgOiBlLAogICAgICAgIFkgPSBXLmNkYXRhID8gVy5jZGF0YSA6IGUsCiAgICAgICAgRyA9IFcudGV4dCA/IFcudGV4dCA6IGUsCiAgICAgICAgSiA9IFcuc3RhcnQgPyBXLnN0YXJ0IDogZSwKICAgICAgICBRID0gVy5lbmQgPyBXLmVuZCA6IGUsCiAgICAgICAgWiA9IFcucGkgPyBXLnBpIDogZSwKICAgICAgICBlZSA9IFcuZG9jdHlwZSA/IFcuZG9jdHlwZSA6IGUsCiAgICAgICAgbiA9IGZ1bmN0aW9uIG4oZiwgZSkgewogICAgICB2b2lkIDAgPT09IGUgJiYgKGUgPSAiaHRtbCIpOwoKICAgICAgZm9yICh2YXIgdCwgaSwgbiwgZCwgciwgbywgYSwgbSwgdSwgcywgYywgbCwgcCwgZywgaCwgdiwgeSwgYiwgQywgdyA9IGYuaHRtbCwgeCA9IDAsIFMgPSBbXSwgTiA9IDAsIEUgPSBjaS5kZWNvZGUsIGsgPSBrdC5tYWtlTWFwKCJzcmMsaHJlZixkYXRhLGJhY2tncm91bmQsZm9ybWFjdGlvbixwb3N0ZXIseGxpbms6aHJlZiIpLCBfID0gLygoamF2YXx2YilzY3JpcHR8bWh0bWwpOi9pLCBBID0gImh0bWwiID09PSBlID8gMCA6IDEsIFIgPSBmdW5jdGlvbiBSKGUpIHsKICAgICAgICBmb3IgKHZhciB0LCBuID0gUy5sZW5ndGg7IG4tLSAmJiBTW25dLm5hbWUgIT09IGU7KSB7CiAgICAgICAgICA7CiAgICAgICAgfQoKICAgICAgICBpZiAoMCA8PSBuKSB7CiAgICAgICAgICBmb3IgKHQgPSBTLmxlbmd0aCAtIDE7IG4gPD0gdDsgdC0tKSB7CiAgICAgICAgICAgIChlID0gU1t0XSkudmFsaWQgJiYgUShlLm5hbWUpOwogICAgICAgICAgfQoKICAgICAgICAgIFMubGVuZ3RoID0gbjsKICAgICAgICB9CiAgICAgIH0sIFQgPSBmdW5jdGlvbiBUKGUsIHQpIHsKICAgICAgICByZXR1cm4gRyhRbShlLCBmKSwgdCk7CiAgICAgIH0sIEQgPSBmdW5jdGlvbiBEKGUpIHsKICAgICAgICAiIiAhPT0gZSAmJiAoIj4iID09PSBlLmNoYXJBdCgwKSAmJiAoZSA9ICIgIiArIGUpLCBXLmFsbG93X2NvbmRpdGlvbmFsX2NvbW1lbnRzIHx8ICJbaWYiICE9PSBlLnN1YnN0cigwLCAzKS50b0xvd2VyQ2FzZSgpIHx8IChlID0gIiAiICsgZSksIFgoUW0oZSwgZikpKTsKICAgICAgfSwgTyA9IGZ1bmN0aW9uIE8oZSwgdCkgewogICAgICAgIHZhciBuID0gZSB8fCAiIiwKICAgICAgICAgICAgciA9ICFWZShuLCAiLS0iKSwKICAgICAgICAgICAgbyA9IGZ1bmN0aW9uIChlLCB0LCBuKSB7CiAgICAgICAgICB2b2lkIDAgPT09IG4gJiYgKG4gPSAwKTsKICAgICAgICAgIHZhciByID0gZS50b0xvd2VyQ2FzZSgpOwoKICAgICAgICAgIGlmICgtMSAhPT0gci5pbmRleE9mKCJbaWYgIiwgbikgJiYgKHUgPSBuLCAvXlxzKlxbaWYgW1x3XFddK1xdPi4qPCFcW2VuZGlmXF0oLS0hPyk/Pi8udGVzdChyLnN1YnN0cih1KSkpKSB7CiAgICAgICAgICAgIHZhciBvID0gci5pbmRleE9mKCJbZW5kaWZdIiwgbik7CiAgICAgICAgICAgIHJldHVybiByLmluZGV4T2YoIj4iLCBvKTsKICAgICAgICAgIH0KCiAgICAgICAgICBpZiAodCkgewogICAgICAgICAgICB2YXIgaSA9IHIuaW5kZXhPZigiPiIsIG4pOwogICAgICAgICAgICByZXR1cm4gLTEgIT09IGkgPyBpIDogci5sZW5ndGg7CiAgICAgICAgICB9CgogICAgICAgICAgdmFyIGEgPSAvLS0hPz4vOwogICAgICAgICAgYS5sYXN0SW5kZXggPSBuOwogICAgICAgICAgdmFyIHUsCiAgICAgICAgICAgICAgcyA9IGEuZXhlYyhlKTsKICAgICAgICAgIHJldHVybiBzID8gcy5pbmRleCArIHNbMF0ubGVuZ3RoIDogci5sZW5ndGg7CiAgICAgICAgfSh3LCByLCB0KTsKCiAgICAgICAgcmV0dXJuIGUgPSB3LnN1YnN0cih0LCBvIC0gdCksIEQociA/IG4gKyBlIDogZSksIG8gKyAxOwogICAgICB9LCBCID0gZnVuY3Rpb24gQihlLCB0LCBuLCByLCBvKSB7CiAgICAgICAgdmFyIGksIGEsIHUsIHM7CgogICAgICAgIGlmICh0ID0gdC50b0xvd2VyQ2FzZSgpLCB1ID0gKHQgaW4gRikgPyB0IDogRShuIHx8IHIgfHwgbyB8fCAiIiksIG4gPSBnZShmLnVyaXMsIHUpLmdldE9yKHUpLCBVICYmICFtICYmICExID09ICgwID09PSAocyA9IHQpLmluZGV4T2YoImRhdGEtIikgfHwgMCA9PT0gcy5pbmRleE9mKCJhcmlhLSIpKSkgewogICAgICAgICAgaWYgKCEoaSA9IGdbdF0pICYmIGgpIHsKICAgICAgICAgICAgZm9yIChhID0gaC5sZW5ndGg7IGEtLSAmJiAhKGkgPSBoW2FdKS5wYXR0ZXJuLnRlc3QodCk7KSB7CiAgICAgICAgICAgICAgOwogICAgICAgICAgICB9CgogICAgICAgICAgICAtMSA9PT0gYSAmJiAoaSA9IG51bGwpOwogICAgICAgICAgfQoKICAgICAgICAgIGlmICghaSkgcmV0dXJuOwogICAgICAgICAgaWYgKGkudmFsaWRWYWx1ZXMgJiYgIShuIGluIGkudmFsaWRWYWx1ZXMpKSByZXR1cm47CiAgICAgICAgfQoKICAgICAgICBpZiAoa1t0XSAmJiAhVy5hbGxvd19zY3JpcHRfdXJscykgewogICAgICAgICAgdmFyIGMgPSBuLnJlcGxhY2UoL1tcc1x1MDAwMC1cdTAwMUZdKy9nLCAiIik7CgogICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgYyA9IGRlY29kZVVSSUNvbXBvbmVudChjKTsKICAgICAgICAgIH0gY2F0Y2ggKGwpIHsKICAgICAgICAgICAgYyA9IHVuZXNjYXBlKGMpOwogICAgICAgICAgfQoKICAgICAgICAgIGlmIChfLnRlc3QoYykpIHJldHVybjsKICAgICAgICAgIGlmIChlcChXLCBjLCBlKSkgcmV0dXJuOwogICAgICAgIH0KCiAgICAgICAgbSAmJiAoKHQgaW4gaykgfHwgMCA9PT0gdC5pbmRleE9mKCJvbiIpKSB8fCAoZC5tYXBbdF0gPSBuLCBkLnB1c2goewogICAgICAgICAgbmFtZTogdCwKICAgICAgICAgIHZhbHVlOiBuCiAgICAgICAgfSkpOwogICAgICB9LCBQID0gbmV3IFJlZ0V4cCgiPCg/Oig/OiEtLShbXFx3XFxXXSo/KS0tIT8+KXwoPzohXFxbQ0RBVEFcXFsoW1xcd1xcV10qPylcXF1cXF0+KXwoPzohW0RkXVtPb11bQ2NdW1R0XVtZeV1bUHBdW0VlXShbXFx3XFxXXSo/KT4pfCg/OiEoLS0pPyl8KD86XFw/KFteXFxzXFwvPD5dKykgPyhbXFx3XFxXXSo/KVs/L10+KXwoPzpcXC8oW0EtWmEtel1bQS1aYS16MC05XFwtX1xcOlxcLl0qKT4pfCg/OihbQS1aYS16XVtBLVphLXowLTlcXC1fXFw6XFwuXSopKCg/OlxccytbXlwiJz5dKyg/Oig/OlwiW15cIl0qXCIpfCg/OidbXiddKicpfFtePl0qKSkqfFxcL3xcXHMrKT4pKSIsICJnIiksIEwgPSAvKFtcdzpcLV0rKSg/OlxzKj1ccyooPzooPzpcIigoPzpbXlwiXSkqKVwiKXwoPzpcJygoPzpbXlwnXSkqKVwnKXwoW14+XHNdKykpKT8vZywgSSA9IEsuZ2V0U2hvcnRFbmRlZEVsZW1lbnRzKCksIE0gPSBXLnNlbGZfY2xvc2luZ19lbGVtZW50cyB8fCBLLmdldFNlbGZDbG9zaW5nRWxlbWVudHMoKSwgRiA9IEsuZ2V0Qm9vbEF0dHJzKCksIFUgPSBXLnZhbGlkYXRlLCB6ID0gVy5yZW1vdmVfaW50ZXJuYWxzLCBqID0gVy5maXhfc2VsZl9jbG9zaW5nLCBIID0gSy5nZXRTcGVjaWFsRWxlbWVudHMoKSwgViA9IHcgKyAiPiI7IHQgPSBQLmV4ZWMoVik7KSB7CiAgICAgICAgdmFyIHEgPSB0WzBdOwogICAgICAgIGlmICh4IDwgdC5pbmRleCAmJiBUKEUody5zdWJzdHIoeCwgdC5pbmRleCAtIHgpKSksIGkgPSB0WzddKSAiOiIgPT09IChpID0gaS50b0xvd2VyQ2FzZSgpKS5jaGFyQXQoMCkgJiYgKGkgPSBpLnN1YnN0cigxKSksIFIoaSk7ZWxzZSBpZiAoaSA9IHRbOF0pIHsKICAgICAgICAgIGlmICh0LmluZGV4ICsgcS5sZW5ndGggPiB3Lmxlbmd0aCkgewogICAgICAgICAgICBUKEUody5zdWJzdHIodC5pbmRleCkpKSwgeCA9IHQuaW5kZXggKyBxLmxlbmd0aDsKICAgICAgICAgICAgY29udGludWU7CiAgICAgICAgICB9CgogICAgICAgICAgIjoiID09PSAoaSA9IGkudG9Mb3dlckNhc2UoKSkuY2hhckF0KDApICYmIChpID0gaS5zdWJzdHIoMSkpLCB1ID0gaSBpbiBJLCBqICYmIE1baV0gJiYgMCA8IFMubGVuZ3RoICYmIFNbUy5sZW5ndGggLSAxXS5uYW1lID09PSBpICYmIFIoaSk7CgogICAgICAgICAgdmFyICQgPSBmdW5jdGlvbiAoZSwgdCkgewogICAgICAgICAgICB2YXIgbiA9IGUuZXhlYyh0KTsKCiAgICAgICAgICAgIGlmIChuKSB7CiAgICAgICAgICAgICAgdmFyIHIgPSBuWzFdLAogICAgICAgICAgICAgICAgICBvID0gblsyXTsKICAgICAgICAgICAgICByZXR1cm4gInN0cmluZyIgPT0gdHlwZW9mIHIgJiYgImRhdGEtbWNlLWJvZ3VzIiA9PT0gci50b0xvd2VyQ2FzZSgpID8gbyA6IG51bGw7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIHJldHVybiBudWxsOwogICAgICAgICAgfShMLCB0WzldKTsKCiAgICAgICAgICBpZiAobnVsbCAhPT0gJCkgewogICAgICAgICAgICBpZiAoImFsbCIgPT09ICQpIHsKICAgICAgICAgICAgICB4ID0gdHAoSywgdywgUC5sYXN0SW5kZXgpLCBQLmxhc3RJbmRleCA9IHg7CiAgICAgICAgICAgICAgY29udGludWU7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGMgPSAhMTsKICAgICAgICAgIH0KCiAgICAgICAgICBpZiAoIVUgfHwgKHMgPSBLLmdldEVsZW1lbnRSdWxlKGkpKSkgewogICAgICAgICAgICBpZiAoYyA9ICEwLCBVICYmIChnID0gcy5hdHRyaWJ1dGVzLCBoID0gcy5hdHRyaWJ1dGVQYXR0ZXJucyksIChwID0gdFs5XSkgPyAoKG0gPSAtMSAhPT0gcC5pbmRleE9mKCJkYXRhLW1jZS10eXBlIikpICYmIHogJiYgKGMgPSAhMSksIChkID0gW10pLm1hcCA9IHt9LCBwLnJlcGxhY2UoTCwgZnVuY3Rpb24gKGUsIHQsIG4sIHIsIG8pIHsKICAgICAgICAgICAgICByZXR1cm4gQihpLCB0LCBuLCByLCBvKSwgIiI7CiAgICAgICAgICAgIH0pKSA6IChkID0gW10pLm1hcCA9IHt9LCBVICYmICFtKSB7CiAgICAgICAgICAgICAgaWYgKHYgPSBzLmF0dHJpYnV0ZXNSZXF1aXJlZCwgeSA9IHMuYXR0cmlidXRlc0RlZmF1bHQsIGIgPSBzLmF0dHJpYnV0ZXNGb3JjZWQsIHMucmVtb3ZlRW1wdHlBdHRycyAmJiAhZC5sZW5ndGggJiYgKGMgPSAhMSksIGIpIGZvciAociA9IGIubGVuZ3RoOyByLS07KSB7CiAgICAgICAgICAgICAgICBhID0gKGwgPSBiW3JdKS5uYW1lLCAieyR1aWR9IiA9PT0gKEMgPSBsLnZhbHVlKSAmJiAoQyA9ICJtY2VfIiArIE4rKyksIGQubWFwW2FdID0gQywgZC5wdXNoKHsKICAgICAgICAgICAgICAgICAgbmFtZTogYSwKICAgICAgICAgICAgICAgICAgdmFsdWU6IEMKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgICBpZiAoeSkgZm9yIChyID0geS5sZW5ndGg7IHItLTspIHsKICAgICAgICAgICAgICAgIChhID0gKGwgPSB5W3JdKS5uYW1lKSBpbiBkLm1hcCB8fCAoInskdWlkfSIgPT09IChDID0gbC52YWx1ZSkgJiYgKEMgPSAibWNlXyIgKyBOKyspLCBkLm1hcFthXSA9IEMsIGQucHVzaCh7CiAgICAgICAgICAgICAgICAgIG5hbWU6IGEsCiAgICAgICAgICAgICAgICAgIHZhbHVlOiBDCiAgICAgICAgICAgICAgICB9KSk7CiAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICBpZiAodikgewogICAgICAgICAgICAgICAgZm9yIChyID0gdi5sZW5ndGg7IHItLSAmJiAhKHZbcl0gaW4gZC5tYXApOykgewogICAgICAgICAgICAgICAgICA7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgLTEgPT09IHIgJiYgKGMgPSAhMSk7CiAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICBpZiAobCA9IGQubWFwWyJkYXRhLW1jZS1ib2d1cyJdKSB7CiAgICAgICAgICAgICAgICBpZiAoImFsbCIgPT09IGwpIHsKICAgICAgICAgICAgICAgICAgeCA9IHRwKEssIHcsIFAubGFzdEluZGV4KSwgUC5sYXN0SW5kZXggPSB4OwogICAgICAgICAgICAgICAgICBjb250aW51ZTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBjID0gITE7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CgogICAgICAgICAgICBjICYmIEooaSwgZCwgdSk7CiAgICAgICAgICB9IGVsc2UgYyA9ICExOwoKICAgICAgICAgIGlmIChuID0gSFtpXSkgewogICAgICAgICAgICBuLmxhc3RJbmRleCA9IHggPSB0LmluZGV4ICsgcS5sZW5ndGgsIHggPSAodCA9IG4uZXhlYyh3KSkgPyAoYyAmJiAobyA9IHcuc3Vic3RyKHgsIHQuaW5kZXggLSB4KSksIHQuaW5kZXggKyB0WzBdLmxlbmd0aCkgOiAobyA9IHcuc3Vic3RyKHgpLCB3Lmxlbmd0aCksIGMgJiYgKDAgPCBvLmxlbmd0aCAmJiBUKG8sICEwKSwgUShpKSksIFAubGFzdEluZGV4ID0geDsKICAgICAgICAgICAgY29udGludWU7CiAgICAgICAgICB9CgogICAgICAgICAgdSB8fCAocCAmJiBwLmluZGV4T2YoIi8iKSA9PT0gcC5sZW5ndGggLSAxID8gYyAmJiBRKGkpIDogUy5wdXNoKHsKICAgICAgICAgICAgbmFtZTogaSwKICAgICAgICAgICAgdmFsaWQ6IGMKICAgICAgICAgIH0pKTsKICAgICAgICB9IGVsc2UgaWYgKGkgPSB0WzFdKSBEKGkpO2Vsc2UgaWYgKGkgPSB0WzJdKSB7CiAgICAgICAgICBpZiAoISgxID09IEEgfHwgVy5wcmVzZXJ2ZV9jZGF0YSB8fCAwIDwgUy5sZW5ndGggJiYgSy5pc1ZhbGlkQ2hpbGQoU1tTLmxlbmd0aCAtIDFdLm5hbWUsICIjY2RhdGEiKSkpIHsKICAgICAgICAgICAgeCA9IE8oIiIsIHQuaW5kZXggKyAyKSwgUC5sYXN0SW5kZXggPSB4OwogICAgICAgICAgICBjb250aW51ZTsKICAgICAgICAgIH0KCiAgICAgICAgICBZKGkpOwogICAgICAgIH0gZWxzZSBpZiAoaSA9IHRbM10pIGVlKGkpO2Vsc2UgewogICAgICAgICAgaWYgKChpID0gdFs0XSkgfHwgIjwhIiA9PT0gcSkgewogICAgICAgICAgICB4ID0gTyhpLCB0LmluZGV4ICsgcS5sZW5ndGgpLCBQLmxhc3RJbmRleCA9IHg7CiAgICAgICAgICAgIGNvbnRpbnVlOwogICAgICAgICAgfQoKICAgICAgICAgIGlmIChpID0gdFs1XSkgewogICAgICAgICAgICBpZiAoMSAhPSBBKSB7CiAgICAgICAgICAgICAgeCA9IE8oIj8iLCB0LmluZGV4ICsgMiksIFAubGFzdEluZGV4ID0geDsKICAgICAgICAgICAgICBjb250aW51ZTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgWihpLCB0WzZdKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgeCA9IHQuaW5kZXggKyBxLmxlbmd0aDsKICAgICAgfQoKICAgICAgZm9yICh4IDwgdy5sZW5ndGggJiYgVChFKHcuc3Vic3RyKHgpKSksIHIgPSBTLmxlbmd0aCAtIDE7IDAgPD0gcjsgci0tKSB7CiAgICAgICAgKGkgPSBTW3JdKS52YWxpZCAmJiBRKGkubmFtZSk7CiAgICAgIH0KICAgIH07CgogICAgcmV0dXJuIHsKICAgICAgcGFyc2U6IGZ1bmN0aW9uIHBhcnNlKGUsIHQpIHsKICAgICAgICB2b2lkIDAgPT09IHQgJiYgKHQgPSAiaHRtbCIpLCBuKGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICBmb3IgKHZhciB0LCBuID0gL2RhdGE6W147XSs7YmFzZTY0LChbYS16MC05XCtcLz1dKykvZ2ksIHIgPSBbXSwgbyA9IHt9LCBpID0gaXMoImltZyIpLCBhID0gMCwgdSA9IDA7IHQgPSBuLmV4ZWMoZSk7KSB7CiAgICAgICAgICAgIHZhciBzID0gdFswXSwKICAgICAgICAgICAgICAgIGMgPSBpICsgIl8iICsgdSsrOwogICAgICAgICAgICBvW2NdID0gcywgYSA8IHQuaW5kZXggJiYgci5wdXNoKGUuc3Vic3RyKGEsIHQuaW5kZXggLSBhKSksIHIucHVzaChjKSwgYSA9IHQuaW5kZXggKyBzLmxlbmd0aDsKICAgICAgICAgIH0KCiAgICAgICAgICByZXR1cm4gMCA9PT0gYSA/IHsKICAgICAgICAgICAgcHJlZml4OiBpLAogICAgICAgICAgICB1cmlzOiBvLAogICAgICAgICAgICBodG1sOiBlCiAgICAgICAgICB9IDogKGEgPCBlLmxlbmd0aCAmJiByLnB1c2goZS5zdWJzdHIoYSkpLCB7CiAgICAgICAgICAgIHByZWZpeDogaSwKICAgICAgICAgICAgdXJpczogbywKICAgICAgICAgICAgaHRtbDogci5qb2luKCIiKQogICAgICAgICAgfSk7CiAgICAgICAgfShlKSwgdCk7CiAgICAgIH0KICAgIH07CiAgfQoKICAobnAgPSBucCB8fCB7fSkuZmluZEVuZFRhZyA9IHRwOwoKICB2YXIgcnAsCiAgICAgIG9wLAogICAgICBpcCA9IG5wLAogICAgICBhcCA9IGZ1bmN0aW9uIGFwKGUsIHQpIHsKICAgIHZhciBuLAogICAgICAgIHIsCiAgICAgICAgbywKICAgICAgICBpLAogICAgICAgIGEsCiAgICAgICAgdSwKICAgICAgICBzLAogICAgICAgIGMgPSB0LAogICAgICAgIGwgPSAvPChcdyspIFtePl0qZGF0YS1tY2UtYm9ndXM9ImFsbCJbXj5dKj4vZywKICAgICAgICBmID0gZS5zY2hlbWE7CiAgICBhID0gZS5nZXRUZW1wQXR0cnMoKSwgdSA9IGMsIHMgPSBuZXcgUmVnRXhwKFsiXFxzPygiICsgYS5qb2luKCJ8IikgKyAnKT0iW14iXSsiJ10uam9pbigifCIpLCAiZ2kiKSwgYyA9IHUucmVwbGFjZShzLCAiIik7CgogICAgZm9yICh2YXIgZCA9IGYuZ2V0U2hvcnRFbmRlZEVsZW1lbnRzKCk7IGkgPSBsLmV4ZWMoYyk7KSB7CiAgICAgIHIgPSBsLmxhc3RJbmRleCwgbyA9IGlbMF0ubGVuZ3RoLCBuID0gZFtpWzFdXSA/IHIgOiBpcC5maW5kRW5kVGFnKGYsIGMsIHIpLCBjID0gYy5zdWJzdHJpbmcoMCwgciAtIG8pICsgYy5zdWJzdHJpbmcobiksIGwubGFzdEluZGV4ID0gciAtIG87CiAgICB9CgogICAgcmV0dXJuIHBvKGMpOwogIH0sCiAgICAgIHVwID0gYXAsCiAgICAgIHNwID0gZnVuY3Rpb24gc3AoZSwgdCwgbiwgcikgewogICAgdmFyIG8sIGksIGEsIHUsIHM7CiAgICByZXR1cm4gdC5mb3JtYXQgPSBuLCB0LmdldCA9ICEwLCB0LmdldElubmVyID0gITAsIHQubm9fZXZlbnRzIHx8IGUuZmlyZSgiQmVmb3JlR2V0Q29udGVudCIsIHQpLCBvID0gInJhdyIgPT09IHQuZm9ybWF0ID8ga3QudHJpbSh1cChlLnNlcmlhbGl6ZXIsIHIuaW5uZXJIVE1MKSkgOiAidGV4dCIgPT09IHQuZm9ybWF0ID8gZS5kb20uaXNFbXB0eShyKSA/ICIiIDogcG8oci5pbm5lclRleHQgfHwgci50ZXh0Q29udGVudCkgOiAidHJlZSIgPT09IHQuZm9ybWF0ID8gZS5zZXJpYWxpemVyLnNlcmlhbGl6ZShyLCB0KSA6IChhID0gKGkgPSBlKS5zZXJpYWxpemVyLnNlcmlhbGl6ZShyLCB0KSwgdSA9IHZjKGkpLCBzID0gbmV3IFJlZ0V4cCgiXig8IiArIHUgKyAiW14+XSo+KCZuYnNwO3wmIzE2MDt8XFxzfFx4YTB8PGJyIFxcLz58KTxcXC8iICsgdSArICI+W1xyXG5dKnw8YnIgXFwvPltcclxuXSopJCIpLCBhLnJlcGxhY2UocywgIiIpKSwgTShbInRleHQiLCAidHJlZSJdLCB0LmZvcm1hdCkgfHwgc28oQXQuZnJvbURvbShyKSkgPyB0LmNvbnRlbnQgPSBvIDogdC5jb250ZW50ID0ga3QudHJpbShvKSwgdC5ub19ldmVudHMgfHwgZS5maXJlKCJHZXRDb250ZW50IiwgdCksIHQuY29udGVudDsKICB9LAogICAgICBjcCA9IGt0LmVhY2gsCiAgICAgIGxwID0gZnVuY3Rpb24gbHAobykgewogICAgdGhpcy5jb21wYXJlID0gZnVuY3Rpb24gKGUsIHQpIHsKICAgICAgaWYgKGUubm9kZU5hbWUgIT09IHQubm9kZU5hbWUpIHJldHVybiAhMTsKCiAgICAgIHZhciBuID0gZnVuY3Rpb24gbihfbjMpIHsKICAgICAgICB2YXIgciA9IHt9OwogICAgICAgIHJldHVybiBjcChvLmdldEF0dHJpYnMoX24zKSwgZnVuY3Rpb24gKGUpIHsKICAgICAgICAgIHZhciB0ID0gZS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpOwogICAgICAgICAgMCAhPT0gdC5pbmRleE9mKCJfIikgJiYgInN0eWxlIiAhPT0gdCAmJiAwICE9PSB0LmluZGV4T2YoImRhdGEtIikgJiYgKHJbdF0gPSBvLmdldEF0dHJpYihfbjMsIHQpKTsKICAgICAgICB9KSwgcjsKICAgICAgfSwKICAgICAgICAgIHIgPSBmdW5jdGlvbiByKGUsIHQpIHsKICAgICAgICB2YXIgbiwgcjsKCiAgICAgICAgZm9yIChyIGluIGUpIHsKICAgICAgICAgIGlmIChlLmhhc093blByb3BlcnR5KHIpKSB7CiAgICAgICAgICAgIGlmICh2b2lkIDAgPT09IChuID0gdFtyXSkpIHJldHVybiAhMTsKICAgICAgICAgICAgaWYgKGVbcl0gIT09IG4pIHJldHVybiAhMTsKICAgICAgICAgICAgZGVsZXRlIHRbcl07CiAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICBmb3IgKHIgaW4gdCkgewogICAgICAgICAgaWYgKHQuaGFzT3duUHJvcGVydHkocikpIHJldHVybiAhMTsKICAgICAgICB9CgogICAgICAgIHJldHVybiAhMDsKICAgICAgfTsKCiAgICAgIHJldHVybiAhIXIobihlKSwgbih0KSkgJiYgISFyKG8ucGFyc2VTdHlsZShvLmdldEF0dHJpYihlLCAic3R5bGUiKSksIG8ucGFyc2VTdHlsZShvLmdldEF0dHJpYih0LCAic3R5bGUiKSkpICYmICFKbChlKSAmJiAhSmwodCk7CiAgICB9OwogIH0sCiAgICAgIGZwID0gZnVuY3Rpb24gZnAobiwgciwgbykgewogICAgcmV0dXJuIFUuZnJvbShvLmNvbnRhaW5lcigpKS5maWx0ZXIoSW4pLmV4aXN0cyhmdW5jdGlvbiAoZSkgewogICAgICB2YXIgdCA9IG4gPyAwIDogLTE7CiAgICAgIHJldHVybiByKGUuZGF0YS5jaGFyQXQoby5vZmZzZXQoKSArIHQpKTsKICAgIH0pOwogIH0sCiAgICAgIGRwID0gTihmcCwgITAsIFpsKSwKICAgICAgbXAgPSBOKGZwLCAhMSwgWmwpLAogICAgICBwcCA9IGZ1bmN0aW9uIHBwKGUpIHsKICAgIHZhciB0ID0gZS5jb250YWluZXIoKTsKICAgIHJldHVybiBJbih0KSAmJiAoMCA9PT0gdC5kYXRhLmxlbmd0aCB8fCBtbyh0LmRhdGEpICYmIG9kLmlzQm9va21hcmtOb2RlKHQucGFyZW50Tm9kZSkpOwogIH0sCiAgICAgIGdwID0gZnVuY3Rpb24gZ3AodCwgbikgewogICAgcmV0dXJuIGZ1bmN0aW9uIChlKSB7CiAgICAgIHJldHVybiBVLmZyb20oaWwodCA/IDAgOiAtMSwgZSkpLmZpbHRlcihuKS5pc1NvbWUoKTsKICAgIH07CiAgfSwKICAgICAgaHAgPSBmdW5jdGlvbiBocChlKSB7CiAgICByZXR1cm4gam4oZSkgJiYgImJsb2NrIiA9PT0gZXIoQXQuZnJvbURvbShlKSwgImRpc3BsYXkiKTsKICB9LAogICAgICB2cCA9IGZ1bmN0aW9uIHZwKGUpIHsKICAgIHJldHVybiBWbihlKSAmJiAhKEFuKHQgPSBlKSAmJiAiYWxsIiA9PT0gdC5nZXRBdHRyaWJ1dGUoImRhdGEtbWNlLWJvZ3VzIikpOwogICAgdmFyIHQ7CiAgfSwKICAgICAgeXAgPSBncCghMCwgaHApLAogICAgICBicCA9IGdwKCExLCBocCksCiAgICAgIENwID0gZ3AoITAsICRuKSwKICAgICAgd3AgPSBncCghMSwgJG4pLAogICAgICB4cCA9IGdwKCEwLCBCbiksCiAgICAgIFNwID0gZ3AoITEsIEJuKSwKICAgICAgTnAgPSBncCghMCwgdnApLAogICAgICBFcCA9IGdwKCExLCB2cCksCiAgICAgIGtwID0gZnVuY3Rpb24ga3AoZSkgewogICAgdmFyIHQgPSBHdShlLCAiYnIiKSwKICAgICAgICBuID0gSChmdW5jdGlvbiAoZSkgewogICAgICBmb3IgKHZhciB0ID0gW10sIG4gPSBlLmRvbTsgbjspIHsKICAgICAgICB0LnB1c2goQXQuZnJvbURvbShuKSksIG4gPSBuLmxhc3RDaGlsZDsKICAgICAgfQoKICAgICAgcmV0dXJuIHQ7CiAgICB9KGUpLnNsaWNlKC0xKSwgbm8pOwogICAgdC5sZW5ndGggPT09IG4ubGVuZ3RoICYmIFcobiwgcG4pOwogIH0sCiAgICAgIF9wID0gZnVuY3Rpb24gX3AoZSkgewogICAgbW4oZSksIGZuKGUsIEF0LmZyb21IdG1sKCc8YnIgZGF0YS1tY2UtYm9ndXM9IjEiPicpKTsKICB9LAogICAgICBBcCA9IGZ1bmN0aW9uIEFwKG4pIHsKICAgIFp0KG4pLmVhY2goZnVuY3Rpb24gKHQpIHsKICAgICAgV3QodCkuZWFjaChmdW5jdGlvbiAoZSkgewogICAgICAgIGVvKG4pICYmIG5vKHQpICYmIGVvKGUpICYmIHBuKHQpOwogICAgICB9KTsKICAgIH0pOwogIH0sCiAgICAgIFJwID0gZnVuY3Rpb24gUnAoZSwgdCwgbikgewogICAgcmV0dXJuIFB0KHQsIGUpID8gZnVuY3Rpb24gKGUsIHQpIHsKICAgICAgZm9yICh2YXIgbiA9IFQodCkgPyB0IDogQywgciA9IGUuZG9tLCBvID0gW107IG51bGwgIT09IHIucGFyZW50Tm9kZSAmJiByLnBhcmVudE5vZGUgIT09IHVuZGVmaW5lZDspIHsKICAgICAgICB2YXIgaSA9IHIucGFyZW50Tm9kZSwKICAgICAgICAgICAgYSA9IEF0LmZyb21Eb20oaSk7CiAgICAgICAgaWYgKG8ucHVzaChhKSwgITAgPT09IG4oYSkpIGJyZWFrOwogICAgICAgIHIgPSBpOwogICAgICB9CgogICAgICByZXR1cm4gbzsKICAgIH0oZSwgZnVuY3Rpb24gKGUpIHsKICAgICAgcmV0dXJuIG4oZSkgfHwgT3QoZSwgdCk7CiAgICB9KS5zbGljZSgwLCAtMSkgOiBbXTsKICB9LAogICAgICBUcCA9IGZ1bmN0aW9uIFRwKGUsIHQpIHsKICAgIHJldHVybiBScChlLCB0LCBDKTsKICB9LAogICAgICBEcCA9IGZ1bmN0aW9uIERwKGUsIHQpIHsKICAgIHJldHVybiBbZV0uY29uY2F0KFRwKGUsIHQpKTsKICB9LAogICAgICBPcCA9IGZ1bmN0aW9uIE9wKGUsIHQsIG4pIHsKICAgIHJldHVybiBQbChlLCB0LCBuLCBwcCk7CiAgfSwKICAgICAgQnAgPSBmdW5jdGlvbiBCcChlLCB0KSB7CiAgICByZXR1cm4gWShEcChBdC5mcm9tRG9tKHQuY29udGFpbmVyKCkpLCBlKSwgZW8pOwogIH0sCiAgICAgIFBwID0gZnVuY3Rpb24gUHAoZSwgbiwgcikgewogICAgcmV0dXJuIE9wKGUsIG4uZG9tLCByKS5mb3JhbGwoZnVuY3Rpb24gKHQpIHsKICAgICAgcmV0dXJuIEJwKG4sIHIpLmZvbGQoZnVuY3Rpb24gKCkgewogICAgICAgIHJldHVybiAhMSA9PT0gb2wodCwgciwgbi5kb20pOwogICAgICB9LCBmdW5jdGlvbiAoZSkgewogICAgICAgIHJldHVybiAhMSA9PT0gb2wodCwgciwgbi5kb20pICYmIFB0KGUsIEF0LmZyb21Eb20odC5jb250YWluZXIoKSkpOwogICAgICB9KTsKICAgIH0pOwogIH0sCiAgICAgIExwID0gZnVuY3Rpb24gTHAodCwgbiwgcikgewogICAgcmV0dXJuIEJwKG4sIHIpLmZvbGQoZnVuY3Rpb24gKCkgewogICAgICByZXR1cm4gT3AodCwgbi5kb20sIHIpLmZvcmFsbChmdW5jdGlvbiAoZSkgewogICAgICAgIHJldHVybiAhMSA9PT0gb2woZSwgciwgbi5kb20pOwogICAgICB9KTsKICAgIH0sIGZ1bmN0aW9uIChlKSB7CiAgICAgIHJldHVybiBPcCh0LCBlLmRvbSwgcikuaXNOb25lKCk7CiAgICB9KTsKICB9LAogICAgICBJcCA9IE4oTHAsICExKSwKICAgICAgTXAgPSBOKExwLCAhMCksCiAgICAgIEZwID0gTihQcCwgITEpLAogICAgICBVcCA9IE4oUHAsICEwKSwKICAgICAgenAgPSBmdW5jdGlvbiB6cChlKSB7CiAgICByZXR1cm4gbWwoZSkuZXhpc3RzKG5vKTsKICB9LAogICAgICBqcCA9IGZ1bmN0aW9uIGpwKGUsIHQsIG4pIHsKICAgIHZhciByID0gSChEcChBdC5mcm9tRG9tKG4uY29udGFpbmVyKCkpLCB0KSwgZW8pLAogICAgICAgIG8gPSBuZShyKS5nZXRPcih0KTsKICAgIHJldHVybiBPbChlLCBvLmRvbSwgbikuZmlsdGVyKHpwKTsKICB9LAogICAgICBIcCA9IGZ1bmN0aW9uIEhwKGUsIHQpIHsKICAgIHJldHVybiBtbCh0KS5leGlzdHMobm8pIHx8IGpwKCEwLCBlLCB0KS5pc1NvbWUoKTsKICB9LAogICAgICBWcCA9IGZ1bmN0aW9uIFZwKGUsIHQpIHsKICAgIHJldHVybiBuID0gdCwgVS5mcm9tKG4uZ2V0Tm9kZSghMCkpLm1hcChBdC5mcm9tRG9tKS5leGlzdHMobm8pIHx8IGpwKCExLCBlLCB0KS5pc1NvbWUoKTsKICAgIHZhciBuOwogIH0sCiAgICAgIHFwID0gTihqcCwgITEpLAogICAgICAkcCA9IE4oanAsICEwKSwKICAgICAgV3AgPSBmdW5jdGlvbiBXcChlKSB7CiAgICByZXR1cm4gSHMuaXNUZXh0UG9zaXRpb24oZSkgJiYgIWUuaXNBdFN0YXJ0KCkgJiYgIWUuaXNBdEVuZCgpOwogIH0sCiAgICAgIEtwID0gZnVuY3Rpb24gS3AoZSwgdCkgewogICAgdmFyIG4gPSBIKERwKEF0LmZyb21Eb20odC5jb250YWluZXIoKSksIGUpLCBlbyk7CiAgICByZXR1cm4gbmUobikuZ2V0T3IoZSk7CiAgfSwKICAgICAgWHAgPSBmdW5jdGlvbiBYcChlLCB0KSB7CiAgICByZXR1cm4gV3AodCkgPyBtcCh0KSA6IG1wKHQpIHx8IE1sKEtwKGUsIHQpLmRvbSwgdCkuZXhpc3RzKG1wKTsKICB9LAogICAgICBZcCA9IGZ1bmN0aW9uIFlwKGUsIHQpIHsKICAgIHJldHVybiBXcCh0KSA/IGRwKHQpIDogZHAodCkgfHwgSWwoS3AoZSwgdCkuZG9tLCB0KS5leGlzdHMoZHApOwogIH0sCiAgICAgIEdwID0gZnVuY3Rpb24gR3AoZSkgewogICAgcmV0dXJuIG1sKGUpLmJpbmQoZnVuY3Rpb24gKGUpIHsKICAgICAgcmV0dXJuIEFyKGUsIEZ0KTsKICAgIH0pLmV4aXN0cyhmdW5jdGlvbiAoZSkgewogICAgICByZXR1cm4gdCA9IGVyKGUsICJ3aGl0ZS1zcGFjZSIpLCBNKFsicHJlIiwgInByZS13cmFwIl0sIHQpOwogICAgICB2YXIgdDsKICAgIH0pOwogIH0sCiAgICAgIEpwID0gZnVuY3Rpb24gSnAoZSwgdCkgewogICAgcmV0dXJuIHIgPSB0LCBNbChlLmRvbSwgcikuaXNOb25lKCkgfHwgKG4gPSB0LCBJbChlLmRvbSwgbikuaXNOb25lKCkpIHx8IElwKGUsIHQpIHx8IE1wKGUsIHQpIHx8IFZwKGUsIHQpIHx8IEhwKGUsIHQpOwogICAgdmFyIG4sIHI7CiAgfSwKICAgICAgUXAgPSBmdW5jdGlvbiBRcChlLCB0KSB7CiAgICByZXR1cm4gIUdwKHQpICYmIChJcChlLCB0KSB8fCBGcChlLCB0KSB8fCBWcChlLCB0KSB8fCBYcChlLCB0KSk7CiAgfSwKICAgICAgWnAgPSBmdW5jdGlvbiBacChlLCB0KSB7CiAgICByZXR1cm4gIUdwKHQpICYmIChNcChlLCB0KSB8fCBVcChlLCB0KSB8fCBIcChlLCB0KSB8fCBZcChlLCB0KSk7CiAgfSwKICAgICAgZWcgPSBmdW5jdGlvbiBlZyhlLCB0KSB7CiAgICByZXR1cm4gUXAoZSwgdCkgfHwgWnAoZSwgKHIgPSAobiA9IHQpLmNvbnRhaW5lcigpLCBvID0gbi5vZmZzZXQoKSwgSW4ocikgJiYgbyA8IHIuZGF0YS5sZW5ndGggPyBIcyhyLCBvICsgMSkgOiBuKSk7CiAgICB2YXIgbiwgciwgbzsKICB9LAogICAgICB0ZyA9IGZ1bmN0aW9uIHRnKGUsIHQpIHsKICAgIHJldHVybiBRbChlLmNoYXJBdCh0KSk7CiAgfSwKICAgICAgbmcgPSBmdW5jdGlvbiBuZyhlKSB7CiAgICB2YXIgdCA9IGUuY29udGFpbmVyKCk7CiAgICByZXR1cm4gSW4odCkgJiYgSGUodC5kYXRhLCBsbyk7CiAgfSwKICAgICAgcmcgPSBmdW5jdGlvbiByZyhlKSB7CiAgICB2YXIgbiwKICAgICAgICB0ID0gZS5kYXRhLAogICAgICAgIHIgPSAobiA9IHQuc3BsaXQoIiIpLCB6KG4sIGZ1bmN0aW9uIChlLCB0KSB7CiAgICAgIHJldHVybiBRbChlKSAmJiAwIDwgdCAmJiB0IDwgbi5sZW5ndGggLSAxICYmIGVmKG5bdCAtIDFdKSAmJiBlZihuW3QgKyAxXSkgPyAiICIgOiBlOwogICAgfSkuam9pbigiIikpOwogICAgcmV0dXJuIHIgIT09IHQgJiYgKGUuZGF0YSA9IHIsICEwKTsKICB9LAogICAgICBvZyA9IGZ1bmN0aW9uIG9nKGwsIGUpIHsKICAgIHJldHVybiBVLnNvbWUoZSkuZmlsdGVyKG5nKS5iaW5kKGZ1bmN0aW9uIChlKSB7CiAgICAgIHZhciB0LAogICAgICAgICAgbiwKICAgICAgICAgIHIsCiAgICAgICAgICBvLAogICAgICAgICAgaSwKICAgICAgICAgIGEsCiAgICAgICAgICB1LAogICAgICAgICAgcywKICAgICAgICAgIGMgPSBlLmNvbnRhaW5lcigpOwogICAgICByZXR1cm4gKGkgPSBsLCB1ID0gKGEgPSBjKS5kYXRhLCBzID0gSHMoYSwgMCksICEoIXRnKHUsIDApIHx8IGVnKGksIHMpIHx8IChhLmRhdGEgPSAiICIgKyB1LnNsaWNlKDEpLCAwKSkgfHwgcmcoYykgfHwgKHQgPSBsLCByID0gKG4gPSBjKS5kYXRhLCBvID0gSHMobiwgci5sZW5ndGggLSAxKSwgISghdGcociwgci5sZW5ndGggLSAxKSB8fCBlZyh0LCBvKSB8fCAobi5kYXRhID0gci5zbGljZSgwLCAtMSkgKyAiICIsIDApKSkpID8gVS5zb21lKGUpIDogVS5ub25lKCk7CiAgICB9KTsKICB9LAogICAgICBpZyA9IGZ1bmN0aW9uIGlnKHQpIHsKICAgIHZhciBlID0gQXQuZnJvbURvbSh0LmdldEJvZHkoKSk7CiAgICB0LnNlbGVjdGlvbi5pc0NvbGxhcHNlZCgpICYmIG9nKGUsIEhzLmZyb21SYW5nZVN0YXJ0KHQuc2VsZWN0aW9uLmdldFJuZygpKSkuZWFjaChmdW5jdGlvbiAoZSkgewogICAgICB0LnNlbGVjdGlvbi5zZXRSbmcoZS50b1JhbmdlKCkpOwogICAgfSk7CiAgfSwKICAgICAgYWcgPSBmdW5jdGlvbiBhZyhlLCB0LCBuKSB7CiAgICB2YXIgciwgbywgaSwgYSwgdSwgcywgYywgbDsKICAgIDAgIT09IG4gJiYgKHIgPSBBdC5mcm9tRG9tKGUpLCBvID0gX3IociwgZW8pLmdldE9yKHIpLCBpID0gZS5kYXRhLnNsaWNlKHQsIHQgKyBuKSwgYSA9IHQgKyBuID49IGUuZGF0YS5sZW5ndGggJiYgWnAobywgJHMoZSwgZS5kYXRhLmxlbmd0aCkpLCB1ID0gMCA9PT0gdCAmJiBRcChvLCAkcyhlLCAwKSksIGUucmVwbGFjZURhdGEodCwgbiwgKGMgPSB1LCBsID0gYSwgWChzID0gaSwgZnVuY3Rpb24gKGUsIHQpIHsKICAgICAgcmV0dXJuIFpsKHQpIHx8IFFsKHQpID8gZS5wcmV2aW91c0NoYXJJc1NwYWNlIHx8ICIiID09PSBlLnN0ciAmJiBjIHx8IGUuc3RyLmxlbmd0aCA9PT0gcy5sZW5ndGggLSAxICYmIGwgPyB7CiAgICAgICAgcHJldmlvdXNDaGFySXNTcGFjZTogITEsCiAgICAgICAgc3RyOiBlLnN0ciArIGxvCiAgICAgIH0gOiB7CiAgICAgICAgcHJldmlvdXNDaGFySXNTcGFjZTogITAsCiAgICAgICAgc3RyOiBlLnN0ciArICIgIgogICAgICB9IDogewogICAgICAgIHByZXZpb3VzQ2hhcklzU3BhY2U6ICExLAogICAgICAgIHN0cjogZS5zdHIgKyB0CiAgICAgIH07CiAgICB9LCB7CiAgICAgIHByZXZpb3VzQ2hhcklzU3BhY2U6ICExLAogICAgICBzdHI6ICIiCiAgICB9KS5zdHIpKSk7CiAgfSwKICAgICAgdWcgPSBmdW5jdGlvbiB1ZyhlLCB0KSB7CiAgICB2YXIgbiA9IGUuZGF0YS5zbGljZSh0KSwKICAgICAgICByID0gbi5sZW5ndGggLSBXZShuKS5sZW5ndGg7CiAgICByZXR1cm4gYWcoZSwgdCwgcik7CiAgfSwKICAgICAgc2cgPSBmdW5jdGlvbiBzZyhlLCB0KSB7CiAgICB2YXIgbiA9IGUuZGF0YS5zbGljZSgwLCB0KSwKICAgICAgICByID0gbi5sZW5ndGggLSBLZShuKS5sZW5ndGg7CiAgICByZXR1cm4gYWcoZSwgdCAtIHIsIHIpOwogIH0sCiAgICAgIGNnID0gZnVuY3Rpb24gY2coZSwgdCwgbiwgcikgewogICAgdm9pZCAwID09PSByICYmIChyID0gITApOwogICAgdmFyIG8gPSBLZShlLmRhdGEpLmxlbmd0aCwKICAgICAgICBpID0gciA/IGUgOiB0LAogICAgICAgIGEgPSByID8gdCA6IGU7CiAgICByZXR1cm4gciA/IGkuYXBwZW5kRGF0YShhLmRhdGEpIDogaS5pbnNlcnREYXRhKDAsIGEuZGF0YSksIHBuKEF0LmZyb21Eb20oYSkpLCBuICYmIHVnKGksIG8pLCBpOwogIH0sCiAgICAgIGxnID0gZnVuY3Rpb24gbGcoZSwgdCkgewogICAgcmV0dXJuIHIgPSBlLCBvID0gKG4gPSB0KS5jb250YWluZXIoKSwgaSA9IG4ub2Zmc2V0KCksICExID09PSAkcy5pc1RleHRQb3NpdGlvbihuKSAmJiBvID09PSByLnBhcmVudE5vZGUgJiYgaSA+ICRzLmJlZm9yZShyKS5vZmZzZXQoKSA/ICRzKHQuY29udGFpbmVyKCksIHQub2Zmc2V0KCkgLSAxKSA6IHQ7CiAgICB2YXIgbiwgciwgbywgaTsKICB9LAogICAgICBmZyA9IGZ1bmN0aW9uIGZnKGUpIHsKICAgIHJldHVybiBMbyhlLnByZXZpb3VzU2libGluZykgPyBVLnNvbWUoKHQgPSBlLnByZXZpb3VzU2libGluZywgSW4odCkgPyAkcyh0LCB0LmRhdGEubGVuZ3RoKSA6ICRzLmFmdGVyKHQpKSkgOiBlLnByZXZpb3VzU2libGluZyA/IFVsKGUucHJldmlvdXNTaWJsaW5nKSA6IFUubm9uZSgpOwogICAgdmFyIHQ7CiAgfSwKICAgICAgZGcgPSBmdW5jdGlvbiBkZyhlKSB7CiAgICByZXR1cm4gTG8oZS5uZXh0U2libGluZykgPyBVLnNvbWUoKHQgPSBlLm5leHRTaWJsaW5nLCBJbih0KSA/ICRzKHQsIDApIDogJHMuYmVmb3JlKHQpKSkgOiBlLm5leHRTaWJsaW5nID8gRmwoZS5uZXh0U2libGluZykgOiBVLm5vbmUoKTsKICAgIHZhciB0OwogIH0sCiAgICAgIG1nID0gZnVuY3Rpb24gbWcociwgbykgewogICAgcmV0dXJuIGZnKG8pLm9yVGh1bmsoZnVuY3Rpb24gKCkgewogICAgICByZXR1cm4gZGcobyk7CiAgICB9KS5vclRodW5rKGZ1bmN0aW9uICgpIHsKICAgICAgcmV0dXJuIGUgPSByLCB0ID0gbywgbiA9ICRzLmJlZm9yZSh0LnByZXZpb3VzU2libGluZyA/IHQucHJldmlvdXNTaWJsaW5nIDogdC5wYXJlbnROb2RlKSwgTWwoZSwgbikuZm9sZChmdW5jdGlvbiAoKSB7CiAgICAgICAgcmV0dXJuIElsKGUsICRzLmFmdGVyKHQpKTsKICAgICAgfSwgVS5zb21lKTsKICAgICAgdmFyIGUsIHQsIG47CiAgICB9KTsKICB9LAogICAgICBwZyA9IGZ1bmN0aW9uIHBnKG4sIHIpIHsKICAgIHJldHVybiBkZyhyKS5vclRodW5rKGZ1bmN0aW9uICgpIHsKICAgICAgcmV0dXJuIGZnKHIpOwogICAgfSkub3JUaHVuayhmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiB0ID0gciwgSWwoZSA9IG4sICRzLmFmdGVyKHQpKS5mb2xkKGZ1bmN0aW9uICgpIHsKICAgICAgICByZXR1cm4gTWwoZSwgJHMuYmVmb3JlKHQpKTsKICAgICAgfSwgVS5zb21lKTsKICAgICAgdmFyIGUsIHQ7CiAgICB9KTsKICB9LAogICAgICBnZyA9IGZ1bmN0aW9uIGdnKGUsIHQsIG4pIHsKICAgIHJldHVybiAoZSA/IHBnIDogbWcpKHQsIG4pLm1hcChOKGxnLCBuKSk7CiAgfSwKICAgICAgaGcgPSBmdW5jdGlvbiBoZyh0LCBuLCBlKSB7CiAgICBlLmZvbGQoZnVuY3Rpb24gKCkgewogICAgICB0LmZvY3VzKCk7CiAgICB9LCBmdW5jdGlvbiAoZSkgewogICAgICB0LnNlbGVjdGlvbi5zZXRSbmcoZS50b1JhbmdlKCksIG4pOwogICAgfSk7CiAgfSwKICAgICAgdmcgPSBmdW5jdGlvbiB2ZyhlLCB0KSB7CiAgICByZXR1cm4gdCAmJiBoZShlLnNjaGVtYS5nZXRCbG9ja0VsZW1lbnRzKCksIEx0KHQpKTsKICB9LAogICAgICB5ZyA9IGZ1bmN0aW9uIHlnKGUpIHsKICAgIGlmICgkbyhlKSkgewogICAgICB2YXIgdCA9IEF0LmZyb21IdG1sKCc8YnIgZGF0YS1tY2UtYm9ndXM9IjEiPicpOwogICAgICByZXR1cm4gbW4oZSksIGZuKGUsIHQpLCBVLnNvbWUoJHMuYmVmb3JlKHQuZG9tKSk7CiAgICB9CgogICAgcmV0dXJuIFUubm9uZSgpOwogIH0sCiAgICAgIGJnID0gZnVuY3Rpb24gYmcoZSwgdCwgYSkgewogICAgdmFyIG4sCiAgICAgICAgciwKICAgICAgICBvLAogICAgICAgIGksCiAgICAgICAgdSA9IFd0KGUpLmZpbHRlcihVdCksCiAgICAgICAgcyA9IEt0KGUpLmZpbHRlcihVdCk7CiAgICByZXR1cm4gcG4oZSksIHIgPSBzLCBvID0gdCwgaSA9IGZ1bmN0aW9uIGkoZSwgdCwgbikgewogICAgICB2YXIgciA9IGUuZG9tLAogICAgICAgICAgbyA9IHQuZG9tLAogICAgICAgICAgaSA9IHIuZGF0YS5sZW5ndGg7CiAgICAgIHJldHVybiBjZyhyLCBvLCBhKSwgbi5jb250YWluZXIoKSA9PT0gbyA/ICRzKHIsIGkpIDogbjsKICAgIH0sICgobiA9IHUpLmlzU29tZSgpICYmIHIuaXNTb21lKCkgJiYgby5pc1NvbWUoKSA/IFUuc29tZShpKG4uZ2V0T3JEaWUoKSwgci5nZXRPckRpZSgpLCBvLmdldE9yRGllKCkpKSA6IFUubm9uZSgpKS5vclRodW5rKGZ1bmN0aW9uICgpIHsKICAgICAgcmV0dXJuIGEgJiYgKHUuZWFjaChmdW5jdGlvbiAoZSkgewogICAgICAgIHJldHVybiBzZyhlLmRvbSwgZS5kb20ubGVuZ3RoKTsKICAgICAgfSksIHMuZWFjaChmdW5jdGlvbiAoZSkgewogICAgICAgIHJldHVybiB1ZyhlLmRvbSwgMCk7CiAgICAgIH0pKSwgdDsKICAgIH0pOwogIH0sCiAgICAgIENnID0gZnVuY3Rpb24gQ2codCwgbiwgZSwgcikgewogICAgdm9pZCAwID09PSByICYmIChyID0gITApOwoKICAgIHZhciBvLAogICAgICAgIGksCiAgICAgICAgYSA9IGdnKG4sIHQuZ2V0Qm9keSgpLCBlLmRvbSksCiAgICAgICAgdSA9IF9yKGUsIE4odmcsIHQpLCAobyA9IHQuZ2V0Qm9keSgpLCBmdW5jdGlvbiAoZSkgewogICAgICByZXR1cm4gZS5kb20gPT09IG87CiAgICB9KSksCiAgICAgICAgcyA9IGJnKGUsIGEsIChpID0gZSwgaGUodC5zY2hlbWEuZ2V0VGV4dElubGluZUVsZW1lbnRzKCksIEx0KGkpKSkpOwoKICAgIHQuZG9tLmlzRW1wdHkodC5nZXRCb2R5KCkpID8gKHQuc2V0Q29udGVudCgiIiksIHQuc2VsZWN0aW9uLnNldEN1cnNvckxvY2F0aW9uKCkpIDogdS5iaW5kKHlnKS5mb2xkKGZ1bmN0aW9uICgpIHsKICAgICAgciAmJiBoZyh0LCBuLCBzKTsKICAgIH0sIGZ1bmN0aW9uIChlKSB7CiAgICAgIHIgJiYgaGcodCwgbiwgVS5zb21lKGUpKTsKICAgIH0pOwogIH0sCiAgICAgIHdnID0gZnVuY3Rpb24gd2coZSwgdCkgewogICAgcmV0dXJuIHsKICAgICAgc3RhcnQ6IGUsCiAgICAgIGVuZDogdAogICAgfTsKICB9LAogICAgICB4ZyA9IENyKFt7CiAgICByZW1vdmVUYWJsZTogWyJlbGVtZW50Il0KICB9LCB7CiAgICBlbXB0eUNlbGxzOiBbImNlbGxzIl0KICB9LCB7CiAgICBkZWxldGVDZWxsU2VsZWN0aW9uOiBbInJuZyIsICJjZWxsIl0KICB9XSksCiAgICAgIFNnID0gZnVuY3Rpb24gU2coZSwgdCkgewogICAgcmV0dXJuIE9yKEF0LmZyb21Eb20oZSksICJ0ZCx0aCIsIHQpOwogIH0sCiAgICAgIE5nID0gZnVuY3Rpb24gTmcoZSwgdCkgewogICAgcmV0dXJuIFRyKGUsICJ0YWJsZSIsIHQpOwogIH0sCiAgICAgIEVnID0gZnVuY3Rpb24gRWcoZSkgewogICAgcmV0dXJuICFPdChlLnN0YXJ0LCBlLmVuZCk7CiAgfSwKICAgICAga2cgPSBmdW5jdGlvbiBrZyhlLCB0KSB7CiAgICByZXR1cm4gTmcoZS5zdGFydCwgdCkuYmluZChmdW5jdGlvbiAocikgewogICAgICByZXR1cm4gTmcoZS5lbmQsIHQpLmJpbmQoZnVuY3Rpb24gKGUpIHsKICAgICAgICByZXR1cm4gdCA9IE90KHIsIGUpLCBuID0gciwgdCA/IFUuc29tZShuKSA6IFUubm9uZSgpOwogICAgICAgIHZhciB0LCBuOwogICAgICB9KTsKICAgIH0pOwogIH0sCiAgICAgIF9nID0gZnVuY3Rpb24gX2coZSkgewogICAgcmV0dXJuIEd1KGUsICJ0ZCx0aCIpOwogIH0sCiAgICAgIEFnID0gZnVuY3Rpb24gQWcociwgZSkgewogICAgdmFyIHQgPSBTZyhlLnN0YXJ0Q29udGFpbmVyLCByKSwKICAgICAgICBuID0gU2coZS5lbmRDb250YWluZXIsIHIpOwogICAgcmV0dXJuIGUuY29sbGFwc2VkID8gVS5ub25lKCkgOiBkcyh0LCBuLCB3ZykuZm9sZChmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiB0LmZvbGQoZnVuY3Rpb24gKCkgewogICAgICAgIHJldHVybiBuLmJpbmQoZnVuY3Rpb24gKHQpIHsKICAgICAgICAgIHJldHVybiBOZyh0LCByKS5iaW5kKGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICAgIHJldHVybiBuZShfZyhlKSkubWFwKGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICAgICAgcmV0dXJuIHdnKGUsIHQpOwogICAgICAgICAgICB9KTsKICAgICAgICAgIH0pOwogICAgICAgIH0pOwogICAgICB9LCBmdW5jdGlvbiAodCkgewogICAgICAgIHJldHVybiBOZyh0LCByKS5iaW5kKGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICByZXR1cm4gcmUoX2coZSkpLm1hcChmdW5jdGlvbiAoZSkgewogICAgICAgICAgICByZXR1cm4gd2codCwgZSk7CiAgICAgICAgICB9KTsKICAgICAgICB9KTsKICAgICAgfSk7CiAgICB9LCBmdW5jdGlvbiAoZSkgewogICAgICByZXR1cm4gUmcociwgZSkgPyBVLm5vbmUoKSA6IChuID0gciwgTmcoKHQgPSBlKS5zdGFydCwgbikuYmluZChmdW5jdGlvbiAoZSkgewogICAgICAgIHJldHVybiByZShfZyhlKSkubWFwKGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICByZXR1cm4gd2codC5zdGFydCwgZSk7CiAgICAgICAgfSk7CiAgICAgIH0pKTsKICAgICAgdmFyIHQsIG47CiAgICB9KTsKICB9LAogICAgICBSZyA9IGZ1bmN0aW9uIFJnKGUsIHQpIHsKICAgIHJldHVybiBrZyh0LCBlKS5pc1NvbWUoKTsKICB9LAogICAgICBUZyA9IGZ1bmN0aW9uIFRnKGUsIHQsIG4pIHsKICAgIHJldHVybiBlLmZpbHRlcihmdW5jdGlvbiAoZSkgewogICAgICByZXR1cm4gRWcoZSkgJiYgUmcobiwgZSk7CiAgICB9KS5vclRodW5rKGZ1bmN0aW9uICgpIHsKICAgICAgcmV0dXJuIEFnKG4sIHQpOwogICAgfSkuYmluZChmdW5jdGlvbiAoZSkgewogICAgICByZXR1cm4ga2codCA9IGUsIG4pLm1hcChmdW5jdGlvbiAoZSkgewogICAgICAgIHJldHVybiB7CiAgICAgICAgICBybmc6IHQsCiAgICAgICAgICB0YWJsZTogZSwKICAgICAgICAgIGNlbGxzOiBfZyhlKQogICAgICAgIH07CiAgICAgIH0pOwogICAgICB2YXIgdDsKICAgIH0pOwogIH0sCiAgICAgIERnID0gZnVuY3Rpb24gRGcoZSwgdCkgewogICAgcmV0dXJuIEcoZSwgZnVuY3Rpb24gKGUpIHsKICAgICAgcmV0dXJuIE90KGUsIHQpOwogICAgfSk7CiAgfSwKICAgICAgT2cgPSBmdW5jdGlvbiBPZyhlLCByLCBvKSB7CiAgICByZXR1cm4gZS5maWx0ZXIoZnVuY3Rpb24gKGUpIHsKICAgICAgcmV0dXJuIG4gPSBvLCAhRWcodCA9IGUpICYmIGtnKHQsIG4pLmV4aXN0cyhmdW5jdGlvbiAoZSkgewogICAgICAgIHZhciB0ID0gZS5kb20ucm93czsKICAgICAgICByZXR1cm4gMSA9PT0gdC5sZW5ndGggJiYgMSA9PT0gdFswXS5jZWxscy5sZW5ndGg7CiAgICAgIH0pICYmIGpmKGUuc3RhcnQsIHIpOwogICAgICB2YXIgdCwgbjsKICAgIH0pLm1hcChmdW5jdGlvbiAoZSkgewogICAgICByZXR1cm4gZS5zdGFydDsKICAgIH0pOwogIH0sCiAgICAgIEJnID0gZnVuY3Rpb24gQmcobikgewogICAgcmV0dXJuIGRzKERnKChyID0gbikuY2VsbHMsIHIucm5nLnN0YXJ0KSwgRGcoci5jZWxscywgci5ybmcuZW5kKSwgZnVuY3Rpb24gKGUsIHQpIHsKICAgICAgcmV0dXJuIHIuY2VsbHMuc2xpY2UoZSwgdCArIDEpOwogICAgfSkubWFwKGZ1bmN0aW9uIChlKSB7CiAgICAgIHZhciB0ID0gbi5jZWxsczsKICAgICAgcmV0dXJuIGUubGVuZ3RoID09PSB0Lmxlbmd0aCA/IHhnLnJlbW92ZVRhYmxlKG4udGFibGUpIDogeGcuZW1wdHlDZWxscyhlKTsKICAgIH0pOwogICAgdmFyIHI7CiAgfSwKICAgICAgUGcgPSBmdW5jdGlvbiBQZyhlLCB0KSB7CiAgICB2YXIgbiwKICAgICAgICByLAogICAgICAgIG8sCiAgICAgICAgaSwKICAgICAgICBhLAogICAgICAgIHUgPSAobiA9IGUsIGZ1bmN0aW9uIChlKSB7CiAgICAgIHJldHVybiBPdChuLCBlKTsKICAgIH0pLAogICAgICAgIHMgPSAobyA9IHUsIGkgPSBTZygociA9IHQpLnN0YXJ0Q29udGFpbmVyLCBvKSwgYSA9IFNnKHIuZW5kQ29udGFpbmVyLCBvKSwgZHMoaSwgYSwgd2cpKTsKICAgIHJldHVybiBPZyhzLCB0LCB1KS5tYXAoZnVuY3Rpb24gKGUpIHsKICAgICAgcmV0dXJuIHhnLmRlbGV0ZUNlbGxTZWxlY3Rpb24odCwgZSk7CiAgICB9KS5vclRodW5rKGZ1bmN0aW9uICgpIHsKICAgICAgcmV0dXJuIFRnKHMsIHQsIHUpLmJpbmQoQmcpOwogICAgfSk7CiAgfSwKICAgICAgTGcgPSBmdW5jdGlvbiBMZyhlKSB7CiAgICB2YXIgdDsKICAgIHJldHVybiAoOCA9PT0gSXQodCA9IGUpIHx8ICIjY29tbWVudCIgPT09IEx0KHQpID8gV3QgOiBadCkoZSkuYmluZChMZykub3JUaHVuayhmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiBVLnNvbWUoZSk7CiAgICB9KTsKICB9LAogICAgICBJZyA9IGZ1bmN0aW9uIElnKGUsIHQpIHsKICAgIHJldHVybiBXKHQsIF9wKSwgZS5zZWxlY3Rpb24uc2V0Q3Vyc29yTG9jYXRpb24odFswXS5kb20sIDApLCAhMDsKICB9LAogICAgICBNZyA9IGZ1bmN0aW9uIE1nKGUsIHQsIG4pIHsKICAgIHQuZGVsZXRlQ29udGVudHMoKTsKICAgIHZhciByLAogICAgICAgIG8sCiAgICAgICAgaSA9IExnKG4pLmdldE9yKG4pLAogICAgICAgIGEgPSBBdC5mcm9tRG9tKGUuZG9tLmdldFBhcmVudChpLmRvbSwgZS5kb20uaXNCbG9jaykpOwogICAgcmV0dXJuICRvKGEpICYmIChfcChhKSwgZS5zZWxlY3Rpb24uc2V0Q3Vyc29yTG9jYXRpb24oYS5kb20sIDApKSwgT3QobiwgYSkgfHwgKHIgPSAkdChhKS5pcyhuKSA/IFtdIDogJHQobyA9IGEpLm1hcChHdCkubWFwKGZ1bmN0aW9uIChlKSB7CiAgICAgIHJldHVybiBIKGUsIGZ1bmN0aW9uIChlKSB7CiAgICAgICAgcmV0dXJuICFPdChvLCBlKTsKICAgICAgfSk7CiAgICB9KS5nZXRPcihbXSksIFcoci5jb25jYXQoR3QobikpLCBmdW5jdGlvbiAoZSkgewogICAgICBPdChlLCBhKSB8fCBQdChlLCBhKSB8fCBwbihlKTsKICAgIH0pKSwgITA7CiAgfSwKICAgICAgRmcgPSBmdW5jdGlvbiBGZyhlLCB0KSB7CiAgICByZXR1cm4gQ2coZSwgITEsIHQpLCAhMDsKICB9LAogICAgICBVZyA9IGZ1bmN0aW9uIFVnKG4sIGUsIHIsIHQpIHsKICAgIHJldHVybiBqZyhlLCB0KS5mb2xkKGZ1bmN0aW9uICgpIHsKICAgICAgcmV0dXJuIHQgPSBuLCBQZyhlLCByKS5tYXAoZnVuY3Rpb24gKGUpIHsKICAgICAgICByZXR1cm4gZS5mb2xkKE4oRmcsIHQpLCBOKElnLCB0KSwgTihNZywgdCkpOwogICAgICB9KTsKICAgICAgdmFyIHQ7CiAgICB9LCBmdW5jdGlvbiAoZSkgewogICAgICByZXR1cm4gSGcobiwgZSk7CiAgICB9KS5nZXRPcighMSk7CiAgfSwKICAgICAgemcgPSBmdW5jdGlvbiB6ZyhlLCB0KSB7CiAgICByZXR1cm4gWShEcCh0LCBlKSwgdW8pOwogIH0sCiAgICAgIGpnID0gZnVuY3Rpb24gamcoZSwgdCkgewogICAgcmV0dXJuIFkoRHAodCwgZSksIGZ1bmN0aW9uIChlKSB7CiAgICAgIHJldHVybiAiY2FwdGlvbiIgPT09IEx0KGUpOwogICAgfSk7CiAgfSwKICAgICAgSGcgPSBmdW5jdGlvbiBIZyhlLCB0KSB7CiAgICByZXR1cm4gX3AodCksIGUuc2VsZWN0aW9uLnNldEN1cnNvckxvY2F0aW9uKHQuZG9tLCAwKSwgVS5zb21lKCEwKTsKICB9LAogICAgICBWZyA9IGZ1bmN0aW9uIFZnKHUsIHMsIGMsIGwsIGYpIHsKICAgIHJldHVybiBCbChjLCB1LmdldEJvZHkoKSwgZikuYmluZChmdW5jdGlvbiAoZSkgewogICAgICByZXR1cm4gbyA9IGMsIGkgPSBmLCBhID0gZSwgRmwoKHIgPSBsKS5kb20pLmJpbmQoZnVuY3Rpb24gKHQpIHsKICAgICAgICByZXR1cm4gVWwoci5kb20pLm1hcChmdW5jdGlvbiAoZSkgewogICAgICAgICAgcmV0dXJuIG8gPyBpLmlzRXF1YWwodCkgJiYgYS5pc0VxdWFsKGUpIDogaS5pc0VxdWFsKGUpICYmIGEuaXNFcXVhbCh0KTsKICAgICAgICB9KTsKICAgICAgfSkuZ2V0T3IoITApID8gSGcodSwgbCkgOiAodCA9IGwsIG4gPSBlLCBqZyhzLCBBdC5mcm9tRG9tKG4uZ2V0Tm9kZSgpKSkubWFwKGZ1bmN0aW9uIChlKSB7CiAgICAgICAgcmV0dXJuICExID09PSBPdChlLCB0KTsKICAgICAgfSkpOwogICAgICB2YXIgdCwgbiwgciwgbywgaSwgYTsKICAgIH0pLm9yKFUuc29tZSghMCkpOwogIH0sCiAgICAgIHFnID0gZnVuY3Rpb24gcWcobywgaSwgYSwgZSkgewogICAgdmFyIHUgPSAkcy5mcm9tUmFuZ2VTdGFydChvLnNlbGVjdGlvbi5nZXRSbmcoKSk7CiAgICByZXR1cm4gemcoYSwgZSkuYmluZChmdW5jdGlvbiAoZSkgewogICAgICByZXR1cm4gJG8oZSkgPyBIZyhvLCBlKSA6ICh0ID0gYSwgbiA9IGUsIHIgPSB1LCBCbChpLCBvLmdldEJvZHkoKSwgcikuYmluZChmdW5jdGlvbiAoZSkgewogICAgICAgIHJldHVybiB6Zyh0LCBBdC5mcm9tRG9tKGUuZ2V0Tm9kZSgpKSkubWFwKGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICByZXR1cm4gITEgPT09IE90KGUsIG4pOwogICAgICAgIH0pOwogICAgICB9KSk7CiAgICAgIHZhciB0LCBuLCByOwogICAgfSkuZ2V0T3IoITEpOwogIH0sCiAgICAgICRnID0gZnVuY3Rpb24gJGcoZSwgdCkgewogICAgcmV0dXJuIChlID8geHAgOiBTcCkodCk7CiAgfSwKICAgICAgV2cgPSBmdW5jdGlvbiBXZyhhLCB1LCByKSB7CiAgICB2YXIgcyA9IEF0LmZyb21Eb20oYS5nZXRCb2R5KCkpOwogICAgcmV0dXJuIGpnKHMsIHIpLmZvbGQoZnVuY3Rpb24gKCkgewogICAgICByZXR1cm4gcWcoYSwgdSwgcywgcikgfHwgKGUgPSBhLCB0ID0gdSwgbiA9ICRzLmZyb21SYW5nZVN0YXJ0KGUuc2VsZWN0aW9uLmdldFJuZygpKSwgJGcodCwgbikgfHwgT2wodCwgZS5nZXRCb2R5KCksIG4pLmV4aXN0cyhmdW5jdGlvbiAoZSkgewogICAgICAgIHJldHVybiAkZyh0LCBlKTsKICAgICAgfSkpOwogICAgICB2YXIgZSwgdCwgbjsKICAgIH0sIGZ1bmN0aW9uIChlKSB7CiAgICAgIHJldHVybiB0ID0gYSwgbiA9IHUsIHIgPSBzLCBvID0gZSwgaSA9ICRzLmZyb21SYW5nZVN0YXJ0KHQuc2VsZWN0aW9uLmdldFJuZygpKSwgKCRvKG8pID8gSGcodCwgbykgOiBWZyh0LCByLCBuLCBvLCBpKSkuZ2V0T3IoITEpOwogICAgICB2YXIgdCwgbiwgciwgbywgaTsKICAgIH0pOwogIH0sCiAgICAgIEtnID0gZnVuY3Rpb24gS2coZSwgdCkgewogICAgdmFyIG4sCiAgICAgICAgciwKICAgICAgICBvLAogICAgICAgIGksCiAgICAgICAgYSwKICAgICAgICB1ID0gQXQuZnJvbURvbShlLnNlbGVjdGlvbi5nZXRTdGFydCghMCkpLAogICAgICAgIHMgPSBGZihlKTsKICAgIHJldHVybiBlLnNlbGVjdGlvbi5pc0NvbGxhcHNlZCgpICYmIDAgPT09IHMubGVuZ3RoID8gV2coZSwgdCwgdSkgOiAobiA9IGUsIHIgPSB1LCBvID0gQXQuZnJvbURvbShuLmdldEJvZHkoKSksIGkgPSBuLnNlbGVjdGlvbi5nZXRSbmcoKSwgMCAhPT0gKGEgPSBGZihuKSkubGVuZ3RoID8gSWcobiwgYSkgOiBVZyhuLCBvLCBpLCByKSk7CiAgfSwKICAgICAgWGcgPSBmdW5jdGlvbiBYZyhhKSB7CiAgICB2YXIgdSA9ICRzLmZyb21SYW5nZVN0YXJ0KGEpLAogICAgICAgIHMgPSAkcy5mcm9tUmFuZ2VFbmQoYSksCiAgICAgICAgYyA9IGEuY29tbW9uQW5jZXN0b3JDb250YWluZXI7CiAgICByZXR1cm4gT2woITEsIGMsIHMpLm1hcChmdW5jdGlvbiAoZSkgewogICAgICByZXR1cm4gIW9sKHUsIHMsIGMpICYmIG9sKHUsIGUsIGMpID8gKHQgPSB1LmNvbnRhaW5lcigpLCBuID0gdS5vZmZzZXQoKSwgciA9IGUuY29udGFpbmVyKCksIG8gPSBlLm9mZnNldCgpLCAoaSA9IGRvY3VtZW50LmNyZWF0ZVJhbmdlKCkpLnNldFN0YXJ0KHQsIG4pLCBpLnNldEVuZChyLCBvKSwgaSkgOiBhOwogICAgICB2YXIgdCwgbiwgciwgbywgaTsKICAgIH0pLmdldE9yKGEpOwogIH0sCiAgICAgIFlnID0gZnVuY3Rpb24gWWcoZSkgewogICAgcmV0dXJuIGUuY29sbGFwc2VkID8gZSA6IFhnKGUpOwogIH0sCiAgICAgIEdnID0gZnVuY3Rpb24gR2coZSwgdCkgewogICAgdmFyIG4sIHI7CiAgICByZXR1cm4gZS5nZXRCbG9ja0VsZW1lbnRzKClbdC5uYW1lXSAmJiAociA9IHQpLmZpcnN0Q2hpbGQgJiYgci5maXJzdENoaWxkID09PSByLmxhc3RDaGlsZCAmJiAoImJyIiA9PT0gKG4gPSB0LmZpcnN0Q2hpbGQpLm5hbWUgfHwgbi52YWx1ZSA9PT0gbG8pOwogIH0sCiAgICAgIEpnID0gZnVuY3Rpb24gSmcoZSwgdCkgewogICAgdmFyIG4sCiAgICAgICAgciwKICAgICAgICBvLAogICAgICAgIGkgPSB0LmZpcnN0Q2hpbGQsCiAgICAgICAgYSA9IHQubGFzdENoaWxkOwogICAgcmV0dXJuIGkgJiYgIm1ldGEiID09PSBpLm5hbWUgJiYgKGkgPSBpLm5leHQpLCBhICYmICJtY2VfbWFya2VyIiA9PT0gYS5hdHRyKCJpZCIpICYmIChhID0gYS5wcmV2KSwgciA9IGEsIG8gPSAobiA9IGUpLmdldE5vbkVtcHR5RWxlbWVudHMoKSwgciAmJiAoci5pc0VtcHR5KG8pIHx8IEdnKG4sIHIpKSAmJiAoYSA9IGEucHJldiksICEoIWkgfHwgaSAhPT0gYSkgJiYgKCJ1bCIgPT09IGkubmFtZSB8fCAib2wiID09PSBpLm5hbWUpOwogIH0sCiAgICAgIFFnID0gZnVuY3Rpb24gUWcoZSkgewogICAgcmV0dXJuIGUgJiYgZS5maXJzdENoaWxkICYmIGUuZmlyc3RDaGlsZCA9PT0gZS5sYXN0Q2hpbGQgJiYgKCh0ID0gZS5maXJzdENoaWxkKS5kYXRhID09PSBsbyB8fCB6bih0KSk7CiAgICB2YXIgdDsKICB9LAogICAgICBaZyA9IGZ1bmN0aW9uIFpnKGUpIHsKICAgIHJldHVybiAwIDwgZS5sZW5ndGggJiYgKCEodCA9IGVbZS5sZW5ndGggLSAxXSkuZmlyc3RDaGlsZCB8fCBRZyh0KSkgPyBlLnNsaWNlKDAsIC0xKSA6IGU7CiAgICB2YXIgdDsKICB9LAogICAgICBlaCA9IGZ1bmN0aW9uIGVoKGUsIHQpIHsKICAgIHZhciBuID0gZS5nZXRQYXJlbnQodCwgZS5pc0Jsb2NrKTsKICAgIHJldHVybiBuICYmICJMSSIgPT09IG4ubm9kZU5hbWUgPyBuIDogbnVsbDsKICB9LAogICAgICB0aCA9IGZ1bmN0aW9uIHRoKGUsIHQpIHsKICAgIHZhciBuID0gJHMuYWZ0ZXIoZSksCiAgICAgICAgciA9IF9sKHQpLnByZXYobik7CgogICAgcmV0dXJuIHIgPyByLnRvUmFuZ2UoKSA6IG51bGw7CiAgfSwKICAgICAgbmggPSBmdW5jdGlvbiBuaCh0LCBlLCBuKSB7CiAgICB2YXIgciwKICAgICAgICBvLAogICAgICAgIGksCiAgICAgICAgYSwKICAgICAgICB1ID0gdC5wYXJlbnROb2RlOwogICAgcmV0dXJuIGt0LmVhY2goZSwgZnVuY3Rpb24gKGUpIHsKICAgICAgdS5pbnNlcnRCZWZvcmUoZSwgdCk7CiAgICB9KSwgciA9IHQsIG8gPSBuLCBpID0gJHMuYmVmb3JlKHIpLCAoYSA9IF9sKG8pLm5leHQoaSkpID8gYS50b1JhbmdlKCkgOiBudWxsOwogIH0sCiAgICAgIHJoID0gZnVuY3Rpb24gcmgoZSwgbywgaSwgdCkgewogICAgdmFyIG4sCiAgICAgICAgciwKICAgICAgICBhLAogICAgICAgIHUsCiAgICAgICAgcywKICAgICAgICBjLAogICAgICAgIGwsCiAgICAgICAgZiwKICAgICAgICBkLAogICAgICAgIG0sCiAgICAgICAgcCwKICAgICAgICBnLAogICAgICAgIGgsCiAgICAgICAgdiwKICAgICAgICB5LAogICAgICAgIGIsCiAgICAgICAgQywKICAgICAgICB3LAogICAgICAgIHgsCiAgICAgICAgUywKICAgICAgICBOID0gKG4gPSBvLCByID0gdCwgYyA9IGUuc2VyaWFsaXplKHIpLCBsID0gbi5jcmVhdGVGcmFnbWVudChjKSwgdSA9IChhID0gbCkuZmlyc3RDaGlsZCwgcyA9IGEubGFzdENoaWxkLCB1ICYmICJNRVRBIiA9PT0gdS5ub2RlTmFtZSAmJiB1LnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodSksIHMgJiYgIm1jZV9tYXJrZXIiID09PSBzLmlkICYmIHMucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChzKSwgYSksCiAgICAgICAgRSA9IGVoKG8sIGkuc3RhcnRDb250YWluZXIpLAogICAgICAgIGsgPSBaZygoZiA9IE4uZmlyc3RDaGlsZCwga3QuZ3JlcChmLmNoaWxkTm9kZXMsIGZ1bmN0aW9uIChlKSB7CiAgICAgIHJldHVybiAiTEkiID09PSBlLm5vZGVOYW1lOwogICAgfSkpKSwKICAgICAgICBfID0gby5nZXRSb290KCksCiAgICAgICAgQSA9IGZ1bmN0aW9uIEEoZSkgewogICAgICB2YXIgdCA9ICRzLmZyb21SYW5nZVN0YXJ0KGkpLAogICAgICAgICAgbiA9IF9sKG8uZ2V0Um9vdCgpKSwKICAgICAgICAgIHIgPSAxID09PSBlID8gbi5wcmV2KHQpIDogbi5uZXh0KHQpOwoKICAgICAgcmV0dXJuICFyIHx8IGVoKG8sIHIuZ2V0Tm9kZSgpKSAhPT0gRTsKICAgIH07CgogICAgcmV0dXJuIEEoMSkgPyBuaChFLCBrLCBfKSA6IEEoMikgPyAoZCA9IEUsIG0gPSBrLCBwID0gXywgby5pbnNlcnRBZnRlcihtLnJldmVyc2UoKSwgZCksIHRoKG1bMF0sIHApKSA6IChoID0gaywgdiA9IF8sIHkgPSBnID0gRSwgQyA9IChiID0gaSkuY2xvbmVSYW5nZSgpLCB3ID0gYi5jbG9uZVJhbmdlKCksIEMuc2V0U3RhcnRCZWZvcmUoeSksIHcuc2V0RW5kQWZ0ZXIoeSksIHggPSBbQy5jbG9uZUNvbnRlbnRzKCksIHcuY2xvbmVDb250ZW50cygpXSwgKFMgPSBnLnBhcmVudE5vZGUpLmluc2VydEJlZm9yZSh4WzBdLCBnKSwga3QuZWFjaChoLCBmdW5jdGlvbiAoZSkgewogICAgICBTLmluc2VydEJlZm9yZShlLCBnKTsKICAgIH0pLCBTLmluc2VydEJlZm9yZSh4WzFdLCBnKSwgUy5yZW1vdmVDaGlsZChnKSwgdGgoaFtoLmxlbmd0aCAtIDFdLCB2KSk7CiAgfSwKICAgICAgb2ggPSBxbiwKICAgICAgaWggPSBmdW5jdGlvbiBpaChlKSB7CiAgICB2YXIgdCA9IGUuZG9tLAogICAgICAgIG4gPSBZZyhlLnNlbGVjdGlvbi5nZXRSbmcoKSk7CiAgICBlLnNlbGVjdGlvbi5zZXRSbmcobik7CiAgICB2YXIgciwKICAgICAgICBvLAogICAgICAgIGksCiAgICAgICAgYSA9IHQuZ2V0UGFyZW50KG4uc3RhcnRDb250YWluZXIsIG9oKTsKICAgIHIgPSB0LCBvID0gbiwgbnVsbCAhPT0gKGkgPSBhKSAmJiBpID09PSByLmdldFBhcmVudChvLmVuZENvbnRhaW5lciwgb2gpICYmIGpmKEF0LmZyb21Eb20oaSksIG8pID8gTWcoZSwgbiwgQXQuZnJvbURvbShhKSkgOiBlLmdldERvYygpLmV4ZWNDb21tYW5kKCJEZWxldGUiLCAhMSwgbnVsbCk7CiAgfSwKICAgICAgYWggPSBmdW5jdGlvbiBhaChlLCB0LCBuKSB7CiAgICB2YXIgciwKICAgICAgICBvLAogICAgICAgIGksCiAgICAgICAgYSwKICAgICAgICB1LAogICAgICAgIHMsCiAgICAgICAgYywKICAgICAgICBsLAogICAgICAgIGYsCiAgICAgICAgZCA9IGUuc2VsZWN0aW9uLAogICAgICAgIG0gPSBlLmRvbTsKICAgIC9eIHwgJC8udGVzdCh0KSAmJiAocyA9IG0sIGMgPSBkLmdldFJuZygpLCBsID0gdCwgZiA9IEF0LmZyb21Eb20ocy5nZXRSb290KCkpLCBsID0gUXAoZiwgJHMuZnJvbVJhbmdlU3RhcnQoYykpID8gbC5yZXBsYWNlKC9eIC8sICImbmJzcDsiKSA6IGwucmVwbGFjZSgvXiZuYnNwOy8sICIgIiksIHQgPSBsID0gWnAoZiwgJHMuZnJvbVJhbmdlRW5kKGMpKSA/IGwucmVwbGFjZSgvKCZuYnNwO3wgKSg8YnIoIFwvKT4pPyQvLCAiJm5ic3A7IikgOiBsLnJlcGxhY2UoLyZuYnNwOyg8YnIoIFwvKT8+KT8kLywgIiAiKSk7CiAgICB2YXIgcCA9IGUucGFyc2VyLAogICAgICAgIGcgPSBuLm1lcmdlLAogICAgICAgIGggPSBKbSh7CiAgICAgIHZhbGlkYXRlOiBlLmdldFBhcmFtKCJ2YWxpZGF0ZSIpCiAgICB9LCBlLnNjaGVtYSksCiAgICAgICAgdiA9ICc8c3BhbiBpZD0ibWNlX21hcmtlciIgZGF0YS1tY2UtdHlwZT0iYm9va21hcmsiPiYjeEZFRkY7PC9zcGFuPicsCiAgICAgICAgeSA9IHsKICAgICAgY29udGVudDogdCwKICAgICAgZm9ybWF0OiAiaHRtbCIsCiAgICAgIHNlbGVjdGlvbjogITAsCiAgICAgIHBhc3RlOiBuLnBhc3RlCiAgICB9OwogICAgaWYgKCh5ID0gZS5maXJlKCJCZWZvcmVTZXRDb250ZW50IiwgeSkpLmlzRGVmYXVsdFByZXZlbnRlZCgpKSBlLmZpcmUoIlNldENvbnRlbnQiLCB7CiAgICAgIGNvbnRlbnQ6IHkuY29udGVudCwKICAgICAgZm9ybWF0OiAiaHRtbCIsCiAgICAgIHNlbGVjdGlvbjogITAsCiAgICAgIHBhc3RlOiBuLnBhc3RlCiAgICB9KTtlbHNlIHsKICAgICAgLTEgPT09ICh0ID0geS5jb250ZW50KS5pbmRleE9mKCJ7JGNhcmV0fSIpICYmICh0ICs9ICJ7JGNhcmV0fSIpLCB0ID0gdC5yZXBsYWNlKC9ce1wkY2FyZXRcfS8sIHYpOwogICAgICB2YXIgYiwKICAgICAgICAgIEMsCiAgICAgICAgICB3ID0gKGEgPSBkLmdldFJuZygpKS5zdGFydENvbnRhaW5lciB8fCAoYS5wYXJlbnRFbGVtZW50ID8gYS5wYXJlbnRFbGVtZW50KCkgOiBudWxsKSwKICAgICAgICAgIHggPSBlLmdldEJvZHkoKTsKICAgICAgdyA9PT0geCAmJiBkLmlzQ29sbGFwc2VkKCkgJiYgbS5pc0Jsb2NrKHguZmlyc3RDaGlsZCkgJiYgKGIgPSBlLCAoQyA9IHguZmlyc3RDaGlsZCkgJiYgIWIuc2NoZW1hLmdldFNob3J0RW5kZWRFbGVtZW50cygpW0Mubm9kZU5hbWVdKSAmJiBtLmlzRW1wdHkoeC5maXJzdENoaWxkKSAmJiAoKGEgPSBtLmNyZWF0ZVJuZygpKS5zZXRTdGFydCh4LmZpcnN0Q2hpbGQsIDApLCBhLnNldEVuZCh4LmZpcnN0Q2hpbGQsIDApLCBkLnNldFJuZyhhKSksIGQuaXNDb2xsYXBzZWQoKSB8fCBpaChlKTsKCiAgICAgIHZhciBTLAogICAgICAgICAgTiwKICAgICAgICAgIEUsCiAgICAgICAgICBrLAogICAgICAgICAgXywKICAgICAgICAgIEEsCiAgICAgICAgICBSLAogICAgICAgICAgVCwKICAgICAgICAgIEQsCiAgICAgICAgICBPLAogICAgICAgICAgQiwKICAgICAgICAgIFAsCiAgICAgICAgICBMLAogICAgICAgICAgSSwKICAgICAgICAgIE0gPSB7CiAgICAgICAgY29udGV4dDogKHIgPSBkLmdldE5vZGUoKSkubm9kZU5hbWUudG9Mb3dlckNhc2UoKSwKICAgICAgICBkYXRhOiBuLmRhdGEsCiAgICAgICAgaW5zZXJ0OiAhMAogICAgICB9LAogICAgICAgICAgRiA9IHAucGFyc2UodCwgTSk7CgogICAgICBpZiAoITAgPT09IG4ucGFzdGUgJiYgSmcoZS5zY2hlbWEsIEYpICYmIGVoKG0sIHIpKSByZXR1cm4gYSA9IHJoKGgsIG0sIGQuZ2V0Um5nKCksIEYpLCBkLnNldFJuZyhhKSwgdm9pZCBlLmZpcmUoIlNldENvbnRlbnQiLCB5KTsKICAgICAgaWYgKCFmdW5jdGlvbiAoZSkgewogICAgICAgIGZvciAodmFyIHQgPSBlOyB0ID0gdC53YWxrKCk7KSB7CiAgICAgICAgICAxID09PSB0LnR5cGUgJiYgdC5hdHRyKCJkYXRhLW1jZS1mcmFnbWVudCIsICIxIik7CiAgICAgICAgfQogICAgICB9KEYpLCAibWNlX21hcmtlciIgPT09ICh1ID0gRi5sYXN0Q2hpbGQpLmF0dHIoImlkIikpIGZvciAodSA9IChpID0gdSkucHJldjsgdTsgdSA9IHUud2FsayghMCkpIHsKICAgICAgICBpZiAoMyA9PT0gdS50eXBlIHx8ICFtLmlzQmxvY2sodS5uYW1lKSkgewogICAgICAgICAgZS5zY2hlbWEuaXNWYWxpZENoaWxkKHUucGFyZW50Lm5hbWUsICJzcGFuIikgJiYgdS5wYXJlbnQuaW5zZXJ0KGksIHUsICJiciIgPT09IHUubmFtZSk7CiAgICAgICAgICBicmVhazsKICAgICAgICB9CiAgICAgIH0KCiAgICAgIGlmIChlLl9zZWxlY3Rpb25PdmVycmlkZXMuc2hvd0Jsb2NrQ2FyZXRDb250YWluZXIociksIE0uaW52YWxpZCkgewogICAgICAgIGZvciAoZS5zZWxlY3Rpb24uc2V0Q29udGVudCh2KSwgciA9IGQuZ2V0Tm9kZSgpLCBvID0gZS5nZXRCb2R5KCksIDkgPT09IHIubm9kZVR5cGUgPyByID0gdSA9IG8gOiB1ID0gcjsgdSAhPT0gbzspIHsKICAgICAgICAgIHUgPSAociA9IHUpLnBhcmVudE5vZGU7CiAgICAgICAgfQoKICAgICAgICB0ID0gciA9PT0gbyA/IG8uaW5uZXJIVE1MIDogbS5nZXRPdXRlckhUTUwociksIHQgPSBoLnNlcmlhbGl6ZShwLnBhcnNlKHQucmVwbGFjZSgvPHNwYW4gKGlkPSJtY2VfbWFya2VyInxpZD1tY2VfbWFya2VyKS4rPzxcL3NwYW4+L2ksIGZ1bmN0aW9uICgpIHsKICAgICAgICAgIHJldHVybiBoLnNlcmlhbGl6ZShGKTsKICAgICAgICB9KSkpLCByID09PSBvID8gbS5zZXRIVE1MKG8sIHQpIDogbS5zZXRPdXRlckhUTUwociwgdCk7CiAgICAgIH0gZWxzZSB0ID0gaC5zZXJpYWxpemUoRiksIFMgPSBlLCBOID0gdCwgImFsbCIgPT09IChFID0gcikuZ2V0QXR0cmlidXRlKCJkYXRhLW1jZS1ib2d1cyIpID8gRS5wYXJlbnROb2RlLmluc2VydEJlZm9yZShTLmRvbS5jcmVhdGVGcmFnbWVudChOKSwgRSkgOiAoayA9IEUuZmlyc3RDaGlsZCwgXyA9IEUubGFzdENoaWxkLCAhayB8fCBrID09PSBfICYmICJCUiIgPT09IGsubm9kZU5hbWUgPyBTLmRvbS5zZXRIVE1MKEUsIE4pIDogUy5zZWxlY3Rpb24uc2V0Q29udGVudChOKSk7CgogICAgICBSID0gZywgTyA9IChBID0gZSkuc2NoZW1hLmdldFRleHRJbmxpbmVFbGVtZW50cygpLCBCID0gQS5kb20sIFIgJiYgKFQgPSBBLmdldEJvZHkoKSwgRCA9IG5ldyBscChCKSwga3QuZWFjaChCLnNlbGVjdCgiKltkYXRhLW1jZS1mcmFnbWVudF0iKSwgZnVuY3Rpb24gKGUpIHsKICAgICAgICBmb3IgKHZhciB0ID0gZS5wYXJlbnROb2RlOyB0ICYmIHQgIT09IFQ7IHQgPSB0LnBhcmVudE5vZGUpIHsKICAgICAgICAgIE9bZS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpXSAmJiBELmNvbXBhcmUodCwgZSkgJiYgQi5yZW1vdmUoZSwgITApOwogICAgICAgIH0KICAgICAgfSkpLCBmdW5jdGlvbiAobiwgZSkgewogICAgICAgIHZhciB0LAogICAgICAgICAgICByLAogICAgICAgICAgICBvID0gbi5kb20sCiAgICAgICAgICAgIGkgPSBuLnNlbGVjdGlvbjsKCiAgICAgICAgaWYgKGUpIHsKICAgICAgICAgIGkuc2Nyb2xsSW50b1ZpZXcoZSk7CgogICAgICAgICAgdmFyIGEgPSBmdW5jdGlvbiAoZSkgewogICAgICAgICAgICBmb3IgKHZhciB0ID0gbi5nZXRCb2R5KCk7IGUgJiYgZSAhPT0gdDsgZSA9IGUucGFyZW50Tm9kZSkgewogICAgICAgICAgICAgIGlmICgiZmFsc2UiID09PSBvLmdldENvbnRlbnRFZGl0YWJsZShlKSkgcmV0dXJuIGU7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIHJldHVybiBudWxsOwogICAgICAgICAgfShlKTsKCiAgICAgICAgICBpZiAoYSkgcmV0dXJuIG8ucmVtb3ZlKGUpLCBpLnNlbGVjdChhKTsKICAgICAgICAgIHZhciB1ID0gby5jcmVhdGVSbmcoKSwKICAgICAgICAgICAgICBzID0gZS5wcmV2aW91c1NpYmxpbmc7CiAgICAgICAgICBzICYmIDMgPT09IHMubm9kZVR5cGUgPyAodS5zZXRTdGFydChzLCBzLm5vZGVWYWx1ZS5sZW5ndGgpLCB3dC5pZSB8fCAociA9IGUubmV4dFNpYmxpbmcpICYmIDMgPT09IHIubm9kZVR5cGUgJiYgKHMuYXBwZW5kRGF0YShyLmRhdGEpLCByLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQocikpKSA6ICh1LnNldFN0YXJ0QmVmb3JlKGUpLCB1LnNldEVuZEJlZm9yZShlKSk7CiAgICAgICAgICB2YXIgYyA9IG8uZ2V0UGFyZW50KGUsIG8uaXNCbG9jayk7CiAgICAgICAgICBvLnJlbW92ZShlKSwgYyAmJiBvLmlzRW1wdHkoYykgJiYgKG4uJChjKS5lbXB0eSgpLCB1LnNldFN0YXJ0KGMsIDApLCB1LnNldEVuZChjLCAwKSwgb2goYykgfHwgYy5nZXRBdHRyaWJ1dGUoImRhdGEtbWNlLWZyYWdtZW50IikgfHwgISh0ID0gZnVuY3Rpb24gKGUpIHsKICAgICAgICAgICAgdmFyIHQgPSAkcy5mcm9tUmFuZ2VTdGFydChlKTsKICAgICAgICAgICAgaWYgKHQgPSBfbChuLmdldEJvZHkoKSkubmV4dCh0KSkgcmV0dXJuIHQudG9SYW5nZSgpOwogICAgICAgICAgfSh1KSkgPyBvLmFkZChjLCBvLmNyZWF0ZSgiYnIiLCB7CiAgICAgICAgICAgICJkYXRhLW1jZS1ib2d1cyI6ICIxIgogICAgICAgICAgfSkpIDogKHUgPSB0LCBvLnJlbW92ZShjKSkpLCBpLnNldFJuZyh1KTsKICAgICAgICB9CiAgICAgIH0oZSwgbS5nZXQoIm1jZV9tYXJrZXIiKSksIFAgPSBlLmdldEJvZHkoKSwga3QuZWFjaChQLmdldEVsZW1lbnRzQnlUYWdOYW1lKCIqIiksIGZ1bmN0aW9uIChlKSB7CiAgICAgICAgZS5yZW1vdmVBdHRyaWJ1dGUoImRhdGEtbWNlLWZyYWdtZW50Iik7CiAgICAgIH0pLCBMID0gbSwgSSA9IGQuZ2V0U3RhcnQoKSwgVS5mcm9tKEwuZ2V0UGFyZW50KEksICJ0ZCx0aCIpKS5tYXAoQXQuZnJvbURvbSkuZWFjaChBcCksIGUuZmlyZSgiU2V0Q29udGVudCIsIHkpLCBlLmFkZFZpc3VhbCgpOwogICAgfQogIH0sCiAgICAgIHVoID0gZnVuY3Rpb24gdWgoZSwgdCkgewogICAgdChlKSwgZS5maXJzdENoaWxkICYmIHVoKGUuZmlyc3RDaGlsZCwgdCksIGUubmV4dCAmJiB1aChlLm5leHQsIHQpOwogIH0sCiAgICAgIHNoID0gZnVuY3Rpb24gc2goZSwgdCwgbikgewogICAgdmFyIHIgPSBmdW5jdGlvbiAoZSwgbiwgdCkgewogICAgICB2YXIgciA9IHt9LAogICAgICAgICAgbyA9IHt9LAogICAgICAgICAgaSA9IFtdOwoKICAgICAgZm9yICh2YXIgYSBpbiB0LmZpcnN0Q2hpbGQgJiYgdWgodC5maXJzdENoaWxkLCBmdW5jdGlvbiAodCkgewogICAgICAgIFcoZSwgZnVuY3Rpb24gKGUpIHsKICAgICAgICAgIGUubmFtZSA9PT0gdC5uYW1lICYmIChyW2UubmFtZV0gPyByW2UubmFtZV0ubm9kZXMucHVzaCh0KSA6IHJbZS5uYW1lXSA9IHsKICAgICAgICAgICAgZmlsdGVyOiBlLAogICAgICAgICAgICBub2RlczogW3RdCiAgICAgICAgICB9KTsKICAgICAgICB9KSwgVyhuLCBmdW5jdGlvbiAoZSkgewogICAgICAgICAgInN0cmluZyIgPT0gdHlwZW9mIHQuYXR0cihlLm5hbWUpICYmIChvW2UubmFtZV0gPyBvW2UubmFtZV0ubm9kZXMucHVzaCh0KSA6IG9bZS5uYW1lXSA9IHsKICAgICAgICAgICAgZmlsdGVyOiBlLAogICAgICAgICAgICBub2RlczogW3RdCiAgICAgICAgICB9KTsKICAgICAgICB9KTsKICAgICAgfSksIHIpIHsKICAgICAgICByLmhhc093blByb3BlcnR5KGEpICYmIGkucHVzaChyW2FdKTsKICAgICAgfQoKICAgICAgZm9yICh2YXIgdSBpbiBvKSB7CiAgICAgICAgby5oYXNPd25Qcm9wZXJ0eSh1KSAmJiBpLnB1c2gob1t1XSk7CiAgICAgIH0KCiAgICAgIHJldHVybiBpOwogICAgfShlLCB0LCBuKTsKCiAgICBXKHIsIGZ1bmN0aW9uICh0KSB7CiAgICAgIFcodC5maWx0ZXIuY2FsbGJhY2tzLCBmdW5jdGlvbiAoZSkgewogICAgICAgIGUodC5ub2RlcywgdC5maWx0ZXIubmFtZSwge30pOwogICAgICB9KTsKICAgIH0pOwogIH0sCiAgICAgIGNoID0gZnVuY3Rpb24gY2goZSkgewogICAgcmV0dXJuIGUgaW5zdGFuY2VvZiBLbTsKICB9LAogICAgICBsaCA9IGZ1bmN0aW9uIGxoKGUsIHQpIHsKICAgIHZhciByOwogICAgZS5kb20uc2V0SFRNTChlLmdldEJvZHkoKSwgdCksIEVtKHIgPSBlKSAmJiBGbChyLmdldEJvZHkoKSkuZWFjaChmdW5jdGlvbiAoZSkgewogICAgICB2YXIgdCA9IGUuZ2V0Tm9kZSgpLAogICAgICAgICAgbiA9IEJuKHQpID8gRmwodCkuZ2V0T3IoZSkgOiBlOwogICAgICByLnNlbGVjdGlvbi5zZXRSbmcobi50b1JhbmdlKCkpOwogICAgfSk7CiAgfSwKICAgICAgZmggPSBmdW5jdGlvbiBmaCh1LCBzLCBjKSB7CiAgICByZXR1cm4gYy5mb3JtYXQgPSBjLmZvcm1hdCA/IGMuZm9ybWF0IDogImh0bWwiLCBjLnNldCA9ICEwLCBjLmNvbnRlbnQgPSBjaChzKSA/ICIiIDogcywgYy5ub19ldmVudHMgfHwgdS5maXJlKCJCZWZvcmVTZXRDb250ZW50IiwgYyksIGNoKHMpIHx8IChzID0gYy5jb250ZW50KSwgVS5mcm9tKHUuZ2V0Qm9keSgpKS5mb2xkKEUocyksIGZ1bmN0aW9uIChlKSB7CiAgICAgIHJldHVybiBjaChzKSA/IGZ1bmN0aW9uIChlLCB0LCBuLCByKSB7CiAgICAgICAgc2goZS5wYXJzZXIuZ2V0Tm9kZUZpbHRlcnMoKSwgZS5wYXJzZXIuZ2V0QXR0cmlidXRlRmlsdGVycygpLCBuKTsKICAgICAgICB2YXIgbyA9IEptKHsKICAgICAgICAgIHZhbGlkYXRlOiBlLnZhbGlkYXRlCiAgICAgICAgfSwgZS5zY2hlbWEpLnNlcmlhbGl6ZShuKTsKICAgICAgICByZXR1cm4gci5jb250ZW50ID0gc28oQXQuZnJvbURvbSh0KSkgPyBvIDoga3QudHJpbShvKSwgbGgoZSwgci5jb250ZW50KSwgci5ub19ldmVudHMgfHwgZS5maXJlKCJTZXRDb250ZW50IiwgciksIG47CiAgICAgIH0odSwgZSwgcywgYykgOiAodCA9IHUsIG4gPSBlLCBvID0gYywgMCA9PT0gKHIgPSBzKS5sZW5ndGggfHwgL15ccyskLy50ZXN0KHIpID8gKGEgPSAnPGJyIGRhdGEtbWNlLWJvZ3VzPSIxIj4nLCAiVEFCTEUiID09PSBuLm5vZGVOYW1lID8gciA9ICI8dHI+PHRkPiIgKyBhICsgIjwvdGQ+PC90cj4iIDogL14oVUx8T0wpJC8udGVzdChuLm5vZGVOYW1lKSAmJiAociA9ICI8bGk+IiArIGEgKyAiPC9saT4iKSwgciA9IChpID0gdmModCkpICYmIHQuc2NoZW1hLmlzVmFsaWRDaGlsZChuLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCksIGkudG9Mb3dlckNhc2UoKSkgPyAociA9IGEsIHQuZG9tLmNyZWF0ZUhUTUwoaSwgeWModCksIHIpKSA6IHIgfHwgJzxiciBkYXRhLW1jZS1ib2d1cz0iMSI+JywgbGgodCwgciksIHQuZmlyZSgiU2V0Q29udGVudCIsIG8pKSA6ICgicmF3IiAhPT0gby5mb3JtYXQgJiYgKHIgPSBKbSh7CiAgICAgICAgdmFsaWRhdGU6IHQudmFsaWRhdGUKICAgICAgfSwgdC5zY2hlbWEpLnNlcmlhbGl6ZSh0LnBhcnNlci5wYXJzZShyLCB7CiAgICAgICAgaXNSb290Q29udGVudDogITAsCiAgICAgICAgaW5zZXJ0OiAhMAogICAgICB9KSkpLCBvLmNvbnRlbnQgPSBzbyhBdC5mcm9tRG9tKG4pKSA/IHIgOiBrdC50cmltKHIpLCBsaCh0LCBvLmNvbnRlbnQpLCBvLm5vX2V2ZW50cyB8fCB0LmZpcmUoIlNldENvbnRlbnQiLCBvKSksIG8uY29udGVudCk7CiAgICAgIHZhciB0LCBuLCByLCBvLCBpLCBhOwogICAgfSk7CiAgfSwKICAgICAgZGggPSBmdW5jdGlvbiBkaChlLCB0KSB7CiAgICByZXR1cm4gciA9IHQsICgobyA9IChuID0gZSkuZG9tKS5wYXJlbnROb2RlID8gUnIoQXQuZnJvbURvbShvLnBhcmVudE5vZGUpLCBmdW5jdGlvbiAoZSkgewogICAgICByZXR1cm4gIU90KG4sIGUpICYmIHIoZSk7CiAgICB9KSA6IFUubm9uZSgpKS5pc1NvbWUoKTsKICAgIHZhciBuLCByLCBvOwogIH0sCiAgICAgIG1oID0gZm8sCiAgICAgIHBoID0gIl9tY2VfY2FyZXQiLAogICAgICBnaCA9IGZ1bmN0aW9uIGdoKGUpIHsKICAgIHJldHVybiAwIDwgZnVuY3Rpb24gKGUpIHsKICAgICAgZm9yICh2YXIgdCA9IFtdOyBlOykgewogICAgICAgIGlmICgzID09PSBlLm5vZGVUeXBlICYmIGUubm9kZVZhbHVlICE9PSBtaCB8fCAxIDwgZS5jaGlsZE5vZGVzLmxlbmd0aCkgcmV0dXJuIFtdOwogICAgICAgIDEgPT09IGUubm9kZVR5cGUgJiYgdC5wdXNoKGUpLCBlID0gZS5maXJzdENoaWxkOwogICAgICB9CgogICAgICByZXR1cm4gdDsKICAgIH0oZSkubGVuZ3RoOwogIH0sCiAgICAgIGhoID0gZnVuY3Rpb24gaGgoZSkgewogICAgaWYgKGUpIHsKICAgICAgdmFyIHQgPSBuZXcgWHIoZSwgZSk7CgogICAgICBmb3IgKGUgPSB0LmN1cnJlbnQoKTsgZTsgZSA9IHQubmV4dCgpKSB7CiAgICAgICAgaWYgKEluKGUpKSByZXR1cm4gZTsKICAgICAgfQogICAgfQoKICAgIHJldHVybiBudWxsOwogIH0sCiAgICAgIHZoID0gZnVuY3Rpb24gdmgoZSkgewogICAgdmFyIHQgPSBBdC5mcm9tVGFnKCJzcGFuIik7CiAgICByZXR1cm4gWW4odCwgewogICAgICBpZDogcGgsCiAgICAgICJkYXRhLW1jZS1ib2d1cyI6ICIxIiwKICAgICAgImRhdGEtbWNlLXR5cGUiOiAiZm9ybWF0LWNhcmV0IgogICAgfSksIGUgJiYgZm4odCwgQXQuZnJvbVRleHQobWgpKSwgdDsKICB9LAogICAgICB5aCA9IGZ1bmN0aW9uIHloKGUsIHQsIG4pIHsKICAgIHZvaWQgMCA9PT0gbiAmJiAobiA9ICEwKTsKICAgIHZhciByLAogICAgICAgIG8sCiAgICAgICAgaSwKICAgICAgICBhLAogICAgICAgIHUsCiAgICAgICAgcywKICAgICAgICBjLAogICAgICAgIGwsCiAgICAgICAgZiA9IGUuZG9tLAogICAgICAgIGQgPSBlLnNlbGVjdGlvbjsKICAgIGdoKHQpID8gQ2coZSwgITEsIEF0LmZyb21Eb20odCksIG4pIDogKHIgPSBkLmdldFJuZygpLCBvID0gZi5nZXRQYXJlbnQodCwgZi5pc0Jsb2NrKSwgaSA9IHIuc3RhcnRDb250YWluZXIsIGEgPSByLnN0YXJ0T2Zmc2V0LCB1ID0gci5lbmRDb250YWluZXIsIHMgPSByLmVuZE9mZnNldCwgKGwgPSBoaCh0KSkgJiYgbC5ub2RlVmFsdWUuY2hhckF0KDApID09PSBtaCAmJiBsLmRlbGV0ZURhdGEoMCwgMSksIGMgPSBsLCBmLnJlbW92ZSh0LCAhMCksIGkgPT09IGMgJiYgMCA8IGEgJiYgci5zZXRTdGFydChjLCBhIC0gMSksIHUgPT09IGMgJiYgMCA8IHMgJiYgci5zZXRFbmQoYywgcyAtIDEpLCBvICYmIGYuaXNFbXB0eShvKSAmJiBfcChBdC5mcm9tRG9tKG8pKSwgZC5zZXRSbmcocikpOwogIH0sCiAgICAgIGJoID0gZnVuY3Rpb24gYmgoZSwgdCwgbikgewogICAgdm9pZCAwID09PSBuICYmIChuID0gITApOwogICAgdmFyIHIgPSBlLmRvbSwKICAgICAgICBvID0gZS5zZWxlY3Rpb247CiAgICBpZiAodCkgeWgoZSwgdCwgbik7ZWxzZSBpZiAoISh0ID0gSGwoZS5nZXRCb2R5KCksIG8uZ2V0U3RhcnQoKSkpKSBmb3IgKDsgdCA9IHIuZ2V0KHBoKTspIHsKICAgICAgeWgoZSwgdCwgITEpOwogICAgfQogIH0sCiAgICAgIENoID0gZnVuY3Rpb24gQ2goZSwgdCkgewogICAgcmV0dXJuIGUuYXBwZW5kQ2hpbGQodCksIHQ7CiAgfSwKICAgICAgd2ggPSBmdW5jdGlvbiB3aChlLCB0KSB7CiAgICB2YXIgbiA9IEsoZSwgZnVuY3Rpb24gKGUsIHQpIHsKICAgICAgcmV0dXJuIENoKGUsIHQuY2xvbmVOb2RlKCExKSk7CiAgICB9LCB0KTsKICAgIHJldHVybiBDaChuLCBuLm93bmVyRG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUobWgpKTsKICB9LAogICAgICB4aCA9IGZ1bmN0aW9uIHhoKGUsIHQsIG4sIHIpIHsKICAgIHZhciBvLAogICAgICAgIGksCiAgICAgICAgYSwKICAgICAgICB1LAogICAgICAgIHMsCiAgICAgICAgYywKICAgICAgICBsLAogICAgICAgIGYsCiAgICAgICAgZCwKICAgICAgICBtLAogICAgICAgIHAsCiAgICAgICAgZywKICAgICAgICBoLAogICAgICAgIHYgPSBlLmRvbSwKICAgICAgICB5ID0gZS5zZWxlY3Rpb24sCiAgICAgICAgYiA9IFtdLAogICAgICAgIEMgPSB5LmdldFJuZygpLAogICAgICAgIHcgPSBDLnN0YXJ0Q29udGFpbmVyLAogICAgICAgIHggPSBDLnN0YXJ0T2Zmc2V0LAogICAgICAgIFMgPSB3OwoKICAgIGZvciAoMyA9PT0gdy5ub2RlVHlwZSAmJiAoeCAhPT0gdy5ub2RlVmFsdWUubGVuZ3RoICYmIChvID0gITApLCBTID0gUy5wYXJlbnROb2RlKTsgUzspIHsKICAgICAgaWYgKHptKGUsIFMsIHQsIG4sIHIpKSB7CiAgICAgICAgaSA9IFM7CiAgICAgICAgYnJlYWs7CiAgICAgIH0KCiAgICAgIFMubmV4dFNpYmxpbmcgJiYgKG8gPSAhMCksIGIucHVzaChTKSwgUyA9IFMucGFyZW50Tm9kZTsKICAgIH0KCiAgICBpICYmIChvID8gKGEgPSB5LmdldEJvb2ttYXJrKCksIEMuY29sbGFwc2UoITApLCB1ID0gT2YoZSwgQywgZS5mb3JtYXR0ZXIuZ2V0KHQpLCAhMCksIHUgPSBDZCh1KSwgZS5mb3JtYXR0ZXIucmVtb3ZlKHQsIG4sIHUsIHIpLCB5Lm1vdmVUb0Jvb2ttYXJrKGEpKSA6IChzID0gSGwoZS5nZXRCb2R5KCksIGkpLCBjID0gdmgoITEpLmRvbSwgbSA9IGMsIHAgPSBudWxsICE9PSBzID8gcyA6IGksIGcgPSAoZCA9IGUpLmRvbSwgKGggPSBnLmdldFBhcmVudChwLCBOKG9mLCBkKSkpICYmIGcuaXNFbXB0eShoKSA/IHAucGFyZW50Tm9kZS5yZXBsYWNlQ2hpbGQobSwgcCkgOiAoa3AoQXQuZnJvbURvbShwKSksIGcuaXNFbXB0eShwKSA/IHAucGFyZW50Tm9kZS5yZXBsYWNlQ2hpbGQobSwgcCkgOiBnLmluc2VydEFmdGVyKG0sIHApKSwgbCA9IGZ1bmN0aW9uICh0LCBlLCBuLCByLCBvLCBpKSB7CiAgICAgIHZhciBhID0gdC5mb3JtYXR0ZXIsCiAgICAgICAgICB1ID0gdC5kb20sCiAgICAgICAgICBzID0gSChpZShhLmdldCgpKSwgZnVuY3Rpb24gKGUpIHsKICAgICAgICByZXR1cm4gZSAhPT0gciAmJiAhSGUoZSwgInJlbW92ZWZvcm1hdCIpOwogICAgICB9KSwKICAgICAgICAgIGMgPSBWbSh0LCBuLCBzKTsKCiAgICAgIGlmICgwIDwgSChjLCBmdW5jdGlvbiAoZSkgewogICAgICAgIHJldHVybiAhcGYodCwgZSwgcik7CiAgICAgIH0pLmxlbmd0aCkgewogICAgICAgIHZhciBsID0gbi5jbG9uZU5vZGUoITEpOwogICAgICAgIHJldHVybiB1LmFkZChlLCBsKSwgYS5yZW1vdmUociwgbywgbCwgaSksIHUucmVtb3ZlKGwpLCBVLnNvbWUobCk7CiAgICAgIH0KCiAgICAgIHJldHVybiBVLm5vbmUoKTsKICAgIH0oZSwgYywgaSwgdCwgbiwgciksIGYgPSB3aChiLmNvbmNhdChsLnRvQXJyYXkoKSksIGMpLCB5aChlLCBzLCAhMSksIHkuc2V0Q3Vyc29yTG9jYXRpb24oZiwgMSksIHYuaXNFbXB0eShpKSAmJiB2LnJlbW92ZShpKSkpOwogIH0sCiAgICAgIFNoID0gZnVuY3Rpb24gU2goaSkgewogICAgaS5vbigibW91c2V1cCBrZXlkb3duIiwgZnVuY3Rpb24gKGUpIHsKICAgICAgdmFyIHQsIG4sIHIsIG87CiAgICAgIHQgPSBpLCBuID0gZS5rZXlDb2RlLCByID0gdC5zZWxlY3Rpb24sIG8gPSB0LmdldEJvZHkoKSwgYmgodCwgbnVsbCwgITEpLCA4ICE9PSBuICYmIDQ2ICE9PSBuIHx8ICFyLmlzQ29sbGFwc2VkKCkgfHwgci5nZXRTdGFydCgpLmlubmVySFRNTCAhPT0gbWggfHwgYmgodCwgSGwobywgci5nZXRTdGFydCgpKSksIDM3ICE9PSBuICYmIDM5ICE9PSBuIHx8IGJoKHQsIEhsKG8sIHIuZ2V0U3RhcnQoKSkpOwogICAgfSk7CiAgfSwKICAgICAgTmggPSBmdW5jdGlvbiBOaChlLCB0KSB7CiAgICByZXR1cm4gZS5zY2hlbWEuZ2V0VGV4dElubGluZUVsZW1lbnRzKCkuaGFzT3duUHJvcGVydHkoTHQodCkpICYmICFqbCh0LmRvbSkgJiYgIU9uKHQuZG9tKTsKICB9LAogICAgICBFaCA9IHt9LAogICAgICBraCA9IHdlLAogICAgICBfaCA9IGJlOwoKICBvcCA9IGZ1bmN0aW9uIG9wKGUpIHsKICAgIHZhciB0LAogICAgICAgIG4gPSBlLnNlbGVjdGlvbi5nZXRSbmcoKSwKICAgICAgICByID0gUm4oWyJwcmUiXSk7CiAgICBuLmNvbGxhcHNlZCB8fCAodCA9IGUuc2VsZWN0aW9uLmdldFNlbGVjdGVkQmxvY2tzKCksIF9oKGtoKGtoKHQsIHIpLCBmdW5jdGlvbiAoZSkgewogICAgICByZXR1cm4gcihlLnByZXZpb3VzU2libGluZykgJiYgLTEgIT09IHhlKHQsIGUucHJldmlvdXNTaWJsaW5nKTsKICAgIH0pLCBmdW5jdGlvbiAoZSkgewogICAgICB2YXIgdCwgbjsKICAgICAgdCA9IGUucHJldmlvdXNTaWJsaW5nLCBodShuID0gZSkucmVtb3ZlKCksIGh1KHQpLmFwcGVuZCgiPGJyPjxicj4iKS5hcHBlbmQobi5jaGlsZE5vZGVzKTsKICAgIH0pKTsKICB9LCBFaFtycCA9ICJwcmUiXSB8fCAoRWhbcnBdID0gW10pLCBFaFtycF0ucHVzaChvcCk7CgogIHZhciBBaCA9IGt0LmVhY2gsCiAgICAgIFJoID0gZnVuY3Rpb24gUmgoZSkgewogICAgcmV0dXJuIEFuKGUpICYmICFKbChlKSAmJiAhamwoZSkgJiYgIU9uKGUpOwogIH0sCiAgICAgIFRoID0gZnVuY3Rpb24gVGgoZSwgdCkgewogICAgZm9yICh2YXIgbiA9IGU7IG47IG4gPSBuW3RdKSB7CiAgICAgIGlmIChJbihuKSAmJiAwICE9PSBuLm5vZGVWYWx1ZS5sZW5ndGgpIHJldHVybiBlOwogICAgICBpZiAoQW4obikgJiYgIUpsKG4pKSByZXR1cm4gbjsKICAgIH0KCiAgICByZXR1cm4gZTsKICB9LAogICAgICBEaCA9IGZ1bmN0aW9uIERoKGUsIHQsIG4pIHsKICAgIHZhciByLAogICAgICAgIG8sCiAgICAgICAgaSA9IG5ldyBscChlKTsKCiAgICBpZiAodCAmJiBuICYmICh0ID0gVGgodCwgInByZXZpb3VzU2libGluZyIpLCBuID0gVGgobiwgIm5leHRTaWJsaW5nIiksIGkuY29tcGFyZSh0LCBuKSkpIHsKICAgICAgZm9yIChyID0gdC5uZXh0U2libGluZzsgciAmJiByICE9PSBuOykgewogICAgICAgIHIgPSAobyA9IHIpLm5leHRTaWJsaW5nLCB0LmFwcGVuZENoaWxkKG8pOwogICAgICB9CgogICAgICByZXR1cm4gZS5yZW1vdmUobiksIGt0LmVhY2goa3QuZ3JlcChuLmNoaWxkTm9kZXMpLCBmdW5jdGlvbiAoZSkgewogICAgICAgIHQuYXBwZW5kQ2hpbGQoZSk7CiAgICAgIH0pLCB0OwogICAgfQoKICAgIHJldHVybiBuOwogIH0sCiAgICAgIE9oID0gZnVuY3Rpb24gT2goZSwgdCwgbiwgcikgewogICAgdmFyIG87CiAgICByICYmICExICE9PSB0Lm1lcmdlX3NpYmxpbmdzICYmIChvID0gRGgoZSwgcmYociksIHIpLCBEaChlLCBvLCByZihvLCAhMCkpKTsKICB9LAogICAgICBCaCA9IGZ1bmN0aW9uIEJoKGUsIHQsIG4pIHsKICAgIEFoKGUuY2hpbGROb2RlcywgZnVuY3Rpb24gKGUpIHsKICAgICAgUmgoZSkgJiYgKHQoZSkgJiYgbihlKSwgZS5oYXNDaGlsZE5vZGVzKCkgJiYgQmgoZSwgdCwgbikpOwogICAgfSk7CiAgfSwKICAgICAgUGggPSBmdW5jdGlvbiBQaCh0LCBuKSB7CiAgICByZXR1cm4gZnVuY3Rpb24gKGUpIHsKICAgICAgcmV0dXJuICEoIWUgfHwgIWZmKHQsIGUsIG4pKTsKICAgIH07CiAgfSwKICAgICAgTGggPSBmdW5jdGlvbiBMaChyLCBvLCBpKSB7CiAgICByZXR1cm4gZnVuY3Rpb24gKGUpIHsKICAgICAgdmFyIHQsIG47CiAgICAgIHIuc2V0U3R5bGUoZSwgbywgaSksICIiID09PSBlLmdldEF0dHJpYnV0ZSgic3R5bGUiKSAmJiBlLnJlbW92ZUF0dHJpYnV0ZSgic3R5bGUiKSwgdCA9IHIsICJTUEFOIiA9PT0gKG4gPSBlKS5ub2RlTmFtZSAmJiAwID09PSB0LmdldEF0dHJpYnMobikubGVuZ3RoICYmIHQucmVtb3ZlKG4sICEwKTsKICAgIH07CiAgfSwKICAgICAgSWggPSBDcihbewogICAga2VlcDogW10KICB9LCB7CiAgICByZW5hbWU6IFsibmFtZSJdCiAgfSwgewogICAgcmVtb3ZlZDogW10KICB9XSksCiAgICAgIE1oID0gL14oc3JjfGhyZWZ8c3R5bGUpJC8sCiAgICAgIEZoID0ga3QuZWFjaCwKICAgICAgVWggPSBjZiwKICAgICAgemggPSBmdW5jdGlvbiB6aChlLCB0LCBuKSB7CiAgICByZXR1cm4gZS5pc0NoaWxkT2YodCwgbikgJiYgdCAhPT0gbiAmJiAhZS5pc0Jsb2NrKG4pOwogIH0sCiAgICAgIGpoID0gZnVuY3Rpb24gamgoZSwgdCwgbikgewogICAgdmFyIHIsCiAgICAgICAgbyA9IHRbbiA/ICJzdGFydENvbnRhaW5lciIgOiAiZW5kQ29udGFpbmVyIl0sCiAgICAgICAgaSA9IHRbbiA/ICJzdGFydE9mZnNldCIgOiAiZW5kT2Zmc2V0Il07CiAgICByZXR1cm4gQW4obykgJiYgKHIgPSBvLmNoaWxkTm9kZXMubGVuZ3RoIC0gMSwgIW4gJiYgaSAmJiBpLS0sIG8gPSBvLmNoaWxkTm9kZXNbciA8IGkgPyByIDogaV0pLCBJbihvKSAmJiBuICYmIGkgPj0gby5ub2RlVmFsdWUubGVuZ3RoICYmIChvID0gbmV3IFhyKG8sIGUuZ2V0Qm9keSgpKS5uZXh0KCkgfHwgbyksIEluKG8pICYmICFuICYmIDAgPT09IGkgJiYgKG8gPSBuZXcgWHIobywgZS5nZXRCb2R5KCkpLnByZXYoKSB8fCBvKSwgbzsKICB9LAogICAgICBIaCA9IGZ1bmN0aW9uIEhoKGUsIHQpIHsKICAgIHZhciBuID0gdCA/ICJmaXJzdENoaWxkIiA6ICJsYXN0Q2hpbGQiOwoKICAgIGlmICgvXihUUnxUSHxURCkkLy50ZXN0KGUubm9kZU5hbWUpICYmIGVbbl0pIHsKICAgICAgdmFyIHIgPSBlW25dOwogICAgICByZXR1cm4gIlRSIiA9PT0gZS5ub2RlTmFtZSAmJiByW25dIHx8IHI7CiAgICB9CgogICAgcmV0dXJuIGU7CiAgfSwKICAgICAgVmggPSBmdW5jdGlvbiBWaChlLCB0LCBuLCByKSB7CiAgICB2YXIgbyA9IGUuY3JlYXRlKG4sIHIpOwogICAgcmV0dXJuIHQucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUobywgdCksIG8uYXBwZW5kQ2hpbGQodCksIG87CiAgfSwKICAgICAgcWggPSBmdW5jdGlvbiBxaChlLCB0LCBuLCByLCBvKSB7CiAgICB2YXIgaSA9IEF0LmZyb21Eb20odCksCiAgICAgICAgYSA9IEF0LmZyb21Eb20oZS5jcmVhdGUociwgbykpLAogICAgICAgIHUgPSAobiA/IFl0IDogWHQpKGkpOwogICAgcmV0dXJuIGRuKGEsIHUpLCBuID8gKHNuKGksIGEpLCBsbihhLCBpKSkgOiAoY24oaSwgYSksIGZuKGEsIGkpKSwgYS5kb207CiAgfSwKICAgICAgJGggPSBmdW5jdGlvbiAkaChlLCB0LCBuLCByKSB7CiAgICByZXR1cm4gISh0ID0gcmYodCwgbiwgcikpIHx8ICJCUiIgPT09IHQubm9kZU5hbWUgfHwgZS5pc0Jsb2NrKHQpOwogIH0sCiAgICAgIFdoID0gZnVuY3Rpb24gV2goZSwgciwgbywgdCwgaSkgewogICAgdmFyIG4sCiAgICAgICAgYSwKICAgICAgICB1LAogICAgICAgIHMsCiAgICAgICAgYywKICAgICAgICBsID0gZS5kb207CiAgICBpZiAodSA9IGwsICEoVWgocyA9IHQsIChjID0gcikuaW5saW5lKSB8fCBVaChzLCBjLmJsb2NrKSB8fCBjLnNlbGVjdG9yICYmIEFuKHMpICYmIHUuaXMocywgYy5zZWxlY3RvcikgfHwgKGEgPSB0LCByLmxpbmtzICYmICJBIiA9PT0gYS5ub2RlTmFtZSkpKSByZXR1cm4gSWgua2VlcCgpOwogICAgdmFyIGYsCiAgICAgICAgZCwKICAgICAgICBtLAogICAgICAgIHAsCiAgICAgICAgZywKICAgICAgICBoLAogICAgICAgIHYsCiAgICAgICAgeSA9IHQ7CgogICAgaWYgKHIuaW5saW5lICYmICJhbGwiID09PSByLnJlbW92ZSAmJiBTKHIucHJlc2VydmVfYXR0cmlidXRlcykpIHsKICAgICAgdmFyIGIgPSBIKGwuZ2V0QXR0cmlicyh5KSwgZnVuY3Rpb24gKGUpIHsKICAgICAgICByZXR1cm4gTShyLnByZXNlcnZlX2F0dHJpYnV0ZXMsIGUubmFtZS50b0xvd2VyQ2FzZSgpKTsKICAgICAgfSk7CiAgICAgIGlmIChsLnJlbW92ZUFsbEF0dHJpYnMoeSksIFcoYiwgZnVuY3Rpb24gKGUpIHsKICAgICAgICByZXR1cm4gbC5zZXRBdHRyaWIoeSwgZS5uYW1lLCBlLnZhbHVlKTsKICAgICAgfSksIDAgPCBiLmxlbmd0aCkgcmV0dXJuIEloLnJlbmFtZSgic3BhbiIpOwogICAgfQoKICAgIGlmICgiYWxsIiAhPT0gci5yZW1vdmUpIHsKICAgICAgRmgoci5zdHlsZXMsIGZ1bmN0aW9uIChlLCB0KSB7CiAgICAgICAgZSA9IGxmKGwsIHNmKGUsIG8pLCB0ICsgIiIpLCBPKHQpICYmICh0ID0gZSwgaSA9IG51bGwpLCAhci5yZW1vdmVfc2ltaWxhciAmJiBpICYmICFVaChmZihsLCBpLCB0KSwgZSkgfHwgbC5zZXRTdHlsZSh5LCB0LCAiIiksIG4gPSAhMDsKICAgICAgfSksIG4gJiYgIiIgPT09IGwuZ2V0QXR0cmliKHksICJzdHlsZSIpICYmICh5LnJlbW92ZUF0dHJpYnV0ZSgic3R5bGUiKSwgeS5yZW1vdmVBdHRyaWJ1dGUoImRhdGEtbWNlLXN0eWxlIikpLCBGaChyLmF0dHJpYnV0ZXMsIGZ1bmN0aW9uIChlLCB0KSB7CiAgICAgICAgdmFyIG47CgogICAgICAgIGlmIChlID0gc2YoZSwgbyksIE8odCkgJiYgKHQgPSBlLCBpID0gbnVsbCksIHIucmVtb3ZlX3NpbWlsYXIgfHwgIWkgfHwgVWgobC5nZXRBdHRyaWIoaSwgdCksIGUpKSB7CiAgICAgICAgICBpZiAoImNsYXNzIiA9PT0gdCAmJiAoZSA9IGwuZ2V0QXR0cmliKHksIHQpKSAmJiAobiA9ICIiLCBXKGUuc3BsaXQoL1xzKy8pLCBmdW5jdGlvbiAoZSkgewogICAgICAgICAgICAvbWNlXC1cdysvLnRlc3QoZSkgJiYgKG4gKz0gKG4gPyAiICIgOiAiIikgKyBlKTsKICAgICAgICAgIH0pLCBuKSkgcmV0dXJuIHZvaWQgbC5zZXRBdHRyaWIoeSwgdCwgbik7CiAgICAgICAgICAiY2xhc3MiID09PSB0ICYmIHkucmVtb3ZlQXR0cmlidXRlKCJjbGFzc05hbWUiKSwgTWgudGVzdCh0KSAmJiB5LnJlbW92ZUF0dHJpYnV0ZSgiZGF0YS1tY2UtIiArIHQpLCB5LnJlbW92ZUF0dHJpYnV0ZSh0KTsKICAgICAgICB9CiAgICAgIH0pLCBGaChyLmNsYXNzZXMsIGZ1bmN0aW9uIChlKSB7CiAgICAgICAgZSA9IHNmKGUsIG8pLCBpICYmICFsLmhhc0NsYXNzKGksIGUpIHx8IGwucmVtb3ZlQ2xhc3MoeSwgZSk7CiAgICAgIH0pOwoKICAgICAgZm9yICh2YXIgQyA9IGwuZ2V0QXR0cmlicyh5KSwgdyA9IDA7IHcgPCBDLmxlbmd0aDsgdysrKSB7CiAgICAgICAgdmFyIHggPSBDW3ddLm5vZGVOYW1lOwogICAgICAgIGlmICgwICE9PSB4LmluZGV4T2YoIl8iKSAmJiAwICE9PSB4LmluZGV4T2YoImRhdGEtIikpIHJldHVybiBJaC5rZWVwKCk7CiAgICAgIH0KICAgIH0KCiAgICByZXR1cm4gIm5vbmUiICE9PSByLnJlbW92ZSA/IChmID0gZSwgbSA9IHIsIGcgPSAoZCA9IHkpLnBhcmVudE5vZGUsIGggPSBmLmRvbSwgdiA9IHZjKGYpLCBtLmJsb2NrICYmICh2ID8gZyA9PT0gaC5nZXRSb290KCkgJiYgKG0ubGlzdF9ibG9jayAmJiBVaChkLCBtLmxpc3RfYmxvY2spIHx8IFcob2UoZC5jaGlsZE5vZGVzKSwgZnVuY3Rpb24gKGUpIHsKICAgICAgYWYoZiwgdiwgZS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpKSA/IHAgPyBwLmFwcGVuZENoaWxkKGUpIDogKHAgPSBWaChoLCBlLCB2KSwgaC5zZXRBdHRyaWJzKHAsIGYuc2V0dGluZ3MuZm9yY2VkX3Jvb3RfYmxvY2tfYXR0cnMpKSA6IHAgPSAwOwogICAgfSkpIDogaC5pc0Jsb2NrKGQpICYmICFoLmlzQmxvY2soZykgJiYgKCRoKGgsIGQsICExKSB8fCAkaChoLCBkLmZpcnN0Q2hpbGQsICEwLCAhMCkgfHwgZC5pbnNlcnRCZWZvcmUoaC5jcmVhdGUoImJyIiksIGQuZmlyc3RDaGlsZCksICRoKGgsIGQsICEwKSB8fCAkaChoLCBkLmxhc3RDaGlsZCwgITEsICEwKSB8fCBkLmFwcGVuZENoaWxkKGguY3JlYXRlKCJiciIpKSkpLCBtLnNlbGVjdG9yICYmIG0uaW5saW5lICYmICFVaChtLmlubGluZSwgZCkgfHwgaC5yZW1vdmUoZCwgITApLCBJaC5yZW1vdmVkKCkpIDogSWgua2VlcCgpOwogIH0sCiAgICAgIEtoID0gZnVuY3Rpb24gS2godCwgZSwgbiwgciwgbykgewogICAgcmV0dXJuIFdoKHQsIGUsIG4sIHIsIG8pLmZvbGQoQywgZnVuY3Rpb24gKGUpIHsKICAgICAgcmV0dXJuIHQuZG9tLnJlbmFtZShyLCBlKSwgITA7CiAgICB9LCBrKTsKICB9LAogICAgICBYaCA9IGZ1bmN0aW9uIFhoKGUsIHQsIG4sIHIsIG8sIGksIGEsIHUpIHsKICAgIHZhciBzLAogICAgICAgIGMsCiAgICAgICAgbCwKICAgICAgICBmID0gZS5kb207CgogICAgaWYgKG4pIHsKICAgICAgZm9yICh2YXIgZCA9IG4ucGFyZW50Tm9kZSwgbSA9IHIucGFyZW50Tm9kZTsgbSAmJiBtICE9PSBkOyBtID0gbS5wYXJlbnROb2RlKSB7CiAgICAgICAgcyA9IGYuY2xvbmUobSwgITEpOwoKICAgICAgICBmb3IgKHZhciBwID0gMDsgcCA8IHQubGVuZ3RoICYmIG51bGwgIT09IChzID0gZnVuY3Rpb24gKHQsIGUsIG4sIHIpIHsKICAgICAgICAgIHJldHVybiBXaCh0LCBlLCBuLCByLCByKS5mb2xkKEUociksIGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICAgIHJldHVybiB0LmRvbS5jcmVhdGVGcmFnbWVudCgpLmFwcGVuZENoaWxkKHIpLCB0LmRvbS5yZW5hbWUociwgZSk7CiAgICAgICAgICB9LCBFKG51bGwpKTsKICAgICAgICB9KGUsIHRbcF0sIHUsIHMpKTsgcCsrKSB7CiAgICAgICAgICA7CiAgICAgICAgfQoKICAgICAgICBzICYmIChjICYmIHMuYXBwZW5kQ2hpbGQoYyksIGwgPSBsIHx8IHMsIGMgPSBzKTsKICAgICAgfQoKICAgICAgIWkgfHwgYS5taXhlZCAmJiBmLmlzQmxvY2sobikgfHwgKHIgPSBmLnNwbGl0KG4sIHIpKSwgYyAmJiAoby5wYXJlbnROb2RlLmluc2VydEJlZm9yZShjLCBvKSwgbC5hcHBlbmRDaGlsZChvKSwgYS5pbmxpbmUgJiYgT2goZiwgYSwgMCwgYykpOwogICAgfQoKICAgIHJldHVybiByOwogIH0sCiAgICAgIFloID0gZnVuY3Rpb24gWWgocywgYywgbCwgZSwgZikgewogICAgdmFyIHQsCiAgICAgICAgZCA9IHMuZm9ybWF0dGVyLmdldChjKSwKICAgICAgICBtID0gZFswXSwKICAgICAgICBpID0gITAsCiAgICAgICAgYSA9IHMuZG9tLAogICAgICAgIG4gPSBzLnNlbGVjdGlvbiwKICAgICAgICB1ID0gZnVuY3Rpb24gdShlKSB7CiAgICAgIHZhciBuLAogICAgICAgICAgdCwKICAgICAgICAgIHIsCiAgICAgICAgICBvLAogICAgICAgICAgaSwKICAgICAgICAgIGEsCiAgICAgICAgICB1ID0gKHQgPSBlLCByID0gYywgbyA9IGwsIGkgPSBmLCBXKG1mKChuID0gcykuZG9tLCB0LnBhcmVudE5vZGUpLnJldmVyc2UoKSwgZnVuY3Rpb24gKGUpIHsKICAgICAgICB2YXIgdDsKICAgICAgICBhIHx8ICJfc3RhcnQiID09PSBlLmlkIHx8ICJfZW5kIiA9PT0gZS5pZCB8fCAodCA9IHptKG4sIGUsIHIsIG8sIGkpKSAmJiAhMSAhPT0gdC5zcGxpdCAmJiAoYSA9IGUpOwogICAgICB9KSwgYSk7CiAgICAgIHJldHVybiBYaChzLCBkLCB1LCBlLCBlLCAhMCwgbSwgbCk7CiAgICB9LAogICAgICAgIHAgPSBmdW5jdGlvbiBwKGUpIHsKICAgICAgdmFyIHQsIG47CiAgICAgIEFuKGUpICYmIGEuZ2V0Q29udGVudEVkaXRhYmxlKGUpICYmICh0ID0gaSwgaSA9ICJ0cnVlIiA9PT0gYS5nZXRDb250ZW50RWRpdGFibGUoZSksIG4gPSAhMCk7CiAgICAgIHZhciByID0gb2UoZS5jaGlsZE5vZGVzKTsKICAgICAgaWYgKGkgJiYgIW4pIGZvciAodmFyIG8gPSAwOyBvIDwgZC5sZW5ndGggJiYgIUtoKHMsIGRbb10sIGwsIGUsIGUpOyBvKyspIHsKICAgICAgICA7CiAgICAgIH0KCiAgICAgIGlmIChtLmRlZXAgJiYgci5sZW5ndGgpIHsKICAgICAgICBmb3IgKG8gPSAwOyBvIDwgci5sZW5ndGg7IG8rKykgewogICAgICAgICAgcChyW29dKTsKICAgICAgICB9CgogICAgICAgIG4gJiYgKGkgPSB0KTsKICAgICAgfQogICAgfSwKICAgICAgICBnID0gZnVuY3Rpb24gZyhlKSB7CiAgICAgIHZhciB0LAogICAgICAgICAgbiA9IGEuZ2V0KGUgPyAiX3N0YXJ0IiA6ICJfZW5kIiksCiAgICAgICAgICByID0gbltlID8gImZpcnN0Q2hpbGQiIDogImxhc3RDaGlsZCJdOwogICAgICByZXR1cm4gSmwodCA9IHIpICYmIEFuKHQpICYmICgiX3N0YXJ0IiA9PT0gdC5pZCB8fCAiX2VuZCIgPT09IHQuaWQpICYmIChyID0gcltlID8gImZpcnN0Q2hpbGQiIDogImxhc3RDaGlsZCJdKSwgSW4ocikgJiYgMCA9PT0gci5kYXRhLmxlbmd0aCAmJiAociA9IGUgPyBuLnByZXZpb3VzU2libGluZyB8fCBuLm5leHRTaWJsaW5nIDogbi5uZXh0U2libGluZyB8fCBuLnByZXZpb3VzU2libGluZyksIGEucmVtb3ZlKG4sICEwKSwgcjsKICAgIH0sCiAgICAgICAgciA9IGZ1bmN0aW9uIHIoZSkgewogICAgICB2YXIgdCwKICAgICAgICAgIG4sCiAgICAgICAgICByID0gT2YocywgZSwgZCwgZS5jb2xsYXBzZWQpOwoKICAgICAgaWYgKG0uc3BsaXQpIHsKICAgICAgICBpZiAociA9IENkKHIpLCAodCA9IGpoKHMsIHIsICEwKSkgIT09IChuID0gamgocywgcikpKSB7CiAgICAgICAgICBpZiAodCA9IEhoKHQsICEwKSwgbiA9IEhoKG4sICExKSwgemgoYSwgdCwgbikpIHsKICAgICAgICAgICAgdmFyIG8gPSBVLmZyb20odC5maXJzdENoaWxkKS5nZXRPcih0KTsKICAgICAgICAgICAgcmV0dXJuIHUocWgoYSwgbywgITAsICJzcGFuIiwgewogICAgICAgICAgICAgIGlkOiAiX3N0YXJ0IiwKICAgICAgICAgICAgICAiZGF0YS1tY2UtdHlwZSI6ICJib29rbWFyayIKICAgICAgICAgICAgfSkpLCB2b2lkIGcoITApOwogICAgICAgICAgfQoKICAgICAgICAgIGlmICh6aChhLCBuLCB0KSkgewogICAgICAgICAgICBvID0gVS5mcm9tKG4ubGFzdENoaWxkKS5nZXRPcihuKTsKICAgICAgICAgICAgcmV0dXJuIHUocWgoYSwgbywgITEsICJzcGFuIiwgewogICAgICAgICAgICAgIGlkOiAiX2VuZCIsCiAgICAgICAgICAgICAgImRhdGEtbWNlLXR5cGUiOiAiYm9va21hcmsiCiAgICAgICAgICAgIH0pKSwgdm9pZCBnKCExKTsKICAgICAgICAgIH0KCiAgICAgICAgICB0ID0gVmgoYSwgdCwgInNwYW4iLCB7CiAgICAgICAgICAgIGlkOiAiX3N0YXJ0IiwKICAgICAgICAgICAgImRhdGEtbWNlLXR5cGUiOiAiYm9va21hcmsiCiAgICAgICAgICB9KSwgbiA9IFZoKGEsIG4sICJzcGFuIiwgewogICAgICAgICAgICBpZDogIl9lbmQiLAogICAgICAgICAgICAiZGF0YS1tY2UtdHlwZSI6ICJib29rbWFyayIKICAgICAgICAgIH0pOwogICAgICAgICAgdmFyIGkgPSBhLmNyZWF0ZVJuZygpOwogICAgICAgICAgaS5zZXRTdGFydEFmdGVyKHQpLCBpLnNldEVuZEJlZm9yZShuKSwgUGYoYSwgaSwgZnVuY3Rpb24gKGUpIHsKICAgICAgICAgICAgVyhlLCBmdW5jdGlvbiAoZSkgewogICAgICAgICAgICAgIEpsKGUpIHx8IEpsKGUucGFyZW50Tm9kZSkgfHwgdShlKTsKICAgICAgICAgICAgfSk7CiAgICAgICAgICB9KSwgdSh0KSwgdShuKSwgdCA9IGcoITApLCBuID0gZygpOwogICAgICAgIH0gZWxzZSB0ID0gbiA9IHUodCk7CgogICAgICAgIHIuc3RhcnRDb250YWluZXIgPSB0LnBhcmVudE5vZGUgPyB0LnBhcmVudE5vZGUgOiB0LCByLnN0YXJ0T2Zmc2V0ID0gYS5ub2RlSW5kZXgodCksIHIuZW5kQ29udGFpbmVyID0gbi5wYXJlbnROb2RlID8gbi5wYXJlbnROb2RlIDogbiwgci5lbmRPZmZzZXQgPSBhLm5vZGVJbmRleChuKSArIDE7CiAgICAgIH0KCiAgICAgIFBmKGEsIHIsIGZ1bmN0aW9uIChlKSB7CiAgICAgICAgVyhlLCBmdW5jdGlvbiAodCkgewogICAgICAgICAgcCh0KTsKICAgICAgICAgIFcoWyJ1bmRlcmxpbmUiLCAibGluZS10aHJvdWdoIiwgIm92ZXJsaW5lIl0sIGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICAgIEFuKHQpICYmIHMuZG9tLmdldFN0eWxlKHQsICJ0ZXh0LWRlY29yYXRpb24iKSA9PT0gZSAmJiB0LnBhcmVudE5vZGUgJiYgZGYoYSwgdC5wYXJlbnROb2RlKSA9PT0gZSAmJiBLaChzLCB7CiAgICAgICAgICAgICAgZGVlcDogITEsCiAgICAgICAgICAgICAgZXhhY3Q6ICEwLAogICAgICAgICAgICAgIGlubGluZTogInNwYW4iLAogICAgICAgICAgICAgIHN0eWxlczogewogICAgICAgICAgICAgICAgdGV4dERlY29yYXRpb246IGUKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0sIG51bGwsIHQpOwogICAgICAgICAgfSk7CiAgICAgICAgfSk7CiAgICAgIH0pOwogICAgfTsKCiAgICBpZiAoZSkgdGYoZSkgPyAoKHQgPSBhLmNyZWF0ZVJuZygpKS5zZXRTdGFydEJlZm9yZShlKSwgdC5zZXRFbmRBZnRlcihlKSwgcih0KSkgOiByKGUpO2Vsc2UgaWYgKCJmYWxzZSIgIT09IGEuZ2V0Q29udGVudEVkaXRhYmxlKG4uZ2V0Tm9kZSgpKSkgbi5pc0NvbGxhcHNlZCgpICYmIG0uaW5saW5lICYmICFGZihzKS5sZW5ndGggPyB4aChzLCBjLCBsLCBmKSA6ICgkZihuLCAhMCwgZnVuY3Rpb24gKCkgewogICAgICBxZihzLCByKTsKICAgIH0pLCBtLmlubGluZSAmJiBqbShzLCBjLCBsLCBuLmdldFN0YXJ0KCkpICYmIG5mKGEsIG4sIG4uZ2V0Um5nKCkpLCBzLm5vZGVDaGFuZ2VkKCkpO2Vsc2UgewogICAgICBlID0gbi5nZXROb2RlKCk7CgogICAgICBmb3IgKHZhciBvID0gMDsgbyA8IGQubGVuZ3RoICYmICghZFtvXS5jZUZhbHNlT3ZlcnJpZGUgfHwgIUtoKHMsIGRbb10sIGwsIGUsIGUpKTsgbysrKSB7CiAgICAgICAgOwogICAgICB9CiAgICB9CiAgfSwKICAgICAgR2ggPSBrdC5lYWNoLAogICAgICBKaCA9IGZ1bmN0aW9uIEpoKGksIGUsIGEsIHUpIHsKICAgIEdoKGUsIGZ1bmN0aW9uICh0KSB7CiAgICAgIHZhciByLCBlLCBuLCBvOwogICAgICBHaChpLmRvbS5zZWxlY3QodC5pbmxpbmUsIHUpLCBmdW5jdGlvbiAoZSkgewogICAgICAgIFJoKGUpICYmIEtoKGksIHQsIGEsIGUsIHQuZXhhY3QgPyBlIDogbnVsbCk7CiAgICAgIH0pLCByID0gaS5kb20sIG4gPSB1LCAoZSA9IHQpLmNsZWFyX2NoaWxkX3N0eWxlcyAmJiAobyA9IGUubGlua3MgPyAiKjpub3QoYSkiIDogIioiLCBBaChyLnNlbGVjdChvLCBuKSwgZnVuY3Rpb24gKG4pIHsKICAgICAgICBSaChuKSAmJiBBaChlLnN0eWxlcywgZnVuY3Rpb24gKGUsIHQpIHsKICAgICAgICAgIHIuc2V0U3R5bGUobiwgdCwgIiIpOwogICAgICAgIH0pOwogICAgICB9KSk7CiAgICB9KTsKICB9LAogICAgICBRaCA9IGt0LmVhY2gsCiAgICAgIFpoID0gdmUsCiAgICAgIGV2ID0gZnVuY3Rpb24gZXYoRSwgaywgXywgcikgewogICAgdmFyIGUsCiAgICAgICAgdCwKICAgICAgICBuLAogICAgICAgIG8sCiAgICAgICAgQSA9IEUuZm9ybWF0dGVyLmdldChrKSwKICAgICAgICBSID0gQVswXSwKICAgICAgICBpID0gIXIgJiYgRS5zZWxlY3Rpb24uaXNDb2xsYXBzZWQoKSwKICAgICAgICBhID0gRS5kb20sCiAgICAgICAgdSA9IEUuc2VsZWN0aW9uLAogICAgICAgIFQgPSBmdW5jdGlvbiBUKG4sIGUpIHsKICAgICAgdmFyIHQ7CiAgICAgIGUgPSBlIHx8IFIsIG4gJiYgKGUub25mb3JtYXQgJiYgZS5vbmZvcm1hdChuLCBlLCBfLCByKSwgUWgoZS5zdHlsZXMsIGZ1bmN0aW9uIChlLCB0KSB7CiAgICAgICAgYS5zZXRTdHlsZShuLCB0LCBzZihlLCBfKSk7CiAgICAgIH0pLCAhZS5zdHlsZXMgfHwgKHQgPSBhLmdldEF0dHJpYihuLCAic3R5bGUiKSkgJiYgYS5zZXRBdHRyaWIobiwgImRhdGEtbWNlLXN0eWxlIiwgdCksIFFoKGUuYXR0cmlidXRlcywgZnVuY3Rpb24gKGUsIHQpIHsKICAgICAgICBhLnNldEF0dHJpYihuLCB0LCBzZihlLCBfKSk7CiAgICAgIH0pLCBRaChlLmNsYXNzZXMsIGZ1bmN0aW9uIChlKSB7CiAgICAgICAgZSA9IHNmKGUsIF8pLCBhLmhhc0NsYXNzKG4sIGUpIHx8IGEuYWRkQ2xhc3MobiwgZSk7CiAgICAgIH0pKTsKICAgIH0sCiAgICAgICAgbSA9IGZ1bmN0aW9uIG0oZSwgdCkgewogICAgICB2YXIgbiA9ICExOwogICAgICByZXR1cm4gISFoZihSKSAmJiAoUWgoZSwgZnVuY3Rpb24gKGUpIHsKICAgICAgICBpZiAoISgiY29sbGFwc2VkIiBpbiBlICYmIGUuY29sbGFwc2VkICE9PSBpKSkgcmV0dXJuIGEuaXModCwgZS5zZWxlY3RvcikgJiYgIWpsKHQpID8gKFQodCwgZSksICEobiA9ICEwKSkgOiB2b2lkIDA7CiAgICAgIH0pLCBuKTsKICAgIH0sCiAgICAgICAgcyA9IGZ1bmN0aW9uIHMoUywgZSwgdCwgYykgewogICAgICB2YXIgTiA9IFtdLAogICAgICAgICAgbCA9ICEwLAogICAgICAgICAgZiA9IFIuaW5saW5lIHx8IFIuYmxvY2ssCiAgICAgICAgICBkID0gUy5jcmVhdGUoZik7CiAgICAgIFQoZCksIFBmKFMsIGUsIGZ1bmN0aW9uIChlKSB7CiAgICAgICAgdmFyIHUsCiAgICAgICAgICAgIHMgPSBmdW5jdGlvbiBzKGUpIHsKICAgICAgICAgIHZhciB0ID0gITEsCiAgICAgICAgICAgICAgbiA9IGwsCiAgICAgICAgICAgICAgciA9IGUubm9kZU5hbWUudG9Mb3dlckNhc2UoKSwKICAgICAgICAgICAgICBvID0gZS5wYXJlbnROb2RlLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk7CiAgICAgICAgICBpZiAoQW4oZSkgJiYgUy5nZXRDb250ZW50RWRpdGFibGUoZSkgJiYgKG4gPSBsLCBsID0gInRydWUiID09PSBTLmdldENvbnRlbnRFZGl0YWJsZShlKSwgdCA9ICEwKSwgem4oZSkgJiYgIWZ1bmN0aW9uIChlLCB0LCBuLCByKSB7CiAgICAgICAgICAgIGlmIChlLmdldFBhcmFtKCJmb3JtYXRfZW1wdHlfbGluZXMiLCAhMSwgImJvb2xlYW4iKSAmJiB2Zih0KSkgewogICAgICAgICAgICAgIHZhciBvID0gX2tlKF9rZSh7fSwgZS5zY2hlbWEuZ2V0VGV4dEJsb2NrRWxlbWVudHMoKSksIHsKICAgICAgICAgICAgICAgIHRkOiB7fSwKICAgICAgICAgICAgICAgIHRoOiB7fSwKICAgICAgICAgICAgICAgIGxpOiB7fSwKICAgICAgICAgICAgICAgIGR0OiB7fSwKICAgICAgICAgICAgICAgIGRkOiB7fSwKICAgICAgICAgICAgICAgIGZpZ2NhcHRpb246IHt9LAogICAgICAgICAgICAgICAgY2FwdGlvbjoge30sCiAgICAgICAgICAgICAgICBkZXRhaWxzOiB7fSwKICAgICAgICAgICAgICAgIHN1bW1hcnk6IHt9CiAgICAgICAgICAgICAgfSksCiAgICAgICAgICAgICAgICAgIGkgPSBkaChBdC5mcm9tRG9tKG4pLCBmdW5jdGlvbiAoZSkgewogICAgICAgICAgICAgICAgcmV0dXJuIGpsKGUuZG9tKTsKICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgcmV0dXJuIHZlKG8sIHIpICYmICRvKEF0LmZyb21Eb20obi5wYXJlbnROb2RlKSwgITEpICYmICFpOwogICAgICAgICAgICB9CgogICAgICAgICAgICByZXR1cm4gITE7CiAgICAgICAgICB9KEUsIFIsIGUsIG8pKSByZXR1cm4gdSA9IG51bGwsIHZvaWQgKGdmKFIpICYmIFMucmVtb3ZlKGUpKTsKICAgICAgICAgIGlmIChSLndyYXBwZXIgJiYgem0oRSwgZSwgaywgXykpIHUgPSBudWxsO2Vsc2UgewogICAgICAgICAgICBpZiAobCAmJiAhdCAmJiBnZihSKSAmJiAhUi53cmFwcGVyICYmIG9mKEUsIHIpICYmIGFmKEUsIG8sIGYpKSB7CiAgICAgICAgICAgICAgdmFyIGkgPSBTLnJlbmFtZShlLCBmKTsKICAgICAgICAgICAgICByZXR1cm4gVChpKSwgTi5wdXNoKGkpLCB2b2lkICh1ID0gbnVsbCk7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGlmIChoZihSKSkgewogICAgICAgICAgICAgIHZhciBhID0gbShBLCBlKTsKICAgICAgICAgICAgICBpZiAoIVpoKFIsICJpbmxpbmUiKSB8fCBhKSByZXR1cm4gdm9pZCAodSA9IG51bGwpOwogICAgICAgICAgICB9CgogICAgICAgICAgICAhbCB8fCB0IHx8ICFhZihFLCBmLCByKSB8fCAhYWYoRSwgbywgZikgfHwgIWMgJiYgMyA9PT0gZS5ub2RlVHlwZSAmJiAxID09PSBlLm5vZGVWYWx1ZS5sZW5ndGggJiYgNjUyNzkgPT09IGUubm9kZVZhbHVlLmNoYXJDb2RlQXQoMCkgfHwgamwoZSkgfHwgWmgoUiwgImlubGluZSIpICYmIFMuaXNCbG9jayhlKSA/ICh1ID0gbnVsbCwgUWgoa3QuZ3JlcChlLmNoaWxkTm9kZXMpLCBzKSwgdCAmJiAobCA9IG4pLCB1ID0gbnVsbCkgOiAodSB8fCAodSA9IFMuY2xvbmUoZCwgITEpLCBlLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKHUsIGUpLCBOLnB1c2godSkpLCB1LmFwcGVuZENoaWxkKGUpKTsKICAgICAgICAgIH0KICAgICAgICB9OwoKICAgICAgICBRaChlLCBzKTsKICAgICAgfSksICEwID09PSBSLmxpbmtzICYmIFFoKE4sIGZ1bmN0aW9uIChlKSB7CiAgICAgICAgdmFyIHQgPSBmdW5jdGlvbiB0KGUpIHsKICAgICAgICAgICJBIiA9PT0gZS5ub2RlTmFtZSAmJiBUKGUsIFIpLCBRaChrdC5ncmVwKGUuY2hpbGROb2RlcyksIHQpOwogICAgICAgIH07CgogICAgICAgIHQoZSk7CiAgICAgIH0pLCBRaChOLCBmdW5jdGlvbiAoZSkgewogICAgICAgIHZhciBuLAogICAgICAgICAgICB0LAogICAgICAgICAgICByLAogICAgICAgICAgICBvLAogICAgICAgICAgICBpLAogICAgICAgICAgICBhLAogICAgICAgICAgICB1LAogICAgICAgICAgICBzLAogICAgICAgICAgICBjLAogICAgICAgICAgICBsLAogICAgICAgICAgICBmLAogICAgICAgICAgICBkLAogICAgICAgICAgICBtLAogICAgICAgICAgICBwLAogICAgICAgICAgICBnLAogICAgICAgICAgICBoLAogICAgICAgICAgICB2LAogICAgICAgICAgICB5LAogICAgICAgICAgICBiLAogICAgICAgICAgICBDLAogICAgICAgICAgICB3ID0gZnVuY3Rpb24gdyhlKSB7CiAgICAgICAgICB2YXIgbiA9ICExOwogICAgICAgICAgcmV0dXJuIFFoKGUuY2hpbGROb2RlcywgZnVuY3Rpb24gKGUpIHsKICAgICAgICAgICAgaWYgKCh0ID0gZSkgJiYgMSA9PT0gdC5ub2RlVHlwZSAmJiAhSmwodCkgJiYgIWpsKHQpICYmICFPbih0KSkgcmV0dXJuIG4gPSBlLCAhMTsKICAgICAgICAgICAgdmFyIHQ7CiAgICAgICAgICB9KSwgbjsKICAgICAgICB9LAogICAgICAgICAgICB4ID0gKG4gPSAwLCBRaChlLmNoaWxkTm9kZXMsIGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICB2YXIgdDsKICAgICAgICAgIEQodCA9IGUpICYmIEluKHQpICYmIDAgPT09IHQubGVuZ3RoIHx8IEpsKGUpIHx8IG4rKzsKICAgICAgICB9KSwgbik7CgogICAgICAgICEoMSA8IE4ubGVuZ3RoKSAmJiBTLmlzQmxvY2soZSkgfHwgMCAhPT0geCA/ICh2ZihSKSB8fCBSLndyYXBwZXIpICYmIChSLmV4YWN0IHx8IDEgIT09IHggfHwgKChDID0gdyh5ID0gZSkpICYmICFKbChDKSAmJiBGbShTLCBDLCBSKSAmJiAoYiA9IFMuY2xvbmUoQywgITEpLCBUKGIpLCBTLnJlcGxhY2UoYiwgeSwgITApLCBTLnJlbW92ZShDLCAhMCkpLCBlID0gYiB8fCB5KSwgSmgoRSwgQSwgXywgZSksIHAgPSBSLCBnID0gaywgaCA9IF8sIHptKG0gPSBFLCAodiA9IGUpLnBhcmVudE5vZGUsIGcsIGgpICYmIEtoKG0sIHAsIGgsIHYpIHx8IHAubWVyZ2Vfd2l0aF9wYXJlbnRzICYmIG0uZG9tLmdldFBhcmVudCh2LnBhcmVudE5vZGUsIGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICBpZiAoem0obSwgZSwgZywgaCkpIHJldHVybiBLaChtLCBwLCBoLCB2KSwgITA7CiAgICAgICAgfSksIGMgPSBTLCBmID0gXywgZCA9IGUsIChsID0gUikuc3R5bGVzICYmIGwuc3R5bGVzLmJhY2tncm91bmRDb2xvciAmJiBCaChkLCBQaChjLCAiZm9udFNpemUiKSwgTGgoYywgImJhY2tncm91bmRDb2xvciIsIHNmKGwuc3R5bGVzLmJhY2tncm91bmRDb2xvciwgZikpKSwgaSA9IFMsIHUgPSBlLCBzID0gZnVuY3Rpb24gcyhlKSB7CiAgICAgICAgICB2YXIgdDsKICAgICAgICAgIDEgPT09IGUubm9kZVR5cGUgJiYgZS5wYXJlbnROb2RlICYmIDEgPT09IGUucGFyZW50Tm9kZS5ub2RlVHlwZSAmJiAodCA9IGRmKGksIGUucGFyZW50Tm9kZSksIGkuZ2V0U3R5bGUoZSwgImNvbG9yIikgJiYgdCA/IGkuc2V0U3R5bGUoZSwgInRleHQtZGVjb3JhdGlvbiIsIHQpIDogaS5nZXRTdHlsZShlLCAidGV4dC1kZWNvcmF0aW9uIikgPT09IHQgJiYgaS5zZXRTdHlsZShlLCAidGV4dC1kZWNvcmF0aW9uIiwgbnVsbCkpOwogICAgICAgIH0sIChhID0gUikuc3R5bGVzICYmIChhLnN0eWxlcy5jb2xvciB8fCBhLnN0eWxlcy50ZXh0RGVjb3JhdGlvbikgJiYgKGt0LndhbGsodSwgcywgImNoaWxkTm9kZXMiKSwgcyh1KSksIHQgPSBTLCBvID0gZSwgInN1YiIgIT09IChyID0gUikuaW5saW5lICYmICJzdXAiICE9PSByLmlubGluZSB8fCAoQmgobywgUGgodCwgImZvbnRTaXplIiksIExoKHQsICJmb250U2l6ZSIsICIiKSksIHQucmVtb3ZlKHQuc2VsZWN0KCJzdXAiID09PSByLmlubGluZSA/ICJzdWIiIDogInN1cCIsIG8pLCAhMCkpLCBPaChTLCBSLCAwLCBlKSkgOiBTLnJlbW92ZShlLCAhMCk7CiAgICAgIH0pOwogICAgfTsKCiAgICBpZiAoImZhbHNlIiAhPT0gYS5nZXRDb250ZW50RWRpdGFibGUodS5nZXROb2RlKCkpKSB7CiAgICAgIFIgJiYgKHIgPyB0ZihyKSA/IG0oQSwgcikgfHwgKChlID0gYS5jcmVhdGVSbmcoKSkuc2V0U3RhcnRCZWZvcmUociksIGUuc2V0RW5kQWZ0ZXIociksIHMoYSwgT2YoRSwgZSwgQSksIDAsICEwKSkgOiBzKGEsIHIsIDAsICEwKSA6IGkgJiYgdmYoUikgJiYgIUZmKEUpLmxlbmd0aCA/IGZ1bmN0aW9uIChlLCB0LCBuKSB7CiAgICAgICAgdmFyIHIsCiAgICAgICAgICAgIG8gPSBlLnNlbGVjdGlvbiwKICAgICAgICAgICAgaSA9IG8uZ2V0Um5nKCksCiAgICAgICAgICAgIGEgPSBpLnN0YXJ0T2Zmc2V0LAogICAgICAgICAgICB1ID0gaS5zdGFydENvbnRhaW5lci5ub2RlVmFsdWUsCiAgICAgICAgICAgIHMgPSBIbChlLmdldEJvZHkoKSwgby5nZXRTdGFydCgpKTsKICAgICAgICBzICYmIChyID0gaGgocykpOwogICAgICAgIHZhciBjLAogICAgICAgICAgICBsLAogICAgICAgICAgICBmLAogICAgICAgICAgICBkLAogICAgICAgICAgICBtID0gL1teXHNcdTAwYTBcdTAwYWRcdTIwMGJcdWZlZmZdLzsKICAgICAgICB1ICYmIDAgPCBhICYmIGEgPCB1Lmxlbmd0aCAmJiBtLnRlc3QodS5jaGFyQXQoYSkpICYmIG0udGVzdCh1LmNoYXJBdChhIC0gMSkpID8gKGMgPSBvLmdldEJvb2ttYXJrKCksIGkuY29sbGFwc2UoITApLCBsID0gT2YoZSwgaSwgZS5mb3JtYXR0ZXIuZ2V0KHQpKSwgbCA9IENkKGwpLCBlLmZvcm1hdHRlci5hcHBseSh0LCBuLCBsKSwgby5tb3ZlVG9Cb29rbWFyayhjKSkgOiAocyAmJiByLm5vZGVWYWx1ZSA9PT0gbWggfHwgKGYgPSBlLmdldERvYygpLCBkID0gdmgoITApLmRvbSwgciA9IChzID0gZi5pbXBvcnROb2RlKGQsICEwKSkuZmlyc3RDaGlsZCwgaS5pbnNlcnROb2RlKHMpLCBhID0gMSksIGUuZm9ybWF0dGVyLmFwcGx5KHQsIG4sIHMpLCBvLnNldEN1cnNvckxvY2F0aW9uKHIsIGEpKTsKICAgICAgfShFLCBrLCBfKSA6ICh0ID0gdS5nZXROb2RlKCksIG4gPSBBWzBdLCBFLnNldHRpbmdzLmZvcmNlZF9yb290X2Jsb2NrIHx8ICFuLmRlZmF1bHRCbG9jayB8fCBhLmdldFBhcmVudCh0LCBhLmlzQmxvY2spIHx8IGV2KEUsIG4uZGVmYXVsdEJsb2NrKSwgdS5zZXRSbmcoWWcodS5nZXRSbmcoKSkpLCAkZih1LCAhMCwgZnVuY3Rpb24gKGUpIHsKICAgICAgICBxZihFLCBmdW5jdGlvbiAoZSwgdCkgewogICAgICAgICAgdmFyIG4gPSB0ID8gZSA6IE9mKEUsIGUsIEEpOwogICAgICAgICAgcyhhLCBuKTsKICAgICAgICB9KTsKICAgICAgfSksIG5mKGEsIHUsIHUuZ2V0Um5nKCkpLCBFLm5vZGVDaGFuZ2VkKCkpLCBvID0gRSwgX2goRWhba10sIGZ1bmN0aW9uIChlKSB7CiAgICAgICAgZShvKTsKICAgICAgfSkpOwogICAgfSBlbHNlIHsKICAgICAgciA9IHUuZ2V0Tm9kZSgpOwoKICAgICAgZm9yICh2YXIgYyA9IDAsIGwgPSBBLmxlbmd0aDsgYyA8IGw7IGMrKykgewogICAgICAgIHZhciBmID0gQVtjXTsKICAgICAgICBpZiAoZi5jZUZhbHNlT3ZlcnJpZGUgJiYgaGYoZikgJiYgYS5pcyhyLCBmLnNlbGVjdG9yKSkgcmV0dXJuIHZvaWQgVChyLCBmKTsKICAgICAgfQogICAgfQogIH0sCiAgICAgIHR2ID0gZnVuY3Rpb24gdHYociwgZSwgdCwgbikgewogICAgdmFyIG8gPSBpZSh0LmdldCgpKSwKICAgICAgICBpID0ge30sCiAgICAgICAgYSA9IHt9LAogICAgICAgIHUgPSBIKG1mKHIuZG9tLCBlKSwgZnVuY3Rpb24gKGUpIHsKICAgICAgcmV0dXJuIDEgPT09IGUubm9kZVR5cGUgJiYgIWUuZ2V0QXR0cmlidXRlKCJkYXRhLW1jZS1ib2d1cyIpOwogICAgfSk7CiAgICB1ZShuLCBmdW5jdGlvbiAoZSwgbikgewogICAgICBrdC5lYWNoKHUsIGZ1bmN0aW9uICh0KSB7CiAgICAgICAgcmV0dXJuIHIuZm9ybWF0dGVyLm1hdGNoTm9kZSh0LCBuLCB7fSwgZS5zaW1pbGFyKSA/ICgtMSA9PT0gby5pbmRleE9mKG4pICYmIChXKGUuY2FsbGJhY2tzLCBmdW5jdGlvbiAoZSkgewogICAgICAgICAgZSghMCwgewogICAgICAgICAgICBub2RlOiB0LAogICAgICAgICAgICBmb3JtYXQ6IG4sCiAgICAgICAgICAgIHBhcmVudHM6IHUKICAgICAgICAgIH0pOwogICAgICAgIH0pLCBpW25dID0gZS5jYWxsYmFja3MpLCBhW25dID0gZS5jYWxsYmFja3MsICExKSA6ICFJbShyLCB0LCBuKSAmJiB2b2lkIDA7CiAgICAgIH0pOwogICAgfSk7CiAgICB2YXIgcyA9IG52KHQuZ2V0KCksIGEsIGUsIHUpOwogICAgdC5zZXQoX2tlKF9rZSh7fSwgaSksIHMpKTsKICB9LAogICAgICBudiA9IGZ1bmN0aW9uIG52KGUsIG4sIHIsIG8pIHsKICAgIHJldHVybiBkZShlLCBmdW5jdGlvbiAoZSwgdCkgewogICAgICByZXR1cm4gISFoZShuLCB0KSB8fCAoVyhlLCBmdW5jdGlvbiAoZSkgewogICAgICAgIGUoITEsIHsKICAgICAgICAgIG5vZGU6IHIsCiAgICAgICAgICBmb3JtYXQ6IHQsCiAgICAgICAgICBwYXJlbnRzOiBvCiAgICAgICAgfSk7CiAgICAgIH0pLCAhMSk7CiAgICB9KS50OwogIH0sCiAgICAgIHJ2ID0gZnVuY3Rpb24gcnYoZSwgbywgaSwgYSwgdCkgewogICAgdmFyIG4sIHIsIHUsIHMsIGMsIGwsIGYsIGQ7CiAgICByZXR1cm4gbnVsbCA9PT0gby5nZXQoKSAmJiAociA9IGUsIHUgPSBPdSh7fSksIChuID0gbykuc2V0KHt9KSwgci5vbigiTm9kZUNoYW5nZSIsIGZ1bmN0aW9uIChlKSB7CiAgICAgIHR2KHIsIGUuZWxlbWVudCwgdSwgbi5nZXQoKSk7CiAgICB9KSksIGMgPSBpLCBsID0gYSwgZiA9IHQsIGQgPSAocyA9IG8pLmdldCgpLCBXKGMuc3BsaXQoIiwiKSwgZnVuY3Rpb24gKGUpIHsKICAgICAgZFtlXSB8fCAoZFtlXSA9IHsKICAgICAgICBzaW1pbGFyOiBmLAogICAgICAgIGNhbGxiYWNrczogW10KICAgICAgfSksIGRbZV0uY2FsbGJhY2tzLnB1c2gobCk7CiAgICB9KSwgcy5zZXQoZCksIHsKICAgICAgdW5iaW5kOiBmdW5jdGlvbiB1bmJpbmQoKSB7CiAgICAgICAgcmV0dXJuIHQgPSBpLCBuID0gYSwgciA9IChlID0gbykuZ2V0KCksIFcodC5zcGxpdCgiLCIpLCBmdW5jdGlvbiAoZSkgewogICAgICAgICAgcltlXS5jYWxsYmFja3MgPSBIKHJbZV0uY2FsbGJhY2tzLCBmdW5jdGlvbiAoZSkgewogICAgICAgICAgICByZXR1cm4gZSAhPT0gbjsKICAgICAgICAgIH0pLCAwID09PSByW2VdLmNhbGxiYWNrcy5sZW5ndGggJiYgZGVsZXRlIHJbZV07CiAgICAgICAgfSksIHZvaWQgZS5zZXQocik7CiAgICAgICAgdmFyIGUsIHQsIG4sIHI7CiAgICAgIH0KICAgIH07CiAgfSwKICAgICAgb3YgPSBmdW5jdGlvbiBvdihlLCB0KSB7CiAgICB2YXIgbiA9ICh0IHx8IGRvY3VtZW50KS5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCk7CiAgICByZXR1cm4gVyhlLCBmdW5jdGlvbiAoZSkgewogICAgICBuLmFwcGVuZENoaWxkKGUuZG9tKTsKICAgIH0pLCBBdC5mcm9tRG9tKG4pOwogIH0sCiAgICAgIGl2ID0gZnVuY3Rpb24gaXYoZSwgdCwgbikgewogICAgcmV0dXJuIHsKICAgICAgZWxlbWVudDogZSwKICAgICAgd2lkdGg6IHQsCiAgICAgIHJvd3M6IG4KICAgIH07CiAgfSwKICAgICAgYXYgPSBmdW5jdGlvbiBhdihlLCB0KSB7CiAgICByZXR1cm4gewogICAgICBlbGVtZW50OiBlLAogICAgICBjZWxsczogdAogICAgfTsKICB9LAogICAgICB1diA9IGZ1bmN0aW9uIHV2KGUsIHQpIHsKICAgIHZhciBuID0gcGFyc2VJbnQoR24oZSwgdCksIDEwKTsKICAgIHJldHVybiBpc05hTihuKSA/IDEgOiBuOwogIH0sCiAgICAgIHN2ID0gZnVuY3Rpb24gc3YoZSkgewogICAgcmV0dXJuIFgoZSwgZnVuY3Rpb24gKGUsIHQpIHsKICAgICAgcmV0dXJuIHQuY2VsbHMubGVuZ3RoID4gZSA/IHQuY2VsbHMubGVuZ3RoIDogZTsKICAgIH0sIDApOwogIH0sCiAgICAgIGN2ID0gZnVuY3Rpb24gY3YoZSwgdCkgewogICAgZm9yICh2YXIgbiA9IGUucm93cywgciA9IDA7IHIgPCBuLmxlbmd0aDsgcisrKSB7CiAgICAgIGZvciAodmFyIG8gPSBuW3JdLmNlbGxzLCBpID0gMDsgaSA8IG8ubGVuZ3RoOyBpKyspIHsKICAgICAgICBpZiAoT3Qob1tpXSwgdCkpIHJldHVybiBVLnNvbWUoewogICAgICAgICAgeDogaSwKICAgICAgICAgIHk6IHIKICAgICAgICB9KTsKICAgICAgfQogICAgfQoKICAgIHJldHVybiBVLm5vbmUoKTsKICB9LAogICAgICBsdiA9IGZ1bmN0aW9uIGx2KGUsIHQsIG4sIHIsIG8pIHsKICAgIGZvciAodmFyIGkgPSBbXSwgYSA9IGUucm93cywgdSA9IG47IHUgPD0gbzsgdSsrKSB7CiAgICAgIHZhciBzID0gYVt1XS5jZWxscywKICAgICAgICAgIGMgPSB0IDwgciA/IHMuc2xpY2UodCwgciArIDEpIDogcy5zbGljZShyLCB0ICsgMSk7CiAgICAgIGkucHVzaChhdihhW3VdLmVsZW1lbnQsIGMpKTsKICAgIH0KCiAgICByZXR1cm4gaTsKICB9LAogICAgICBmdiA9IGZ1bmN0aW9uIGZ2KGUpIHsKICAgIHZhciBvID0gaXYoc3MoZSksIDAsIFtdKTsKICAgIHJldHVybiBXKEd1KGUsICJ0ciIpLCBmdW5jdGlvbiAobiwgcikgewogICAgICBXKEd1KG4sICJ0ZCx0aCIpLCBmdW5jdGlvbiAoZSwgdCkgewogICAgICAgICFmdW5jdGlvbiAoZSwgdCwgbiwgciwgbykgewogICAgICAgICAgZm9yICh2YXIgaSA9IHV2KG8sICJyb3dzcGFuIiksIGEgPSB1dihvLCAiY29sc3BhbiIpLCB1ID0gZS5yb3dzLCBzID0gbjsgcyA8IG4gKyBpOyBzKyspIHsKICAgICAgICAgICAgdVtzXSB8fCAodVtzXSA9IGF2KGNzKHIpLCBbXSkpOwoKICAgICAgICAgICAgZm9yICh2YXIgYyA9IHQ7IGMgPCB0ICsgYTsgYysrKSB7CiAgICAgICAgICAgICAgdVtzXS5jZWxsc1tjXSA9IHMgPT09IG4gJiYgYyA9PT0gdCA/IG8gOiBzcyhvKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0obywgZnVuY3Rpb24gKGUsIHQsIG4pIHsKICAgICAgICAgIGZvciAoOyByID0gdCwgbyA9IG4sICgoaSA9IGUucm93cylbb10gPyBpW29dLmNlbGxzIDogW10pW3JdOykgewogICAgICAgICAgICB0Kys7CiAgICAgICAgICB9CgogICAgICAgICAgdmFyIHIsIG8sIGk7CiAgICAgICAgICByZXR1cm4gdDsKICAgICAgICB9KG8sIHQsIHIpLCByLCBuLCBlKTsKICAgICAgfSk7CiAgICB9KSwgaXYoby5lbGVtZW50LCBzdihvLnJvd3MpLCBvLnJvd3MpOwogIH0sCiAgICAgIGR2ID0gZnVuY3Rpb24gZHYoZSkgewogICAgcmV0dXJuIG4gPSB6KCh0ID0gZSkucm93cywgZnVuY3Rpb24gKGUpIHsKICAgICAgdmFyIHQgPSB6KGUuY2VsbHMsIGZ1bmN0aW9uIChlKSB7CiAgICAgICAgdmFyIHQgPSBjcyhlKTsKICAgICAgICByZXR1cm4gUW4odCwgImNvbHNwYW4iKSwgUW4odCwgInJvd3NwYW4iKSwgdDsKICAgICAgfSksCiAgICAgICAgICBuID0gc3MoZS5lbGVtZW50KTsKICAgICAgcmV0dXJuIGRuKG4sIHQpLCBuOwogICAgfSksIHIgPSBzcyh0LmVsZW1lbnQpLCBvID0gQXQuZnJvbVRhZygidGJvZHkiKSwgZG4obywgbiksIGZuKHIsIG8pLCByOwogICAgdmFyIHQsIG4sIHIsIG87CiAgfSwKICAgICAgbXYgPSBmdW5jdGlvbiBtdihsLCBlLCB0KSB7CiAgICByZXR1cm4gY3YobCwgZSkuYmluZChmdW5jdGlvbiAoYykgewogICAgICByZXR1cm4gY3YobCwgdCkubWFwKGZ1bmN0aW9uIChlKSB7CiAgICAgICAgcmV0dXJuIHQgPSBsLCByID0gZSwgbyA9IChuID0gYykueCwgaSA9IG4ueSwgYSA9IHIueCwgdSA9IHIueSwgcyA9IGkgPCB1ID8gbHYodCwgbywgaSwgYSwgdSkgOiBsdih0LCBvLCB1LCBhLCBpKSwgaXYodC5lbGVtZW50LCBzdihzKSwgcyk7CiAgICAgICAgdmFyIHQsIG4sIHIsIG8sIGksIGEsIHUsIHM7CiAgICAgIH0pOwogICAgfSk7CiAgfSwKICAgICAgcHYgPSBmdW5jdGlvbiBwdih0LCBuKSB7CiAgICByZXR1cm4gWSh0LCBmdW5jdGlvbiAoZSkgewogICAgICByZXR1cm4gImxpIiA9PT0gTHQoZSkgJiYgamYoZSwgbik7CiAgICB9KS5mb2xkKEUoW10pLCBmdW5jdGlvbiAoZSkgewogICAgICByZXR1cm4gWSh0LCBmdW5jdGlvbiAoZSkgewogICAgICAgIHJldHVybiAidWwiID09PSBMdChlKSB8fCAib2wiID09PSBMdChlKTsKICAgICAgfSkubWFwKGZ1bmN0aW9uIChlKSB7CiAgICAgICAgdmFyIHQgPSBBdC5mcm9tVGFnKEx0KGUpKSwKICAgICAgICAgICAgbiA9IG1lKHJyKGUpLCBmdW5jdGlvbiAoZSwgdCkgewogICAgICAgICAgcmV0dXJuIFZlKHQsICJsaXN0LXN0eWxlIik7CiAgICAgICAgfSk7CiAgICAgICAgcmV0dXJuIFpuKHQsIG4pLCBbQXQuZnJvbVRhZygibGkiKSwgdF07CiAgICAgIH0pLmdldE9yKFtdKTsKICAgIH0pOwogIH0sCiAgICAgIGd2ID0gZnVuY3Rpb24gZ3YoZSwgdCkgewogICAgdmFyIG4sCiAgICAgICAgciA9IEF0LmZyb21Eb20odC5jb21tb25BbmNlc3RvckNvbnRhaW5lciksCiAgICAgICAgbyA9IERwKHIsIGUpLAogICAgICAgIGkgPSBIKG8sIGZ1bmN0aW9uIChlKSB7CiAgICAgIHJldHVybiB0byhlKSB8fCBacihlKTsKICAgIH0pLAogICAgICAgIGEgPSBwdihvLCB0KSwKICAgICAgICB1ID0gaS5jb25jYXQoYS5sZW5ndGggPyBhIDogaW8obiA9IHIpID8gJHQobikuZmlsdGVyKG9vKS5mb2xkKEUoW10pLCBmdW5jdGlvbiAoZSkgewogICAgICByZXR1cm4gW24sIGVdOwogICAgfSkgOiBvbyhuKSA/IFtuXSA6IFtdKTsKICAgIHJldHVybiB6KHUsIHNzKTsKICB9LAogICAgICBodiA9IGZ1bmN0aW9uIGh2KCkgewogICAgcmV0dXJuIG92KFtdKTsKICB9LAogICAgICB2diA9IGZ1bmN0aW9uIHZ2KGUsIHQpIHsKICAgIHJldHVybiBuID0gQXQuZnJvbURvbSh0LmNsb25lQ29udGVudHMoKSksIHIgPSBndihlLCB0KSwgbyA9IFgociwgZnVuY3Rpb24gKGUsIHQpIHsKICAgICAgcmV0dXJuIGZuKHQsIGUpLCB0OwogICAgfSwgbiksIDAgPCByLmxlbmd0aCA/IG92KFtvXSkgOiBvOwogICAgdmFyIG4sIHIsIG87CiAgfSwKICAgICAgeXYgPSBmdW5jdGlvbiB5dihlLCBvKSB7CiAgICByZXR1cm4gdCA9IGUsIG4gPSBvWzBdLCBUcihuLCAidGFibGUiLCBOKE90LCB0KSkuYmluZChmdW5jdGlvbiAoZSkgewogICAgICB2YXIgdCA9IG9bMF0sCiAgICAgICAgICBuID0gb1tvLmxlbmd0aCAtIDFdLAogICAgICAgICAgciA9IGZ2KGUpOwogICAgICByZXR1cm4gbXYociwgdCwgbikubWFwKGZ1bmN0aW9uIChlKSB7CiAgICAgICAgcmV0dXJuIG92KFtkdihlKV0pOwogICAgICB9KTsKICAgIH0pLmdldE9yVGh1bmsoaHYpOwogICAgdmFyIHQsIG47CiAgfSwKICAgICAgYnYgPSBmdW5jdGlvbiBidihlLCB0KSB7CiAgICB2YXIgbiwKICAgICAgICByLAogICAgICAgIG8gPSBNZih0LCBlKTsKICAgIHJldHVybiAwIDwgby5sZW5ndGggPyB5dihlLCBvKSA6IChuID0gZSwgMCA8IChyID0gdCkubGVuZ3RoICYmIHJbMF0uY29sbGFwc2VkID8gaHYoKSA6IHZ2KG4sIHJbMF0pKTsKICB9LAogICAgICBDdiA9IGZ1bmN0aW9uIEN2KGUsIHQpIHsKICAgIHJldHVybiAwIDw9IHQgJiYgdCA8IGUubGVuZ3RoICYmIFpsKGUuY2hhckF0KHQpKTsKICB9LAogICAgICB3diA9IGZ1bmN0aW9uIHd2KGUsIHQpIHsKICAgIHZhciBuID0gcG8oZS5pbm5lclRleHQpOwogICAgcmV0dXJuIHQgPyBuLnJlcGxhY2UoL15bIFxmXG5cclx0XHZdKy8sICIiKSA6IG47CiAgfSwKICAgICAgeHYgPSBmdW5jdGlvbiB4dihmKSB7CiAgICByZXR1cm4gVS5mcm9tKGYuc2VsZWN0aW9uLmdldFJuZygpKS5tYXAoZnVuY3Rpb24gKGUpIHsKICAgICAgdmFyIHQgPSBVLmZyb20oZi5kb20uZ2V0UGFyZW50KGUuY29tbW9uQW5jZXN0b3JDb250YWluZXIsIGYuZG9tLmlzQmxvY2spKSwKICAgICAgICAgIG4gPSBmLmdldEJvZHkoKSwKICAgICAgICAgIHIgPSB0Lm1hcChmdW5jdGlvbiAoZSkgewogICAgICAgIHJldHVybiBlLm5vZGVOYW1lOwogICAgICB9KS5nZXRPcigiZGl2IikudG9Mb3dlckNhc2UoKSwKICAgICAgICAgIG8gPSB3dC5icm93c2VyLmlzSUUoKSAmJiAicHJlIiAhPT0gciwKICAgICAgICAgIGkgPSBmLmRvbS5hZGQobiwgciwgewogICAgICAgICJkYXRhLW1jZS1ib2d1cyI6ICJhbGwiLAogICAgICAgIHN0eWxlOiAib3ZlcmZsb3c6IGhpZGRlbjsgb3BhY2l0eTogMDsiCiAgICAgIH0sIGUuY2xvbmVDb250ZW50cygpKSwKICAgICAgICAgIGEgPSB3dihpLCBvKSwKICAgICAgICAgIHUgPSBwbyhpLnRleHRDb250ZW50KTsKCiAgICAgIGlmIChmLmRvbS5yZW1vdmUoaSksIEN2KHUsIDApIHx8IEN2KHUsIHUubGVuZ3RoIC0gMSkpIHsKICAgICAgICB2YXIgcyA9IHQuZ2V0T3IobiksCiAgICAgICAgICAgIGMgPSB3dihzLCBvKSwKICAgICAgICAgICAgbCA9IGMuaW5kZXhPZihhKTsKICAgICAgICByZXR1cm4gLTEgPT09IGwgPyBhIDogKEN2KGMsIGwgLSAxKSA/ICIgIiA6ICIiKSArIGEgKyAoQ3YoYywgbCArIGEubGVuZ3RoKSA/ICIgIiA6ICIiKTsKICAgICAgfQoKICAgICAgcmV0dXJuIGE7CiAgICB9KS5nZXRPcigiIik7CiAgfSwKICAgICAgU3YgPSBmdW5jdGlvbiBTdihlLCB0LCBuKSB7CiAgICBpZiAodm9pZCAwID09PSBuICYmIChuID0ge30pLCBuLmdldCA9ICEwLCBuLmZvcm1hdCA9IHQsIG4uc2VsZWN0aW9uID0gITAsIChuID0gZS5maXJlKCJCZWZvcmVHZXRDb250ZW50IiwgbikpLmlzRGVmYXVsdFByZXZlbnRlZCgpKSByZXR1cm4gZS5maXJlKCJHZXRDb250ZW50IiwgbiksIG4uY29udGVudDsKICAgIGlmICgidGV4dCIgPT09IG4uZm9ybWF0KSByZXR1cm4geHYoZSk7CiAgICBuLmdldElubmVyID0gITA7CiAgICB2YXIgciwKICAgICAgICBvLAogICAgICAgIGksCiAgICAgICAgYSwKICAgICAgICB1LAogICAgICAgIHMsCiAgICAgICAgYywKICAgICAgICBsID0gKG8gPSBuLCBpID0gKHIgPSBlKS5zZWxlY3Rpb24uZ2V0Um5nKCksIGEgPSByLmRvbS5jcmVhdGUoImJvZHkiKSwgdSA9IHIuc2VsZWN0aW9uLmdldFNlbCgpLCBzID0gT20ociwgTGYodSkpLCAoYyA9IG8uY29udGV4dHVhbCA/IGJ2KEF0LmZyb21Eb20oci5nZXRCb2R5KCkpLCBzKS5kb20gOiBpLmNsb25lQ29udGVudHMoKSkgJiYgYS5hcHBlbmRDaGlsZChjKSwgci5zZWxlY3Rpb24uc2VyaWFsaXplci5zZXJpYWxpemUoYSwgbykpOwogICAgcmV0dXJuICJ0cmVlIiA9PT0gbi5mb3JtYXQgPyBsIDogKG4uY29udGVudCA9IGUuc2VsZWN0aW9uLmlzQ29sbGFwc2VkKCkgPyAiIiA6IGwsIGUuZmlyZSgiR2V0Q29udGVudCIsIG4pLCBuLmNvbnRlbnQpOwogIH0sCiAgICAgIE52ID0gZnVuY3Rpb24gTnYoZSkgewogICAgcmV0dXJuIEFuKGUpID8gZS5vdXRlckhUTUwgOiBJbihlKSA/IGNpLmVuY29kZVJhdyhlLmRhdGEsICExKSA6IE1uKGUpID8gIlx4M2MhLS0iICsgZS5kYXRhICsgIi0tXHgzZSIgOiAiIjsKICB9LAogICAgICBFdiA9IGZ1bmN0aW9uIEV2KGUsIHQsIG4pIHsKICAgIHZhciByLAogICAgICAgIG8gPSBmdW5jdGlvbiAoZSkgewogICAgICB2YXIgdCwKICAgICAgICAgIG4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKSwKICAgICAgICAgIHIgPSBkb2N1bWVudC5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCk7CgogICAgICBmb3IgKGUgJiYgKG4uaW5uZXJIVE1MID0gZSk7IHQgPSBuLmZpcnN0Q2hpbGQ7KSB7CiAgICAgICAgci5hcHBlbmRDaGlsZCh0KTsKICAgICAgfQoKICAgICAgcmV0dXJuIHI7CiAgICB9KHQpOwoKICAgIGUuaGFzQ2hpbGROb2RlcygpICYmIG4gPCBlLmNoaWxkTm9kZXMubGVuZ3RoID8gKHIgPSBlLmNoaWxkTm9kZXNbbl0pLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKG8sIHIpIDogZS5hcHBlbmRDaGlsZChvKTsKICB9LAogICAgICBrdiA9IGZ1bmN0aW9uIGt2KGUsIG8pIHsKICAgIHZhciBpID0gMDsKICAgIFcoZSwgZnVuY3Rpb24gKGUpIHsKICAgICAgdmFyIHQsIG4sIHI7CiAgICAgIDAgPT09IGVbMF0gPyBpKysgOiAxID09PSBlWzBdID8gKEV2KG8sIGVbMV0sIGkpLCBpKyspIDogMiA9PT0gZVswXSAmJiAobiA9IGksICh0ID0gbykuaGFzQ2hpbGROb2RlcygpICYmIG4gPCB0LmNoaWxkTm9kZXMubGVuZ3RoICYmIChyID0gdC5jaGlsZE5vZGVzW25dKS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHIpKTsKICAgIH0pOwogIH0sCiAgICAgIF92ID0gZnVuY3Rpb24gX3YoZSwgdCkgewogICAgdmFyIHAsCiAgICAgICAgZywKICAgICAgICBuLAogICAgICAgIGgsCiAgICAgICAgdiwKICAgICAgICBfYzIsCiAgICAgICAgeSwKICAgICAgICBsLAogICAgICAgIHIsCiAgICAgICAgbyA9IHoob2UodC5jaGlsZE5vZGVzKSwgTnYpOwoKICAgIHJldHVybiBrdigoZyA9IGUsIG4gPSAocCA9IG8pLmxlbmd0aCArIGcubGVuZ3RoICsgMiwgaCA9IG5ldyBBcnJheShuKSwgdiA9IG5ldyBBcnJheShuKSwgX2MyID0gZnVuY3Rpb24gYyhlLCB0LCBuLCByLCBvKSB7CiAgICAgIHZhciBpID0gbChlLCB0LCBuLCByKTsKICAgICAgaWYgKG51bGwgPT09IGkgfHwgaS5zdGFydCA9PT0gdCAmJiBpLmRpYWcgPT09IHQgLSByIHx8IGkuZW5kID09PSBlICYmIGkuZGlhZyA9PT0gZSAtIG4pIGZvciAodmFyIGEgPSBlLCB1ID0gbjsgYSA8IHQgfHwgdSA8IHI7KSB7CiAgICAgICAgYSA8IHQgJiYgdSA8IHIgJiYgcFthXSA9PT0gZ1t1XSA/IChvLnB1c2goWzAsIHBbYV1dKSwgKythLCArK3UpIDogciAtIG4gPCB0IC0gZSA/IChvLnB1c2goWzIsIHBbYV1dKSwgKythKSA6IChvLnB1c2goWzEsIGdbdV1dKSwgKyt1KTsKICAgICAgfSBlbHNlIHsKICAgICAgICBfYzIoZSwgaS5zdGFydCwgbiwgaS5zdGFydCAtIGkuZGlhZywgbyk7CgogICAgICAgIGZvciAodmFyIHMgPSBpLnN0YXJ0OyBzIDwgaS5lbmQ7ICsrcykgewogICAgICAgICAgby5wdXNoKFswLCBwW3NdXSk7CiAgICAgICAgfQoKICAgICAgICBfYzIoaS5lbmQsIHQsIGkuZW5kIC0gaS5kaWFnLCByLCBvKTsKICAgICAgfQogICAgfSwgeSA9IGZ1bmN0aW9uIHkoZSwgdCwgbiwgcikgewogICAgICBmb3IgKHZhciBvID0gZTsgbyAtIHQgPCByICYmIG8gPCBuICYmIHBbb10gPT09IGdbbyAtIHRdOykgewogICAgICAgICsrbzsKICAgICAgfQoKICAgICAgcmV0dXJuIHsKICAgICAgICBzdGFydDogZSwKICAgICAgICBlbmQ6IG8sCiAgICAgICAgZGlhZzogdAogICAgICB9OwogICAgfSwgbCA9IGZ1bmN0aW9uIGwoZSwgdCwgbiwgcikgewogICAgICB2YXIgbyA9IHQgLSBlLAogICAgICAgICAgaSA9IHIgLSBuOwogICAgICBpZiAoMCA9PSBvIHx8IDAgPT0gaSkgcmV0dXJuIG51bGw7CiAgICAgIHZhciBhLAogICAgICAgICAgdSwKICAgICAgICAgIHMsCiAgICAgICAgICBjLAogICAgICAgICAgbCwKICAgICAgICAgIGYgPSBvIC0gaSwKICAgICAgICAgIGQgPSBpICsgbywKICAgICAgICAgIG0gPSAoZCAlIDIgPT0gMCA/IGQgOiAxICsgZCkgLyAyOwoKICAgICAgZm9yIChoWzEgKyBtXSA9IGUsIHZbMSArIG1dID0gdCArIDEsIGEgPSAwOyBhIDw9IG07ICsrYSkgewogICAgICAgIGZvciAodSA9IC1hOyB1IDw9IGE7IHUgKz0gMikgewogICAgICAgICAgZm9yIChzID0gdSArIG0sIHUgPT09IC1hIHx8IHUgIT09IGEgJiYgaFtzIC0gMV0gPCBoW3MgKyAxXSA/IGhbc10gPSBoW3MgKyAxXSA6IGhbc10gPSBoW3MgLSAxXSArIDEsIGwgPSAoYyA9IGhbc10pIC0gZSArIG4gLSB1OyBjIDwgdCAmJiBsIDwgciAmJiBwW2NdID09PSBnW2xdOykgewogICAgICAgICAgICBoW3NdID0gKytjLCArK2w7CiAgICAgICAgICB9CgogICAgICAgICAgaWYgKGYgJSAyICE9IDAgJiYgZiAtIGEgPD0gdSAmJiB1IDw9IGYgKyBhICYmIHZbcyAtIGZdIDw9IGhbc10pIHJldHVybiB5KHZbcyAtIGZdLCB1ICsgZSAtIG4sIHQsIHIpOwogICAgICAgIH0KCiAgICAgICAgZm9yICh1ID0gZiAtIGE7IHUgPD0gZiArIGE7IHUgKz0gMikgewogICAgICAgICAgZm9yIChzID0gdSArIG0gLSBmLCB1ID09PSBmIC0gYSB8fCB1ICE9PSBmICsgYSAmJiB2W3MgKyAxXSA8PSB2W3MgLSAxXSA/IHZbc10gPSB2W3MgKyAxXSAtIDEgOiB2W3NdID0gdltzIC0gMV0sIGwgPSAoYyA9IHZbc10gLSAxKSAtIGUgKyBuIC0gdTsgZSA8PSBjICYmIG4gPD0gbCAmJiBwW2NdID09PSBnW2xdOykgewogICAgICAgICAgICB2W3NdID0gYy0tLCBsLS07CiAgICAgICAgICB9CgogICAgICAgICAgaWYgKGYgJSAyID09IDAgJiYgLWEgPD0gdSAmJiB1IDw9IGEgJiYgdltzXSA8PSBoW3MgKyBmXSkgcmV0dXJuIHkodltzXSwgdSArIGUgLSBuLCB0LCByKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0sIHIgPSBbXSwgX2MyKDAsIHAubGVuZ3RoLCAwLCBnLmxlbmd0aCwgciksIHIpLCB0KSwgdDsKICB9LAogICAgICBBdiA9IE91KFUubm9uZSgpKSwKICAgICAgUnYgPSBmdW5jdGlvbiBSdihuKSB7CiAgICB2YXIgZSwKICAgICAgICB0ID0gKGUgPSBuLmdldEJvZHkoKSwgSCh6KG9lKGUuY2hpbGROb2RlcyksIE52KSwgZnVuY3Rpb24gKGUpIHsKICAgICAgcmV0dXJuIDAgPCBlLmxlbmd0aDsKICAgIH0pKSwKICAgICAgICByID0gSih0LCBmdW5jdGlvbiAoZSkgewogICAgICB2YXIgdCA9IGFwKG4uc2VyaWFsaXplciwgZSk7CiAgICAgIHJldHVybiAwIDwgdC5sZW5ndGggPyBbdF0gOiBbXTsKICAgIH0pLAogICAgICAgIG8gPSByLmpvaW4oIiIpOwogICAgcmV0dXJuIC0xICE9PSBvLmluZGV4T2YoIjwvaWZyYW1lPiIpID8gewogICAgICB0eXBlOiAiZnJhZ21lbnRlZCIsCiAgICAgIGZyYWdtZW50czogciwKICAgICAgY29udGVudDogIiIsCiAgICAgIGJvb2ttYXJrOiBudWxsLAogICAgICBiZWZvcmVCb29rbWFyazogbnVsbAogICAgfSA6IHsKICAgICAgdHlwZTogImNvbXBsZXRlIiwKICAgICAgZnJhZ21lbnRzOiBudWxsLAogICAgICBjb250ZW50OiBvLAogICAgICBib29rbWFyazogbnVsbCwKICAgICAgYmVmb3JlQm9va21hcms6IG51bGwKICAgIH07CiAgfSwKICAgICAgVHYgPSBmdW5jdGlvbiBUdihlLCB0LCBuKSB7CiAgICAiZnJhZ21lbnRlZCIgPT09IHQudHlwZSA/IF92KHQuZnJhZ21lbnRzLCBlLmdldEJvZHkoKSkgOiBlLnNldENvbnRlbnQodC5jb250ZW50LCB7CiAgICAgIGZvcm1hdDogInJhdyIKICAgIH0pLCBlLnNlbGVjdGlvbi5tb3ZlVG9Cb29rbWFyayhuID8gdC5iZWZvcmVCb29rbWFyayA6IHQuYm9va21hcmspOwogIH0sCiAgICAgIER2ID0gZnVuY3Rpb24gRHYoZSkgewogICAgcmV0dXJuICJmcmFnbWVudGVkIiA9PT0gZS50eXBlID8gZS5mcmFnbWVudHMuam9pbigiIikgOiBlLmNvbnRlbnQ7CiAgfSwKICAgICAgT3YgPSBmdW5jdGlvbiBPdihlKSB7CiAgICB2YXIgdCA9IEF0LmZyb21UYWcoImJvZHkiLCBBdi5nZXQoKS5nZXRPclRodW5rKGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIGUgPSBkb2N1bWVudC5pbXBsZW1lbnRhdGlvbi5jcmVhdGVIVE1MRG9jdW1lbnQoInVuZG8iKTsKICAgICAgcmV0dXJuIEF2LnNldChVLnNvbWUoZSkpLCBlOwogICAgfSkpOwogICAgcmV0dXJuIGFzKHQsIER2KGUpKSwgVyhHdSh0LCAiKltkYXRhLW1jZS1ib2d1c10iKSwgZ24pLCB0LmRvbS5pbm5lckhUTUw7CiAgfSwKICAgICAgQnYgPSBmdW5jdGlvbiBCdihlLCB0KSB7CiAgICByZXR1cm4gISghZSB8fCAhdCkgJiYgKHIgPSB0LCBEdihlKSA9PT0gRHYocikgfHwgKG4gPSB0LCBPdihlKSA9PT0gT3YobikpKTsKICAgIHZhciBuLCByOwogIH0sCiAgICAgIFB2ID0gZnVuY3Rpb24gUHYoZSkgewogICAgcmV0dXJuIDAgPT09IGUuZ2V0KCk7CiAgfSwKICAgICAgTHYgPSBmdW5jdGlvbiBMdihlLCB0LCBuKSB7CiAgICBQdihuKSAmJiAoZS50eXBpbmcgPSB0KTsKICB9LAogICAgICBJdiA9IGZ1bmN0aW9uIEl2KGUsIHQpIHsKICAgIGUudHlwaW5nICYmIChMdihlLCAhMSwgdCksIGUuYWRkKCkpOwogIH0sCiAgICAgIE12ID0gZnVuY3Rpb24gTXYoZSkgewogICAgcmV0dXJuIGUgaW5zdGFuY2VvZiBLbTsKICB9LAogICAgICBGdiA9IGZ1bmN0aW9uIEZ2KGUsIHQpIHsKICAgIHNoKGUuc2VyaWFsaXplci5nZXROb2RlRmlsdGVycygpLCBlLnNlcmlhbGl6ZXIuZ2V0QXR0cmlidXRlRmlsdGVycygpLCB0KTsKICB9LAogICAgICBVdiA9IGZ1bmN0aW9uIFV2KCkgewogICAgcmV0dXJuIHsKICAgICAgdHlwZTogImNvbXBsZXRlIiwKICAgICAgZnJhZ21lbnRzOiBbXSwKICAgICAgY29udGVudDogIiIsCiAgICAgIGJvb2ttYXJrOiBudWxsLAogICAgICBiZWZvcmVCb29rbWFyazogbnVsbAogICAgfTsKICB9LAogICAgICB6diA9IGZ1bmN0aW9uIHp2KGYpIHsKICAgIHJldHVybiB7CiAgICAgIHVuZG9NYW5hZ2VyOiB7CiAgICAgICAgYmVmb3JlQ2hhbmdlOiBmdW5jdGlvbiBiZWZvcmVDaGFuZ2UoZSwgdCkgewogICAgICAgICAgcmV0dXJuIG4gPSBmLCByID0gdCwgdm9pZCAoUHYoZSkgJiYgci5zZXQoVS5zb21lKG1jKG4uc2VsZWN0aW9uKSkpKTsKICAgICAgICAgIHZhciBuLCByOwogICAgICAgIH0sCiAgICAgICAgYWRkVW5kb0xldmVsOiBmdW5jdGlvbiBhZGRVbmRvTGV2ZWwoZSwgdCwgbiwgciwgbywgaSkgewogICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChlLCB0LCBuLCByLCBvLCBpLCBhKSB7CiAgICAgICAgICAgIHZhciB1ID0gUnYoZSk7CiAgICAgICAgICAgIGlmIChpID0gaSB8fCB7fSwgaSA9IGt0LmV4dGVuZChpLCB1KSwgITEgPT09IFB2KHIpIHx8IGUucmVtb3ZlZCkgcmV0dXJuIG51bGw7CiAgICAgICAgICAgIHZhciBzID0gdC5kYXRhW24uZ2V0KCldOwogICAgICAgICAgICBpZiAoZS5maXJlKCJCZWZvcmVBZGRVbmRvIiwgewogICAgICAgICAgICAgIGxldmVsOiBpLAogICAgICAgICAgICAgIGxhc3RMZXZlbDogcywKICAgICAgICAgICAgICBvcmlnaW5hbEV2ZW50OiBhCiAgICAgICAgICAgIH0pLmlzRGVmYXVsdFByZXZlbnRlZCgpKSByZXR1cm4gbnVsbDsKICAgICAgICAgICAgaWYgKHMgJiYgQnYocywgaSkpIHJldHVybiBudWxsOwogICAgICAgICAgICB0LmRhdGFbbi5nZXQoKV0gJiYgby5nZXQoKS5lYWNoKGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICAgICAgdC5kYXRhW24uZ2V0KCldLmJlZm9yZUJvb2ttYXJrID0gZTsKICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIHZhciBjID0gZS5nZXRQYXJhbSgiY3VzdG9tX3VuZG9fcmVkb19sZXZlbHMiLCAwLCAibnVtYmVyIik7CgogICAgICAgICAgICBpZiAoYyAmJiB0LmRhdGEubGVuZ3RoID4gYykgewogICAgICAgICAgICAgIGZvciAodmFyIGwgPSAwOyBsIDwgdC5kYXRhLmxlbmd0aCAtIDE7IGwrKykgewogICAgICAgICAgICAgICAgdC5kYXRhW2xdID0gdC5kYXRhW2wgKyAxXTsKICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIHQuZGF0YS5sZW5ndGgtLSwgbi5zZXQodC5kYXRhLmxlbmd0aCk7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGkuYm9va21hcmsgPSBtYyhlLnNlbGVjdGlvbiksIG4uZ2V0KCkgPCB0LmRhdGEubGVuZ3RoIC0gMSAmJiAodC5kYXRhLmxlbmd0aCA9IG4uZ2V0KCkgKyAxKSwgdC5kYXRhLnB1c2goaSksIG4uc2V0KHQuZGF0YS5sZW5ndGggLSAxKTsKICAgICAgICAgICAgdmFyIGYgPSB7CiAgICAgICAgICAgICAgbGV2ZWw6IGksCiAgICAgICAgICAgICAgbGFzdExldmVsOiBzLAogICAgICAgICAgICAgIG9yaWdpbmFsRXZlbnQ6IGEKICAgICAgICAgICAgfTsKICAgICAgICAgICAgcmV0dXJuIDAgPCBuLmdldCgpID8gKGUuc2V0RGlydHkoITApLCBlLmZpcmUoIkFkZFVuZG8iLCBmKSwgZS5maXJlKCJjaGFuZ2UiLCBmKSkgOiBlLmZpcmUoIkFkZFVuZG8iLCBmKSwgaTsKICAgICAgICAgIH0oZiwgZSwgdCwgbiwgciwgbywgaSk7CiAgICAgICAgfSwKICAgICAgICB1bmRvOiBmdW5jdGlvbiB1bmRvKGUsIHQsIG4pIHsKICAgICAgICAgIHJldHVybiByID0gZiwgaSA9IHQsIGEgPSBuLCAobyA9IGUpLnR5cGluZyAmJiAoby5hZGQoKSwgby50eXBpbmcgPSAhMSwgTHYobywgITEsIGkpKSwgMCA8IGEuZ2V0KCkgJiYgKGEuc2V0KGEuZ2V0KCkgLSAxKSwgdSA9IG8uZGF0YVthLmdldCgpXSwgVHYociwgdSwgITApLCByLnNldERpcnR5KCEwKSwgci5maXJlKCJVbmRvIiwgewogICAgICAgICAgICBsZXZlbDogdQogICAgICAgICAgfSkpLCB1OwogICAgICAgICAgdmFyIHIsIG8sIGksIGEsIHU7CiAgICAgICAgfSwKICAgICAgICByZWRvOiBmdW5jdGlvbiByZWRvKGUsIHQpIHsKICAgICAgICAgIHJldHVybiBuID0gZiwgbyA9IHQsIChyID0gZSkuZ2V0KCkgPCBvLmxlbmd0aCAtIDEgJiYgKHIuc2V0KHIuZ2V0KCkgKyAxKSwgaSA9IG9bci5nZXQoKV0sIFR2KG4sIGksICExKSwgbi5zZXREaXJ0eSghMCksIG4uZmlyZSgiUmVkbyIsIHsKICAgICAgICAgICAgbGV2ZWw6IGkKICAgICAgICAgIH0pKSwgaTsKICAgICAgICAgIHZhciBuLCByLCBvLCBpOwogICAgICAgIH0sCiAgICAgICAgY2xlYXI6IGZ1bmN0aW9uIGNsZWFyKGUsIHQpIHsKICAgICAgICAgIHJldHVybiBuID0gZiwgbyA9IHQsIChyID0gZSkuZGF0YSA9IFtdLCBvLnNldCgwKSwgci50eXBpbmcgPSAhMSwgdm9pZCBuLmZpcmUoIkNsZWFyVW5kb3MiKTsKICAgICAgICAgIHZhciBuLCByLCBvOwogICAgICAgIH0sCiAgICAgICAgcmVzZXQ6IGZ1bmN0aW9uIHJlc2V0KGUpIHsKICAgICAgICAgIHJldHVybiAodCA9IGUpLmNsZWFyKCksIHZvaWQgdC5hZGQoKTsKICAgICAgICAgIHZhciB0OwogICAgICAgIH0sCiAgICAgICAgaGFzVW5kbzogZnVuY3Rpb24gaGFzVW5kbyhlLCB0KSB7CiAgICAgICAgICByZXR1cm4gbiA9IGYsIHIgPSBlLCAwIDwgdC5nZXQoKSB8fCByLnR5cGluZyAmJiByLmRhdGFbMF0gJiYgIUJ2KFJ2KG4pLCByLmRhdGFbMF0pOwogICAgICAgICAgdmFyIG4sIHI7CiAgICAgICAgfSwKICAgICAgICBoYXNSZWRvOiBmdW5jdGlvbiBoYXNSZWRvKGUsIHQpIHsKICAgICAgICAgIHJldHVybiBuID0gZSwgdC5nZXQoKSA8IG4uZGF0YS5sZW5ndGggLSAxICYmICFuLnR5cGluZzsKICAgICAgICAgIHZhciBuOwogICAgICAgIH0sCiAgICAgICAgdHJhbnNhY3Q6IGZ1bmN0aW9uIHRyYW5zYWN0KGUsIHQsIG4pIHsKICAgICAgICAgIHJldHVybiBvID0gbiwgSXYociA9IGUsIHQpLCByLmJlZm9yZUNoYW5nZSgpLCByLmlnbm9yZShvKSwgci5hZGQoKTsKICAgICAgICAgIHZhciByLCBvOwogICAgICAgIH0sCiAgICAgICAgaWdub3JlOiBmdW5jdGlvbiBpZ25vcmUoZSwgdCkgewogICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgZS5zZXQoZS5nZXQoKSArIDEpLCB0KCk7CiAgICAgICAgICB9IGZpbmFsbHkgewogICAgICAgICAgICBlLnNldChlLmdldCgpIC0gMSk7CiAgICAgICAgICB9CiAgICAgICAgfSwKICAgICAgICBleHRyYTogZnVuY3Rpb24gZXh0cmEoZSwgdCwgbiwgcikgewogICAgICAgICAgcmV0dXJuIG8gPSBmLCBhID0gdCwgdSA9IG4sIHMgPSByLCB2b2lkICgoaSA9IGUpLnRyYW5zYWN0KHUpICYmIChjID0gaS5kYXRhW2EuZ2V0KCldLmJvb2ttYXJrLCBsID0gaS5kYXRhW2EuZ2V0KCkgLSAxXSwgVHYobywgbCwgITApLCBpLnRyYW5zYWN0KHMpICYmIChpLmRhdGFbYS5nZXQoKSAtIDFdLmJlZm9yZUJvb2ttYXJrID0gYykpKTsKICAgICAgICAgIHZhciBvLCBpLCBhLCB1LCBzLCBjLCBsOwogICAgICAgIH0KICAgICAgfSwKICAgICAgZm9ybWF0dGVyOiB7CiAgICAgICAgbWF0Y2g6IGZ1bmN0aW9uIG1hdGNoKGUsIHQsIG4pIHsKICAgICAgICAgIHJldHVybiBqbShmLCBlLCB0LCBuKTsKICAgICAgICB9LAogICAgICAgIG1hdGNoQWxsOiBmdW5jdGlvbiBtYXRjaEFsbChlLCB0KSB7CiAgICAgICAgICByZXR1cm4gbyA9IGUsIGkgPSB0LCBhID0gW10sIHUgPSB7fSwgbiA9IChyID0gZikuc2VsZWN0aW9uLmdldFN0YXJ0KCksIHIuZG9tLmdldFBhcmVudChuLCBmdW5jdGlvbiAoZSkgewogICAgICAgICAgICBmb3IgKHZhciB0ID0gMDsgdCA8IG8ubGVuZ3RoOyB0KyspIHsKICAgICAgICAgICAgICB2YXIgbiA9IG9bdF07CiAgICAgICAgICAgICAgIXVbbl0gJiYgem0ociwgZSwgbiwgaSkgJiYgKHVbbl0gPSAhMCwgYS5wdXNoKG4pKTsKICAgICAgICAgICAgfQogICAgICAgICAgfSwgci5kb20uZ2V0Um9vdCgpKSwgYTsKICAgICAgICAgIHZhciByLCBvLCBpLCBhLCB1LCBuOwogICAgICAgIH0sCiAgICAgICAgbWF0Y2hOb2RlOiBmdW5jdGlvbiBtYXRjaE5vZGUoZSwgdCwgbiwgcikgewogICAgICAgICAgcmV0dXJuIHptKGYsIGUsIHQsIG4sIHIpOwogICAgICAgIH0sCiAgICAgICAgY2FuQXBwbHk6IGZ1bmN0aW9uIGNhbkFwcGx5KGUpIHsKICAgICAgICAgIHJldHVybiBmdW5jdGlvbiAoZSwgdCkgewogICAgICAgICAgICB2YXIgbiwKICAgICAgICAgICAgICAgIHIsCiAgICAgICAgICAgICAgICBvLAogICAgICAgICAgICAgICAgaSwKICAgICAgICAgICAgICAgIGEsCiAgICAgICAgICAgICAgICB1ID0gZS5mb3JtYXR0ZXIuZ2V0KHQpLAogICAgICAgICAgICAgICAgcyA9IGUuZG9tOwogICAgICAgICAgICBpZiAodSkgZm9yIChuID0gZS5zZWxlY3Rpb24uZ2V0U3RhcnQoKSwgciA9IG1mKHMsIG4pLCBpID0gdS5sZW5ndGggLSAxOyAwIDw9IGk7IGktLSkgewogICAgICAgICAgICAgIGlmICghKGEgPSB1W2ldLnNlbGVjdG9yKSB8fCB1W2ldLmRlZmF1bHRCbG9jaykgcmV0dXJuICEwOwoKICAgICAgICAgICAgICBmb3IgKG8gPSByLmxlbmd0aCAtIDE7IDAgPD0gbzsgby0tKSB7CiAgICAgICAgICAgICAgICBpZiAocy5pcyhyW29dLCBhKSkgcmV0dXJuICEwOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgICByZXR1cm4gITE7CiAgICAgICAgICB9KGYsIGUpOwogICAgICAgIH0sCiAgICAgICAgY2xvc2VzdDogZnVuY3Rpb24gY2xvc2VzdChlKSB7CiAgICAgICAgICByZXR1cm4gSG0oZiwgZSk7CiAgICAgICAgfSwKICAgICAgICBhcHBseTogZnVuY3Rpb24gYXBwbHkoZSwgdCwgbikgewogICAgICAgICAgcmV0dXJuIGV2KGYsIGUsIHQsIG4pOwogICAgICAgIH0sCiAgICAgICAgcmVtb3ZlOiBmdW5jdGlvbiByZW1vdmUoZSwgdCwgbiwgcikgewogICAgICAgICAgcmV0dXJuIFloKGYsIGUsIHQsIG4sIHIpOwogICAgICAgIH0sCiAgICAgICAgdG9nZ2xlOiBmdW5jdGlvbiB0b2dnbGUoZSwgdCwgbikgewogICAgICAgICAgcmV0dXJuIG8gPSBlLCBpID0gdCwgYSA9IG4sIHUgPSAociA9IGYpLmZvcm1hdHRlci5nZXQobyksIHZvaWQgKCFqbShyLCBvLCBpLCBhKSB8fCAidG9nZ2xlIiBpbiB1WzBdICYmICF1WzBdLnRvZ2dsZSA/IGV2IDogWWgpKHIsIG8sIGksIGEpOwogICAgICAgICAgdmFyIHIsIG8sIGksIGEsIHU7CiAgICAgICAgfSwKICAgICAgICBmb3JtYXRDaGFuZ2VkOiBmdW5jdGlvbiBmb3JtYXRDaGFuZ2VkKGUsIHQsIG4sIHIpIHsKICAgICAgICAgIHJldHVybiBydihmLCBlLCB0LCBuLCByKTsKICAgICAgICB9CiAgICAgIH0sCiAgICAgIGVkaXRvcjogewogICAgICAgIGdldENvbnRlbnQ6IGZ1bmN0aW9uIGdldENvbnRlbnQoZSwgdCkgewogICAgICAgICAgcmV0dXJuIG4gPSBmLCByID0gZSwgbyA9IHQsIFUuZnJvbShuLmdldEJvZHkoKSkuZm9sZChFKCJ0cmVlIiA9PT0gci5mb3JtYXQgPyBuZXcgS20oImJvZHkiLCAxMSkgOiAiIiksIGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICAgIHJldHVybiBzcChuLCByLCBvLCBlKTsKICAgICAgICAgIH0pOwogICAgICAgICAgdmFyIG4sIHIsIG87CiAgICAgICAgfSwKICAgICAgICBzZXRDb250ZW50OiBmdW5jdGlvbiBzZXRDb250ZW50KGUsIHQpIHsKICAgICAgICAgIHJldHVybiBmaChmLCBlLCB0KTsKICAgICAgICB9LAogICAgICAgIGluc2VydENvbnRlbnQ6IGZ1bmN0aW9uIGluc2VydENvbnRlbnQoZSwgdCkgewogICAgICAgICAgcmV0dXJuIGFoKGYsIGUsIHQpOwogICAgICAgIH0sCiAgICAgICAgYWRkVmlzdWFsOiBmdW5jdGlvbiBhZGRWaXN1YWwoZSkgewogICAgICAgICAgcmV0dXJuIHQgPSBlLCBhID0gKGkgPSBmKS5kb20sIG4gPSBEKHQpID8gdCA6IGkuZ2V0Qm9keSgpLCBSKGkuaGFzVmlzdWFsKSAmJiAoaS5oYXNWaXN1YWwgPSBpLmdldFBhcmFtKCJ2aXN1YWwiLCAhMCwgImJvb2xlYW4iKSksIFcoYS5zZWxlY3QoInRhYmxlLGEiLCBuKSwgZnVuY3Rpb24gKGUpIHsKICAgICAgICAgICAgc3dpdGNoIChlLm5vZGVOYW1lKSB7CiAgICAgICAgICAgICAgY2FzZSAiVEFCTEUiOgogICAgICAgICAgICAgICAgdmFyIHQgPSBpLmdldFBhcmFtKCJ2aXN1YWxfdGFibGVfY2xhc3MiLCAibWNlLWl0ZW0tdGFibGUiLCAic3RyaW5nIiksCiAgICAgICAgICAgICAgICAgICAgbiA9IGEuZ2V0QXR0cmliKGUsICJib3JkZXIiKTsKICAgICAgICAgICAgICAgIG4gJiYgIjAiICE9PSBuIHx8ICFpLmhhc1Zpc3VhbCA/IGEucmVtb3ZlQ2xhc3MoZSwgdCkgOiBhLmFkZENsYXNzKGUsIHQpOwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgIkEiOgogICAgICAgICAgICAgICAgdmFyIHIsIG87CiAgICAgICAgICAgICAgICBhLmdldEF0dHJpYihlLCAiaHJlZiIpIHx8IChyID0gYS5nZXRBdHRyaWIoZSwgIm5hbWUiKSB8fCBlLmlkLCBvID0gaS5nZXRQYXJhbSgidmlzdWFsX2FuY2hvcl9jbGFzcyIsICJtY2UtaXRlbS1hbmNob3IiLCAic3RyaW5nIiksIHIgJiYgaS5oYXNWaXN1YWwgPyBhLmFkZENsYXNzKGUsIG8pIDogYS5yZW1vdmVDbGFzcyhlLCBvKSk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0pLCB2b2lkIGkuZmlyZSgiVmlzdWFsQWlkIiwgewogICAgICAgICAgICBlbGVtZW50OiB0LAogICAgICAgICAgICBoYXNWaXN1YWw6IGkuaGFzVmlzdWFsCiAgICAgICAgICB9KTsKICAgICAgICAgIHZhciBpLCB0LCBhLCBuOwogICAgICAgIH0KICAgICAgfSwKICAgICAgc2VsZWN0aW9uOiB7CiAgICAgICAgZ2V0Q29udGVudDogZnVuY3Rpb24gZ2V0Q29udGVudChlLCB0KSB7CiAgICAgICAgICByZXR1cm4gU3YoZiwgZSwgdCk7CiAgICAgICAgfQogICAgICB9LAogICAgICByYXc6IHsKICAgICAgICBnZXRNb2RlbDogZnVuY3Rpb24gZ2V0TW9kZWwoKSB7CiAgICAgICAgICByZXR1cm4gVS5ub25lKCk7CiAgICAgICAgfQogICAgICB9CiAgICB9OwogIH0sCiAgICAgIGp2ID0gZnVuY3Rpb24ganYoaSwgYSkgewogICAgdmFyIG8gPSBmdW5jdGlvbiBvKGUpIHsKICAgICAgcmV0dXJuIF8oZSkgPyBlIDoge307CiAgICB9LAogICAgICAgIGUgPSBtKCJVbmltcGxlbWVudGVkIGZlYXR1cmUgZm9yIHJ0YyIpOwoKICAgIHJldHVybiB7CiAgICAgIHVuZG9NYW5hZ2VyOiB7CiAgICAgICAgYmVmb3JlQ2hhbmdlOiBWLAogICAgICAgIGFkZFVuZG9MZXZlbDogZSwKICAgICAgICB1bmRvOiBmdW5jdGlvbiB1bmRvKCkgewogICAgICAgICAgcmV0dXJuIGEudW5kbygpLCBVdigpOwogICAgICAgIH0sCiAgICAgICAgcmVkbzogZnVuY3Rpb24gcmVkbygpIHsKICAgICAgICAgIHJldHVybiBhLnJlZG8oKSwgVXYoKTsKICAgICAgICB9LAogICAgICAgIGNsZWFyOiBlLAogICAgICAgIHJlc2V0OiBlLAogICAgICAgIGhhc1VuZG86IGZ1bmN0aW9uIGhhc1VuZG8oKSB7CiAgICAgICAgICByZXR1cm4gYS5oYXNVbmRvKCk7CiAgICAgICAgfSwKICAgICAgICBoYXNSZWRvOiBmdW5jdGlvbiBoYXNSZWRvKCkgewogICAgICAgICAgcmV0dXJuIGEuaGFzUmVkbygpOwogICAgICAgIH0sCiAgICAgICAgdHJhbnNhY3Q6IGZ1bmN0aW9uIHRyYW5zYWN0KGUsIHQsIG4pIHsKICAgICAgICAgIHJldHVybiBhLnRyYW5zYWN0KG4pLCBVdigpOwogICAgICAgIH0sCiAgICAgICAgaWdub3JlOiBlLAogICAgICAgIGV4dHJhOiBlCiAgICAgIH0sCiAgICAgIGZvcm1hdHRlcjogewogICAgICAgIG1hdGNoOiBmdW5jdGlvbiBtYXRjaChlLCB0LCBuKSB7CiAgICAgICAgICByZXR1cm4gYS5tYXRjaEZvcm1hdChlLCBvKHQpKTsKICAgICAgICB9LAogICAgICAgIG1hdGNoQWxsOiBlLAogICAgICAgIG1hdGNoTm9kZTogZSwKICAgICAgICBjYW5BcHBseTogZnVuY3Rpb24gY2FuQXBwbHkoZSkgewogICAgICAgICAgcmV0dXJuIGEuY2FuQXBwbHlGb3JtYXQoZSk7CiAgICAgICAgfSwKICAgICAgICBjbG9zZXN0OiBmdW5jdGlvbiBjbG9zZXN0KGUpIHsKICAgICAgICAgIHJldHVybiBhLmNsb3Nlc3RGb3JtYXQoZSk7CiAgICAgICAgfSwKICAgICAgICBhcHBseTogZnVuY3Rpb24gYXBwbHkoZSwgdCwgbikgewogICAgICAgICAgcmV0dXJuIGEuYXBwbHlGb3JtYXQoZSwgbyh0KSk7CiAgICAgICAgfSwKICAgICAgICByZW1vdmU6IGZ1bmN0aW9uIHJlbW92ZShlLCB0LCBuLCByKSB7CiAgICAgICAgICByZXR1cm4gYS5yZW1vdmVGb3JtYXQoZSwgbyh0KSk7CiAgICAgICAgfSwKICAgICAgICB0b2dnbGU6IGZ1bmN0aW9uIHRvZ2dsZShlLCB0LCBuKSB7CiAgICAgICAgICByZXR1cm4gYS50b2dnbGVGb3JtYXQoZSwgbyh0KSk7CiAgICAgICAgfSwKICAgICAgICBmb3JtYXRDaGFuZ2VkOiBmdW5jdGlvbiBmb3JtYXRDaGFuZ2VkKGUsIHQsIG4sIHIpIHsKICAgICAgICAgIHJldHVybiBhLmZvcm1hdENoYW5nZWQodCwgbiwgcik7CiAgICAgICAgfQogICAgICB9LAogICAgICBlZGl0b3I6IHsKICAgICAgICBnZXRDb250ZW50OiBmdW5jdGlvbiBnZXRDb250ZW50KGUsIHQpIHsKICAgICAgICAgIGlmICgiaHRtbCIgIT09IHQgJiYgInRyZWUiICE9PSB0KSByZXR1cm4genYoaSkuZWRpdG9yLmdldENvbnRlbnQoZSwgdCk7CiAgICAgICAgICB2YXIgbiA9IGEuZ2V0Q29udGVudCgpLAogICAgICAgICAgICAgIHIgPSBKbSh7CiAgICAgICAgICAgIGlubmVyOiAhMAogICAgICAgICAgfSk7CiAgICAgICAgICByZXR1cm4gRnYoaSwgbiksICJ0cmVlIiA9PT0gdCA/IG4gOiByLnNlcmlhbGl6ZShuKTsKICAgICAgICB9LAogICAgICAgIHNldENvbnRlbnQ6IGZ1bmN0aW9uIHNldENvbnRlbnQoZSwgdCkgewogICAgICAgICAgdmFyIG4gPSBNdihlKSA/IGUgOiBpLnBhcnNlci5wYXJzZShlLCB7CiAgICAgICAgICAgIGlzUm9vdENvbnRlbnQ6ICEwLAogICAgICAgICAgICBpbnNlcnQ6ICEwCiAgICAgICAgICB9KTsKICAgICAgICAgIHJldHVybiBhLnNldENvbnRlbnQobiksIGU7CiAgICAgICAgfSwKICAgICAgICBpbnNlcnRDb250ZW50OiBmdW5jdGlvbiBpbnNlcnRDb250ZW50KGUsIHQpIHsKICAgICAgICAgIHZhciBuLAogICAgICAgICAgICAgIHIgPSAobiA9IGksIFUuZnJvbShuLnNlbGVjdGlvbi5nZXRTdGFydCghMCkpLm1hcChmdW5jdGlvbiAoZSkgewogICAgICAgICAgICByZXR1cm4gZS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpOwogICAgICAgICAgfSkuZm9sZChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIHJldHVybiB7fTsKICAgICAgICAgIH0sIGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICAgIHJldHVybiB7CiAgICAgICAgICAgICAgY29udGV4dDogZQogICAgICAgICAgICB9OwogICAgICAgICAgfSkpLAogICAgICAgICAgICAgIG8gPSBNdihlKSA/IGUgOiBpLnBhcnNlci5wYXJzZShlLCBfa2UoX2tlKHt9LCByKSwgewogICAgICAgICAgICBpbnNlcnQ6ICEwCiAgICAgICAgICB9KSk7CiAgICAgICAgICBhLmluc2VydENvbnRlbnQobyk7CiAgICAgICAgfSwKICAgICAgICBhZGRWaXN1YWw6IGZ1bmN0aW9uIGFkZFZpc3VhbChlKSB7fQogICAgICB9LAogICAgICBzZWxlY3Rpb246IHsKICAgICAgICBnZXRDb250ZW50OiBmdW5jdGlvbiBnZXRDb250ZW50KGUsIHQpIHsKICAgICAgICAgIGlmICgiaHRtbCIgIT09IGUgJiYgInRyZWUiICE9PSBlKSByZXR1cm4genYoaSkuc2VsZWN0aW9uLmdldENvbnRlbnQoZSwgdCk7CiAgICAgICAgICB2YXIgbiA9IGEuZ2V0U2VsZWN0ZWRDb250ZW50KCksCiAgICAgICAgICAgICAgciA9IEptKHt9KTsKICAgICAgICAgIHJldHVybiBGdihpLCBuKSwgInRyZWUiID09PSBlID8gbiA6IHIuc2VyaWFsaXplKG4pOwogICAgICAgIH0KICAgICAgfSwKICAgICAgcmF3OiB7CiAgICAgICAgZ2V0TW9kZWw6IGZ1bmN0aW9uIGdldE1vZGVsKCkgewogICAgICAgICAgcmV0dXJuIFUuc29tZShhLmdldFJhd01vZGVsKCkpOwogICAgICAgIH0KICAgICAgfQogICAgfTsKICB9LAogICAgICBIdiA9IGZ1bmN0aW9uIEh2KGUpIHsKICAgIHJldHVybiBoZShlLnBsdWdpbnMsICJydGMiKTsKICB9LAogICAgICBWdiA9IGZ1bmN0aW9uIFZ2KGUpIHsKICAgIHJldHVybiBlLnJ0Y0luc3RhbmNlID8gZS5ydGNJbnN0YW5jZSA6IHp2KGUpOwogIH0sCiAgICAgIHF2ID0gZnVuY3Rpb24gcXYoZSkgewogICAgdmFyIHQgPSBlLnJ0Y0luc3RhbmNlOwogICAgaWYgKHQpIHJldHVybiB0OwogICAgdGhyb3cgbmV3IEVycm9yKCJGYWlsZWQgdG8gZ2V0IFJUQyBpbnN0YW5jZSBub3QgeWV0IGluaXRpYWxpemVkLiIpOwogIH0sCiAgICAgICR2ID0gZnVuY3Rpb24gJHYoZSwgdCkgewogICAgdm9pZCAwID09PSB0ICYmICh0ID0ge30pOwogICAgdmFyIG4sCiAgICAgICAgciwKICAgICAgICBvID0gdC5mb3JtYXQgPyB0LmZvcm1hdCA6ICJodG1sIjsKICAgIHJldHVybiBuID0gbywgciA9IHQsIHF2KGUpLnNlbGVjdGlvbi5nZXRDb250ZW50KG4sIHIpOwogIH0sCiAgICAgIFd2ID0gZnVuY3Rpb24gV3YoZSkgewogICAgcmV0dXJuIDAgPT09IGUuZG9tLmxlbmd0aCA/IChwbihlKSwgVS5ub25lKCkpIDogVS5zb21lKGUpOwogIH0sCiAgICAgIEt2ID0gZnVuY3Rpb24gS3YoZSwgdCwgcywgYykgewogICAgZS5iaW5kKGZ1bmN0aW9uICh1KSB7CiAgICAgIHJldHVybiAoYyA/IHNnIDogdWcpKHUuZG9tLCBjID8gdS5kb20ubGVuZ3RoIDogMCksIHQuZmlsdGVyKFV0KS5tYXAoZnVuY3Rpb24gKGUpIHsKICAgICAgICByZXR1cm4gdCA9IGUsIG4gPSBzLCByID0gYywgbyA9IHUuZG9tLCBpID0gdC5kb20sIGEgPSByID8gby5sZW5ndGggOiBpLmxlbmd0aCwgdm9pZCAociA/IChjZyhvLCBpLCAhMSwgIXIpLCBuLnNldFN0YXJ0KGksIGEpKSA6IChjZyhpLCBvLCAhMSwgIXIpLCBuLnNldEVuZChpLCBhKSkpOwogICAgICAgIHZhciB0LCBuLCByLCBvLCBpLCBhOwogICAgICB9KTsKICAgIH0pLm9yVGh1bmsoZnVuY3Rpb24gKCkgewogICAgICB2YXIgZTsKICAgICAgcmV0dXJuIChlID0gYywgdC5maWx0ZXIoZnVuY3Rpb24gKGUpIHsKICAgICAgICByZXR1cm4gb2QuaXNCb29rbWFya05vZGUoZS5kb20pOwogICAgICB9KS5iaW5kKGUgPyBLdCA6IFd0KS5vcih0KS5maWx0ZXIoVXQpKS5tYXAoZnVuY3Rpb24gKGUpIHsKICAgICAgICByZXR1cm4gciA9IGMsIHZvaWQgJHQobiA9IGUpLmVhY2goZnVuY3Rpb24gKGUpIHsKICAgICAgICAgIHZhciB0ID0gbi5kb207CiAgICAgICAgICByICYmIFFwKGUsICRzKHQsIDApKSA/IHVnKHQsIDApIDogIXIgJiYgWnAoZSwgJHModCwgdC5sZW5ndGgpKSAmJiBzZyh0LCB0Lmxlbmd0aCk7CiAgICAgICAgfSk7CiAgICAgICAgdmFyIG4sIHI7CiAgICAgIH0pOwogICAgfSk7CiAgfSwKICAgICAgWHYgPSBmdW5jdGlvbiBYdihlLCB0LCBuKSB7CiAgICB2b2lkIDAgPT09IG4gJiYgKG4gPSB7fSk7CiAgICB2YXIgciwKICAgICAgICBvLAogICAgICAgIGkgPSAociA9IHQsIF9rZShfa2UoewogICAgICBmb3JtYXQ6ICJodG1sIgogICAgfSwgbiksIHsKICAgICAgc2V0OiAhMCwKICAgICAgc2VsZWN0aW9uOiAhMCwKICAgICAgY29udGVudDogcgogICAgfSkpOwogICAgaS5ub19ldmVudHMgfHwgIShpID0gZS5maXJlKCJCZWZvcmVTZXRDb250ZW50IiwgaSkpLmlzRGVmYXVsdFByZXZlbnRlZCgpID8gKG4uY29udGVudCA9IGZ1bmN0aW9uIChlLCB0KSB7CiAgICAgIGlmICgicmF3IiA9PT0gdC5mb3JtYXQpIHJldHVybiB0LmNvbnRlbnQ7CiAgICAgIHZhciBuID0gZS5zZWxlY3Rpb24uZ2V0Um5nKCksCiAgICAgICAgICByID0gZS5kb20uZ2V0UGFyZW50KG4uY29tbW9uQW5jZXN0b3JDb250YWluZXIsIGUuZG9tLmlzQmxvY2spLAogICAgICAgICAgbyA9IHIgPyB7CiAgICAgICAgY29udGV4dDogci5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpCiAgICAgIH0gOiB7fSwKICAgICAgICAgIGkgPSBlLnBhcnNlci5wYXJzZSh0LmNvbnRlbnQsIF9rZShfa2UoewogICAgICAgIGlzUm9vdENvbnRlbnQ6ICEwLAogICAgICAgIGZvcmNlZF9yb290X2Jsb2NrOiAhMQogICAgICB9LCBvKSwgdCkpOwogICAgICByZXR1cm4gSm0oewogICAgICAgIHZhbGlkYXRlOiBlLnZhbGlkYXRlCiAgICAgIH0sIGUuc2NoZW1hKS5zZXJpYWxpemUoaSk7CiAgICB9KGUsIGkpLCBmdW5jdGlvbiAoZSwgdCkgewogICAgICB2YXIgbiA9IFUuZnJvbSh0LmZpcnN0Q2hpbGQpLm1hcChBdC5mcm9tRG9tKSwKICAgICAgICAgIHIgPSBVLmZyb20odC5sYXN0Q2hpbGQpLm1hcChBdC5mcm9tRG9tKTsKICAgICAgZS5kZWxldGVDb250ZW50cygpLCBlLmluc2VydE5vZGUodCk7CiAgICAgIHZhciBvID0gbi5iaW5kKFd0KS5maWx0ZXIoVXQpLmJpbmQoV3YpLAogICAgICAgICAgaSA9IHIuYmluZChLdCkuZmlsdGVyKFV0KS5iaW5kKFd2KTsKICAgICAgS3YobywgbiwgZSwgITApLCBLdihpLCByLCBlLCAhMSksIGUuY29sbGFwc2UoITEpOwogICAgfShvID0gZS5zZWxlY3Rpb24uZ2V0Um5nKCksIG8uY3JlYXRlQ29udGV4dHVhbEZyYWdtZW50KG4uY29udGVudCkpLCBlLnNlbGVjdGlvbi5zZXRSbmcobyksIFhkKGUsIG8pLCBpLm5vX2V2ZW50cyB8fCBlLmZpcmUoIlNldENvbnRlbnQiLCBpKSkgOiBlLmZpcmUoIlNldENvbnRlbnQiLCBpKTsKICB9LAogICAgICBZdiA9IGZ1bmN0aW9uIFl2KGUsIHQsIG4pIHsKICAgIHZhciByOwogICAgZSAmJiBlLmhhc093blByb3BlcnR5KHQpICYmICgwID09PSAociA9IEgoZVt0XSwgZnVuY3Rpb24gKGUpIHsKICAgICAgcmV0dXJuIGUgIT09IG47CiAgICB9KSkubGVuZ3RoID8gZGVsZXRlIGVbdF0gOiBlW3RdID0gcik7CiAgfTsKCiAgdmFyIEd2ID0gZnVuY3Rpb24gR3YoZSkgewogICAgcmV0dXJuICEhZS5zZWxlY3Q7CiAgfSwKICAgICAgSnYgPSBmdW5jdGlvbiBKdihlKSB7CiAgICByZXR1cm4gISghZSB8fCAhZS5vd25lckRvY3VtZW50KSAmJiBQdChBdC5mcm9tRG9tKGUub3duZXJEb2N1bWVudCksIEF0LmZyb21Eb20oZSkpOwogIH0sCiAgICAgIFF2ID0gZnVuY3Rpb24gUXYodSwgcywgZSwgYykgewogICAgdmFyIGwsCiAgICAgICAgZiwKICAgICAgICBpLAogICAgICAgIG4sCiAgICAgICAgYSwKICAgICAgICBkLAogICAgICAgIHIgPSBmdW5jdGlvbiByKGUsIHQpIHsKICAgICAgcmV0dXJuIGEgfHwgKGEgPSB7fSwgZCA9IHt9LCBuLm9uKCJOb2RlQ2hhbmdlIiwgZnVuY3Rpb24gKGUpIHsKICAgICAgICB2YXIgbiA9IGUuZWxlbWVudCwKICAgICAgICAgICAgciA9IGkuZ2V0UGFyZW50cyhuLCBudWxsLCBpLmdldFJvb3QoKSksCiAgICAgICAgICAgIG8gPSB7fTsKICAgICAgICBrdC5lYWNoKGEsIGZ1bmN0aW9uIChlLCBuKSB7CiAgICAgICAgICBrdC5lYWNoKHIsIGZ1bmN0aW9uICh0KSB7CiAgICAgICAgICAgIGlmIChpLmlzKHQsIG4pKSByZXR1cm4gZFtuXSB8fCAoa3QuZWFjaChlLCBmdW5jdGlvbiAoZSkgewogICAgICAgICAgICAgIGUoITAsIHsKICAgICAgICAgICAgICAgIG5vZGU6IHQsCiAgICAgICAgICAgICAgICBzZWxlY3RvcjogbiwKICAgICAgICAgICAgICAgIHBhcmVudHM6IHIKICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfSksIGRbbl0gPSBlKSwgb1tuXSA9IGUsICExOwogICAgICAgICAgfSk7CiAgICAgICAgfSksIGt0LmVhY2goZCwgZnVuY3Rpb24gKGUsIHQpIHsKICAgICAgICAgIG9bdF0gfHwgKGRlbGV0ZSBkW3RdLCBrdC5lYWNoKGUsIGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICAgIGUoITEsIHsKICAgICAgICAgICAgICBub2RlOiBuLAogICAgICAgICAgICAgIHNlbGVjdG9yOiB0LAogICAgICAgICAgICAgIHBhcmVudHM6IHIKICAgICAgICAgICAgfSk7CiAgICAgICAgICB9KSk7CiAgICAgICAgfSk7CiAgICAgIH0pKSwgYVtlXSB8fCAoYVtlXSA9IFtdKSwgYVtlXS5wdXNoKHQpLCB7CiAgICAgICAgdW5iaW5kOiBmdW5jdGlvbiB1bmJpbmQoKSB7CiAgICAgICAgICBZdihhLCBlLCB0KSwgWXYoZCwgZSwgdCk7CiAgICAgICAgfQogICAgICB9OwogICAgfSwKICAgICAgICB0ID0gZnVuY3Rpb24gdChlLCBfdDIpIHsKICAgICAgcmV0dXJuIFh2KGMsIGUsIF90Mik7CiAgICB9LAogICAgICAgIG8gPSBmdW5jdGlvbiBvKGUpIHsKICAgICAgdmFyIHQgPSBwKCk7CiAgICAgIHQuY29sbGFwc2UoISFlKSwgZyh0KTsKICAgIH0sCiAgICAgICAgbSA9IGZ1bmN0aW9uIG0oKSB7CiAgICAgIHJldHVybiBzLmdldFNlbGVjdGlvbiA/IHMuZ2V0U2VsZWN0aW9uKCkgOiBzLmRvY3VtZW50LnNlbGVjdGlvbjsKICAgIH0sCiAgICAgICAgcCA9IGZ1bmN0aW9uIHAoKSB7CiAgICAgIHZhciBlLAogICAgICAgICAgdCwKICAgICAgICAgIG4sCiAgICAgICAgICByID0gZnVuY3Rpb24gcihlLCB0LCBuKSB7CiAgICAgICAgdHJ5IHsKICAgICAgICAgIHJldHVybiB0LmNvbXBhcmVCb3VuZGFyeVBvaW50cyhlLCBuKTsKICAgICAgICB9IGNhdGNoIChyKSB7CiAgICAgICAgICByZXR1cm4gLTE7CiAgICAgICAgfQogICAgICB9OwoKICAgICAgaWYgKCFzKSByZXR1cm4gbnVsbDsKICAgICAgdmFyIG8gPSBzLmRvY3VtZW50OwogICAgICBpZiAobnVsbCA9PSBvKSByZXR1cm4gbnVsbDsKCiAgICAgIGlmIChjLmJvb2ttYXJrICE9PSB1bmRlZmluZWQgJiYgITEgPT09IEVtKGMpKSB7CiAgICAgICAgdmFyIGkgPSBkbShjKTsKICAgICAgICBpZiAoaS5pc1NvbWUoKSkgcmV0dXJuIGkubWFwKGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICByZXR1cm4gT20oYywgW2VdKVswXTsKICAgICAgICB9KS5nZXRPcihvLmNyZWF0ZVJhbmdlKCkpOwogICAgICB9CgogICAgICB0cnkgewogICAgICAgIChlID0gbSgpKSAmJiAhX24oZS5hbmNob3JOb2RlKSAmJiAodCA9IDAgPCBlLnJhbmdlQ291bnQgPyBlLmdldFJhbmdlQXQoMCkgOiBlLmNyZWF0ZVJhbmdlID8gZS5jcmVhdGVSYW5nZSgpIDogby5jcmVhdGVSYW5nZSgpLCB0ID0gT20oYywgW3RdKVswXSk7CiAgICAgIH0gY2F0Y2ggKGEpIHt9CgogICAgICByZXR1cm4gKHQgPSB0IHx8IChvLmNyZWF0ZVJhbmdlID8gby5jcmVhdGVSYW5nZSgpIDogby5ib2R5LmNyZWF0ZVRleHRSYW5nZSgpKSkuc2V0U3RhcnQgJiYgOSA9PT0gdC5zdGFydENvbnRhaW5lci5ub2RlVHlwZSAmJiB0LmNvbGxhcHNlZCAmJiAobiA9IHUuZ2V0Um9vdCgpLCB0LnNldFN0YXJ0KG4sIDApLCB0LnNldEVuZChuLCAwKSksIGwgJiYgZiAmJiAoMCA9PT0gcih0LlNUQVJUX1RPX1NUQVJULCB0LCBsKSAmJiAwID09PSByKHQuRU5EX1RPX0VORCwgdCwgbCkgPyB0ID0gZiA6IGYgPSBsID0gbnVsbCksIHQ7CiAgICB9LAogICAgICAgIGcgPSBmdW5jdGlvbiBnKGUsIHQpIHsKICAgICAgdmFyIG47CgogICAgICBpZiAoKHIgPSBlKSAmJiAoR3YocikgfHwgSnYoci5zdGFydENvbnRhaW5lcikgJiYgSnYoci5lbmRDb250YWluZXIpKSkgewogICAgICAgIHZhciByLAogICAgICAgICAgICBvID0gR3YoZSkgPyBlIDogbnVsbDsKCiAgICAgICAgaWYgKG8pIHsKICAgICAgICAgIGYgPSBudWxsOwoKICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgIG8uc2VsZWN0KCk7CiAgICAgICAgICB9IGNhdGNoIChhKSB7fQogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB2YXIgaSA9IG0oKTsKCiAgICAgICAgICBpZiAoZSA9IGMuZmlyZSgiU2V0U2VsZWN0aW9uUmFuZ2UiLCB7CiAgICAgICAgICAgIHJhbmdlOiBlLAogICAgICAgICAgICBmb3J3YXJkOiB0CiAgICAgICAgICB9KS5yYW5nZSwgaSkgewogICAgICAgICAgICBmID0gZTsKCiAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgaS5yZW1vdmVBbGxSYW5nZXMoKSwgaS5hZGRSYW5nZShlKTsKICAgICAgICAgICAgfSBjYXRjaCAoYSkge30KCiAgICAgICAgICAgICExID09PSB0ICYmIGkuZXh0ZW5kICYmIChpLmNvbGxhcHNlKGUuZW5kQ29udGFpbmVyLCBlLmVuZE9mZnNldCksIGkuZXh0ZW5kKGUuc3RhcnRDb250YWluZXIsIGUuc3RhcnRPZmZzZXQpKSwgbCA9IDAgPCBpLnJhbmdlQ291bnQgPyBpLmdldFJhbmdlQXQoMCkgOiBudWxsOwogICAgICAgICAgfQoKICAgICAgICAgIGUuY29sbGFwc2VkIHx8IGUuc3RhcnRDb250YWluZXIgIT09IGUuZW5kQ29udGFpbmVyIHx8ICFpLnNldEJhc2VBbmRFeHRlbnQgfHwgd3QuaWUgfHwgZS5lbmRPZmZzZXQgLSBlLnN0YXJ0T2Zmc2V0IDwgMiAmJiBlLnN0YXJ0Q29udGFpbmVyLmhhc0NoaWxkTm9kZXMoKSAmJiAobiA9IGUuc3RhcnRDb250YWluZXIuY2hpbGROb2Rlc1tlLnN0YXJ0T2Zmc2V0XSkgJiYgIklNRyIgPT09IG4udGFnTmFtZSAmJiAoaS5zZXRCYXNlQW5kRXh0ZW50KGUuc3RhcnRDb250YWluZXIsIGUuc3RhcnRPZmZzZXQsIGUuZW5kQ29udGFpbmVyLCBlLmVuZE9mZnNldCksIGkuYW5jaG9yTm9kZSA9PT0gZS5zdGFydENvbnRhaW5lciAmJiBpLmZvY3VzTm9kZSA9PT0gZS5lbmRDb250YWluZXIgfHwgaS5zZXRCYXNlQW5kRXh0ZW50KG4sIDAsIG4sIDEpKSwgYy5maXJlKCJBZnRlclNldFNlbGVjdGlvblJhbmdlIiwgewogICAgICAgICAgICByYW5nZTogZSwKICAgICAgICAgICAgZm9yd2FyZDogdAogICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICB9CiAgICB9LAogICAgICAgIGggPSBmdW5jdGlvbiBoKCkgewogICAgICB2YXIgZSA9IG0oKSwKICAgICAgICAgIHQgPSBudWxsID09IGUgPyB2b2lkIDAgOiBlLmFuY2hvck5vZGUsCiAgICAgICAgICBuID0gbnVsbCA9PSBlID8gdm9pZCAwIDogZS5mb2N1c05vZGU7CiAgICAgIGlmICghZSB8fCAhdCB8fCAhbiB8fCBfbih0KSB8fCBfbihuKSkgcmV0dXJuICEwOwogICAgICB2YXIgciA9IHUuY3JlYXRlUm5nKCk7CiAgICAgIHIuc2V0U3RhcnQodCwgZS5hbmNob3JPZmZzZXQpLCByLmNvbGxhcHNlKCEwKTsKICAgICAgdmFyIG8gPSB1LmNyZWF0ZVJuZygpOwogICAgICByZXR1cm4gby5zZXRTdGFydChuLCBlLmZvY3VzT2Zmc2V0KSwgby5jb2xsYXBzZSghMCksIHIuY29tcGFyZUJvdW5kYXJ5UG9pbnRzKHIuU1RBUlRfVE9fU1RBUlQsIG8pIDw9IDA7CiAgICB9LAogICAgICAgIHYgPSB7CiAgICAgIGJvb2ttYXJrTWFuYWdlcjogbnVsbCwKICAgICAgY29udHJvbFNlbGVjdGlvbjogbnVsbCwKICAgICAgZG9tOiBpID0gdSwKICAgICAgd2luOiBzLAogICAgICBzZXJpYWxpemVyOiBlLAogICAgICBlZGl0b3I6IG4gPSBjLAogICAgICBjb2xsYXBzZTogbywKICAgICAgc2V0Q3Vyc29yTG9jYXRpb246IGZ1bmN0aW9uIHNldEN1cnNvckxvY2F0aW9uKGUsIHQpIHsKICAgICAgICB2YXIgbiA9IHUuY3JlYXRlUm5nKCk7CiAgICAgICAgZSA/IChuLnNldFN0YXJ0KGUsIHQpLCBuLnNldEVuZChlLCB0KSwgZyhuKSwgbyghMSkpIDogKEhmKHUsIG4sIGMuZ2V0Qm9keSgpLCAhMCksIGcobikpOwogICAgICB9LAogICAgICBnZXRDb250ZW50OiBmdW5jdGlvbiBnZXRDb250ZW50KGUpIHsKICAgICAgICByZXR1cm4gJHYoYywgZSk7CiAgICAgIH0sCiAgICAgIHNldENvbnRlbnQ6IHQsCiAgICAgIGdldEJvb2ttYXJrOiBmdW5jdGlvbiBnZXRCb29rbWFyayhlLCB0KSB7CiAgICAgICAgcmV0dXJuIHkuZ2V0Qm9va21hcmsoZSwgdCk7CiAgICAgIH0sCiAgICAgIG1vdmVUb0Jvb2ttYXJrOiBmdW5jdGlvbiBtb3ZlVG9Cb29rbWFyayhlKSB7CiAgICAgICAgcmV0dXJuIHkubW92ZVRvQm9va21hcmsoZSk7CiAgICAgIH0sCiAgICAgIHNlbGVjdDogZnVuY3Rpb24gc2VsZWN0KGUsIHQpIHsKICAgICAgICB2YXIgciwgbiwgbzsKICAgICAgICByZXR1cm4gciA9IHUsIG4gPSBlLCBvID0gdCwgVS5mcm9tKG4pLm1hcChmdW5jdGlvbiAoZSkgewogICAgICAgICAgdmFyIHQgPSByLm5vZGVJbmRleChlKSwKICAgICAgICAgICAgICBuID0gci5jcmVhdGVSbmcoKTsKICAgICAgICAgIHJldHVybiBuLnNldFN0YXJ0KGUucGFyZW50Tm9kZSwgdCksIG4uc2V0RW5kKGUucGFyZW50Tm9kZSwgdCArIDEpLCBvICYmIChIZihyLCBuLCBlLCAhMCksIEhmKHIsIG4sIGUsICExKSksIG47CiAgICAgICAgfSkuZWFjaChnKSwgZTsKICAgICAgfSwKICAgICAgaXNDb2xsYXBzZWQ6IGZ1bmN0aW9uIGlzQ29sbGFwc2VkKCkgewogICAgICAgIHZhciBlID0gcCgpLAogICAgICAgICAgICB0ID0gbSgpOwogICAgICAgIHJldHVybiAhKCFlIHx8IGUuaXRlbSkgJiYgKGUuY29tcGFyZUVuZFBvaW50cyA/IDAgPT09IGUuY29tcGFyZUVuZFBvaW50cygiU3RhcnRUb0VuZCIsIGUpIDogIXQgfHwgZS5jb2xsYXBzZWQpOwogICAgICB9LAogICAgICBpc0ZvcndhcmQ6IGgsCiAgICAgIHNldE5vZGU6IGZ1bmN0aW9uIHNldE5vZGUoZSkgewogICAgICAgIHJldHVybiB0KHUuZ2V0T3V0ZXJIVE1MKGUpKSwgZTsKICAgICAgfSwKICAgICAgZ2V0Tm9kZTogZnVuY3Rpb24gZ2V0Tm9kZSgpIHsKICAgICAgICByZXR1cm4gZnVuY3Rpb24gKGUsIHQpIHsKICAgICAgICAgIHZhciBuLCByOwogICAgICAgICAgaWYgKCF0KSByZXR1cm4gZTsKICAgICAgICAgIG4gPSB0LnN0YXJ0Q29udGFpbmVyLCByID0gdC5lbmRDb250YWluZXI7CiAgICAgICAgICB2YXIgbyA9IHQuc3RhcnRPZmZzZXQsCiAgICAgICAgICAgICAgaSA9IHQuZW5kT2Zmc2V0LAogICAgICAgICAgICAgIGEgPSB0LmNvbW1vbkFuY2VzdG9yQ29udGFpbmVyOwogICAgICAgICAgcmV0dXJuICF0LmNvbGxhcHNlZCAmJiAobiA9PT0gciAmJiBpIC0gbyA8IDIgJiYgbi5oYXNDaGlsZE5vZGVzKCkgJiYgKGEgPSBuLmNoaWxkTm9kZXNbb10pLCAzID09PSBuLm5vZGVUeXBlICYmIDMgPT09IHIubm9kZVR5cGUgJiYgKG4gPSBuLmxlbmd0aCA9PT0gbyA/IERtKG4ubmV4dFNpYmxpbmcsICEwKSA6IG4ucGFyZW50Tm9kZSwgciA9IDAgPT09IGkgPyBEbShyLnByZXZpb3VzU2libGluZywgITEpIDogci5wYXJlbnROb2RlLCBuICYmIG4gPT09IHIpKSA/IG4gOiBhICYmIDMgPT09IGEubm9kZVR5cGUgPyBhLnBhcmVudE5vZGUgOiBhOwogICAgICAgIH0oYy5nZXRCb2R5KCksIHAoKSk7CiAgICAgIH0sCiAgICAgIGdldFNlbDogbSwKICAgICAgc2V0Um5nOiBnLAogICAgICBnZXRSbmc6IHAsCiAgICAgIGdldFN0YXJ0OiBmdW5jdGlvbiBnZXRTdGFydChlKSB7CiAgICAgICAgcmV0dXJuIFJtKGMuZ2V0Qm9keSgpLCBwKCksIGUpOwogICAgICB9LAogICAgICBnZXRFbmQ6IGZ1bmN0aW9uIGdldEVuZChlKSB7CiAgICAgICAgcmV0dXJuIFRtKGMuZ2V0Qm9keSgpLCBwKCksIGUpOwogICAgICB9LAogICAgICBnZXRTZWxlY3RlZEJsb2NrczogZnVuY3Rpb24gZ2V0U2VsZWN0ZWRCbG9ja3MoZSwgdCkgewogICAgICAgIHJldHVybiBmdW5jdGlvbiAoZSwgdCwgbiwgcikgewogICAgICAgICAgdmFyIG8sCiAgICAgICAgICAgICAgaSA9IFtdLAogICAgICAgICAgICAgIGEgPSBlLmdldFJvb3QoKTsKICAgICAgICAgIGlmIChuID0gZS5nZXRQYXJlbnQobiB8fCBSbShhLCB0LCB0LmNvbGxhcHNlZCksIGUuaXNCbG9jayksIHIgPSBlLmdldFBhcmVudChyIHx8IFRtKGEsIHQsIHQuY29sbGFwc2VkKSwgZS5pc0Jsb2NrKSwgbiAmJiBuICE9PSBhICYmIGkucHVzaChuKSwgbiAmJiByICYmIG4gIT09IHIpIGZvciAodmFyIHUgPSBuZXcgWHIobyA9IG4sIGEpOyAobyA9IHUubmV4dCgpKSAmJiBvICE9PSByOykgewogICAgICAgICAgICBlLmlzQmxvY2sobykgJiYgaS5wdXNoKG8pOwogICAgICAgICAgfQogICAgICAgICAgcmV0dXJuIHIgJiYgbiAhPT0gciAmJiByICE9PSBhICYmIGkucHVzaChyKSwgaTsKICAgICAgICB9KHUsIHAoKSwgZSwgdCk7CiAgICAgIH0sCiAgICAgIG5vcm1hbGl6ZTogZnVuY3Rpb24gbm9ybWFsaXplKCkgewogICAgICAgIHZhciBlID0gcCgpLAogICAgICAgICAgICB0ID0gbSgpOwogICAgICAgIGlmICgxIDwgTGYodCkubGVuZ3RoIHx8ICFWZihjKSkgcmV0dXJuIGU7CiAgICAgICAgdmFyIG4gPSB5ZCh1LCBlKTsKICAgICAgICByZXR1cm4gbi5lYWNoKGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICBnKGUsIGgoKSk7CiAgICAgICAgfSksIG4uZ2V0T3IoZSk7CiAgICAgIH0sCiAgICAgIHNlbGVjdG9yQ2hhbmdlZDogZnVuY3Rpb24gc2VsZWN0b3JDaGFuZ2VkKGUsIHQpIHsKICAgICAgICByZXR1cm4gcihlLCB0KSwgdjsKICAgICAgfSwKICAgICAgc2VsZWN0b3JDaGFuZ2VkV2l0aFVuYmluZDogciwKICAgICAgZ2V0U2Nyb2xsQ29udGFpbmVyOiBmdW5jdGlvbiBnZXRTY3JvbGxDb250YWluZXIoKSB7CiAgICAgICAgZm9yICh2YXIgZSwgdCA9IHUuZ2V0Um9vdCgpOyB0ICYmICJCT0RZIiAhPT0gdC5ub2RlTmFtZTspIHsKICAgICAgICAgIGlmICh0LnNjcm9sbEhlaWdodCA+IHQuY2xpZW50SGVpZ2h0KSB7CiAgICAgICAgICAgIGUgPSB0OwogICAgICAgICAgICBicmVhazsKICAgICAgICAgIH0KCiAgICAgICAgICB0ID0gdC5wYXJlbnROb2RlOwogICAgICAgIH0KCiAgICAgICAgcmV0dXJuIGU7CiAgICAgIH0sCiAgICAgIHNjcm9sbEludG9WaWV3OiBmdW5jdGlvbiBzY3JvbGxJbnRvVmlldyhlLCB0KSB7CiAgICAgICAgcmV0dXJuIHIgPSBlLCBvID0gdCwgdm9pZCAoKG4gPSBjKS5pbmxpbmUgPyAkZCA6IEtkKShuLCByLCBvKTsKICAgICAgICB2YXIgbiwgciwgbzsKICAgICAgfSwKICAgICAgcGxhY2VDYXJldEF0OiBmdW5jdGlvbiBwbGFjZUNhcmV0QXQoZSwgdCkgewogICAgICAgIHJldHVybiBnKGZkKGUsIHQsIGMuZ2V0RG9jKCkpKTsKICAgICAgfSwKICAgICAgZ2V0Qm91bmRpbmdDbGllbnRSZWN0OiBmdW5jdGlvbiBnZXRCb3VuZGluZ0NsaWVudFJlY3QoKSB7CiAgICAgICAgdmFyIGUgPSBwKCk7CiAgICAgICAgcmV0dXJuIGUuY29sbGFwc2VkID8gJHMuZnJvbVJhbmdlU3RhcnQoZSkuZ2V0Q2xpZW50UmVjdHMoKVswXSA6IGUuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7CiAgICAgIH0sCiAgICAgIGRlc3Ryb3k6IGZ1bmN0aW9uIGRlc3Ryb3koKSB7CiAgICAgICAgcyA9IGwgPSBmID0gbnVsbCwgYi5kZXN0cm95KCk7CiAgICAgIH0KICAgIH0sCiAgICAgICAgeSA9IG9kKHYpLAogICAgICAgIGIgPSBjZCh2LCBjKTsKCiAgICByZXR1cm4gdi5ib29rbWFya01hbmFnZXIgPSB5LCB2LmNvbnRyb2xTZWxlY3Rpb24gPSBiLCB2OwogIH0sCiAgICAgIFp2ID0gZnVuY3Rpb24gWnYoZSwgYSwgdSkgewogICAgZS5hZGROb2RlRmlsdGVyKCJmb250IiwgZnVuY3Rpb24gKGUpIHsKICAgICAgVyhlLCBmdW5jdGlvbiAoZSkgewogICAgICAgIHZhciB0LAogICAgICAgICAgICBuID0gYS5wYXJzZShlLmF0dHIoInN0eWxlIikpLAogICAgICAgICAgICByID0gZS5hdHRyKCJjb2xvciIpLAogICAgICAgICAgICBvID0gZS5hdHRyKCJmYWNlIiksCiAgICAgICAgICAgIGkgPSBlLmF0dHIoInNpemUiKTsKICAgICAgICByICYmIChuLmNvbG9yID0gciksIG8gJiYgKG5bImZvbnQtZmFtaWx5Il0gPSBvKSwgaSAmJiAoblsiZm9udC1zaXplIl0gPSB1W3BhcnNlSW50KGUuYXR0cigic2l6ZSIpLCAxMCkgLSAxXSksIGUubmFtZSA9ICJzcGFuIiwgZS5hdHRyKCJzdHlsZSIsIGEuc2VyaWFsaXplKG4pKSwgdCA9IGUsIFcoWyJjb2xvciIsICJmYWNlIiwgInNpemUiXSwgZnVuY3Rpb24gKGUpIHsKICAgICAgICAgIHQuYXR0cihlLCBudWxsKTsKICAgICAgICB9KTsKICAgICAgfSk7CiAgICB9KTsKICB9LAogICAgICBleSA9IGZ1bmN0aW9uIGV5KGUsIHQpIHsKICAgIHZhciBuLAogICAgICAgIHIgPSB4aSgpOwogICAgdC5jb252ZXJ0X2ZvbnRzX3RvX3NwYW5zICYmIFp2KGUsIHIsIGt0LmV4cGxvZGUodC5mb250X3NpemVfbGVnYWN5X3ZhbHVlcykpLCBuID0gciwgZS5hZGROb2RlRmlsdGVyKCJzdHJpa2UiLCBmdW5jdGlvbiAoZSkgewogICAgICBXKGUsIGZ1bmN0aW9uIChlKSB7CiAgICAgICAgdmFyIHQgPSBuLnBhcnNlKGUuYXR0cigic3R5bGUiKSk7CiAgICAgICAgdFsidGV4dC1kZWNvcmF0aW9uIl0gPSAibGluZS10aHJvdWdoIiwgZS5uYW1lID0gInNwYW4iLCBlLmF0dHIoInN0eWxlIiwgbi5zZXJpYWxpemUodCkpOwogICAgICB9KTsKICAgIH0pOwogIH0sCiAgICAgIHR5ID0gZnVuY3Rpb24gdHkoZSkgewogICAgdmFyIHQsCiAgICAgICAgbiA9IGRlY29kZVVSSUNvbXBvbmVudChlKS5zcGxpdCgiLCIpLAogICAgICAgIHIgPSAvZGF0YTooW147XSspLy5leGVjKG5bMF0pOwogICAgcmV0dXJuIHIgJiYgKHQgPSByWzFdKSwgewogICAgICB0eXBlOiB0LAogICAgICBkYXRhOiBuWzFdCiAgICB9OwogIH0sCiAgICAgIG55ID0gZnVuY3Rpb24gbnkoZSwgdCkgewogICAgdmFyIG47CgogICAgdHJ5IHsKICAgICAgbiA9IGF0b2IodCk7CiAgICB9IGNhdGNoIChPaykgewogICAgICByZXR1cm4gVS5ub25lKCk7CiAgICB9CgogICAgZm9yICh2YXIgciA9IG5ldyBVaW50OEFycmF5KG4ubGVuZ3RoKSwgbyA9IDA7IG8gPCByLmxlbmd0aDsgbysrKSB7CiAgICAgIHJbb10gPSBuLmNoYXJDb2RlQXQobyk7CiAgICB9CgogICAgcmV0dXJuIFUuc29tZShuZXcgQmxvYihbcl0sIHsKICAgICAgdHlwZTogZQogICAgfSkpOwogIH0sCiAgICAgIHJ5ID0gZnVuY3Rpb24gcnkoZSkgewogICAgcmV0dXJuIDAgPT09IGUuaW5kZXhPZigiYmxvYjoiKSA/IChpID0gZSwgbmV3IEJyKGZ1bmN0aW9uIChlLCB0KSB7CiAgICAgIHZhciBuID0gZnVuY3Rpb24gbigpIHsKICAgICAgICB0KCJDYW5ub3QgY29udmVydCAiICsgaSArICIgdG8gQmxvYi4gUmVzb3VyY2UgbWlnaHQgbm90IGV4aXN0IG9yIGlzIGluYWNjZXNzaWJsZS4iKTsKICAgICAgfTsKCiAgICAgIHRyeSB7CiAgICAgICAgdmFyIHIgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTsKICAgICAgICByLm9wZW4oIkdFVCIsIGksICEwKSwgci5yZXNwb25zZVR5cGUgPSAiYmxvYiIsIHIub25sb2FkID0gZnVuY3Rpb24gKCkgewogICAgICAgICAgMjAwID09PSB0aGlzLnN0YXR1cyA/IGUodGhpcy5yZXNwb25zZSkgOiBuKCk7CiAgICAgICAgfSwgci5vbmVycm9yID0gbiwgci5zZW5kKCk7CiAgICAgIH0gY2F0Y2ggKG8pIHsKICAgICAgICBuKCk7CiAgICAgIH0KICAgIH0pKSA6IDAgPT09IGUuaW5kZXhPZigiZGF0YToiKSA/IChvID0gZSwgbmV3IEJyKGZ1bmN0aW9uIChlKSB7CiAgICAgIHZhciB0ID0gdHkobyksCiAgICAgICAgICBuID0gdC50eXBlLAogICAgICAgICAgciA9IHQuZGF0YTsKICAgICAgbnkobiwgcikuZm9sZChmdW5jdGlvbiAoKSB7CiAgICAgICAgcmV0dXJuIGUobmV3IEJsb2IoW10pKTsKICAgICAgfSwgZSk7CiAgICB9KSkgOiBudWxsOwogICAgdmFyIGksIG87CiAgfSwKICAgICAgb3kgPSAwLAogICAgICBpeSA9IGZ1bmN0aW9uIGl5KGUpIHsKICAgIHJldHVybiAoZSB8fCAiYmxvYmlkIikgKyBveSsrOwogIH0sCiAgICAgIGF5ID0gZnVuY3Rpb24gYXkociwgbywgaSwgdCkgewogICAgdmFyIGUsIG4sIGEsIHUsIHM7CiAgICAwICE9PSBvLnNyYy5pbmRleE9mKCJibG9iOiIpID8gKG4gPSAoZSA9IHR5KG8uc3JjKSkuZGF0YSwgYSA9IGUudHlwZSwgdSA9IG4sIChzID0gci5nZXRCeURhdGEodSwgYSkpID8gaSh7CiAgICAgIGltYWdlOiBvLAogICAgICBibG9iSW5mbzogcwogICAgfSkgOiByeShvLnNyYykudGhlbihmdW5jdGlvbiAoZSkgewogICAgICBzID0gci5jcmVhdGUoaXkoKSwgZSwgdSksIHIuYWRkKHMpLCBpKHsKICAgICAgICBpbWFnZTogbywKICAgICAgICBibG9iSW5mbzogcwogICAgICB9KTsKICAgIH0sIGZ1bmN0aW9uIChlKSB7CiAgICAgIHQoZSk7CiAgICB9KSkgOiAocyA9IHIuZ2V0QnlVcmkoby5zcmMpKSA/IGkoewogICAgICBpbWFnZTogbywKICAgICAgYmxvYkluZm86IHMKICAgIH0pIDogcnkoby5zcmMpLnRoZW4oZnVuY3Rpb24gKHQpIHsKICAgICAgdmFyIG47CiAgICAgIG4gPSB0LCBuZXcgQnIoZnVuY3Rpb24gKGUpIHsKICAgICAgICB2YXIgdCA9IG5ldyBGaWxlUmVhZGVyKCk7CiAgICAgICAgdC5vbmxvYWRlbmQgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgICBlKHQucmVzdWx0KTsKICAgICAgICB9LCB0LnJlYWRBc0RhdGFVUkwobik7CiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKGUpIHsKICAgICAgICB1ID0gdHkoZSkuZGF0YSwgcyA9IHIuY3JlYXRlKGl5KCksIHQsIHUpLCByLmFkZChzKSwgaSh7CiAgICAgICAgICBpbWFnZTogbywKICAgICAgICAgIGJsb2JJbmZvOiBzCiAgICAgICAgfSk7CiAgICAgIH0pOwogICAgfSwgZnVuY3Rpb24gKGUpIHsKICAgICAgdChlKTsKICAgIH0pOwogIH07CgogIGZ1bmN0aW9uIHV5KGksIGEpIHsKICAgIHZhciB1ID0ge307CiAgICByZXR1cm4gewogICAgICBmaW5kQWxsOiBmdW5jdGlvbiBmaW5kQWxsKGUsIG4pIHsKICAgICAgICBuID0gbiB8fCBrOwogICAgICAgIHZhciB0LAogICAgICAgICAgICByID0gSCgodCA9IGUpID8gb2UodC5nZXRFbGVtZW50c0J5VGFnTmFtZSgiaW1nIikpIDogW10sIGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICB2YXIgdCA9IGUuc3JjOwogICAgICAgICAgcmV0dXJuICEhd3QuZmlsZUFwaSAmJiAhZS5oYXNBdHRyaWJ1dGUoImRhdGEtbWNlLWJvZ3VzIikgJiYgIWUuaGFzQXR0cmlidXRlKCJkYXRhLW1jZS1wbGFjZWhvbGRlciIpICYmICEoIXQgfHwgdCA9PT0gd3QudHJhbnNwYXJlbnRTcmMpICYmICgwID09PSB0LmluZGV4T2YoImJsb2I6IikgPyAhaS5pc1VwbG9hZGVkKHQpICYmIG4oZSkgOiAwID09PSB0LmluZGV4T2YoImRhdGE6IikgJiYgbihlKSk7CiAgICAgICAgfSksCiAgICAgICAgICAgIG8gPSB6KHIsIGZ1bmN0aW9uIChuKSB7CiAgICAgICAgICBpZiAodVtuLnNyY10gIT09IHVuZGVmaW5lZCkgcmV0dXJuIG5ldyBCcihmdW5jdGlvbiAodCkgewogICAgICAgICAgICB1W24uc3JjXS50aGVuKGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICAgICAgcmV0dXJuICJzdHJpbmciID09IHR5cGVvZiBlID8gZSA6IHZvaWQgdCh7CiAgICAgICAgICAgICAgICBpbWFnZTogbiwKICAgICAgICAgICAgICAgIGJsb2JJbmZvOiBlLmJsb2JJbmZvCiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0pOwogICAgICAgICAgfSk7CiAgICAgICAgICB2YXIgZSA9IG5ldyBCcihmdW5jdGlvbiAoZSwgdCkgewogICAgICAgICAgICBheShhLCBuLCBlLCB0KTsKICAgICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKGUpIHsKICAgICAgICAgICAgcmV0dXJuIGRlbGV0ZSB1W2UuaW1hZ2Uuc3JjXSwgZTsKICAgICAgICAgIH0pWyJjYXRjaCJdKGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICAgIHJldHVybiBkZWxldGUgdVtuLnNyY10sIGU7CiAgICAgICAgICB9KTsKICAgICAgICAgIHJldHVybiB1W24uc3JjXSA9IGU7CiAgICAgICAgfSk7CiAgICAgICAgcmV0dXJuIEJyLmFsbChvKTsKICAgICAgfQogICAgfTsKICB9CgogIHZhciBzeSwKICAgICAgY3ksCiAgICAgIGx5ID0gZnVuY3Rpb24gbHkoZSwgdCwgbiwgcikgewogICAgKGUucGFkZF9lbXB0eV93aXRoX2JyIHx8IHQuaW5zZXJ0KSAmJiBuW3IubmFtZV0gPyByLmVtcHR5KCkuYXBwZW5kKG5ldyBLbSgiYnIiLCAxKSkuc2hvcnRFbmRlZCA9ICEwIDogci5lbXB0eSgpLmFwcGVuZChuZXcgS20oIiN0ZXh0IiwgMykpLnZhbHVlID0gbG87CiAgfSwKICAgICAgZnkgPSBmdW5jdGlvbiBmeShlLCB0KSB7CiAgICByZXR1cm4gZSAmJiBlLmZpcnN0Q2hpbGQgJiYgZS5maXJzdENoaWxkID09PSBlLmxhc3RDaGlsZCAmJiBlLmZpcnN0Q2hpbGQubmFtZSA9PT0gdDsKICB9LAogICAgICBkeSA9IGZ1bmN0aW9uIGR5KHIsIGUsIHQsIG4pIHsKICAgIHJldHVybiBuLmlzRW1wdHkoZSwgdCwgZnVuY3Rpb24gKGUpIHsKICAgICAgcmV0dXJuIHQgPSBlLCAobiA9IHIuZ2V0RWxlbWVudFJ1bGUodC5uYW1lKSkgJiYgbi5wYWRkRW1wdHk7CiAgICAgIHZhciB0LCBuOwogICAgfSk7CiAgfSwKICAgICAgbXkgPSBmdW5jdGlvbiBteShlLCBvKSB7CiAgICB2YXIgaSA9IG8uYmxvYl9jYWNoZSwKICAgICAgICB0ID0gZnVuY3Rpb24gdChfdDMpIHsKICAgICAgdmFyIGUsCiAgICAgICAgICBuLAogICAgICAgICAgciA9IF90My5hdHRyKCJzcmMiKTsKCiAgICAgIChlID0gX3QzKS5hdHRyKCJzcmMiKSA9PT0gd3QudHJhbnNwYXJlbnRTcmMgfHwgZS5hdHRyKCJkYXRhLW1jZS1wbGFjZWhvbGRlciIpIHx8IF90My5hdHRyKCJkYXRhLW1jZS1ib2d1cyIpIHx8ICgobiA9IC9kYXRhOihbXjtdKyk7YmFzZTY0LChbYS16MC05XCtcLz1dKykvaS5leGVjKHIpKSA/IFUuc29tZSh7CiAgICAgICAgdHlwZTogblsxXSwKICAgICAgICBkYXRhOiBkZWNvZGVVUklDb21wb25lbnQoblsyXSkKICAgICAgfSkgOiBVLm5vbmUoKSkuZmlsdGVyKGZ1bmN0aW9uICgpIHsKICAgICAgICByZXR1cm4gZnVuY3Rpb24gKGUsIHQpIHsKICAgICAgICAgIGlmICh0LmltYWdlc19kYXRhaW1nX2ZpbHRlcikgewogICAgICAgICAgICB2YXIgbiA9IG5ldyBJbWFnZSgpOwogICAgICAgICAgICByZXR1cm4gbi5zcmMgPSBlLmF0dHIoInNyYyIpLCB1ZShlLmF0dHJpYnV0ZXMubWFwLCBmdW5jdGlvbiAoZSwgdCkgewogICAgICAgICAgICAgIG4uc2V0QXR0cmlidXRlKHQsIGUpOwogICAgICAgICAgICB9KSwgdC5pbWFnZXNfZGF0YWltZ19maWx0ZXIobik7CiAgICAgICAgICB9CgogICAgICAgICAgcmV0dXJuICEwOwogICAgICAgIH0oX3QzLCBvKTsKICAgICAgfSkuYmluZChmdW5jdGlvbiAoZSkgewogICAgICAgIHZhciB0ID0gZS50eXBlLAogICAgICAgICAgICBuID0gZS5kYXRhOwogICAgICAgIHJldHVybiBVLmZyb20oaS5nZXRCeURhdGEobiwgdCkpLm9yVGh1bmsoZnVuY3Rpb24gKCkgewogICAgICAgICAgcmV0dXJuIG55KHQsIG4pLm1hcChmdW5jdGlvbiAoZSkgewogICAgICAgICAgICB2YXIgdCA9IGkuY3JlYXRlKGl5KCksIGUsIG4pOwogICAgICAgICAgICByZXR1cm4gaS5hZGQodCksIHQ7CiAgICAgICAgICB9KTsKICAgICAgICB9KTsKICAgICAgfSkuZWFjaChmdW5jdGlvbiAoZSkgewogICAgICAgIF90My5hdHRyKCJzcmMiLCBlLmJsb2JVcmkoKSk7CiAgICAgIH0pOwogICAgfTsKCiAgICBpICYmIGUuYWRkQXR0cmlidXRlRmlsdGVyKCJzcmMiLCBmdW5jdGlvbiAoZSkgewogICAgICByZXR1cm4gVyhlLCB0KTsKICAgIH0pOwogIH0sCiAgICAgIHB5ID0gZnVuY3Rpb24gcHkoZSwgZykgewogICAgdmFyIGggPSBlLnNjaGVtYTsKICAgIGcucmVtb3ZlX3RyYWlsaW5nX2JycyAmJiBlLmFkZE5vZGVGaWx0ZXIoImJyIiwgZnVuY3Rpb24gKGUsIHQsIG4pIHsKICAgICAgdmFyIHIsCiAgICAgICAgICBvLAogICAgICAgICAgaSwKICAgICAgICAgIGEsCiAgICAgICAgICB1LAogICAgICAgICAgcywKICAgICAgICAgIGMsCiAgICAgICAgICBsLAogICAgICAgICAgZiA9IGUubGVuZ3RoLAogICAgICAgICAgZCA9IGt0LmV4dGVuZCh7fSwgaC5nZXRCbG9ja0VsZW1lbnRzKCkpLAogICAgICAgICAgbSA9IGguZ2V0Tm9uRW1wdHlFbGVtZW50cygpLAogICAgICAgICAgcCA9IGguZ2V0V2hpdGVTcGFjZUVsZW1lbnRzKCk7CgogICAgICBmb3IgKGQuYm9keSA9IDEsIHIgPSAwOyByIDwgZjsgcisrKSB7CiAgICAgICAgaWYgKGkgPSAobyA9IGVbcl0pLnBhcmVudCwgZFtvLnBhcmVudC5uYW1lXSAmJiBvID09PSBpLmxhc3RDaGlsZCkgewogICAgICAgICAgZm9yICh1ID0gby5wcmV2OyB1OykgewogICAgICAgICAgICBpZiAoInNwYW4iICE9PSAocyA9IHUubmFtZSkgfHwgImJvb2ttYXJrIiAhPT0gdS5hdHRyKCJkYXRhLW1jZS10eXBlIikpIHsKICAgICAgICAgICAgICAiYnIiID09PSBzICYmIChvID0gbnVsbCk7CiAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIHUgPSB1LnByZXY7CiAgICAgICAgICB9CgogICAgICAgICAgbyAmJiAoby5yZW1vdmUoKSwgZHkoaCwgbSwgcCwgaSkgJiYgKGMgPSBoLmdldEVsZW1lbnRSdWxlKGkubmFtZSkpICYmIChjLnJlbW92ZUVtcHR5ID8gaS5yZW1vdmUoKSA6IGMucGFkZEVtcHR5ICYmIGx5KGcsIG4sIGQsIGkpKSk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGZvciAoYSA9IG87IGkgJiYgaS5maXJzdENoaWxkID09PSBhICYmIGkubGFzdENoaWxkID09PSBhICYmICFkWyhhID0gaSkubmFtZV07KSB7CiAgICAgICAgICAgIGkgPSBpLnBhcmVudDsKICAgICAgICAgIH0KCiAgICAgICAgICBhID09PSBpICYmICEwICE9PSBnLnBhZGRfZW1wdHlfd2l0aF9iciAmJiAoKGwgPSBuZXcgS20oIiN0ZXh0IiwgMykpLnZhbHVlID0gbG8sIG8ucmVwbGFjZShsKSk7CiAgICAgICAgfQogICAgICB9CiAgICB9KSwgZS5hZGRBdHRyaWJ1dGVGaWx0ZXIoImhyZWYiLCBmdW5jdGlvbiAoZSkgewogICAgICB2YXIgdCwKICAgICAgICAgIG4sCiAgICAgICAgICByID0gZS5sZW5ndGg7CiAgICAgIGlmICghZy5hbGxvd191bnNhZmVfbGlua190YXJnZXQpIGZvciAoOyByLS07KSB7CiAgICAgICAgdmFyIG8gPSBlW3JdOwogICAgICAgICJhIiA9PT0gby5uYW1lICYmICJfYmxhbmsiID09PSBvLmF0dHIoInRhcmdldCIpICYmIG8uYXR0cigicmVsIiwgKHQgPSBvLmF0dHIoInJlbCIpLCBuID0gdCA/IGt0LnRyaW0odCkgOiAiIiwgL1xiKG5vb3BlbmVyKVxiL2cudGVzdChuKSA/IG4gOiBuLnNwbGl0KCIgIikuZmlsdGVyKGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICByZXR1cm4gMCA8IGUubGVuZ3RoOwogICAgICAgIH0pLmNvbmNhdChbIm5vb3BlbmVyIl0pLnNvcnQoKS5qb2luKCIgIikpKTsKICAgICAgfQogICAgfSksIGcuYWxsb3dfaHRtbF9pbl9uYW1lZF9hbmNob3IgfHwgZS5hZGRBdHRyaWJ1dGVGaWx0ZXIoImlkLG5hbWUiLCBmdW5jdGlvbiAoZSkgewogICAgICBmb3IgKHZhciB0LCBuLCByLCBvLCBpID0gZS5sZW5ndGg7IGktLTspIHsKICAgICAgICBpZiAoImEiID09PSAobyA9IGVbaV0pLm5hbWUgJiYgby5maXJzdENoaWxkICYmICFvLmF0dHIoImhyZWYiKSkgZm9yIChyID0gby5wYXJlbnQsIHQgPSBvLmxhc3RDaGlsZDsgbiA9IHQucHJldiwgci5pbnNlcnQodCwgbyksIHQgPSBuOykgewogICAgICAgICAgOwogICAgICAgIH0KICAgICAgfQogICAgfSksIGcuZml4X2xpc3RfZWxlbWVudHMgJiYgZS5hZGROb2RlRmlsdGVyKCJ1bCxvbCIsIGZ1bmN0aW9uIChlKSB7CiAgICAgIGZvciAodmFyIHQsIG4sIHIsIG8gPSBlLmxlbmd0aDsgby0tOykgewogICAgICAgICJ1bCIgIT09IChyID0gKG4gPSBlW29dKS5wYXJlbnQpLm5hbWUgJiYgIm9sIiAhPT0gci5uYW1lIHx8IChuLnByZXYgJiYgImxpIiA9PT0gbi5wcmV2Lm5hbWUgPyBuLnByZXYuYXBwZW5kKG4pIDogKCh0ID0gbmV3IEttKCJsaSIsIDEpKS5hdHRyKCJzdHlsZSIsICJsaXN0LXN0eWxlLXR5cGU6IG5vbmUiKSwgbi53cmFwKHQpKSk7CiAgICAgIH0KICAgIH0pLCBnLnZhbGlkYXRlICYmIGguZ2V0VmFsaWRDbGFzc2VzKCkgJiYgZS5hZGRBdHRyaWJ1dGVGaWx0ZXIoImNsYXNzIiwgZnVuY3Rpb24gKGUpIHsKICAgICAgZm9yICh2YXIgdCwgbiwgciwgbywgaSwgYSwgdSwgcyA9IGUubGVuZ3RoLCBjID0gaC5nZXRWYWxpZENsYXNzZXMoKTsgcy0tOykgewogICAgICAgIGZvciAobiA9ICh0ID0gZVtzXSkuYXR0cigiY2xhc3MiKS5zcGxpdCgiICIpLCBpID0gIiIsIHIgPSAwOyByIDwgbi5sZW5ndGg7IHIrKykgewogICAgICAgICAgbyA9IG5bcl0sIHUgPSAhMSwgKGEgPSBjWyIqIl0pICYmIGFbb10gJiYgKHUgPSAhMCksIGEgPSBjW3QubmFtZV0sICF1ICYmIGEgJiYgYVtvXSAmJiAodSA9ICEwKSwgdSAmJiAoaSAmJiAoaSArPSAiICIpLCBpICs9IG8pOwogICAgICAgIH0KCiAgICAgICAgaS5sZW5ndGggfHwgKGkgPSBudWxsKSwgdC5hdHRyKCJjbGFzcyIsIGkpOwogICAgICB9CiAgICB9KSwgbXkoZSwgZyk7CiAgfSwKICAgICAgZ3kgPSBrdC5tYWtlTWFwLAogICAgICBoeSA9IGt0LmVhY2gsCiAgICAgIHZ5ID0ga3QuZXhwbG9kZSwKICAgICAgeXkgPSBrdC5leHRlbmQsCiAgICAgIGJ5ID0gZnVuY3Rpb24gYnkoQSwgUikgewogICAgdm9pZCAwID09PSBSICYmIChSID0gQ2koKSk7CiAgICB2YXIgVCA9IHt9LAogICAgICAgIEQgPSBbXSwKICAgICAgICBPID0ge30sCiAgICAgICAgQiA9IHt9OwogICAgKEEgPSBBIHx8IHt9KS52YWxpZGF0ZSA9ICEoInZhbGlkYXRlIiBpbiBBKSB8fCBBLnZhbGlkYXRlLCBBLnJvb3RfbmFtZSA9IEEucm9vdF9uYW1lIHx8ICJib2R5IjsKCiAgICB2YXIgZSwKICAgICAgICB0LAogICAgICAgIFAgPSBmdW5jdGlvbiBQKGUpIHsKICAgICAgdmFyIHQsCiAgICAgICAgICBuLAogICAgICAgICAgciA9IGUubmFtZTsKICAgICAgciBpbiBUICYmICgobiA9IE9bcl0pID8gbi5wdXNoKGUpIDogT1tyXSA9IFtlXSksIHQgPSBELmxlbmd0aDsKCiAgICAgIGZvciAoOyB0LS07KSB7CiAgICAgICAgKHIgPSBEW3RdLm5hbWUpIGluIGUuYXR0cmlidXRlcy5tYXAgJiYgKChuID0gQltyXSkgPyBuLnB1c2goZSkgOiBCW3JdID0gW2VdKTsKICAgICAgfQoKICAgICAgcmV0dXJuIGU7CiAgICB9LAogICAgICAgIG4gPSB7CiAgICAgIHNjaGVtYTogUiwKICAgICAgYWRkQXR0cmlidXRlRmlsdGVyOiBmdW5jdGlvbiBhZGRBdHRyaWJ1dGVGaWx0ZXIoZSwgbikgewogICAgICAgIGh5KHZ5KGUpLCBmdW5jdGlvbiAoZSkgewogICAgICAgICAgZm9yICh2YXIgdCA9IDA7IHQgPCBELmxlbmd0aDsgdCsrKSB7CiAgICAgICAgICAgIGlmIChEW3RdLm5hbWUgPT09IGUpIHJldHVybiB2b2lkIERbdF0uY2FsbGJhY2tzLnB1c2gobik7CiAgICAgICAgICB9CgogICAgICAgICAgRC5wdXNoKHsKICAgICAgICAgICAgbmFtZTogZSwKICAgICAgICAgICAgY2FsbGJhY2tzOiBbbl0KICAgICAgICAgIH0pOwogICAgICAgIH0pOwogICAgICB9LAogICAgICBnZXRBdHRyaWJ1dGVGaWx0ZXJzOiBmdW5jdGlvbiBnZXRBdHRyaWJ1dGVGaWx0ZXJzKCkgewogICAgICAgIHJldHVybiBbXS5jb25jYXQoRCk7CiAgICAgIH0sCiAgICAgIGFkZE5vZGVGaWx0ZXI6IGZ1bmN0aW9uIGFkZE5vZGVGaWx0ZXIoZSwgbikgewogICAgICAgIGh5KHZ5KGUpLCBmdW5jdGlvbiAoZSkgewogICAgICAgICAgdmFyIHQgPSBUW2VdOwogICAgICAgICAgdCB8fCAoVFtlXSA9IHQgPSBbXSksIHQucHVzaChuKTsKICAgICAgICB9KTsKICAgICAgfSwKICAgICAgZ2V0Tm9kZUZpbHRlcnM6IGZ1bmN0aW9uIGdldE5vZGVGaWx0ZXJzKCkgewogICAgICAgIHZhciBlID0gW107CgogICAgICAgIGZvciAodmFyIHQgaW4gVCkgewogICAgICAgICAgVC5oYXNPd25Qcm9wZXJ0eSh0KSAmJiBlLnB1c2goewogICAgICAgICAgICBuYW1lOiB0LAogICAgICAgICAgICBjYWxsYmFja3M6IFRbdF0KICAgICAgICAgIH0pOwogICAgICAgIH0KCiAgICAgICAgcmV0dXJuIGU7CiAgICAgIH0sCiAgICAgIGZpbHRlck5vZGU6IFAsCiAgICAgIHBhcnNlOiBmdW5jdGlvbiBwYXJzZShlLCB1KSB7CiAgICAgICAgdmFyIHQsCiAgICAgICAgICAgIG4sCiAgICAgICAgICAgIHIsCiAgICAgICAgICAgIG8sCiAgICAgICAgICAgIGksCiAgICAgICAgICAgIHMsCiAgICAgICAgICAgIGEsCiAgICAgICAgICAgIGMsCiAgICAgICAgICAgIGwgPSBbXTsKICAgICAgICB1ID0gdSB8fCB7fSwgTyA9IHt9LCBCID0ge307CgogICAgICAgIHZhciBmLAogICAgICAgICAgICBkID0geXkoZ3koInNjcmlwdCxzdHlsZSxoZWFkLGh0bWwsYm9keSx0aXRsZSxtZXRhLHBhcmFtIiksIFIuZ2V0QmxvY2tFbGVtZW50cygpKSwKICAgICAgICAgICAgbSA9IFIuZ2V0Tm9uRW1wdHlFbGVtZW50cygpLAogICAgICAgICAgICBwID0gUi5jaGlsZHJlbiwKICAgICAgICAgICAgZyA9IEEudmFsaWRhdGUsCiAgICAgICAgICAgIGggPSAiZm9yY2VkX3Jvb3RfYmxvY2siIGluIHUgPyB1LmZvcmNlZF9yb290X2Jsb2NrIDogQS5mb3JjZWRfcm9vdF9ibG9jaywKICAgICAgICAgICAgdiA9ICExID09PSAoZiA9IGgpID8gIiIgOiAhMCA9PT0gZiA/ICJwIiA6IGYsCiAgICAgICAgICAgIHkgPSBSLmdldFdoaXRlU3BhY2VFbGVtZW50cygpLAogICAgICAgICAgICBiID0gL15bIFx0XHJcbl0rLywKICAgICAgICAgICAgQyA9IC9bIFx0XHJcbl0rJC8sCiAgICAgICAgICAgIHcgPSAvWyBcdFxyXG5dKy9nLAogICAgICAgICAgICB4ID0gL15bIFx0XHJcbl0rJC8sCiAgICAgICAgICAgIFMgPSB5Lmhhc093blByb3BlcnR5KHUuY29udGV4dCkgfHwgeS5oYXNPd25Qcm9wZXJ0eShBLnJvb3RfbmFtZSksCiAgICAgICAgICAgIE4gPSBmdW5jdGlvbiBOKGUsIHQpIHsKICAgICAgICAgIHZhciBuLAogICAgICAgICAgICAgIHIgPSBuZXcgS20oZSwgdCk7CiAgICAgICAgICByZXR1cm4gZSBpbiBUICYmICgobiA9IE9bZV0pID8gbi5wdXNoKHIpIDogT1tlXSA9IFtyXSksIHI7CiAgICAgICAgfSwKICAgICAgICAgICAgRSA9IGZ1bmN0aW9uIEUoZSkgewogICAgICAgICAgZm9yICh2YXIgdCwgbiwgciwgbyA9IFIuZ2V0QmxvY2tFbGVtZW50cygpLCBpID0gZS5wcmV2OyBpICYmIDMgPT09IGkudHlwZTspIHsKICAgICAgICAgICAgaWYgKDAgPCAobiA9IGkudmFsdWUucmVwbGFjZShDLCAiIikpLmxlbmd0aCkgcmV0dXJuIHZvaWQgKGkudmFsdWUgPSBuKTsKCiAgICAgICAgICAgIGlmICh0ID0gaS5uZXh0KSB7CiAgICAgICAgICAgICAgaWYgKDMgPT09IHQudHlwZSAmJiB0LnZhbHVlLmxlbmd0aCkgewogICAgICAgICAgICAgICAgaSA9IGkucHJldjsKICAgICAgICAgICAgICAgIGNvbnRpbnVlOwogICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgaWYgKCFvW3QubmFtZV0gJiYgInNjcmlwdCIgIT09IHQubmFtZSAmJiAic3R5bGUiICE9PSB0Lm5hbWUpIHsKICAgICAgICAgICAgICAgIGkgPSBpLnByZXY7CiAgICAgICAgICAgICAgICBjb250aW51ZTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIHIgPSBpLnByZXYsIGkucmVtb3ZlKCksIGkgPSByOwogICAgICAgICAgfQogICAgICAgIH0sCiAgICAgICAgICAgIGsgPSBpcCh7CiAgICAgICAgICB2YWxpZGF0ZTogZywKICAgICAgICAgIGFsbG93X2h0bWxfZGF0YV91cmxzOiBBLmFsbG93X2h0bWxfZGF0YV91cmxzLAogICAgICAgICAgYWxsb3dfc3ZnX2RhdGFfdXJsczogQS5hbGxvd19zdmdfZGF0YV91cmxzLAogICAgICAgICAgYWxsb3dfc2NyaXB0X3VybHM6IEEuYWxsb3dfc2NyaXB0X3VybHMsCiAgICAgICAgICBhbGxvd19jb25kaXRpb25hbF9jb21tZW50czogQS5hbGxvd19jb25kaXRpb25hbF9jb21tZW50cywKICAgICAgICAgIHByZXNlcnZlX2NkYXRhOiBBLnByZXNlcnZlX2NkYXRhLAogICAgICAgICAgc2VsZl9jbG9zaW5nX2VsZW1lbnRzOiBmdW5jdGlvbiAoZSkgewogICAgICAgICAgICB2YXIgdCwKICAgICAgICAgICAgICAgIG4gPSB7fTsKCiAgICAgICAgICAgIGZvciAodCBpbiBlKSB7CiAgICAgICAgICAgICAgImxpIiAhPT0gdCAmJiAicCIgIT09IHQgJiYgKG5bdF0gPSBlW3RdKTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgcmV0dXJuIG47CiAgICAgICAgICB9KFIuZ2V0U2VsZkNsb3NpbmdFbGVtZW50cygpKSwKICAgICAgICAgIGNkYXRhOiBmdW5jdGlvbiBjZGF0YShlKSB7CiAgICAgICAgICAgIGMuYXBwZW5kKE4oIiNjZGF0YSIsIDQpKS52YWx1ZSA9IGU7CiAgICAgICAgICB9LAogICAgICAgICAgdGV4dDogZnVuY3Rpb24gdGV4dChlLCB0KSB7CiAgICAgICAgICAgIHZhciBuLCByLCBvOwogICAgICAgICAgICBTIHx8IChlID0gZS5yZXBsYWNlKHcsICIgIiksIHIgPSBjLmxhc3RDaGlsZCwgbyA9IGQsIHIgJiYgKG9bci5uYW1lXSB8fCAiYnIiID09PSByLm5hbWUpICYmIChlID0gZS5yZXBsYWNlKGIsICIiKSkpLCAwICE9PSBlLmxlbmd0aCAmJiAoKG4gPSBOKCIjdGV4dCIsIDMpKS5yYXcgPSAhIXQsIGMuYXBwZW5kKG4pLnZhbHVlID0gZSk7CiAgICAgICAgICB9LAogICAgICAgICAgY29tbWVudDogZnVuY3Rpb24gY29tbWVudChlKSB7CiAgICAgICAgICAgIGMuYXBwZW5kKE4oIiNjb21tZW50IiwgOCkpLnZhbHVlID0gZTsKICAgICAgICAgIH0sCiAgICAgICAgICBwaTogZnVuY3Rpb24gcGkoZSwgdCkgewogICAgICAgICAgICBjLmFwcGVuZChOKGUsIDcpKS52YWx1ZSA9IHQsIEUoYyk7CiAgICAgICAgICB9LAogICAgICAgICAgZG9jdHlwZTogZnVuY3Rpb24gZG9jdHlwZShlKSB7CiAgICAgICAgICAgIGMuYXBwZW5kKE4oIiNkb2N0eXBlIiwgMTApKS52YWx1ZSA9IGUsIEUoYyk7CiAgICAgICAgICB9LAogICAgICAgICAgc3RhcnQ6IGZ1bmN0aW9uIHN0YXJ0KGUsIHQsIG4pIHsKICAgICAgICAgICAgdmFyIHIsCiAgICAgICAgICAgICAgICBvLAogICAgICAgICAgICAgICAgaSwKICAgICAgICAgICAgICAgIGEsCiAgICAgICAgICAgICAgICB1ID0gZyA/IFIuZ2V0RWxlbWVudFJ1bGUoZSkgOiB7fTsKCiAgICAgICAgICAgIGlmICh1KSB7CiAgICAgICAgICAgICAgZm9yICgociA9IE4odS5vdXRwdXROYW1lIHx8IGUsIDEpKS5hdHRyaWJ1dGVzID0gdCwgci5zaG9ydEVuZGVkID0gbiwgYy5hcHBlbmQociksIChhID0gcFtjLm5hbWVdKSAmJiBwW3IubmFtZV0gJiYgIWFbci5uYW1lXSAmJiBsLnB1c2gociksIG8gPSBELmxlbmd0aDsgby0tOykgewogICAgICAgICAgICAgICAgKGkgPSBEW29dLm5hbWUpIGluIHQubWFwICYmICgocyA9IEJbaV0pID8gcy5wdXNoKHIpIDogQltpXSA9IFtyXSk7CiAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICBkW2VdICYmIEUociksIG4gfHwgKGMgPSByKSwgIVMgJiYgeVtlXSAmJiAoUyA9ICEwKTsKICAgICAgICAgICAgfQogICAgICAgICAgfSwKICAgICAgICAgIGVuZDogZnVuY3Rpb24gZW5kKGUpIHsKICAgICAgICAgICAgdmFyIHQsCiAgICAgICAgICAgICAgICBuLAogICAgICAgICAgICAgICAgciwKICAgICAgICAgICAgICAgIG8sCiAgICAgICAgICAgICAgICBpLAogICAgICAgICAgICAgICAgYSA9IGcgPyBSLmdldEVsZW1lbnRSdWxlKGUpIDoge307CgogICAgICAgICAgICBpZiAoYSkgewogICAgICAgICAgICAgIGlmIChkW2VdICYmICFTKSB7CiAgICAgICAgICAgICAgICBpZiAoKHQgPSBjLmZpcnN0Q2hpbGQpICYmIDMgPT09IHQudHlwZSkgaWYgKDAgPCAobiA9IHQudmFsdWUucmVwbGFjZShiLCAiIikpLmxlbmd0aCkgdC52YWx1ZSA9IG4sIHQgPSB0Lm5leHQ7ZWxzZSBmb3IgKHIgPSB0Lm5leHQsIHQucmVtb3ZlKCksIHQgPSByOyB0ICYmIDMgPT09IHQudHlwZTspIHsKICAgICAgICAgICAgICAgICAgbiA9IHQudmFsdWUsIHIgPSB0Lm5leHQsIDAgIT09IG4ubGVuZ3RoICYmICF4LnRlc3QobikgfHwgKHQucmVtb3ZlKCksIHQgPSByKSwgdCA9IHI7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBpZiAoKHQgPSBjLmxhc3RDaGlsZCkgJiYgMyA9PT0gdC50eXBlKSBpZiAoMCA8IChuID0gdC52YWx1ZS5yZXBsYWNlKEMsICIiKSkubGVuZ3RoKSB0LnZhbHVlID0gbiwgdCA9IHQucHJldjtlbHNlIGZvciAociA9IHQucHJldiwgdC5yZW1vdmUoKSwgdCA9IHI7IHQgJiYgMyA9PT0gdC50eXBlOykgewogICAgICAgICAgICAgICAgICBuID0gdC52YWx1ZSwgciA9IHQucHJldiwgMCAhPT0gbi5sZW5ndGggJiYgIXgudGVzdChuKSB8fCAodC5yZW1vdmUoKSwgdCA9IHIpLCB0ID0gcjsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIGlmIChTICYmIHlbZV0gJiYgKFMgPSAhMSksIGEucmVtb3ZlRW1wdHkgJiYgZHkoUiwgbSwgeSwgYykpIHJldHVybiBvID0gYy5wYXJlbnQsIGRbYy5uYW1lXSA/IGMuZW1wdHkoKS5yZW1vdmUoKSA6IGMudW53cmFwKCksIHZvaWQgKGMgPSBvKTsKICAgICAgICAgICAgICBhLnBhZGRFbXB0eSAmJiAoZnkoaSA9IGMsICIjdGV4dCIpICYmIGkuZmlyc3RDaGlsZC52YWx1ZSA9PT0gbG8gfHwgZHkoUiwgbSwgeSwgYykpICYmIGx5KEEsIHUsIGQsIGMpLCBjID0gYy5wYXJlbnQ7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBSKSwKICAgICAgICAgICAgXyA9IGMgPSBuZXcgS20odS5jb250ZXh0IHx8IEEucm9vdF9uYW1lLCAxMSk7CgogICAgICAgIGlmIChrLnBhcnNlKGUsIHUuZm9ybWF0KSwgZyAmJiBsLmxlbmd0aCAmJiAodS5jb250ZXh0ID8gdS5pbnZhbGlkID0gITAgOiBmdW5jdGlvbiAoZSkgewogICAgICAgICAgZm9yICh2YXIgdCwgbiwgciwgbywgaSwgYSwgdSwgcywgYywgbCwgZiA9IGd5KCJ0cix0ZCx0aCx0Ym9keSx0aGVhZCx0Zm9vdCx0YWJsZSIpLCBkID0gUi5nZXROb25FbXB0eUVsZW1lbnRzKCksIG0gPSBSLmdldFdoaXRlU3BhY2VFbGVtZW50cygpLCBwID0gUi5nZXRUZXh0QmxvY2tFbGVtZW50cygpLCBnID0gUi5nZXRTcGVjaWFsRWxlbWVudHMoKSwgaCA9IDA7IGggPCBlLmxlbmd0aDsgaCsrKSB7CiAgICAgICAgICAgIGlmICgodCA9IGVbaF0pLnBhcmVudCAmJiAhdC5maXhlZCkgaWYgKHBbdC5uYW1lXSAmJiAibGkiID09PSB0LnBhcmVudC5uYW1lKSB7CiAgICAgICAgICAgICAgZm9yIChjID0gdC5uZXh0OyBjICYmIHBbYy5uYW1lXTspIHsKICAgICAgICAgICAgICAgIGMubmFtZSA9ICJsaSIsIGMuZml4ZWQgPSAhMCwgdC5wYXJlbnQuaW5zZXJ0KGMsIHQucGFyZW50KSwgYyA9IGMubmV4dDsKICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIHQudW53cmFwKHQpOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgIGZvciAociA9IFt0XSwgbiA9IHQucGFyZW50OyBuICYmICFSLmlzVmFsaWRDaGlsZChuLm5hbWUsIHQubmFtZSkgJiYgIWZbbi5uYW1lXTsgbiA9IG4ucGFyZW50KSB7CiAgICAgICAgICAgICAgICByLnB1c2gobik7CiAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICBpZiAobiAmJiAxIDwgci5sZW5ndGgpIHsKICAgICAgICAgICAgICAgIGZvciAoci5yZXZlcnNlKCksIG8gPSBpID0gUChyWzBdLmNsb25lKCkpLCBzID0gMDsgcyA8IHIubGVuZ3RoIC0gMTsgcysrKSB7CiAgICAgICAgICAgICAgICAgIGZvciAoUi5pc1ZhbGlkQ2hpbGQoaS5uYW1lLCByW3NdLm5hbWUpID8gKGEgPSBQKHJbc10uY2xvbmUoKSksIGkuYXBwZW5kKGEpKSA6IGEgPSBpLCB1ID0gcltzXS5maXJzdENoaWxkOyB1ICYmIHUgIT09IHJbcyArIDFdOykgewogICAgICAgICAgICAgICAgICAgIGwgPSB1Lm5leHQsIGEuYXBwZW5kKHUpLCB1ID0gbDsKICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgaSA9IGE7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgZHkoUiwgZCwgbSwgbykgPyBuLmluc2VydCh0LCByWzBdLCAhMCkgOiAobi5pbnNlcnQobywgclswXSwgITApLCBuLmluc2VydCh0LCBvKSksIG4gPSByWzBdLCAoZHkoUiwgZCwgbSwgbikgfHwgZnkobiwgImJyIikpICYmIG4uZW1wdHkoKS5yZW1vdmUoKTsKICAgICAgICAgICAgICB9IGVsc2UgaWYgKHQucGFyZW50KSB7CiAgICAgICAgICAgICAgICBpZiAoImxpIiA9PT0gdC5uYW1lKSB7CiAgICAgICAgICAgICAgICAgIGlmICgoYyA9IHQucHJldikgJiYgKCJ1bCIgPT09IGMubmFtZSB8fCAib2wiID09PSBjLm5hbWUpKSB7CiAgICAgICAgICAgICAgICAgICAgYy5hcHBlbmQodCk7CiAgICAgICAgICAgICAgICAgICAgY29udGludWU7CiAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgIGlmICgoYyA9IHQubmV4dCkgJiYgKCJ1bCIgPT09IGMubmFtZSB8fCAib2wiID09PSBjLm5hbWUpKSB7CiAgICAgICAgICAgICAgICAgICAgYy5pbnNlcnQodCwgYy5maXJzdENoaWxkLCAhMCk7CiAgICAgICAgICAgICAgICAgICAgY29udGludWU7CiAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgIHQud3JhcChQKG5ldyBLbSgidWwiLCAxKSkpOwogICAgICAgICAgICAgICAgICBjb250aW51ZTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBSLmlzVmFsaWRDaGlsZCh0LnBhcmVudC5uYW1lLCAiZGl2IikgJiYgUi5pc1ZhbGlkQ2hpbGQoImRpdiIsIHQubmFtZSkgPyB0LndyYXAoUChuZXcgS20oImRpdiIsIDEpKSkgOiBnW3QubmFtZV0gPyB0LmVtcHR5KCkucmVtb3ZlKCkgOiB0LnVud3JhcCgpOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0obCkpLCB2ICYmICgiYm9keSIgPT09IF8ubmFtZSB8fCB1LmlzUm9vdENvbnRlbnQpICYmIGZ1bmN0aW9uICgpIHsKICAgICAgICAgIHZhciBlLAogICAgICAgICAgICAgIHQsCiAgICAgICAgICAgICAgbiA9IF8uZmlyc3RDaGlsZCwKICAgICAgICAgICAgICByID0gZnVuY3Rpb24gcihlKSB7CiAgICAgICAgICAgIGUgJiYgKChuID0gZS5maXJzdENoaWxkKSAmJiAzID09PSBuLnR5cGUgJiYgKG4udmFsdWUgPSBuLnZhbHVlLnJlcGxhY2UoYiwgIiIpKSwgKG4gPSBlLmxhc3RDaGlsZCkgJiYgMyA9PT0gbi50eXBlICYmIChuLnZhbHVlID0gbi52YWx1ZS5yZXBsYWNlKEMsICIiKSkpOwogICAgICAgICAgfTsKCiAgICAgICAgICBpZiAoUi5pc1ZhbGlkQ2hpbGQoXy5uYW1lLCB2LnRvTG93ZXJDYXNlKCkpKSB7CiAgICAgICAgICAgIGZvciAoOyBuOykgewogICAgICAgICAgICAgIGUgPSBuLm5leHQsIDMgPT09IG4udHlwZSB8fCAxID09PSBuLnR5cGUgJiYgInAiICE9PSBuLm5hbWUgJiYgIWRbbi5uYW1lXSAmJiAhbi5hdHRyKCJkYXRhLW1jZS10eXBlIikgPyAodCB8fCAoKHQgPSBOKHYsIDEpKS5hdHRyKEEuZm9yY2VkX3Jvb3RfYmxvY2tfYXR0cnMpLCBfLmluc2VydCh0LCBuKSksIHQuYXBwZW5kKG4pKSA6IChyKHQpLCB0ID0gbnVsbCksIG4gPSBlOwogICAgICAgICAgICB9CgogICAgICAgICAgICByKHQpOwogICAgICAgICAgfQogICAgICAgIH0oKSwgIXUuaW52YWxpZCkgewogICAgICAgICAgZm9yIChhIGluIE8pIHsKICAgICAgICAgICAgaWYgKE8uaGFzT3duUHJvcGVydHkoYSkpIHsKICAgICAgICAgICAgICBmb3IgKHMgPSBUW2FdLCBvID0gKHQgPSBPW2FdKS5sZW5ndGg7IG8tLTspIHsKICAgICAgICAgICAgICAgIHRbb10ucGFyZW50IHx8IHQuc3BsaWNlKG8sIDEpOwogICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgZm9yIChuID0gMCwgciA9IHMubGVuZ3RoOyBuIDwgcjsgbisrKSB7CiAgICAgICAgICAgICAgICBzW25dKHQsIGEsIHUpOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgfQoKICAgICAgICAgIGZvciAobiA9IDAsIHIgPSBELmxlbmd0aDsgbiA8IHI7IG4rKykgewogICAgICAgICAgICBpZiAoKHMgPSBEW25dKS5uYW1lIGluIEIpIHsKICAgICAgICAgICAgICBmb3IgKG8gPSAodCA9IEJbcy5uYW1lXSkubGVuZ3RoOyBvLS07KSB7CiAgICAgICAgICAgICAgICB0W29dLnBhcmVudCB8fCB0LnNwbGljZShvLCAxKTsKICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIGZvciAobyA9IDAsIGkgPSBzLmNhbGxiYWNrcy5sZW5ndGg7IG8gPCBpOyBvKyspIHsKICAgICAgICAgICAgICAgIHMuY2FsbGJhY2tzW29dKHQsIHMubmFtZSwgdSk7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICByZXR1cm4gXzsKICAgICAgfQogICAgfTsKCiAgICByZXR1cm4gcHkobiwgQSksIGUgPSBuLCAodCA9IEEpLmlubGluZV9zdHlsZXMgJiYgZXkoZSwgdCksIG47CiAgfSwKICAgICAgQ3kgPSBmdW5jdGlvbiBDeShlLCB0LCBuKSB7CiAgICByZXR1cm4gbyA9IG4sIChyID0gZSkgJiYgci5oYXNFdmVudExpc3RlbmVycygiUHJlUHJvY2VzcyIpICYmICFvLm5vX2V2ZW50cyA/IGZ1bmN0aW9uIChlLCB0LCBuKSB7CiAgICAgIHZhciByLAogICAgICAgICAgbywKICAgICAgICAgIGkgPSBlLmRvbTsKICAgICAgdCA9IHQuY2xvbmVOb2RlKCEwKTsKICAgICAgdmFyIGEsCiAgICAgICAgICB1LAogICAgICAgICAgcyA9IGRvY3VtZW50LmltcGxlbWVudGF0aW9uOwogICAgICByZXR1cm4gcy5jcmVhdGVIVE1MRG9jdW1lbnQgJiYgKHIgPSBzLmNyZWF0ZUhUTUxEb2N1bWVudCgiIiksIGt0LmVhY2goIkJPRFkiID09PSB0Lm5vZGVOYW1lID8gdC5jaGlsZE5vZGVzIDogW3RdLCBmdW5jdGlvbiAoZSkgewogICAgICAgIHIuYm9keS5hcHBlbmRDaGlsZChyLmltcG9ydE5vZGUoZSwgITApKTsKICAgICAgfSksIHQgPSAiQk9EWSIgIT09IHQubm9kZU5hbWUgPyByLmJvZHkuZmlyc3RDaGlsZCA6IHIuYm9keSwgbyA9IGkuZG9jLCBpLmRvYyA9IHIpLCBhID0gZSwgdSA9IF9rZShfa2Uoe30sIG4pLCB7CiAgICAgICAgbm9kZTogdAogICAgICB9KSwgYS5maXJlKCJQcmVQcm9jZXNzIiwgdSksIG8gJiYgKGkuZG9jID0gbyksIHQ7CiAgICB9KGUsIHQsIG4pIDogdDsKICAgIHZhciByLCBvOwogIH0sCiAgICAgIHd5ID0gZnVuY3Rpb24gd3koZSwgdCwgbikgewogICAgLTEgPT09IGt0LmluQXJyYXkodCwgbikgJiYgKGUuYWRkQXR0cmlidXRlRmlsdGVyKG4sIGZ1bmN0aW9uIChlLCB0KSB7CiAgICAgIGZvciAodmFyIG4gPSBlLmxlbmd0aDsgbi0tOykgewogICAgICAgIGVbbl0uYXR0cih0LCBudWxsKTsKICAgICAgfQogICAgfSksIHQucHVzaChuKSk7CiAgfSwKICAgICAgeHkgPSBmdW5jdGlvbiB4eShlLCB0LCBuLCByLCBvKSB7CiAgICB2YXIgaSwKICAgICAgICBhLAogICAgICAgIHUsCiAgICAgICAgcywKICAgICAgICBjLAogICAgICAgIGwsCiAgICAgICAgZiA9IChpID0gciwgSm0odCwgbikuc2VyaWFsaXplKGkpKTsKICAgIHJldHVybiBhID0gZSwgcyA9IGYsICh1ID0gbykubm9fZXZlbnRzIHx8ICFhID8gcyA6IChjID0gYSwgbCA9IF9rZShfa2Uoe30sIHUpLCB7CiAgICAgIGNvbnRlbnQ6IHMKICAgIH0pLCBjLmZpcmUoIlBvc3RQcm9jZXNzIiwgbCkuY29udGVudCk7CiAgfSwKICAgICAgU3kgPSBmdW5jdGlvbiBTeSh5LCBiKSB7CiAgICB2YXIgZSA9IFsiZGF0YS1tY2Utc2VsZWN0ZWQiXSwKICAgICAgICBDID0gYiAmJiBiLmRvbSA/IGIuZG9tIDogRXUuRE9NLAogICAgICAgIHcgPSBiICYmIGIuc2NoZW1hID8gYi5zY2hlbWEgOiBDaSh5KTsKICAgIHkuZW50aXR5X2VuY29kaW5nID0geS5lbnRpdHlfZW5jb2RpbmcgfHwgIm5hbWVkIiwgeS5yZW1vdmVfdHJhaWxpbmdfYnJzID0gISgicmVtb3ZlX3RyYWlsaW5nX2JycyIgaW4geSkgfHwgeS5yZW1vdmVfdHJhaWxpbmdfYnJzOwogICAgdmFyIHQsCiAgICAgICAgcywKICAgICAgICBjLAogICAgICAgIHggPSBieSh5LCB3KTsKICAgIHMgPSB5LCBjID0gQywgKHQgPSB4KS5hZGRBdHRyaWJ1dGVGaWx0ZXIoImRhdGEtbWNlLXRhYmluZGV4IiwgZnVuY3Rpb24gKGUsIHQpIHsKICAgICAgZm9yICh2YXIgbiwgciA9IGUubGVuZ3RoOyByLS07KSB7CiAgICAgICAgKG4gPSBlW3JdKS5hdHRyKCJ0YWJpbmRleCIsIG4uYXR0cigiZGF0YS1tY2UtdGFiaW5kZXgiKSksIG4uYXR0cih0LCBudWxsKTsKICAgICAgfQogICAgfSksIHQuYWRkQXR0cmlidXRlRmlsdGVyKCJzcmMsaHJlZixzdHlsZSIsIGZ1bmN0aW9uIChlLCB0KSB7CiAgICAgIGZvciAodmFyIG4sIHIsIG8gPSBlLmxlbmd0aCwgaSA9ICJkYXRhLW1jZS0iICsgdCwgYSA9IHMudXJsX2NvbnZlcnRlciwgdSA9IHMudXJsX2NvbnZlcnRlcl9zY29wZTsgby0tOykgewogICAgICAgIChyID0gKG4gPSBlW29dKS5hdHRyKGkpKSAhPT0gdW5kZWZpbmVkID8gKG4uYXR0cih0LCAwIDwgci5sZW5ndGggPyByIDogbnVsbCksIG4uYXR0cihpLCBudWxsKSkgOiAociA9IG4uYXR0cih0KSwgInN0eWxlIiA9PT0gdCA/IHIgPSBjLnNlcmlhbGl6ZVN0eWxlKGMucGFyc2VTdHlsZShyKSwgbi5uYW1lKSA6IGEgJiYgKHIgPSBhLmNhbGwodSwgciwgdCwgbi5uYW1lKSksIG4uYXR0cih0LCAwIDwgci5sZW5ndGggPyByIDogbnVsbCkpOwogICAgICB9CiAgICB9KSwgdC5hZGRBdHRyaWJ1dGVGaWx0ZXIoImNsYXNzIiwgZnVuY3Rpb24gKGUpIHsKICAgICAgZm9yICh2YXIgdCwgbiwgciA9IGUubGVuZ3RoOyByLS07KSB7CiAgICAgICAgKG4gPSAodCA9IGVbcl0pLmF0dHIoImNsYXNzIikpICYmIChuID0gdC5hdHRyKCJjbGFzcyIpLnJlcGxhY2UoLyg/Ol58XHMpbWNlLWl0ZW0tXHcrKD8hXFMpL2csICIiKSwgdC5hdHRyKCJjbGFzcyIsIDAgPCBuLmxlbmd0aCA/IG4gOiBudWxsKSk7CiAgICAgIH0KICAgIH0pLCB0LmFkZEF0dHJpYnV0ZUZpbHRlcigiZGF0YS1tY2UtdHlwZSIsIGZ1bmN0aW9uIChlLCB0LCBuKSB7CiAgICAgIGZvciAodmFyIHIsIG8gPSBlLmxlbmd0aDsgby0tOykgewogICAgICAgICJib29rbWFyayIgIT09IChyID0gZVtvXSkuYXR0cigiZGF0YS1tY2UtdHlwZSIpIHx8IG4uY2xlYW51cCB8fCAoVS5mcm9tKHIuZmlyc3RDaGlsZCkuZXhpc3RzKGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICByZXR1cm4gIW1vKGUudmFsdWUpOwogICAgICAgIH0pID8gci51bndyYXAoKSA6IHIucmVtb3ZlKCkpOwogICAgICB9CiAgICB9KSwgdC5hZGROb2RlRmlsdGVyKCJub3NjcmlwdCIsIGZ1bmN0aW9uIChlKSB7CiAgICAgIGZvciAodmFyIHQsIG4gPSBlLmxlbmd0aDsgbi0tOykgewogICAgICAgICh0ID0gZVtuXS5maXJzdENoaWxkKSAmJiAodC52YWx1ZSA9IGNpLmRlY29kZSh0LnZhbHVlKSk7CiAgICAgIH0KICAgIH0pLCB0LmFkZE5vZGVGaWx0ZXIoInNjcmlwdCxzdHlsZSIsIGZ1bmN0aW9uIChlLCB0KSB7CiAgICAgIGZvciAodmFyIG4sIHIsIG8sIGkgPSBlLmxlbmd0aCwgYSA9IGZ1bmN0aW9uIGEoZSkgewogICAgICAgIHJldHVybiBlLnJlcGxhY2UoLyg8IS0tXFtDREFUQVxbfFxdXF0tLT4pL2csICJcbiIpLnJlcGxhY2UoL15bXHJcbl0qfFtcclxuXSokL2csICIiKS5yZXBsYWNlKC9eXHMqKCg8IS0tKT8oXHMqXC9cLyk/XHMqPCFcW0NEQVRBXFt8KDwhLS1ccyopP1wvXCpccyo8IVxbQ0RBVEFcW1xzKlwqXC98KFwvXC8pP1xzKjwhLS18XC9cKlxzKjwhLS1ccypcKlwvKVxzKltcclxuXSovZ2ksICIiKS5yZXBsYWNlKC9ccyooXC9cKlxzKlxdXF0+XHMqXCpcLygtLT4pP3xccypcL1wvXHMqXF1cXT4oLS0+KT98XC9cL1xzKigtLT4pP3xcXVxdPnxcL1wqXHMqLS0+XHMqXCpcL3xccyotLT5ccyopXHMqJC9nLCAiIik7CiAgICAgIH07IGktLTspIHsKICAgICAgICByID0gKG4gPSBlW2ldKS5maXJzdENoaWxkID8gbi5maXJzdENoaWxkLnZhbHVlIDogIiIsICJzY3JpcHQiID09PSB0ID8gKChvID0gbi5hdHRyKCJ0eXBlIikpICYmIG4uYXR0cigidHlwZSIsICJtY2Utbm8vdHlwZSIgPT09IG8gPyBudWxsIDogby5yZXBsYWNlKC9ebWNlXC0vLCAiIikpLCAieGh0bWwiID09PSBzLmVsZW1lbnRfZm9ybWF0ICYmIDAgPCByLmxlbmd0aCAmJiAobi5maXJzdENoaWxkLnZhbHVlID0gIi8vIDwhW0NEQVRBW1xuIiArIGEocikgKyAiXG4vLyBdXT4iKSkgOiAieGh0bWwiID09PSBzLmVsZW1lbnRfZm9ybWF0ICYmIDAgPCByLmxlbmd0aCAmJiAobi5maXJzdENoaWxkLnZhbHVlID0gIlx4M2MhLS1cbiIgKyBhKHIpICsgIlxuLS1ceDNlIik7CiAgICAgIH0KICAgIH0pLCB0LmFkZE5vZGVGaWx0ZXIoIiNjb21tZW50IiwgZnVuY3Rpb24gKGUpIHsKICAgICAgZm9yICh2YXIgdCwgbiA9IGUubGVuZ3RoOyBuLS07KSB7CiAgICAgICAgdCA9IGVbbl0sIHMucHJlc2VydmVfY2RhdGEgJiYgMCA9PT0gdC52YWx1ZS5pbmRleE9mKCJbQ0RBVEFbIikgPyAodC5uYW1lID0gIiNjZGF0YSIsIHQudHlwZSA9IDQsIHQudmFsdWUgPSBjLmRlY29kZSh0LnZhbHVlLnJlcGxhY2UoL15cW0NEQVRBXFt8XF1cXSQvZywgIiIpKSkgOiAwID09PSB0LnZhbHVlLmluZGV4T2YoIm1jZTpwcm90ZWN0ZWQgIikgJiYgKHQubmFtZSA9ICIjdGV4dCIsIHQudHlwZSA9IDMsIHQucmF3ID0gITAsIHQudmFsdWUgPSB1bmVzY2FwZSh0LnZhbHVlKS5zdWJzdHIoMTQpKTsKICAgICAgfQogICAgfSksIHQuYWRkTm9kZUZpbHRlcigieG1sOm5hbWVzcGFjZSxpbnB1dCIsIGZ1bmN0aW9uIChlLCB0KSB7CiAgICAgIGZvciAodmFyIG4sIHIgPSBlLmxlbmd0aDsgci0tOykgewogICAgICAgIDcgPT09IChuID0gZVtyXSkudHlwZSA/IG4ucmVtb3ZlKCkgOiAxID09PSBuLnR5cGUgJiYgKCJpbnB1dCIgIT09IHQgfHwgbi5hdHRyKCJ0eXBlIikgfHwgbi5hdHRyKCJ0eXBlIiwgInRleHQiKSk7CiAgICAgIH0KICAgIH0pLCB0LmFkZEF0dHJpYnV0ZUZpbHRlcigiZGF0YS1tY2UtdHlwZSIsIGZ1bmN0aW9uIChlKSB7CiAgICAgIFcoZSwgZnVuY3Rpb24gKGUpIHsKICAgICAgICAiZm9ybWF0LWNhcmV0IiA9PT0gZS5hdHRyKCJkYXRhLW1jZS10eXBlIikgJiYgKGUuaXNFbXB0eSh0LnNjaGVtYS5nZXROb25FbXB0eUVsZW1lbnRzKCkpID8gZS5yZW1vdmUoKSA6IGUudW53cmFwKCkpOwogICAgICB9KTsKICAgIH0pLCB0LmFkZEF0dHJpYnV0ZUZpbHRlcigiZGF0YS1tY2Utc3JjLGRhdGEtbWNlLWhyZWYsZGF0YS1tY2Utc3R5bGUsZGF0YS1tY2Utc2VsZWN0ZWQsZGF0YS1tY2UtZXhwYW5kbyxkYXRhLW1jZS10eXBlLGRhdGEtbWNlLXJlc2l6ZSxkYXRhLW1jZS1wbGFjZWhvbGRlciIsIGZ1bmN0aW9uIChlLCB0KSB7CiAgICAgIGZvciAodmFyIG4gPSBlLmxlbmd0aDsgbi0tOykgewogICAgICAgIGVbbl0uYXR0cih0LCBudWxsKTsKICAgICAgfQogICAgfSk7CiAgICByZXR1cm4gewogICAgICBzY2hlbWE6IHcsCiAgICAgIGFkZE5vZGVGaWx0ZXI6IHguYWRkTm9kZUZpbHRlciwKICAgICAgYWRkQXR0cmlidXRlRmlsdGVyOiB4LmFkZEF0dHJpYnV0ZUZpbHRlciwKICAgICAgc2VyaWFsaXplOiBmdW5jdGlvbiBzZXJpYWxpemUoZSwgdCkgewogICAgICAgIHZvaWQgMCA9PT0gdCAmJiAodCA9IHt9KTsKCiAgICAgICAgdmFyIG4sCiAgICAgICAgICAgIHIsCiAgICAgICAgICAgIG8sCiAgICAgICAgICAgIGksCiAgICAgICAgICAgIGEsCiAgICAgICAgICAgIHUsCiAgICAgICAgICAgIHMsCiAgICAgICAgICAgIGMsCiAgICAgICAgICAgIGwsCiAgICAgICAgICAgIGYsCiAgICAgICAgICAgIGQsCiAgICAgICAgICAgIG0sCiAgICAgICAgICAgIHAgPSBfa2UoewogICAgICAgICAgZm9ybWF0OiAiaHRtbCIKICAgICAgICB9LCB0KSwKICAgICAgICAgICAgZyA9IEN5KGIsIGUsIHApLAogICAgICAgICAgICBoID0gKG4gPSBDLCByID0gZywgaSA9IHBvKChvID0gcCkuZ2V0SW5uZXIgPyByLmlubmVySFRNTCA6IG4uZ2V0T3V0ZXJIVE1MKHIpKSwgby5zZWxlY3Rpb24gfHwgc28oQXQuZnJvbURvbShyKSkgPyBpIDoga3QudHJpbShpKSksCiAgICAgICAgICAgIHYgPSAoYSA9IHgsIHUgPSBoLCBkID0gKHMgPSBwKS5zZWxlY3Rpb24gPyBfa2UoewogICAgICAgICAgZm9yY2VkX3Jvb3RfYmxvY2s6ICExCiAgICAgICAgfSwgcykgOiBzLCBtID0gYS5wYXJzZSh1LCBkKSwgbCA9IGZ1bmN0aW9uIGwoZSkgewogICAgICAgICAgcmV0dXJuIGUgJiYgImJyIiA9PT0gZS5uYW1lOwogICAgICAgIH0sIGYgPSBtLmxhc3RDaGlsZCwgIWwoZikgfHwgbChjID0gZi5wcmV2KSAmJiAoZi5yZW1vdmUoKSwgYy5yZW1vdmUoKSksIG0pOwoKICAgICAgICByZXR1cm4gInRyZWUiID09PSBwLmZvcm1hdCA/IHYgOiB4eShiLCB5LCB3LCB2LCBwKTsKICAgICAgfSwKICAgICAgYWRkUnVsZXM6IGZ1bmN0aW9uIGFkZFJ1bGVzKGUpIHsKICAgICAgICB3LmFkZFZhbGlkRWxlbWVudHMoZSk7CiAgICAgIH0sCiAgICAgIHNldFJ1bGVzOiBmdW5jdGlvbiBzZXRSdWxlcyhlKSB7CiAgICAgICAgdy5zZXRWYWxpZEVsZW1lbnRzKGUpOwogICAgICB9LAogICAgICBhZGRUZW1wQXR0cjogTih3eSwgeCwgZSksCiAgICAgIGdldFRlbXBBdHRyczogZnVuY3Rpb24gZ2V0VGVtcEF0dHJzKCkgewogICAgICAgIHJldHVybiBlOwogICAgICB9LAogICAgICBnZXROb2RlRmlsdGVyczogeC5nZXROb2RlRmlsdGVycywKICAgICAgZ2V0QXR0cmlidXRlRmlsdGVyczogeC5nZXRBdHRyaWJ1dGVGaWx0ZXJzCiAgICB9OwogIH0sCiAgICAgIE55ID0gZnVuY3Rpb24gTnkoZSwgdCkgewogICAgdmFyIG4gPSBTeShlLCB0KTsKICAgIHJldHVybiB7CiAgICAgIHNjaGVtYTogbi5zY2hlbWEsCiAgICAgIGFkZE5vZGVGaWx0ZXI6IG4uYWRkTm9kZUZpbHRlciwKICAgICAgYWRkQXR0cmlidXRlRmlsdGVyOiBuLmFkZEF0dHJpYnV0ZUZpbHRlciwKICAgICAgc2VyaWFsaXplOiBuLnNlcmlhbGl6ZSwKICAgICAgYWRkUnVsZXM6IG4uYWRkUnVsZXMsCiAgICAgIHNldFJ1bGVzOiBuLnNldFJ1bGVzLAogICAgICBhZGRUZW1wQXR0cjogbi5hZGRUZW1wQXR0ciwKICAgICAgZ2V0VGVtcEF0dHJzOiBuLmdldFRlbXBBdHRycywKICAgICAgZ2V0Tm9kZUZpbHRlcnM6IG4uZ2V0Tm9kZUZpbHRlcnMsCiAgICAgIGdldEF0dHJpYnV0ZUZpbHRlcnM6IG4uZ2V0QXR0cmlidXRlRmlsdGVycwogICAgfTsKICB9LAogICAgICBFeSA9IGZ1bmN0aW9uIEV5KGUsIHQpIHsKICAgIHZvaWQgMCA9PT0gdCAmJiAodCA9IHt9KTsKICAgIHZhciBuLAogICAgICAgIHIsCiAgICAgICAgbyA9IHQuZm9ybWF0ID8gdC5mb3JtYXQgOiAiaHRtbCI7CiAgICByZXR1cm4gbiA9IHQsIHIgPSBvLCBWdihlKS5lZGl0b3IuZ2V0Q29udGVudChuLCByKTsKICB9LAogICAgICBreSA9IGZ1bmN0aW9uIGt5KGUsIHQsIG4pIHsKICAgIHJldHVybiB2b2lkIDAgPT09IG4gJiYgKG4gPSB7fSksIHIgPSB0LCBvID0gbiwgVnYoZSkuZWRpdG9yLnNldENvbnRlbnQociwgbyk7CiAgICB2YXIgciwgbzsKICB9LAogICAgICBfeSA9IEV1LkRPTSwKICAgICAgQXkgPSBmdW5jdGlvbiBBeShlKSB7CiAgICByZXR1cm4gVS5mcm9tKGUpLmVhY2goZnVuY3Rpb24gKGUpIHsKICAgICAgcmV0dXJuIGUuZGVzdHJveSgpOwogICAgfSk7CiAgfSwKICAgICAgUnkgPSBmdW5jdGlvbiBSeShlKSB7CiAgICB2YXIgdCwgbiwgciwgbywgaTsKICAgIGUucmVtb3ZlZCB8fCAodCA9IGUuX3NlbGVjdGlvbk92ZXJyaWRlcywgbiA9IGUuZWRpdG9yVXBsb2FkLCByID0gZS5nZXRCb2R5KCksIG8gPSBlLmdldEVsZW1lbnQoKSwgciAmJiBlLnNhdmUoewogICAgICBpc19yZW1vdmluZzogITAKICAgIH0pLCBlLnJlbW92ZWQgPSAhMCwgZS51bmJpbmRBbGxOYXRpdmVFdmVudHMoKSwgZS5oYXNIaWRkZW5JbnB1dCAmJiBvICYmIF95LnJlbW92ZShvLm5leHRTaWJsaW5nKSwgZS5maXJlKCJyZW1vdmUiKSwgZS5lZGl0b3JNYW5hZ2VyLnJlbW92ZShlKSwgIWUuaW5saW5lICYmIHIgJiYgKGkgPSBlLCBfeS5zZXRTdHlsZShpLmlkLCAiZGlzcGxheSIsIGkub3JnRGlzcGxheSkpLCBlLmZpcmUoImRldGFjaCIpLCBfeS5yZW1vdmUoZS5nZXRDb250YWluZXIoKSksIEF5KHQpLCBBeShuKSwgZS5kZXN0cm95KCkpOwogIH0sCiAgICAgIFR5ID0gZnVuY3Rpb24gVHkoZSwgdCkgewogICAgdmFyIG4sCiAgICAgICAgciwKICAgICAgICBvLAogICAgICAgIGkgPSBlLnNlbGVjdGlvbiwKICAgICAgICBhID0gZS5kb207CiAgICBlLmRlc3Ryb3llZCB8fCAodCB8fCBlLnJlbW92ZWQgPyAodCB8fCAoZS5lZGl0b3JNYW5hZ2VyLm9mZigiYmVmb3JldW5sb2FkIiwgZS5fYmVmb3JlVW5sb2FkKSwgZS50aGVtZSAmJiBlLnRoZW1lLmRlc3Ryb3kgJiYgZS50aGVtZS5kZXN0cm95KCksIEF5KGkpLCBBeShhKSksIChyID0gKG4gPSBlKS5mb3JtRWxlbWVudCkgJiYgKHIuX21jZU9sZFN1Ym1pdCAmJiAoci5zdWJtaXQgPSByLl9tY2VPbGRTdWJtaXQsIHIuX21jZU9sZFN1Ym1pdCA9IG51bGwpLCBfeS51bmJpbmQociwgInN1Ym1pdCByZXNldCIsIG4uZm9ybUV2ZW50RGVsZWdhdGUpKSwgKG8gPSBlKS5jb250ZW50QXJlYUNvbnRhaW5lciA9IG8uZm9ybUVsZW1lbnQgPSBvLmNvbnRhaW5lciA9IG8uZWRpdG9yQ29udGFpbmVyID0gbnVsbCwgby5ib2R5RWxlbWVudCA9IG8uY29udGVudERvY3VtZW50ID0gby5jb250ZW50V2luZG93ID0gbnVsbCwgby5pZnJhbWVFbGVtZW50ID0gby50YXJnZXRFbG0gPSBudWxsLCBvLnNlbGVjdGlvbiAmJiAoby5zZWxlY3Rpb24gPSBvLnNlbGVjdGlvbi53aW4gPSBvLnNlbGVjdGlvbi5kb20gPSBvLnNlbGVjdGlvbi5kb20uZG9jID0gbnVsbCksIGUuZGVzdHJveWVkID0gITApIDogZS5yZW1vdmUoKSk7CiAgfSwKICAgICAgRHkgPSBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LAogICAgICBPeSA9IChzeSA9IGZ1bmN0aW9uIHN5KGUsIHQpIHsKICAgIHJldHVybiBfKGUpICYmIF8odCkgPyBPeShlLCB0KSA6IHQ7CiAgfSwgZnVuY3Rpb24gKCkgewogICAgZm9yICh2YXIgZSA9IG5ldyBBcnJheShhcmd1bWVudHMubGVuZ3RoKSwgdCA9IDA7IHQgPCBlLmxlbmd0aDsgdCsrKSB7CiAgICAgIGVbdF0gPSBhcmd1bWVudHNbdF07CiAgICB9CgogICAgaWYgKDAgPT09IGUubGVuZ3RoKSB0aHJvdyBuZXcgRXJyb3IoIkNhbid0IG1lcmdlIHplcm8gb2JqZWN0cyIpOwoKICAgIGZvciAodmFyIG4gPSB7fSwgciA9IDA7IHIgPCBlLmxlbmd0aDsgcisrKSB7CiAgICAgIHZhciBvID0gZVtyXTsKCiAgICAgIGZvciAodmFyIGkgaW4gbykgewogICAgICAgIER5LmNhbGwobywgaSkgJiYgKG5baV0gPSBzeShuW2ldLCBvW2ldKSk7CiAgICAgIH0KICAgIH0KCiAgICByZXR1cm4gbjsKICB9KSwKICAgICAgQnkgPSBkdCgpLmRldmljZVR5cGUsCiAgICAgIFB5ID0gQnkuaXNUb3VjaCgpLAogICAgICBMeSA9IEJ5LmlzUGhvbmUoKSwKICAgICAgSXkgPSBCeS5pc1RhYmxldCgpLAogICAgICBNeSA9IFsibGlzdHMiLCAiYXV0b2xpbmsiLCAiYXV0b3NhdmUiXSwKICAgICAgRnkgPSB7CiAgICB0YWJsZV9ncmlkOiAhMSwKICAgIG9iamVjdF9yZXNpemluZzogITEsCiAgICByZXNpemU6ICExCiAgfSwKICAgICAgVXkgPSBmdW5jdGlvbiBVeShlKSB7CiAgICB2YXIgdCA9IFMoZSkgPyBlLmpvaW4oIiAiKSA6IGUsCiAgICAgICAgbiA9IHoocSh0KSA/IHQuc3BsaXQoIiAiKSA6IFtdLCAkZSk7CiAgICByZXR1cm4gSChuLCBmdW5jdGlvbiAoZSkgewogICAgICByZXR1cm4gMCA8IGUubGVuZ3RoOwogICAgfSk7CiAgfSwKICAgICAgenkgPSBmdW5jdGlvbiB6eShuLCBlKSB7CiAgICB2YXIgdCwKICAgICAgICByLAogICAgICAgIG8gPSBkZShlLCBmdW5jdGlvbiAoZSwgdCkgewogICAgICByZXR1cm4gTShuLCB0KTsKICAgIH0pOwogICAgcmV0dXJuIHQgPSBvLnQsIHIgPSBvLmYsIHsKICAgICAgc2VjdGlvbnM6IEUodCksCiAgICAgIHNldHRpbmdzOiBFKHIpCiAgICB9OwogIH0sCiAgICAgIGp5ID0gZnVuY3Rpb24gankoZSwgdCkgewogICAgcmV0dXJuIGUuc2VjdGlvbnMoKS5oYXNPd25Qcm9wZXJ0eSh0KTsKICB9LAogICAgICBIeSA9IGZ1bmN0aW9uIEh5KGUsIHQpIHsKICAgIHJldHVybiBnZShlLCAidG9vbGJhcl9tb2RlIikub3JUaHVuayhmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiBnZShlLCAidG9vbGJhcl9kcmF3ZXIiKS5tYXAoZnVuY3Rpb24gKGUpIHsKICAgICAgICByZXR1cm4gITEgPT09IGUgPyAid3JhcCIgOiBlOwogICAgICB9KTsKICAgIH0pLmdldE9yKHQpOwogIH0sCiAgICAgIFZ5ID0gZnVuY3Rpb24gVnkoZSwgdCwgbiwgcikgewogICAgcmV0dXJuIGUgJiYgKGEgPSBpID0gIm1vYmlsZSIsIHUgPSAobyA9IHQpLnNlY3Rpb25zKCksIGp5KG8sIGkpICYmIHVbaV0udGhlbWUgPT09IGEpID8gSChyLCBOKE0sIE15KSkgOiBlICYmIGp5KHQsICJtb2JpbGUiKSA/IHIgOiBuOwogICAgdmFyIG8sIGksIGEsIHU7CiAgfSwKICAgICAgcXkgPSBmdW5jdGlvbiBxeShlLCB0LCBuLCByKSB7CiAgICB2YXIgbywKICAgICAgICBpLAogICAgICAgIGEsCiAgICAgICAgdSA9IFV5KG4uZm9yY2VkX3BsdWdpbnMpLAogICAgICAgIHMgPSBVeShyLnBsdWdpbnMpLAogICAgICAgIGMgPSBqeShvID0gdCwgaSA9ICJtb2JpbGUiKSA/IG8uc2VjdGlvbnMoKVtpXSA6IHt9LAogICAgICAgIGwgPSBjLnBsdWdpbnMgPyBVeShjLnBsdWdpbnMpIDogcywKICAgICAgICBmID0gVnkoZSwgdCwgcywgbCksCiAgICAgICAgZCA9IChhID0gZiwgW10uY29uY2F0KFV5KHUpKS5jb25jYXQoVXkoYSkpKTsKICAgIGlmICh3dC5icm93c2VyLmlzSUUoKSAmJiBNKGQsICJydGMiKSkgdGhyb3cgbmV3IEVycm9yKCJSVEMgcGx1Z2luIGlzIG5vdCBzdXBwb3J0ZWQgb24gSUUgMTEuIik7CiAgICByZXR1cm4ga3QuZXh0ZW5kKHIsIHsKICAgICAgcGx1Z2luczogZC5qb2luKCIgIikKICAgIH0pOwogIH0sCiAgICAgICR5ID0gZnVuY3Rpb24gJHkoZSwgdCwgbiwgciwgbykgewogICAgdmFyIGksCiAgICAgICAgYSwKICAgICAgICB1LAogICAgICAgIHMsCiAgICAgICAgYywKICAgICAgICBsLAogICAgICAgIGYsCiAgICAgICAgZCA9IGUgPyB7CiAgICAgIG1vYmlsZTogKGkgPSBvLm1vYmlsZSB8fCB7fSwgYSA9IHQsIHUgPSB7CiAgICAgICAgcmVzaXplOiAhMSwKICAgICAgICB0b29sYmFyX21vZGU6IEh5KGksICJzY3JvbGxpbmciKSwKICAgICAgICB0b29sYmFyX3N0aWNreTogITEKICAgICAgfSwgX2tlKF9rZShfa2Uoe30sIEZ5KSwgdSksIGEgPyB7CiAgICAgICAgbWVudWJhcjogITEKICAgICAgfSA6IHt9KSkKICAgIH0gOiB7fSwKICAgICAgICBtID0genkoWyJtb2JpbGUiXSwgT3koZCwgbykpLAogICAgICAgIHAgPSBrdC5leHRlbmQobiwgciwgbS5zZXR0aW5ncygpLCAoZiA9IG0sIGUgJiYgankoZiwgIm1vYmlsZSIpID8gZnVuY3Rpb24gKGUsIHQsIG4pIHsKICAgICAgdm9pZCAwID09PSBuICYmIChuID0ge30pOwogICAgICB2YXIgciA9IGUuc2VjdGlvbnMoKSwKICAgICAgICAgIG8gPSByLmhhc093blByb3BlcnR5KHQpID8gclt0XSA6IHt9OwogICAgICByZXR1cm4ga3QuZXh0ZW5kKHt9LCBuLCBvKTsKICAgIH0obSwgIm1vYmlsZSIpIDoge30pLCB7CiAgICAgIHZhbGlkYXRlOiAhMCwKICAgICAgZXh0ZXJuYWxfcGx1Z2luczogKHMgPSByLCBjID0gbS5zZXR0aW5ncygpLCBsID0gYy5leHRlcm5hbF9wbHVnaW5zID8gYy5leHRlcm5hbF9wbHVnaW5zIDoge30sIHMgJiYgcy5leHRlcm5hbF9wbHVnaW5zID8ga3QuZXh0ZW5kKHt9LCBzLmV4dGVybmFsX3BsdWdpbnMsIGwpIDogbCkKICAgIH0pOwogICAgcmV0dXJuIHF5KGUsIG0sIHIsIHApOwogIH0sCiAgICAgIFd5ID0gZnVuY3Rpb24gV3koZSwgdCwgbiwgciwgbykgewogICAgdmFyIGksCiAgICAgICAgYSwKICAgICAgICB1LAogICAgICAgIHMsCiAgICAgICAgYyA9IChpID0gbiwgYSA9IFB5LCB1ID0gZSwgcyA9IHsKICAgICAgaWQ6IHQsCiAgICAgIHRoZW1lOiAic2lsdmVyIiwKICAgICAgdG9vbGJhcl9tb2RlOiBIeShvLCAiZmxvYXRpbmciKSwKICAgICAgcGx1Z2luczogIiIsCiAgICAgIGRvY3VtZW50X2Jhc2VfdXJsOiBpLAogICAgICBhZGRfZm9ybV9zdWJtaXRfdHJpZ2dlcjogITAsCiAgICAgIHN1Ym1pdF9wYXRjaDogITAsCiAgICAgIGFkZF91bmxvYWRfdHJpZ2dlcjogITAsCiAgICAgIGNvbnZlcnRfdXJsczogITAsCiAgICAgIHJlbGF0aXZlX3VybHM6ICEwLAogICAgICByZW1vdmVfc2NyaXB0X2hvc3Q6ICEwLAogICAgICBvYmplY3RfcmVzaXppbmc6ICEwLAogICAgICBkb2N0eXBlOiAiPCFET0NUWVBFIGh0bWw+IiwKICAgICAgdmlzdWFsOiAhMCwKICAgICAgZm9udF9zaXplX2xlZ2FjeV92YWx1ZXM6ICJ4eC1zbWFsbCxzbWFsbCxtZWRpdW0sbGFyZ2UseC1sYXJnZSx4eC1sYXJnZSwzMDAlIiwKICAgICAgZm9yY2VkX3Jvb3RfYmxvY2s6ICJwIiwKICAgICAgaGlkZGVuX2lucHV0OiAhMCwKICAgICAgaW5saW5lX3N0eWxlczogITAsCiAgICAgIGNvbnZlcnRfZm9udHNfdG9fc3BhbnM6ICEwLAogICAgICBpbmRlbnQ6ICEwLAogICAgICBpbmRlbnRfYmVmb3JlOiAicCxoMSxoMixoMyxoNCxoNSxoNixibG9ja3F1b3RlLGRpdix0aXRsZSxzdHlsZSxwcmUsc2NyaXB0LHRkLHRoLHVsLG9sLGxpLGRsLGR0LGRkLGFyZWEsdGFibGUsdGhlYWQsdGZvb3QsdGJvZHksdHIsc2VjdGlvbixzdW1tYXJ5LGFydGljbGUsaGdyb3VwLGFzaWRlLGZpZ3VyZSxmaWdjYXB0aW9uLG9wdGlvbixvcHRncm91cCxkYXRhbGlzdCIsCiAgICAgIGluZGVudF9hZnRlcjogInAsaDEsaDIsaDMsaDQsaDUsaDYsYmxvY2txdW90ZSxkaXYsdGl0bGUsc3R5bGUscHJlLHNjcmlwdCx0ZCx0aCx1bCxvbCxsaSxkbCxkdCxkZCxhcmVhLHRhYmxlLHRoZWFkLHRmb290LHRib2R5LHRyLHNlY3Rpb24sc3VtbWFyeSxhcnRpY2xlLGhncm91cCxhc2lkZSxmaWd1cmUsZmlnY2FwdGlvbixvcHRpb24sb3B0Z3JvdXAsZGF0YWxpc3QiLAogICAgICBlbnRpdHlfZW5jb2Rpbmc6ICJuYW1lZCIsCiAgICAgIHVybF9jb252ZXJ0ZXI6IHUuY29udmVydFVSTCwKICAgICAgdXJsX2NvbnZlcnRlcl9zY29wZTogdQogICAgfSwgX2tlKF9rZSh7fSwgcyksIGEgPyBGeSA6IHt9KSk7CiAgICByZXR1cm4gJHkoTHkgfHwgSXksIEx5LCBjLCByLCBvKTsKICB9LAogICAgICBLeSA9IGZ1bmN0aW9uIEt5KGUsIHQsIG4pIHsKICAgIHJldHVybiBVLmZyb20odC5zZXR0aW5nc1tuXSkuZmlsdGVyKGUpOwogIH0sCiAgICAgIFh5ID0gZnVuY3Rpb24gWHkoZSwgdCwgbiwgcikgewogICAgdmFyIG8sCiAgICAgICAgaSwKICAgICAgICBhLAogICAgICAgIHUgPSB0IGluIGUuc2V0dGluZ3MgPyBlLnNldHRpbmdzW3RdIDogbjsKICAgIHJldHVybiAiaGFzaCIgPT09IHIgPyAoYSA9IHt9LCAic3RyaW5nIiA9PSB0eXBlb2YgKGkgPSB1KSA/IFcoMCA8IGkuaW5kZXhPZigiPSIpID8gaS5zcGxpdCgvWzssXSg/IVtePTssXSooPzpbOyxdfCQpKS8pIDogaS5zcGxpdCgiLCIpLCBmdW5jdGlvbiAoZSkgewogICAgICB2YXIgdCA9IGUuc3BsaXQoIj0iKTsKICAgICAgMSA8IHQubGVuZ3RoID8gYVtrdC50cmltKHRbMF0pXSA9IGt0LnRyaW0odFsxXSkgOiBhW2t0LnRyaW0odFswXSldID0ga3QudHJpbSh0WzBdKTsKICAgIH0pIDogYSA9IGksIGEpIDogInN0cmluZyIgPT09IHIgPyBLeShxLCBlLCB0KS5nZXRPcihuKSA6ICJudW1iZXIiID09PSByID8gS3koTywgZSwgdCkuZ2V0T3IobikgOiAiYm9vbGVhbiIgPT09IHIgPyBLeShBLCBlLCB0KS5nZXRPcihuKSA6ICJvYmplY3QiID09PSByID8gS3koXywgZSwgdCkuZ2V0T3IobikgOiAiYXJyYXkiID09PSByID8gS3koUywgZSwgdCkuZ2V0T3IobikgOiAic3RyaW5nW10iID09PSByID8gS3koKG8gPSBxLCBmdW5jdGlvbiAoZSkgewogICAgICByZXR1cm4gUyhlKSAmJiBRKGUsIG8pOwogICAgfSksIGUsIHQpLmdldE9yKG4pIDogImZ1bmN0aW9uIiA9PT0gciA/IEt5KFQsIGUsIHQpLmdldE9yKG4pIDogdTsKICB9LAogICAgICBZeSA9IChjeSA9IHt9LCB7CiAgICBhZGQ6IGZ1bmN0aW9uIGFkZChlLCB0KSB7CiAgICAgIGN5W2VdID0gdDsKICAgIH0sCiAgICBnZXQ6IGZ1bmN0aW9uIGdldChlKSB7CiAgICAgIHJldHVybiBjeVtlXSA/IGN5W2VdIDogewogICAgICAgIGljb25zOiB7fQogICAgICB9OwogICAgfSwKICAgIGhhczogZnVuY3Rpb24gaGFzKGUpIHsKICAgICAgcmV0dXJuIGhlKGN5LCBlKTsKICAgIH0KICB9KSwKICAgICAgR3kgPSBmdW5jdGlvbiBHeShlLCB0KSB7CiAgICByZXR1cm4gdC5kb21bZV07CiAgfSwKICAgICAgSnkgPSBmdW5jdGlvbiBKeShlLCB0KSB7CiAgICByZXR1cm4gcGFyc2VJbnQoZXIodCwgZSksIDEwKTsKICB9LAogICAgICBReSA9IE4oR3ksICJjbGllbnRXaWR0aCIpLAogICAgICBaeSA9IE4oR3ksICJjbGllbnRIZWlnaHQiKSwKICAgICAgZWIgPSBOKEp5LCAibWFyZ2luLXRvcCIpLAogICAgICB0YiA9IE4oSnksICJtYXJnaW4tbGVmdCIpLAogICAgICBuYiA9IGZ1bmN0aW9uIG5iKGUsIHQsIG4pIHsKICAgIHZhciByLAogICAgICAgIG8sCiAgICAgICAgaSwKICAgICAgICBhLAogICAgICAgIHUsCiAgICAgICAgcywKICAgICAgICBjLAogICAgICAgIGwsCiAgICAgICAgZiwKICAgICAgICBkLAogICAgICAgIG0sCiAgICAgICAgcCA9IEF0LmZyb21Eb20oZS5nZXRCb2R5KCkpLAogICAgICAgIGcgPSBlLmlubGluZSA/IHAgOiAociA9IHAsIEF0LmZyb21Eb20oVnQocikuZG9tLmRvY3VtZW50RWxlbWVudCkpLAogICAgICAgIGggPSAobyA9IGUuaW5saW5lLCBhID0gdCwgdSA9IG4sIHMgPSAoaSA9IGcpLmRvbS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSwgewogICAgICB4OiBhIC0gKG8gPyBzLmxlZnQgKyBpLmRvbS5jbGllbnRMZWZ0ICsgdGIoaSkgOiAwKSwKICAgICAgeTogdSAtIChvID8gcy50b3AgKyBpLmRvbS5jbGllbnRUb3AgKyBlYihpKSA6IDApCiAgICB9KTsKICAgIHJldHVybiBsID0gaC54LCBmID0gaC55LCBkID0gUXkoYyA9IGcpLCBtID0gWnkoYyksIDAgPD0gbCAmJiAwIDw9IGYgJiYgbCA8PSBkICYmIGYgPD0gbTsKICB9LAogICAgICByYiA9IGZ1bmN0aW9uIHJiKGUpIHsKICAgIHZhciB0LAogICAgICAgIG4gPSBlLmlubGluZSA/IGUuZ2V0Qm9keSgpIDogZS5nZXRDb250ZW50QXJlYUNvbnRhaW5lcigpOwogICAgcmV0dXJuIHQgPSBuLCBVLmZyb20odCkubWFwKEF0LmZyb21Eb20pLm1hcChobikuZ2V0T3IoITEpOwogIH07CgogIGZ1bmN0aW9uIG9iKG4pIHsKICAgIHZhciB0LAogICAgICAgIG8gPSBbXSwKICAgICAgICBpID0gZnVuY3Rpb24gaSgpIHsKICAgICAgdmFyIGUsCiAgICAgICAgICB0ID0gbi50aGVtZTsKICAgICAgcmV0dXJuIHQgJiYgdC5nZXROb3RpZmljYXRpb25NYW5hZ2VySW1wbCA/IHQuZ2V0Tm90aWZpY2F0aW9uTWFuYWdlckltcGwoKSA6IHsKICAgICAgICBvcGVuOiBlID0gZnVuY3Rpb24gZSgpIHsKICAgICAgICAgIHRocm93IG5ldyBFcnJvcigiVGhlbWUgZGlkIG5vdCBwcm92aWRlIGEgTm90aWZpY2F0aW9uTWFuYWdlciBpbXBsZW1lbnRhdGlvbi4iKTsKICAgICAgICB9LAogICAgICAgIGNsb3NlOiBlLAogICAgICAgIHJlcG9zaXRpb246IGUsCiAgICAgICAgZ2V0QXJnczogZQogICAgICB9OwogICAgfSwKICAgICAgICBhID0gZnVuY3Rpb24gYSgpIHsKICAgICAgcmV0dXJuIFUuZnJvbShvWzBdKTsKICAgIH0sCiAgICAgICAgdSA9IGZ1bmN0aW9uIHUoKSB7CiAgICAgIDAgPCBvLmxlbmd0aCAmJiBpKCkucmVwb3NpdGlvbihvKTsKICAgIH0sCiAgICAgICAgcyA9IGZ1bmN0aW9uIHModCkgewogICAgICBHKG8sIGZ1bmN0aW9uIChlKSB7CiAgICAgICAgcmV0dXJuIGUgPT09IHQ7CiAgICAgIH0pLmVhY2goZnVuY3Rpb24gKGUpIHsKICAgICAgICBvLnNwbGljZShlLCAxKTsKICAgICAgfSk7CiAgICB9LAogICAgICAgIHIgPSBmdW5jdGlvbiByKF9yNCwgZSkgewogICAgICBpZiAodm9pZCAwID09PSBlICYmIChlID0gITApLCAhbi5yZW1vdmVkICYmIHJiKG4pKSByZXR1cm4gZSAmJiBuLmZpcmUoIkJlZm9yZU9wZW5Ob3RpZmljYXRpb24iLCB7CiAgICAgICAgbm90aWZpY2F0aW9uOiBfcjQKICAgICAgfSksIFkobywgZnVuY3Rpb24gKGUpIHsKICAgICAgICByZXR1cm4gdCA9IGkoKS5nZXRBcmdzKGUpLCBuID0gX3I0LCAhKHQudHlwZSAhPT0gbi50eXBlIHx8IHQudGV4dCAhPT0gbi50ZXh0IHx8IHQucHJvZ3Jlc3NCYXIgfHwgdC50aW1lb3V0IHx8IG4ucHJvZ3Jlc3NCYXIgfHwgbi50aW1lb3V0KTsKICAgICAgICB2YXIgdCwgbjsKICAgICAgfSkuZ2V0T3JUaHVuayhmdW5jdGlvbiAoKSB7CiAgICAgICAgbi5lZGl0b3JNYW5hZ2VyLnNldEFjdGl2ZShuKTsKICAgICAgICB2YXIgZSwKICAgICAgICAgICAgdCA9IGkoKS5vcGVuKF9yNCwgZnVuY3Rpb24gKCkgewogICAgICAgICAgcyh0KSwgdSgpLCBhKCkuZm9sZChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIHJldHVybiBuLmZvY3VzKCk7CiAgICAgICAgICB9LCBmdW5jdGlvbiAoZSkgewogICAgICAgICAgICByZXR1cm4gQXQuZnJvbURvbShlLmdldEVsKCkpLmRvbS5mb2N1cygpOwogICAgICAgICAgfSk7CiAgICAgICAgfSk7CiAgICAgICAgcmV0dXJuIGUgPSB0LCBvLnB1c2goZSksIHUoKSwgbi5maXJlKCJPcGVuTm90aWZpY2F0aW9uIiwgX2tlKHt9LCB0KSksIHQ7CiAgICAgIH0pOwogICAgfTsKCiAgICByZXR1cm4gKHQgPSBuKS5vbigiU2tpbkxvYWRlZCIsIGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIGUgPSB0LmdldFBhcmFtKCJzZXJ2aWNlX21lc3NhZ2UiKTsKICAgICAgZSAmJiByKHsKICAgICAgICB0ZXh0OiBlLAogICAgICAgIHR5cGU6ICJ3YXJuaW5nIiwKICAgICAgICB0aW1lb3V0OiAwCiAgICAgIH0sICExKTsKICAgIH0pLCB0Lm9uKCJSZXNpemVFZGl0b3IgUmVzaXplV2luZG93IE5vZGVDaGFuZ2UiLCBmdW5jdGlvbiAoKSB7CiAgICAgIHFyLnJlcXVlc3RBbmltYXRpb25GcmFtZSh1KTsKICAgIH0pLCB0Lm9uKCJyZW1vdmUiLCBmdW5jdGlvbiAoKSB7CiAgICAgIFcoby5zbGljZSgpLCBmdW5jdGlvbiAoZSkgewogICAgICAgIGkoKS5jbG9zZShlKTsKICAgICAgfSk7CiAgICB9KSwgewogICAgICBvcGVuOiByLAogICAgICBjbG9zZTogZnVuY3Rpb24gY2xvc2UoKSB7CiAgICAgICAgYSgpLmVhY2goZnVuY3Rpb24gKGUpIHsKICAgICAgICAgIGkoKS5jbG9zZShlKSwgcyhlKSwgdSgpOwogICAgICAgIH0pOwogICAgICB9LAogICAgICBnZXROb3RpZmljYXRpb25zOiBmdW5jdGlvbiBnZXROb3RpZmljYXRpb25zKCkgewogICAgICAgIHJldHVybiBvOwogICAgICB9CiAgICB9OwogIH0KCiAgdmFyIGliID0gVXUuUGx1Z2luTWFuYWdlciwKICAgICAgYWIgPSBVdS5UaGVtZU1hbmFnZXI7CgogIHZhciB1YiA9IGZ1bmN0aW9uIHViKG4pIHsKICAgIHZhciByID0gW10sCiAgICAgICAgbyA9IGZ1bmN0aW9uIG8oKSB7CiAgICAgIHZhciBlLAogICAgICAgICAgdCA9IG4udGhlbWU7CiAgICAgIHJldHVybiB0ICYmIHQuZ2V0V2luZG93TWFuYWdlckltcGwgPyB0LmdldFdpbmRvd01hbmFnZXJJbXBsKCkgOiB7CiAgICAgICAgb3BlbjogZSA9IGZ1bmN0aW9uIGUoKSB7CiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoIlRoZW1lIGRpZCBub3QgcHJvdmlkZSBhIFdpbmRvd01hbmFnZXIgaW1wbGVtZW50YXRpb24uIik7CiAgICAgICAgfSwKICAgICAgICBvcGVuVXJsOiBlLAogICAgICAgIGFsZXJ0OiBlLAogICAgICAgIGNvbmZpcm06IGUsCiAgICAgICAgY2xvc2U6IGUsCiAgICAgICAgZ2V0UGFyYW1zOiBlLAogICAgICAgIHNldFBhcmFtczogZQogICAgICB9OwogICAgfSwKICAgICAgICBpID0gZnVuY3Rpb24gaShlLCB0KSB7CiAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7CiAgICAgICAgcmV0dXJuIHQgPyB0LmFwcGx5KGUsIGFyZ3VtZW50cykgOiB1bmRlZmluZWQ7CiAgICAgIH07CiAgICB9LAogICAgICAgIGEgPSBmdW5jdGlvbiBhKGUpIHsKICAgICAgdmFyIHQ7CiAgICAgIHIucHVzaChlKSwgdCA9IGUsIG4uZmlyZSgiT3BlbldpbmRvdyIsIHsKICAgICAgICBkaWFsb2c6IHQKICAgICAgfSk7CiAgICB9LAogICAgICAgIHUgPSBmdW5jdGlvbiB1KHQpIHsKICAgICAgdmFyIGU7CiAgICAgIGUgPSB0LCBuLmZpcmUoIkNsb3NlV2luZG93IiwgewogICAgICAgIGRpYWxvZzogZQogICAgICB9KSwgMCA9PT0gKHIgPSBIKHIsIGZ1bmN0aW9uIChlKSB7CiAgICAgICAgcmV0dXJuIGUgIT09IHQ7CiAgICAgIH0pKS5sZW5ndGggJiYgbi5mb2N1cygpOwogICAgfSwKICAgICAgICBzID0gZnVuY3Rpb24gcyhlKSB7CiAgICAgIG4uZWRpdG9yTWFuYWdlci5zZXRBY3RpdmUobiksIGZtKG4pOwogICAgICB2YXIgdCA9IGUoKTsKICAgICAgcmV0dXJuIGEodCksIHQ7CiAgICB9OwoKICAgIHJldHVybiBuLm9uKCJyZW1vdmUiLCBmdW5jdGlvbiAoKSB7CiAgICAgIFcociwgZnVuY3Rpb24gKGUpIHsKICAgICAgICBvKCkuY2xvc2UoZSk7CiAgICAgIH0pOwogICAgfSksIHsKICAgICAgb3BlbjogZnVuY3Rpb24gb3BlbihlLCB0KSB7CiAgICAgICAgcmV0dXJuIHMoZnVuY3Rpb24gKCkgewogICAgICAgICAgcmV0dXJuIG8oKS5vcGVuKGUsIHQsIHUpOwogICAgICAgIH0pOwogICAgICB9LAogICAgICBvcGVuVXJsOiBmdW5jdGlvbiBvcGVuVXJsKGUpIHsKICAgICAgICByZXR1cm4gcyhmdW5jdGlvbiAoKSB7CiAgICAgICAgICByZXR1cm4gbygpLm9wZW5VcmwoZSwgdSk7CiAgICAgICAgfSk7CiAgICAgIH0sCiAgICAgIGFsZXJ0OiBmdW5jdGlvbiBhbGVydChlLCB0LCBuKSB7CiAgICAgICAgbygpLmFsZXJ0KGUsIGkobiB8fCB0aGlzLCB0KSk7CiAgICAgIH0sCiAgICAgIGNvbmZpcm06IGZ1bmN0aW9uIGNvbmZpcm0oZSwgdCwgbikgewogICAgICAgIG8oKS5jb25maXJtKGUsIGkobiB8fCB0aGlzLCB0KSk7CiAgICAgIH0sCiAgICAgIGNsb3NlOiBmdW5jdGlvbiBjbG9zZSgpIHsKICAgICAgICBVLmZyb20ocltyLmxlbmd0aCAtIDFdKS5lYWNoKGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICBvKCkuY2xvc2UoZSksIHUoZSk7CiAgICAgICAgfSk7CiAgICAgIH0KICAgIH07CiAgfSwKICAgICAgc2IgPSBmdW5jdGlvbiBzYihlLCB0KSB7CiAgICBlLm5vdGlmaWNhdGlvbk1hbmFnZXIub3Blbih7CiAgICAgIHR5cGU6ICJlcnJvciIsCiAgICAgIHRleHQ6IHQKICAgIH0pOwogIH0sCiAgICAgIGNiID0gZnVuY3Rpb24gY2IoZSwgdCkgewogICAgZS5fc2tpbkxvYWRlZCA/IHNiKGUsIHQpIDogZS5vbigiU2tpbkxvYWRlZCIsIGZ1bmN0aW9uICgpIHsKICAgICAgc2IoZSwgdCk7CiAgICB9KTsKICB9LAogICAgICBsYiA9IGZ1bmN0aW9uIGxiKGUsIHQsIG4pIHsKICAgIHZhciByLCBvOwogICAgciA9IHQsIG8gPSB7CiAgICAgIG1lc3NhZ2U6IG4KICAgIH0sIGUuZmlyZShyLCBvKSwgY29uc29sZS5lcnJvcihuKTsKICB9LAogICAgICBmYiA9IGZ1bmN0aW9uIGZiKGUsIHQsIG4pIHsKICAgIHJldHVybiBuID8gIkZhaWxlZCB0byBsb2FkICIgKyBlICsgIjogIiArIG4gKyAiIGZyb20gdXJsICIgKyB0IDogIkZhaWxlZCB0byBsb2FkICIgKyBlICsgIiB1cmw6ICIgKyB0OwogIH0sCiAgICAgIGRiID0gZnVuY3Rpb24gZGIoZSwgdCwgbikgewogICAgbGIoZSwgIlBsdWdpbkxvYWRFcnJvciIsIGZiKCJwbHVnaW4iLCB0LCBuKSk7CiAgfSwKICAgICAgbWIgPSBmdW5jdGlvbiBtYihlKSB7CiAgICBmb3IgKHZhciB0ID0gW10sIG4gPSAxOyBuIDwgYXJndW1lbnRzLmxlbmd0aDsgbisrKSB7CiAgICAgIHRbbiAtIDFdID0gYXJndW1lbnRzW25dOwogICAgfQoKICAgIHZhciByID0gd2luZG93LmNvbnNvbGU7CiAgICByICYmIChyLmVycm9yID8gci5lcnJvci5hcHBseShyLCBfZShbZV0sIHQpKSA6IHIubG9nLmFwcGx5KHIsIF9lKFtlXSwgdCkpKTsKICB9LAogICAgICBwYiA9IGZ1bmN0aW9uIHBiKHQpIHsKICAgIHZhciBlLAogICAgICAgIG4sCiAgICAgICAgciA9IChuID0gKGUgPSB0KS5nZXRQYXJhbSgiY29udGVudF9jc3MiKSwgcShuKSA/IHoobi5zcGxpdCgiLCIpLCAkZSkgOiBTKG4pID8gbiA6ICExID09PSBuIHx8IGUuaW5saW5lID8gW10gOiBbImRlZmF1bHQiXSksCiAgICAgICAgbyA9IHQuZWRpdG9yTWFuYWdlci5iYXNlVVJMICsgIi9za2lucy9jb250ZW50IiwKICAgICAgICBpID0gImNvbnRlbnQiICsgdC5lZGl0b3JNYW5hZ2VyLnN1ZmZpeCArICIuY3NzIiwKICAgICAgICBhID0gITAgPT09IHQuaW5saW5lOwogICAgcmV0dXJuIHoociwgZnVuY3Rpb24gKGUpIHsKICAgICAgcmV0dXJuIC9eW2EtejAtOVwtXSskL2kudGVzdChlKSAmJiAhYSA/IG8gKyAiLyIgKyBlICsgIi8iICsgaSA6IHQuZG9jdW1lbnRCYXNlVVJJLnRvQWJzb2x1dGUoZSk7CiAgICB9KTsKICB9OwoKICBmdW5jdGlvbiBnYih1LCBzKSB7CiAgICB2YXIgbyA9IHt9LAogICAgICAgIG4gPSBmdW5jdGlvbiBuKGUsIHIsIG8sIHQpIHsKICAgICAgdmFyIGkgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTsKICAgICAgaS5vcGVuKCJQT1NUIiwgcy51cmwpLCBpLndpdGhDcmVkZW50aWFscyA9IHMuY3JlZGVudGlhbHMsIGkudXBsb2FkLm9ucHJvZ3Jlc3MgPSBmdW5jdGlvbiAoZSkgewogICAgICAgIHQoZS5sb2FkZWQgLyBlLnRvdGFsICogMTAwKTsKICAgICAgfSwgaS5vbmVycm9yID0gZnVuY3Rpb24gKCkgewogICAgICAgIG8oIkltYWdlIHVwbG9hZCBmYWlsZWQgZHVlIHRvIGEgWEhSIFRyYW5zcG9ydCBlcnJvci4gQ29kZTogIiArIGkuc3RhdHVzKTsKICAgICAgfSwgaS5vbmxvYWQgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgdmFyIGUsIHQsIG47CiAgICAgICAgaS5zdGF0dXMgPCAyMDAgfHwgMzAwIDw9IGkuc3RhdHVzID8gbygiSFRUUCBFcnJvcjogIiArIGkuc3RhdHVzKSA6IChlID0gSlNPTi5wYXJzZShpLnJlc3BvbnNlVGV4dCkpICYmICJzdHJpbmciID09IHR5cGVvZiBlLmxvY2F0aW9uID8gcigodCA9IHMuYmFzZVBhdGgsIG4gPSBlLmxvY2F0aW9uLCB0ID8gdC5yZXBsYWNlKC9cLyQvLCAiIikgKyAiLyIgKyBuLnJlcGxhY2UoL15cLy8sICIiKSA6IG4pKSA6IG8oIkludmFsaWQgSlNPTjogIiArIGkucmVzcG9uc2VUZXh0KTsKICAgICAgfTsKICAgICAgdmFyIG4gPSBuZXcgRm9ybURhdGEoKTsKICAgICAgbi5hcHBlbmQoImZpbGUiLCBlLmJsb2IoKSwgZS5maWxlbmFtZSgpKSwgaS5zZW5kKG4pOwogICAgfSwKICAgICAgICBjID0gZnVuY3Rpb24gYyhlLCB0KSB7CiAgICAgIHJldHVybiB7CiAgICAgICAgdXJsOiB0LAogICAgICAgIGJsb2JJbmZvOiBlLAogICAgICAgIHN0YXR1czogITAKICAgICAgfTsKICAgIH0sCiAgICAgICAgbCA9IGZ1bmN0aW9uIGwoZSwgdCwgbikgewogICAgICByZXR1cm4gewogICAgICAgIHVybDogIiIsCiAgICAgICAgYmxvYkluZm86IGUsCiAgICAgICAgc3RhdHVzOiAhMSwKICAgICAgICBlcnJvcjogewogICAgICAgICAgbWVzc2FnZTogdCwKICAgICAgICAgIG9wdGlvbnM6IG4KICAgICAgICB9CiAgICAgIH07CiAgICB9LAogICAgICAgIGYgPSBmdW5jdGlvbiBmKGUsIHQpIHsKICAgICAga3QuZWFjaChvW2VdLCBmdW5jdGlvbiAoZSkgewogICAgICAgIGUodCk7CiAgICAgIH0pLCBkZWxldGUgb1tlXTsKICAgIH0sCiAgICAgICAgciA9IGZ1bmN0aW9uIHIoZSwgX3I1KSB7CiAgICAgIHJldHVybiBlID0ga3QuZ3JlcChlLCBmdW5jdGlvbiAoZSkgewogICAgICAgIHJldHVybiAhdS5pc1VwbG9hZGVkKGUuYmxvYlVyaSgpKTsKICAgICAgfSksIEJyLmFsbChrdC5tYXAoZSwgZnVuY3Rpb24gKGUpIHsKICAgICAgICByZXR1cm4gdS5pc1BlbmRpbmcoZS5ibG9iVXJpKCkpID8gKHQgPSBlLmJsb2JVcmkoKSwgbmV3IEJyKGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICBvW3RdID0gb1t0XSB8fCBbXSwgb1t0XS5wdXNoKGUpOwogICAgICAgIH0pKSA6IChpID0gZSwgbiA9IHMuaGFuZGxlciwgYSA9IF9yNSwgdS5tYXJrUGVuZGluZyhpLmJsb2JVcmkoKSksIG5ldyBCcihmdW5jdGlvbiAocikgewogICAgICAgICAgdmFyIHQ7CgogICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgdmFyIG8gPSBmdW5jdGlvbiBvKCkgewogICAgICAgICAgICAgIHQgJiYgdC5jbG9zZSgpOwogICAgICAgICAgICB9OwoKICAgICAgICAgICAgbihpLCBmdW5jdGlvbiAoZSkgewogICAgICAgICAgICAgIG8oKSwgdS5tYXJrVXBsb2FkZWQoaS5ibG9iVXJpKCksIGUpLCBmKGkuYmxvYlVyaSgpLCBjKGksIGUpKSwgcihjKGksIGUpKTsKICAgICAgICAgICAgfSwgZnVuY3Rpb24gKGUsIHQpIHsKICAgICAgICAgICAgICB2YXIgbiA9IHQgfHwge307CiAgICAgICAgICAgICAgbygpLCB1LnJlbW92ZUZhaWxlZChpLmJsb2JVcmkoKSksIGYoaS5ibG9iVXJpKCksIGwoaSwgZSwgbikpLCByKGwoaSwgZSwgbikpOwogICAgICAgICAgICB9LCBmdW5jdGlvbiAoZSkgewogICAgICAgICAgICAgIGUgPCAwIHx8IDEwMCA8IGUgfHwgKHQgPSB0IHx8IGEoKSkucHJvZ3Jlc3NCYXIudmFsdWUoZSk7CiAgICAgICAgICAgIH0pOwogICAgICAgICAgfSBjYXRjaCAoZSkgewogICAgICAgICAgICByKGwoaSwgZS5tZXNzYWdlLCB7fSkpOwogICAgICAgICAgfQogICAgICAgIH0pKTsKICAgICAgICB2YXIgaSwgbiwgYSwgdDsKICAgICAgfSkpOwogICAgfTsKCiAgICByZXR1cm4gITEgPT09IFQocy5oYW5kbGVyKSAmJiAocy5oYW5kbGVyID0gbiksIHsKICAgICAgdXBsb2FkOiBmdW5jdGlvbiB1cGxvYWQoZSwgdCkgewogICAgICAgIHJldHVybiBzLnVybCB8fCBzLmhhbmRsZXIgIT09IG4gPyByKGUsIHQpIDogbmV3IEJyKGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICBlKFtdKTsKICAgICAgICB9KTsKICAgICAgfQogICAgfTsKICB9CgogIHZhciBoYiA9IDAsCiAgICAgIHZiID0gZnVuY3Rpb24gdmIoZSkgewogICAgcmV0dXJuIGUgKyBoYisrICsgKHQgPSBmdW5jdGlvbiB0KCkgewogICAgICByZXR1cm4gTWF0aC5yb3VuZCg0Mjk0OTY3Mjk1ICogTWF0aC5yYW5kb20oKSkudG9TdHJpbmcoMzYpOwogICAgfSwgInMiICsgbmV3IERhdGUoKS5nZXRUaW1lKCkudG9TdHJpbmcoMzYpICsgdCgpICsgdCgpICsgdCgpKTsKICAgIHZhciB0OwogIH0sCiAgICAgIHliID0gZnVuY3Rpb24geWIocykgewogICAgdmFyIG4sCiAgICAgICAgaSwKICAgICAgICBlLAogICAgICAgIHQsCiAgICAgICAgciwKICAgICAgICBvLAogICAgICAgIGEsCiAgICAgICAgdSwKICAgICAgICBjLAogICAgICAgIGwgPSAobiA9IFtdLCBpID0gZnVuY3Rpb24gaShlKSB7CiAgICAgIGlmICghZS5ibG9iIHx8ICFlLmJhc2U2NCkgdGhyb3cgbmV3IEVycm9yKCJibG9iIGFuZCBiYXNlNjQgcmVwcmVzZW50YXRpb25zIG9mIHRoZSBpbWFnZSBhcmUgcmVxdWlyZWQgZm9yIEJsb2JJbmZvIHRvIGJlIGNyZWF0ZWQiKTsKICAgICAgdmFyIHQgPSBlLmlkIHx8IHZiKCJibG9iaWQiKSwKICAgICAgICAgIG4gPSBlLm5hbWUgfHwgdCwKICAgICAgICAgIHIgPSBlLmJsb2I7CiAgICAgIHJldHVybiB7CiAgICAgICAgaWQ6IEUodCksCiAgICAgICAgbmFtZTogRShuKSwKICAgICAgICBmaWxlbmFtZTogRShlLmZpbGVuYW1lIHx8IG4gKyAiLiIgKyAoewogICAgICAgICAgImltYWdlL2pwZWciOiAianBnIiwKICAgICAgICAgICJpbWFnZS9qcGciOiAianBnIiwKICAgICAgICAgICJpbWFnZS9naWYiOiAiZ2lmIiwKICAgICAgICAgICJpbWFnZS9wbmciOiAicG5nIiwKICAgICAgICAgICJpbWFnZS9hcG5nIjogImFwbmciLAogICAgICAgICAgImltYWdlL2F2aWYiOiAiYXZpZiIsCiAgICAgICAgICAiaW1hZ2Uvc3ZnK3htbCI6ICJzdmciLAogICAgICAgICAgImltYWdlL3dlYnAiOiAid2VicCIsCiAgICAgICAgICAiaW1hZ2UvYm1wIjogImJtcCIsCiAgICAgICAgICAiaW1hZ2UvdGlmZiI6ICJ0aWZmIgogICAgICAgIH1bci50eXBlLnRvTG93ZXJDYXNlKCldIHx8ICJkYXQiKSksCiAgICAgICAgYmxvYjogRShyKSwKICAgICAgICBiYXNlNjQ6IEUoZS5iYXNlNjQpLAogICAgICAgIGJsb2JVcmk6IEUoZS5ibG9iVXJpIHx8IFVSTC5jcmVhdGVPYmplY3RVUkwocikpLAogICAgICAgIHVyaTogRShlLnVyaSkKICAgICAgfTsKICAgIH0sIHsKICAgICAgY3JlYXRlOiBmdW5jdGlvbiBjcmVhdGUoZSwgdCwgbiwgciwgbykgewogICAgICAgIGlmIChxKGUpKSByZXR1cm4gaSh7CiAgICAgICAgICBpZDogZSwKICAgICAgICAgIG5hbWU6IHIsCiAgICAgICAgICBmaWxlbmFtZTogbywKICAgICAgICAgIGJsb2I6IHQsCiAgICAgICAgICBiYXNlNjQ6IG4KICAgICAgICB9KTsKICAgICAgICBpZiAoXyhlKSkgcmV0dXJuIGkoZSk7CiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCJVbmtub3duIGlucHV0IHR5cGUiKTsKICAgICAgfSwKICAgICAgYWRkOiBmdW5jdGlvbiBhZGQoZSkgewogICAgICAgIHQoZS5pZCgpKSB8fCBuLnB1c2goZSk7CiAgICAgIH0sCiAgICAgIGdldDogdCA9IGZ1bmN0aW9uIHQoX3Q0KSB7CiAgICAgICAgcmV0dXJuIGUoZnVuY3Rpb24gKGUpIHsKICAgICAgICAgIHJldHVybiBlLmlkKCkgPT09IF90NDsKICAgICAgICB9KTsKICAgICAgfSwKICAgICAgZ2V0QnlVcmk6IGZ1bmN0aW9uIGdldEJ5VXJpKHQpIHsKICAgICAgICByZXR1cm4gZShmdW5jdGlvbiAoZSkgewogICAgICAgICAgcmV0dXJuIGUuYmxvYlVyaSgpID09PSB0OwogICAgICAgIH0pOwogICAgICB9LAogICAgICBnZXRCeURhdGE6IGZ1bmN0aW9uIGdldEJ5RGF0YSh0LCBuKSB7CiAgICAgICAgcmV0dXJuIGUoZnVuY3Rpb24gKGUpIHsKICAgICAgICAgIHJldHVybiBlLmJhc2U2NCgpID09PSB0ICYmIGUuYmxvYigpLnR5cGUgPT09IG47CiAgICAgICAgfSk7CiAgICAgIH0sCiAgICAgIGZpbmRGaXJzdDogZSA9IGZ1bmN0aW9uIGUoX2U4KSB7CiAgICAgICAgcmV0dXJuIFkobiwgX2U4KS5nZXRPclVuZGVmaW5lZCgpOwogICAgICB9LAogICAgICByZW1vdmVCeVVyaTogZnVuY3Rpb24gcmVtb3ZlQnlVcmkodCkgewogICAgICAgIG4gPSBIKG4sIGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICByZXR1cm4gZS5ibG9iVXJpKCkgIT09IHQgfHwgKFVSTC5yZXZva2VPYmplY3RVUkwoZS5ibG9iVXJpKCkpLCAhMSk7CiAgICAgICAgfSk7CiAgICAgIH0sCiAgICAgIGRlc3Ryb3k6IGZ1bmN0aW9uIGRlc3Ryb3koKSB7CiAgICAgICAgVyhuLCBmdW5jdGlvbiAoZSkgewogICAgICAgICAgVVJMLnJldm9rZU9iamVjdFVSTChlLmJsb2JVcmkoKSk7CiAgICAgICAgfSksIG4gPSBbXTsKICAgICAgfQogICAgfSksCiAgICAgICAgZiA9IChhID0ge30sIHUgPSBmdW5jdGlvbiB1KGUsIHQpIHsKICAgICAgcmV0dXJuIHsKICAgICAgICBzdGF0dXM6IGUsCiAgICAgICAgcmVzdWx0VXJpOiB0CiAgICAgIH07CiAgICB9LCB7CiAgICAgIGhhc0Jsb2JVcmk6IGMgPSBmdW5jdGlvbiBjKGUpIHsKICAgICAgICByZXR1cm4gZSBpbiBhOwogICAgICB9LAogICAgICBnZXRSZXN1bHRVcmk6IGZ1bmN0aW9uIGdldFJlc3VsdFVyaShlKSB7CiAgICAgICAgdmFyIHQgPSBhW2VdOwogICAgICAgIHJldHVybiB0ID8gdC5yZXN1bHRVcmkgOiBudWxsOwogICAgICB9LAogICAgICBpc1BlbmRpbmc6IGZ1bmN0aW9uIGlzUGVuZGluZyhlKSB7CiAgICAgICAgcmV0dXJuICEhYyhlKSAmJiAxID09PSBhW2VdLnN0YXR1czsKICAgICAgfSwKICAgICAgaXNVcGxvYWRlZDogZnVuY3Rpb24gaXNVcGxvYWRlZChlKSB7CiAgICAgICAgcmV0dXJuICEhYyhlKSAmJiAyID09PSBhW2VdLnN0YXR1czsKICAgICAgfSwKICAgICAgbWFya1BlbmRpbmc6IGZ1bmN0aW9uIG1hcmtQZW5kaW5nKGUpIHsKICAgICAgICBhW2VdID0gdSgxLCBudWxsKTsKICAgICAgfSwKICAgICAgbWFya1VwbG9hZGVkOiBmdW5jdGlvbiBtYXJrVXBsb2FkZWQoZSwgdCkgewogICAgICAgIGFbZV0gPSB1KDIsIHQpOwogICAgICB9LAogICAgICByZW1vdmVGYWlsZWQ6IGZ1bmN0aW9uIHJlbW92ZUZhaWxlZChlKSB7CiAgICAgICAgZGVsZXRlIGFbZV07CiAgICAgIH0sCiAgICAgIGRlc3Ryb3k6IGZ1bmN0aW9uIGRlc3Ryb3koKSB7CiAgICAgICAgYSA9IHt9OwogICAgICB9CiAgICB9KSwKICAgICAgICBkID0gW10sCiAgICAgICAgbSA9IGZ1bmN0aW9uIChuKSB7CiAgICAgIHZhciByID0gT3UobnVsbCk7CiAgICAgIG4ub24oImNoYW5nZSBBZGRVbmRvIiwgZnVuY3Rpb24gKGUpIHsKICAgICAgICByLnNldChfa2Uoe30sIGUubGV2ZWwpKTsKICAgICAgfSk7CiAgICAgIHJldHVybiB7CiAgICAgICAgZmlyZUlmQ2hhbmdlZDogZnVuY3Rpb24gZmlyZUlmQ2hhbmdlZCgpIHsKICAgICAgICAgIHZhciB0ID0gbi51bmRvTWFuYWdlci5kYXRhOwogICAgICAgICAgcmUodCkuZmlsdGVyKGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICAgIHJldHVybiAhQnYoci5nZXQoKSwgZSk7CiAgICAgICAgICB9KS5lYWNoKGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICAgIG4uc2V0RGlydHkoITApLCBuLmZpcmUoImNoYW5nZSIsIHsKICAgICAgICAgICAgICBsZXZlbDogZSwKICAgICAgICAgICAgICBsYXN0TGV2ZWw6IHRlKHQsIHQubGVuZ3RoIC0gMikuZ2V0T3JOdWxsKCkKICAgICAgICAgICAgfSk7CiAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgIH07CiAgICB9KHMpLAogICAgICAgIHAgPSBmdW5jdGlvbiBwKHQpIHsKICAgICAgcmV0dXJuIGZ1bmN0aW9uIChlKSB7CiAgICAgICAgcmV0dXJuIHMuc2VsZWN0aW9uID8gdChlKSA6IFtdOwogICAgICB9OwogICAgfSwKICAgICAgICBnID0gZnVuY3Rpb24gZyhlLCB0LCBuKSB7CiAgICAgIGZvciAodmFyIHIgPSAwOyAtMSAhPT0gKHIgPSBlLmluZGV4T2YodCwgcikpICYmIChlID0gZS5zdWJzdHJpbmcoMCwgcikgKyBuICsgZS5zdWJzdHIociArIHQubGVuZ3RoKSwgciArPSBuLmxlbmd0aCAtIHQubGVuZ3RoICsgMSksIC0xICE9PSByOykgewogICAgICAgIDsKICAgICAgfQoKICAgICAgcmV0dXJuIGU7CiAgICB9LAogICAgICAgIGggPSBmdW5jdGlvbiBoKGUsIHQsIG4pIHsKICAgICAgdmFyIHIgPSAnc3JjPSInICsgbiArICciJyArIChuID09PSB3dC50cmFuc3BhcmVudFNyYyA/ICcgZGF0YS1tY2UtcGxhY2Vob2xkZXI9IjEiJyA6ICIiKTsKICAgICAgcmV0dXJuIGUgPSBnKGUsICdzcmM9IicgKyB0ICsgJyInLCByKSwgZSA9IGcoZSwgJ2RhdGEtbWNlLXNyYz0iJyArIHQgKyAnIicsICdkYXRhLW1jZS1zcmM9IicgKyBuICsgJyInKTsKICAgIH0sCiAgICAgICAgdiA9IGZ1bmN0aW9uIHYodCwgbikgewogICAgICBXKHMudW5kb01hbmFnZXIuZGF0YSwgZnVuY3Rpb24gKGUpIHsKICAgICAgICAiZnJhZ21lbnRlZCIgPT09IGUudHlwZSA/IGUuZnJhZ21lbnRzID0geihlLmZyYWdtZW50cywgZnVuY3Rpb24gKGUpIHsKICAgICAgICAgIHJldHVybiBoKGUsIHQsIG4pOwogICAgICAgIH0pIDogZS5jb250ZW50ID0gaChlLmNvbnRlbnQsIHQsIG4pOwogICAgICB9KTsKICAgIH0sCiAgICAgICAgeSA9IGZ1bmN0aW9uIHkoKSB7CiAgICAgIHJldHVybiBzLm5vdGlmaWNhdGlvbk1hbmFnZXIub3Blbih7CiAgICAgICAgdGV4dDogcy50cmFuc2xhdGUoIkltYWdlIHVwbG9hZGluZy4uLiIpLAogICAgICAgIHR5cGU6ICJpbmZvIiwKICAgICAgICB0aW1lb3V0OiAtMSwKICAgICAgICBwcm9ncmVzc0JhcjogITAKICAgICAgfSk7CiAgICB9LAogICAgICAgIGIgPSBmdW5jdGlvbiBiKGUsIHQpIHsKICAgICAgdmFyIG4sCiAgICAgICAgICByID0gcy5jb252ZXJ0VVJMKHQsICJzcmMiKTsKICAgICAgdihlLnNyYywgdCksIHMuJChlKS5hdHRyKHsKICAgICAgICBzcmM6IHMuZ2V0UGFyYW0oImltYWdlc19yZXVzZV9maWxlbmFtZSIsICExLCAiYm9vbGVhbiIpID8gKG4gPSB0KSArICgtMSA9PT0gbi5pbmRleE9mKCI/IikgPyAiPyIgOiAiJiIpICsgbmV3IERhdGUoKS5nZXRUaW1lKCkgOiB0LAogICAgICAgICJkYXRhLW1jZS1zcmMiOiByCiAgICAgIH0pOwogICAgfSwKICAgICAgICBDID0gZnVuY3Rpb24gQyhuKSB7CiAgICAgIHJldHVybiByID0gciB8fCBnYihmLCB7CiAgICAgICAgdXJsOiBzLmdldFBhcmFtKCJpbWFnZXNfdXBsb2FkX3VybCIsICIiLCAic3RyaW5nIiksCiAgICAgICAgYmFzZVBhdGg6IHMuZ2V0UGFyYW0oImltYWdlc191cGxvYWRfYmFzZV9wYXRoIiwgIiIsICJzdHJpbmciKSwKICAgICAgICBjcmVkZW50aWFsczogcy5nZXRQYXJhbSgiaW1hZ2VzX3VwbG9hZF9jcmVkZW50aWFscyIsICExLCAiYm9vbGVhbiIpLAogICAgICAgIGhhbmRsZXI6IHMuZ2V0UGFyYW0oImltYWdlc191cGxvYWRfaGFuZGxlciIsIG51bGwsICJmdW5jdGlvbiIpCiAgICAgIH0pLCBTKCkudGhlbihwKGZ1bmN0aW9uICh1KSB7CiAgICAgICAgdmFyIGUgPSB6KHUsIGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICByZXR1cm4gZS5ibG9iSW5mbzsKICAgICAgICB9KTsKICAgICAgICByZXR1cm4gci51cGxvYWQoZSwgeSkudGhlbihwKGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICB2YXIgYSA9IFtdLAogICAgICAgICAgICAgIHQgPSB6KGUsIGZ1bmN0aW9uIChlLCB0KSB7CiAgICAgICAgICAgIHZhciBuLAogICAgICAgICAgICAgICAgciwKICAgICAgICAgICAgICAgIG8gPSB1W3RdLmJsb2JJbmZvLAogICAgICAgICAgICAgICAgaSA9IHVbdF0uaW1hZ2U7CiAgICAgICAgICAgIHJldHVybiBlLnN0YXR1cyAmJiBzLmdldFBhcmFtKCJpbWFnZXNfcmVwbGFjZV9ibG9iX3VyaXMiLCAhMCwgImJvb2xlYW4iKSA/IChsLnJlbW92ZUJ5VXJpKGkuc3JjKSwgYihpLCBlLnVybCkpIDogZS5lcnJvciAmJiAoZS5lcnJvci5vcHRpb25zLnJlbW92ZSAmJiAodihpLmdldEF0dHJpYnV0ZSgic3JjIiksIHd0LnRyYW5zcGFyZW50U3JjKSwgYS5wdXNoKGkpKSwgbiA9IHMsIHIgPSBlLmVycm9yLm1lc3NhZ2UsIGNiKG4sIEl1LnRyYW5zbGF0ZShbIkZhaWxlZCB0byB1cGxvYWQgaW1hZ2U6IHswfSIsIHJdKSkpLCB7CiAgICAgICAgICAgICAgZWxlbWVudDogaSwKICAgICAgICAgICAgICBzdGF0dXM6IGUuc3RhdHVzLAogICAgICAgICAgICAgIHVwbG9hZFVyaTogZS51cmwsCiAgICAgICAgICAgICAgYmxvYkluZm86IG8KICAgICAgICAgICAgfTsKICAgICAgICAgIH0pOwogICAgICAgICAgcmV0dXJuIDAgPCB0Lmxlbmd0aCAmJiBtLmZpcmVJZkNoYW5nZWQoKSwgMCA8IGEubGVuZ3RoICYmIChIdihzKSA/IGNvbnNvbGUuZXJyb3IoIlJlbW92aW5nIGltYWdlcyBvbiBmYWlsZWQgdXBsb2FkcyBpcyBjdXJyZW50bHkgdW5zdXBwb3J0ZWQgZm9yIFJUQyIpIDogcy51bmRvTWFuYWdlci50cmFuc2FjdChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIFcoYSwgZnVuY3Rpb24gKGUpIHsKICAgICAgICAgICAgICBzLmRvbS5yZW1vdmUoZSksIGwucmVtb3ZlQnlVcmkoZS5zcmMpOwogICAgICAgICAgICB9KTsKICAgICAgICAgIH0pKSwgbiAmJiBuKHQpLCB0OwogICAgICAgIH0pKTsKICAgICAgfSkpOwogICAgfSwKICAgICAgICB3ID0gZnVuY3Rpb24gdyhlKSB7CiAgICAgIGlmIChiYyhzKSkgcmV0dXJuIEMoZSk7CiAgICB9LAogICAgICAgIHggPSBmdW5jdGlvbiB4KHQpIHsKICAgICAgcmV0dXJuICExICE9PSBRKGQsIGZ1bmN0aW9uIChlKSB7CiAgICAgICAgcmV0dXJuIGUodCk7CiAgICAgIH0pICYmICgwICE9PSB0LmdldEF0dHJpYnV0ZSgic3JjIikuaW5kZXhPZigiZGF0YToiKSB8fCBzLmdldFBhcmFtKCJpbWFnZXNfZGF0YWltZ19maWx0ZXIiLCBrLCAiZnVuY3Rpb24iKSh0KSk7CiAgICB9LAogICAgICAgIFMgPSBmdW5jdGlvbiBTKCkgewogICAgICByZXR1cm4gKG8gPSBvIHx8IHV5KGYsIGwpKS5maW5kQWxsKHMuZ2V0Qm9keSgpLCB4KS50aGVuKHAoZnVuY3Rpb24gKGUpIHsKICAgICAgICByZXR1cm4gZSA9IEgoZSwgZnVuY3Rpb24gKGUpIHsKICAgICAgICAgIHJldHVybiAic3RyaW5nIiAhPSB0eXBlb2YgZSB8fCAoY2IocywgZSksICExKTsKICAgICAgICB9KSwgVyhlLCBmdW5jdGlvbiAoZSkgewogICAgICAgICAgdihlLmltYWdlLnNyYywgZS5ibG9iSW5mby5ibG9iVXJpKCkpLCBlLmltYWdlLnNyYyA9IGUuYmxvYkluZm8uYmxvYlVyaSgpLCBlLmltYWdlLnJlbW92ZUF0dHJpYnV0ZSgiZGF0YS1tY2Utc3JjIik7CiAgICAgICAgfSksIGU7CiAgICAgIH0pKTsKICAgIH0sCiAgICAgICAgTiA9IGZ1bmN0aW9uIE4oZSkgewogICAgICByZXR1cm4gZS5yZXBsYWNlKC9zcmM9IihibG9iOlteIl0rKSIvZywgZnVuY3Rpb24gKGUsIG4pIHsKICAgICAgICB2YXIgdCA9IGYuZ2V0UmVzdWx0VXJpKG4pOwogICAgICAgIGlmICh0KSByZXR1cm4gJ3NyYz0iJyArIHQgKyAnIic7CiAgICAgICAgdmFyIHIgPSBsLmdldEJ5VXJpKG4pOwogICAgICAgIHJldHVybiAociA9IHIgfHwgWChzLmVkaXRvck1hbmFnZXIuZ2V0KCksIGZ1bmN0aW9uIChlLCB0KSB7CiAgICAgICAgICByZXR1cm4gZSB8fCB0LmVkaXRvclVwbG9hZCAmJiB0LmVkaXRvclVwbG9hZC5ibG9iQ2FjaGUuZ2V0QnlVcmkobik7CiAgICAgICAgfSwgbnVsbCkpID8gJ3NyYz0iZGF0YTonICsgci5ibG9iKCkudHlwZSArICI7YmFzZTY0LCIgKyByLmJhc2U2NCgpICsgJyInIDogZTsKICAgICAgfSk7CiAgICB9OwoKICAgIHJldHVybiBzLm9uKCJTZXRDb250ZW50IiwgZnVuY3Rpb24gKCkgewogICAgICAoYmMocykgPyB3IDogUykoKTsKICAgIH0pLCBzLm9uKCJSYXdTYXZlQ29udGVudCIsIGZ1bmN0aW9uIChlKSB7CiAgICAgIGUuY29udGVudCA9IE4oZS5jb250ZW50KTsKICAgIH0pLCBzLm9uKCJHZXRDb250ZW50IiwgZnVuY3Rpb24gKGUpIHsKICAgICAgZS5zb3VyY2VfdmlldyB8fCAicmF3IiA9PT0gZS5mb3JtYXQgfHwgInRyZWUiID09PSBlLmZvcm1hdCB8fCAoZS5jb250ZW50ID0gTihlLmNvbnRlbnQpKTsKICAgIH0pLCBzLm9uKCJQb3N0UmVuZGVyIiwgZnVuY3Rpb24gKCkgewogICAgICBzLnBhcnNlci5hZGROb2RlRmlsdGVyKCJpbWciLCBmdW5jdGlvbiAoZSkgewogICAgICAgIFcoZSwgZnVuY3Rpb24gKGUpIHsKICAgICAgICAgIHZhciB0LAogICAgICAgICAgICAgIG4gPSBlLmF0dHIoInNyYyIpOwogICAgICAgICAgbC5nZXRCeVVyaShuKSB8fCAodCA9IGYuZ2V0UmVzdWx0VXJpKG4pKSAmJiBlLmF0dHIoInNyYyIsIHQpOwogICAgICAgIH0pOwogICAgICB9KTsKICAgIH0pLCB7CiAgICAgIGJsb2JDYWNoZTogbCwKICAgICAgYWRkRmlsdGVyOiBmdW5jdGlvbiBhZGRGaWx0ZXIoZSkgewogICAgICAgIGQucHVzaChlKTsKICAgICAgfSwKICAgICAgdXBsb2FkSW1hZ2VzOiBDLAogICAgICB1cGxvYWRJbWFnZXNBdXRvOiB3LAogICAgICBzY2FuRm9ySW1hZ2VzOiBTLAogICAgICBkZXN0cm95OiBmdW5jdGlvbiBkZXN0cm95KCkgewogICAgICAgIGwuZGVzdHJveSgpLCBmLmRlc3Ryb3koKSwgbyA9IHIgPSBudWxsOwogICAgICB9CiAgICB9OwogIH07CgogIGZ1bmN0aW9uIGJiKGUpIHsKICAgIHZhciByLAogICAgICAgIHQsCiAgICAgICAgbiA9IHt9LAogICAgICAgIG8gPSBmdW5jdGlvbiBvKGUsIHQpIHsKICAgICAgZSAmJiAoInN0cmluZyIgIT0gdHlwZW9mIGUgPyBrdC5lYWNoKGUsIGZ1bmN0aW9uIChlLCB0KSB7CiAgICAgICAgbyh0LCBlKTsKICAgICAgfSkgOiAoUyh0KSB8fCAodCA9IFt0XSksIGt0LmVhY2godCwgZnVuY3Rpb24gKGUpIHsKICAgICAgICAidW5kZWZpbmVkIiA9PSB0eXBlb2YgZS5kZWVwICYmIChlLmRlZXAgPSAhZS5zZWxlY3RvciksICJ1bmRlZmluZWQiID09IHR5cGVvZiBlLnNwbGl0ICYmIChlLnNwbGl0ID0gIWUuc2VsZWN0b3IgfHwgZS5pbmxpbmUpLCAidW5kZWZpbmVkIiA9PSB0eXBlb2YgZS5yZW1vdmUgJiYgZS5zZWxlY3RvciAmJiAhZS5pbmxpbmUgJiYgKGUucmVtb3ZlID0gIm5vbmUiKSwgZS5zZWxlY3RvciAmJiBlLmlubGluZSAmJiAoZS5taXhlZCA9ICEwLCBlLmJsb2NrX2V4cGFuZCA9ICEwKSwgInN0cmluZyIgPT0gdHlwZW9mIGUuY2xhc3NlcyAmJiAoZS5jbGFzc2VzID0gZS5jbGFzc2VzLnNwbGl0KC9ccysvKSk7CiAgICAgIH0pLCBuW2VdID0gdCkpOwogICAgfTsKCiAgICByZXR1cm4gbygociA9IGUuZG9tLCB0ID0gewogICAgICB2YWxpZ250b3A6IFt7CiAgICAgICAgc2VsZWN0b3I6ICJ0ZCx0aCIsCiAgICAgICAgc3R5bGVzOiB7CiAgICAgICAgICB2ZXJ0aWNhbEFsaWduOiAidG9wIgogICAgICAgIH0KICAgICAgfV0sCiAgICAgIHZhbGlnbm1pZGRsZTogW3sKICAgICAgICBzZWxlY3RvcjogInRkLHRoIiwKICAgICAgICBzdHlsZXM6IHsKICAgICAgICAgIHZlcnRpY2FsQWxpZ246ICJtaWRkbGUiCiAgICAgICAgfQogICAgICB9XSwKICAgICAgdmFsaWduYm90dG9tOiBbewogICAgICAgIHNlbGVjdG9yOiAidGQsdGgiLAogICAgICAgIHN0eWxlczogewogICAgICAgICAgdmVydGljYWxBbGlnbjogImJvdHRvbSIKICAgICAgICB9CiAgICAgIH1dLAogICAgICBhbGlnbmxlZnQ6IFt7CiAgICAgICAgc2VsZWN0b3I6ICJmaWd1cmUuaW1hZ2UiLAogICAgICAgIGNvbGxhcHNlZDogITEsCiAgICAgICAgY2xhc3NlczogImFsaWduLWxlZnQiLAogICAgICAgIGNlRmFsc2VPdmVycmlkZTogITAsCiAgICAgICAgcHJldmlldzogImZvbnQtZmFtaWx5IGZvbnQtc2l6ZSIKICAgICAgfSwgewogICAgICAgIHNlbGVjdG9yOiAiZmlndXJlLHAsaDEsaDIsaDMsaDQsaDUsaDYsdGQsdGgsdHIsZGl2LHVsLG9sLGxpIiwKICAgICAgICBzdHlsZXM6IHsKICAgICAgICAgIHRleHRBbGlnbjogImxlZnQiCiAgICAgICAgfSwKICAgICAgICBpbmhlcml0OiAhMSwKICAgICAgICBwcmV2aWV3OiAhMSwKICAgICAgICBkZWZhdWx0QmxvY2s6ICJkaXYiCiAgICAgIH0sIHsKICAgICAgICBzZWxlY3RvcjogImltZyx0YWJsZSIsCiAgICAgICAgY29sbGFwc2VkOiAhMSwKICAgICAgICBzdHlsZXM6IHsKICAgICAgICAgICJmbG9hdCI6ICJsZWZ0IgogICAgICAgIH0sCiAgICAgICAgcHJldmlldzogImZvbnQtZmFtaWx5IGZvbnQtc2l6ZSIKICAgICAgfV0sCiAgICAgIGFsaWduY2VudGVyOiBbewogICAgICAgIHNlbGVjdG9yOiAiZmlndXJlLHAsaDEsaDIsaDMsaDQsaDUsaDYsdGQsdGgsdHIsZGl2LHVsLG9sLGxpIiwKICAgICAgICBzdHlsZXM6IHsKICAgICAgICAgIHRleHRBbGlnbjogImNlbnRlciIKICAgICAgICB9LAogICAgICAgIGluaGVyaXQ6ICExLAogICAgICAgIHByZXZpZXc6ICJmb250LWZhbWlseSBmb250LXNpemUiLAogICAgICAgIGRlZmF1bHRCbG9jazogImRpdiIKICAgICAgfSwgewogICAgICAgIHNlbGVjdG9yOiAiZmlndXJlLmltYWdlIiwKICAgICAgICBjb2xsYXBzZWQ6ICExLAogICAgICAgIGNsYXNzZXM6ICJhbGlnbi1jZW50ZXIiLAogICAgICAgIGNlRmFsc2VPdmVycmlkZTogITAsCiAgICAgICAgcHJldmlldzogImZvbnQtZmFtaWx5IGZvbnQtc2l6ZSIKICAgICAgfSwgewogICAgICAgIHNlbGVjdG9yOiAiaW1nIiwKICAgICAgICBjb2xsYXBzZWQ6ICExLAogICAgICAgIHN0eWxlczogewogICAgICAgICAgZGlzcGxheTogImJsb2NrIiwKICAgICAgICAgIG1hcmdpbkxlZnQ6ICJhdXRvIiwKICAgICAgICAgIG1hcmdpblJpZ2h0OiAiYXV0byIKICAgICAgICB9LAogICAgICAgIHByZXZpZXc6ICExCiAgICAgIH0sIHsKICAgICAgICBzZWxlY3RvcjogInRhYmxlIiwKICAgICAgICBjb2xsYXBzZWQ6ICExLAogICAgICAgIHN0eWxlczogewogICAgICAgICAgbWFyZ2luTGVmdDogImF1dG8iLAogICAgICAgICAgbWFyZ2luUmlnaHQ6ICJhdXRvIgogICAgICAgIH0sCiAgICAgICAgcHJldmlldzogImZvbnQtZmFtaWx5IGZvbnQtc2l6ZSIKICAgICAgfV0sCiAgICAgIGFsaWducmlnaHQ6IFt7CiAgICAgICAgc2VsZWN0b3I6ICJmaWd1cmUuaW1hZ2UiLAogICAgICAgIGNvbGxhcHNlZDogITEsCiAgICAgICAgY2xhc3NlczogImFsaWduLXJpZ2h0IiwKICAgICAgICBjZUZhbHNlT3ZlcnJpZGU6ICEwLAogICAgICAgIHByZXZpZXc6ICJmb250LWZhbWlseSBmb250LXNpemUiCiAgICAgIH0sIHsKICAgICAgICBzZWxlY3RvcjogImZpZ3VyZSxwLGgxLGgyLGgzLGg0LGg1LGg2LHRkLHRoLHRyLGRpdix1bCxvbCxsaSIsCiAgICAgICAgc3R5bGVzOiB7CiAgICAgICAgICB0ZXh0QWxpZ246ICJyaWdodCIKICAgICAgICB9LAogICAgICAgIGluaGVyaXQ6ICExLAogICAgICAgIHByZXZpZXc6ICJmb250LWZhbWlseSBmb250LXNpemUiLAogICAgICAgIGRlZmF1bHRCbG9jazogImRpdiIKICAgICAgfSwgewogICAgICAgIHNlbGVjdG9yOiAiaW1nLHRhYmxlIiwKICAgICAgICBjb2xsYXBzZWQ6ICExLAogICAgICAgIHN0eWxlczogewogICAgICAgICAgImZsb2F0IjogInJpZ2h0IgogICAgICAgIH0sCiAgICAgICAgcHJldmlldzogImZvbnQtZmFtaWx5IGZvbnQtc2l6ZSIKICAgICAgfV0sCiAgICAgIGFsaWduanVzdGlmeTogW3sKICAgICAgICBzZWxlY3RvcjogImZpZ3VyZSxwLGgxLGgyLGgzLGg0LGg1LGg2LHRkLHRoLHRyLGRpdix1bCxvbCxsaSIsCiAgICAgICAgc3R5bGVzOiB7CiAgICAgICAgICB0ZXh0QWxpZ246ICJqdXN0aWZ5IgogICAgICAgIH0sCiAgICAgICAgaW5oZXJpdDogITEsCiAgICAgICAgZGVmYXVsdEJsb2NrOiAiZGl2IiwKICAgICAgICBwcmV2aWV3OiAiZm9udC1mYW1pbHkgZm9udC1zaXplIgogICAgICB9XSwKICAgICAgYm9sZDogW3sKICAgICAgICBpbmxpbmU6ICJzdHJvbmciLAogICAgICAgIHJlbW92ZTogImFsbCIsCiAgICAgICAgcHJlc2VydmVfYXR0cmlidXRlczogWyJjbGFzcyIsICJzdHlsZSJdCiAgICAgIH0sIHsKICAgICAgICBpbmxpbmU6ICJzcGFuIiwKICAgICAgICBzdHlsZXM6IHsKICAgICAgICAgIGZvbnRXZWlnaHQ6ICJib2xkIgogICAgICAgIH0KICAgICAgfSwgewogICAgICAgIGlubGluZTogImIiLAogICAgICAgIHJlbW92ZTogImFsbCIsCiAgICAgICAgcHJlc2VydmVfYXR0cmlidXRlczogWyJjbGFzcyIsICJzdHlsZSJdCiAgICAgIH1dLAogICAgICBpdGFsaWM6IFt7CiAgICAgICAgaW5saW5lOiAiZW0iLAogICAgICAgIHJlbW92ZTogImFsbCIsCiAgICAgICAgcHJlc2VydmVfYXR0cmlidXRlczogWyJjbGFzcyIsICJzdHlsZSJdCiAgICAgIH0sIHsKICAgICAgICBpbmxpbmU6ICJzcGFuIiwKICAgICAgICBzdHlsZXM6IHsKICAgICAgICAgIGZvbnRTdHlsZTogIml0YWxpYyIKICAgICAgICB9CiAgICAgIH0sIHsKICAgICAgICBpbmxpbmU6ICJpIiwKICAgICAgICByZW1vdmU6ICJhbGwiLAogICAgICAgIHByZXNlcnZlX2F0dHJpYnV0ZXM6IFsiY2xhc3MiLCAic3R5bGUiXQogICAgICB9XSwKICAgICAgdW5kZXJsaW5lOiBbewogICAgICAgIGlubGluZTogInNwYW4iLAogICAgICAgIHN0eWxlczogewogICAgICAgICAgdGV4dERlY29yYXRpb246ICJ1bmRlcmxpbmUiCiAgICAgICAgfSwKICAgICAgICBleGFjdDogITAKICAgICAgfSwgewogICAgICAgIGlubGluZTogInUiLAogICAgICAgIHJlbW92ZTogImFsbCIsCiAgICAgICAgcHJlc2VydmVfYXR0cmlidXRlczogWyJjbGFzcyIsICJzdHlsZSJdCiAgICAgIH1dLAogICAgICBzdHJpa2V0aHJvdWdoOiBbewogICAgICAgIGlubGluZTogInNwYW4iLAogICAgICAgIHN0eWxlczogewogICAgICAgICAgdGV4dERlY29yYXRpb246ICJsaW5lLXRocm91Z2giCiAgICAgICAgfSwKICAgICAgICBleGFjdDogITAKICAgICAgfSwgewogICAgICAgIGlubGluZTogInN0cmlrZSIsCiAgICAgICAgcmVtb3ZlOiAiYWxsIiwKICAgICAgICBwcmVzZXJ2ZV9hdHRyaWJ1dGVzOiBbImNsYXNzIiwgInN0eWxlIl0KICAgICAgfSwgewogICAgICAgIGlubGluZTogInMiLAogICAgICAgIHJlbW92ZTogImFsbCIsCiAgICAgICAgcHJlc2VydmVfYXR0cmlidXRlczogWyJjbGFzcyIsICJzdHlsZSJdCiAgICAgIH1dLAogICAgICBmb3JlY29sb3I6IHsKICAgICAgICBpbmxpbmU6ICJzcGFuIiwKICAgICAgICBzdHlsZXM6IHsKICAgICAgICAgIGNvbG9yOiAiJXZhbHVlIgogICAgICAgIH0sCiAgICAgICAgbGlua3M6ICEwLAogICAgICAgIHJlbW92ZV9zaW1pbGFyOiAhMCwKICAgICAgICBjbGVhcl9jaGlsZF9zdHlsZXM6ICEwCiAgICAgIH0sCiAgICAgIGhpbGl0ZWNvbG9yOiB7CiAgICAgICAgaW5saW5lOiAic3BhbiIsCiAgICAgICAgc3R5bGVzOiB7CiAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6ICIldmFsdWUiCiAgICAgICAgfSwKICAgICAgICBsaW5rczogITAsCiAgICAgICAgcmVtb3ZlX3NpbWlsYXI6ICEwLAogICAgICAgIGNsZWFyX2NoaWxkX3N0eWxlczogITAKICAgICAgfSwKICAgICAgZm9udG5hbWU6IHsKICAgICAgICBpbmxpbmU6ICJzcGFuIiwKICAgICAgICB0b2dnbGU6ICExLAogICAgICAgIHN0eWxlczogewogICAgICAgICAgZm9udEZhbWlseTogIiV2YWx1ZSIKICAgICAgICB9LAogICAgICAgIGNsZWFyX2NoaWxkX3N0eWxlczogITAKICAgICAgfSwKICAgICAgZm9udHNpemU6IHsKICAgICAgICBpbmxpbmU6ICJzcGFuIiwKICAgICAgICB0b2dnbGU6ICExLAogICAgICAgIHN0eWxlczogewogICAgICAgICAgZm9udFNpemU6ICIldmFsdWUiCiAgICAgICAgfSwKICAgICAgICBjbGVhcl9jaGlsZF9zdHlsZXM6ICEwCiAgICAgIH0sCiAgICAgIGxpbmVoZWlnaHQ6IHsKICAgICAgICBzZWxlY3RvcjogImgxLGgyLGgzLGg0LGg1LGg2LHAsbGksdGQsdGgsZGl2IiwKICAgICAgICBkZWZhdWx0QmxvY2s6ICJwIiwKICAgICAgICBzdHlsZXM6IHsKICAgICAgICAgIGxpbmVIZWlnaHQ6ICIldmFsdWUiCiAgICAgICAgfQogICAgICB9LAogICAgICBmb250c2l6ZV9jbGFzczogewogICAgICAgIGlubGluZTogInNwYW4iLAogICAgICAgIGF0dHJpYnV0ZXM6IHsKICAgICAgICAgICJjbGFzcyI6ICIldmFsdWUiCiAgICAgICAgfQogICAgICB9LAogICAgICBibG9ja3F1b3RlOiB7CiAgICAgICAgYmxvY2s6ICJibG9ja3F1b3RlIiwKICAgICAgICB3cmFwcGVyOiAhMCwKICAgICAgICByZW1vdmU6ICJhbGwiCiAgICAgIH0sCiAgICAgIHN1YnNjcmlwdDogewogICAgICAgIGlubGluZTogInN1YiIKICAgICAgfSwKICAgICAgc3VwZXJzY3JpcHQ6IHsKICAgICAgICBpbmxpbmU6ICJzdXAiCiAgICAgIH0sCiAgICAgIGNvZGU6IHsKICAgICAgICBpbmxpbmU6ICJjb2RlIgogICAgICB9LAogICAgICBsaW5rOiB7CiAgICAgICAgaW5saW5lOiAiYSIsCiAgICAgICAgc2VsZWN0b3I6ICJhIiwKICAgICAgICByZW1vdmU6ICJhbGwiLAogICAgICAgIHNwbGl0OiAhMCwKICAgICAgICBkZWVwOiAhMCwKICAgICAgICBvbm1hdGNoOiBmdW5jdGlvbiBvbm1hdGNoKGUsIHQsIG4pIHsKICAgICAgICAgIHJldHVybiBBbihlKSAmJiBlLmhhc0F0dHJpYnV0ZSgiaHJlZiIpOwogICAgICAgIH0sCiAgICAgICAgb25mb3JtYXQ6IGZ1bmN0aW9uIG9uZm9ybWF0KG4sIGUsIHQpIHsKICAgICAgICAgIGt0LmVhY2godCwgZnVuY3Rpb24gKGUsIHQpIHsKICAgICAgICAgICAgci5zZXRBdHRyaWIobiwgdCwgZSk7CiAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgIH0sCiAgICAgIHJlbW92ZWZvcm1hdDogW3sKICAgICAgICBzZWxlY3RvcjogImIsc3Ryb25nLGVtLGksZm9udCx1LHN0cmlrZSxzLHN1YixzdXAsZGZuLGNvZGUsc2FtcCxrYmQsdmFyLGNpdGUsbWFyayxxLGRlbCxpbnMiLAogICAgICAgIHJlbW92ZTogImFsbCIsCiAgICAgICAgc3BsaXQ6ICEwLAogICAgICAgIGV4cGFuZDogITEsCiAgICAgICAgYmxvY2tfZXhwYW5kOiAhMCwKICAgICAgICBkZWVwOiAhMAogICAgICB9LCB7CiAgICAgICAgc2VsZWN0b3I6ICJzcGFuIiwKICAgICAgICBhdHRyaWJ1dGVzOiBbInN0eWxlIiwgImNsYXNzIl0sCiAgICAgICAgcmVtb3ZlOiAiZW1wdHkiLAogICAgICAgIHNwbGl0OiAhMCwKICAgICAgICBleHBhbmQ6ICExLAogICAgICAgIGRlZXA6ICEwCiAgICAgIH0sIHsKICAgICAgICBzZWxlY3RvcjogIioiLAogICAgICAgIGF0dHJpYnV0ZXM6IFsic3R5bGUiLCAiY2xhc3MiXSwKICAgICAgICBzcGxpdDogITEsCiAgICAgICAgZXhwYW5kOiAhMSwKICAgICAgICBkZWVwOiAhMAogICAgICB9XQogICAgfSwga3QuZWFjaCgicCBoMSBoMiBoMyBoNCBoNSBoNiBkaXYgYWRkcmVzcyBwcmUgZGl2IGR0IGRkIHNhbXAiLnNwbGl0KC9ccy8pLCBmdW5jdGlvbiAoZSkgewogICAgICB0W2VdID0gewogICAgICAgIGJsb2NrOiBlLAogICAgICAgIHJlbW92ZTogImFsbCIKICAgICAgfTsKICAgIH0pLCB0KSksIG8oZS5nZXRQYXJhbSgiZm9ybWF0cyIpKSwgewogICAgICBnZXQ6IGZ1bmN0aW9uIGdldChlKSB7CiAgICAgICAgcmV0dXJuIGUgPyBuW2VdIDogbjsKICAgICAgfSwKICAgICAgaGFzOiBmdW5jdGlvbiBoYXMoZSkgewogICAgICAgIHJldHVybiBoZShuLCBlKTsKICAgICAgfSwKICAgICAgcmVnaXN0ZXI6IG8sCiAgICAgIHVucmVnaXN0ZXI6IGZ1bmN0aW9uIHVucmVnaXN0ZXIoZSkgewogICAgICAgIHJldHVybiBlICYmIG5bZV0gJiYgZGVsZXRlIG5bZV0sIG47CiAgICAgIH0KICAgIH07CiAgfQoKICB2YXIgQ2IsCiAgICAgIHdiLAogICAgICB4YiA9IGt0LmVhY2gsCiAgICAgIFNiID0gRXUuRE9NLAogICAgICBOYiA9IGZ1bmN0aW9uIE5iKGUsIHQpIHsKICAgIHZhciBuLAogICAgICAgIG8sCiAgICAgICAgciwKICAgICAgICBtID0gdCAmJiB0LnNjaGVtYSB8fCBDaSh7fSksCiAgICAgICAgcCA9IGZ1bmN0aW9uIHAoZSkgewogICAgICBvID0gInN0cmluZyIgPT0gdHlwZW9mIGUgPyB7CiAgICAgICAgbmFtZTogZSwKICAgICAgICBjbGFzc2VzOiBbXSwKICAgICAgICBhdHRyczoge30KICAgICAgfSA6IGU7CiAgICAgIHZhciB0LAogICAgICAgICAgbiwKICAgICAgICAgIHIgPSBTYi5jcmVhdGUoby5uYW1lKTsKICAgICAgcmV0dXJuIHQgPSByLCAobiA9IG8pLmNsYXNzZXMubGVuZ3RoICYmIFNiLmFkZENsYXNzKHQsIG4uY2xhc3Nlcy5qb2luKCIgIikpLCBTYi5zZXRBdHRyaWJzKHQsIG4uYXR0cnMpLCByOwogICAgfSwKICAgICAgICBnID0gZnVuY3Rpb24gZyhuLCBlLCB0KSB7CiAgICAgIHZhciByLAogICAgICAgICAgbywKICAgICAgICAgIGksCiAgICAgICAgICBhLAogICAgICAgICAgdSwKICAgICAgICAgIHMsCiAgICAgICAgICBjLAogICAgICAgICAgbCA9IDAgPCBlLmxlbmd0aCAmJiBlWzBdLAogICAgICAgICAgZiA9IGwgJiYgbC5uYW1lLAogICAgICAgICAgZCA9IChhID0gZiwgdSA9ICJzdHJpbmciICE9IHR5cGVvZiAoaSA9IG4pID8gaS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpIDogaSwgcyA9IG0uZ2V0RWxlbWVudFJ1bGUodSksICEoIShjID0gcyAmJiBzLnBhcmVudHNSZXF1aXJlZCkgfHwgIWMubGVuZ3RoKSAmJiAoYSAmJiAtMSAhPT0ga3QuaW5BcnJheShjLCBhKSA/IGEgOiBjWzBdKSk7CiAgICAgIGlmIChkKSBmID09PSBkID8gKG8gPSBlWzBdLCBlID0gZS5zbGljZSgxKSkgOiBvID0gZDtlbHNlIGlmIChsKSBvID0gZVswXSwgZSA9IGUuc2xpY2UoMSk7ZWxzZSBpZiAoIXQpIHJldHVybiBuOwogICAgICByZXR1cm4gbyAmJiAociA9IHAobykpLmFwcGVuZENoaWxkKG4pLCB0ICYmIChyIHx8IChyID0gU2IuY3JlYXRlKCJkaXYiKSkuYXBwZW5kQ2hpbGQobiksIGt0LmVhY2godCwgZnVuY3Rpb24gKGUpIHsKICAgICAgICB2YXIgdCA9IHAoZSk7CiAgICAgICAgci5pbnNlcnRCZWZvcmUodCwgbik7CiAgICAgIH0pKSwgZyhyLCBlLCBvICYmIG8uc2libGluZ3MpOwogICAgfTsKCiAgICByZXR1cm4gZSAmJiBlLmxlbmd0aCA/IChvID0gZVswXSwgbiA9IHAobyksIChyID0gU2IuY3JlYXRlKCJkaXYiKSkuYXBwZW5kQ2hpbGQoZyhuLCBlLnNsaWNlKDEpLCBvLnNpYmxpbmdzKSksIHIpIDogIiI7CiAgfSwKICAgICAgRWIgPSBmdW5jdGlvbiBFYihlKSB7CiAgICB2YXIgdCwKICAgICAgICBhID0gewogICAgICBjbGFzc2VzOiBbXSwKICAgICAgYXR0cnM6IHt9CiAgICB9OwogICAgcmV0dXJuICIqIiAhPT0gKGUgPSBhLnNlbGVjdG9yID0ga3QudHJpbShlKSkgJiYgKHQgPSBlLnJlcGxhY2UoLyg/OihbI1wuXXw6Oj8pKFtcd1wtXSspfChcWykoW15cXV0rKVxdPykvZywgZnVuY3Rpb24gKGUsIHQsIG4sIHIsIG8pIHsKICAgICAgc3dpdGNoICh0KSB7CiAgICAgICAgY2FzZSAiIyI6CiAgICAgICAgICBhLmF0dHJzLmlkID0gbjsKICAgICAgICAgIGJyZWFrOwoKICAgICAgICBjYXNlICIuIjoKICAgICAgICAgIGEuY2xhc3Nlcy5wdXNoKG4pOwogICAgICAgICAgYnJlYWs7CgogICAgICAgIGNhc2UgIjoiOgogICAgICAgICAgLTEgIT09IGt0LmluQXJyYXkoImNoZWNrZWQgZGlzYWJsZWQgZW5hYmxlZCByZWFkLW9ubHkgcmVxdWlyZWQiLnNwbGl0KCIgIiksIG4pICYmIChhLmF0dHJzW25dID0gbik7CiAgICAgIH0KCiAgICAgIHZhciBpOwogICAgICByZXR1cm4gIlsiICE9PSByIHx8IChpID0gby5tYXRjaCgvKFtcd1wtXSspKD86XD1cIihbXlwiXSspKT8vKSkgJiYgKGEuYXR0cnNbaVsxXV0gPSBpWzJdKSwgIiI7CiAgICB9KSksIGEubmFtZSA9IHQgfHwgImRpdiIsIGE7CiAgfSwKICAgICAga2IgPSBmdW5jdGlvbiBrYihuLCBlKSB7CiAgICB2YXIgdCwKICAgICAgICByLAogICAgICAgIG8sCiAgICAgICAgaSA9ICIiLAogICAgICAgIGEgPSAobyA9IG4uZ2V0UGFyYW0oInByZXZpZXdfc3R5bGVzIiwgImZvbnQtZmFtaWx5IGZvbnQtc2l6ZSBmb250LXdlaWdodCBmb250LXN0eWxlIHRleHQtZGVjb3JhdGlvbiB0ZXh0LXRyYW5zZm9ybSBjb2xvciBiYWNrZ3JvdW5kLWNvbG9yIGJvcmRlciBib3JkZXItcmFkaXVzIG91dGxpbmUgdGV4dC1zaGFkb3ciKSwgcShvKSA/IG8gOiAiIik7CiAgICBpZiAoIiIgPT09IGEpIHJldHVybiAiIjsKCiAgICB2YXIgdSA9IGZ1bmN0aW9uIHUoZSkgewogICAgICByZXR1cm4gZS5yZXBsYWNlKC8lKFx3KykvZywgIiIpOwogICAgfTsKCiAgICBpZiAoInN0cmluZyIgPT0gdHlwZW9mIGUpIHsKICAgICAgaWYgKCEoZSA9IG4uZm9ybWF0dGVyLmdldChlKSkpIHJldHVybjsKICAgICAgZSA9IGVbMF07CiAgICB9CgogICAgaWYgKCJwcmV2aWV3IiBpbiBlKSB7CiAgICAgIHZhciBzID0gZ2UoZSwgInByZXZpZXciKTsKICAgICAgaWYgKHMuaXMoITEpKSByZXR1cm4gIiI7CiAgICAgIGEgPSBzLmdldE9yKGEpOwogICAgfQoKICAgIHQgPSBlLmJsb2NrIHx8IGUuaW5saW5lIHx8ICJzcGFuIjsKICAgIHZhciBjLAogICAgICAgIGwgPSAoYyA9IGUuc2VsZWN0b3IpICYmICJzdHJpbmciID09IHR5cGVvZiBjID8gKGMgPSAoYyA9IGMuc3BsaXQoL1xzKixccyovKVswXSkucmVwbGFjZSgvXHMqKH5cK3x+fFwrfD4pXHMqL2csICIkMSIpLCBrdC5tYXAoYy5zcGxpdCgvKD86PnxccysoPyFbXlxbXF1dK1xdKSkvKSwgZnVuY3Rpb24gKGUpIHsKICAgICAgdmFyIHQgPSBrdC5tYXAoZS5zcGxpdCgvKD86flwrfH58XCspLyksIEViKSwKICAgICAgICAgIG4gPSB0LnBvcCgpOwogICAgICByZXR1cm4gdC5sZW5ndGggJiYgKG4uc2libGluZ3MgPSB0KSwgbjsKICAgIH0pLnJldmVyc2UoKSkgOiBbXSwKICAgICAgICBmID0gbC5sZW5ndGggPyAobFswXS5uYW1lIHx8IChsWzBdLm5hbWUgPSB0KSwgdCA9IGUuc2VsZWN0b3IsIE5iKGwsIG4pKSA6IE5iKFt0XSwgbiksCiAgICAgICAgZCA9IFNiLnNlbGVjdCh0LCBmKVswXSB8fCBmLmZpcnN0Q2hpbGQ7CiAgICByZXR1cm4geGIoZS5zdHlsZXMsIGZ1bmN0aW9uIChlLCB0KSB7CiAgICAgIHZhciBuID0gdShlKTsKICAgICAgbiAmJiBTYi5zZXRTdHlsZShkLCB0LCBuKTsKICAgIH0pLCB4YihlLmF0dHJpYnV0ZXMsIGZ1bmN0aW9uIChlLCB0KSB7CiAgICAgIHZhciBuID0gdShlKTsKICAgICAgbiAmJiBTYi5zZXRBdHRyaWIoZCwgdCwgbik7CiAgICB9KSwgeGIoZS5jbGFzc2VzLCBmdW5jdGlvbiAoZSkgewogICAgICB2YXIgdCA9IHUoZSk7CiAgICAgIFNiLmhhc0NsYXNzKGQsIHQpIHx8IFNiLmFkZENsYXNzKGQsIHQpOwogICAgfSksIG4uZmlyZSgiUHJldmlld0Zvcm1hdHMiKSwgU2Iuc2V0U3R5bGVzKGYsIHsKICAgICAgcG9zaXRpb246ICJhYnNvbHV0ZSIsCiAgICAgIGxlZnQ6IC02NTUzNQogICAgfSksIG4uZ2V0Qm9keSgpLmFwcGVuZENoaWxkKGYpLCByID0gU2IuZ2V0U3R5bGUobi5nZXRCb2R5KCksICJmb250U2l6ZSIsICEwKSwgciA9IC9weCQvLnRlc3QocikgPyBwYXJzZUludChyLCAxMCkgOiAwLCB4YihhLnNwbGl0KCIgIiksIGZ1bmN0aW9uIChlKSB7CiAgICAgIHZhciB0ID0gU2IuZ2V0U3R5bGUoZCwgZSwgITApOwoKICAgICAgaWYgKCEoImJhY2tncm91bmQtY29sb3IiID09PSBlICYmIC90cmFuc3BhcmVudHxyZ2JhXHMqXChbXildKyxccyowXCkvLnRlc3QodCkgJiYgKHQgPSBTYi5nZXRTdHlsZShuLmdldEJvZHkoKSwgZSwgITApLCAiI2ZmZmZmZiIgPT09IFNiLnRvSGV4KHQpLnRvTG93ZXJDYXNlKCkpIHx8ICJjb2xvciIgPT09IGUgJiYgIiMwMDAwMDAiID09PSBTYi50b0hleCh0KS50b0xvd2VyQ2FzZSgpKSkgewogICAgICAgIGlmICgiZm9udC1zaXplIiA9PT0gZSAmJiAvZW18JSQvLnRlc3QodCkpIHsKICAgICAgICAgIGlmICgwID09PSByKSByZXR1cm47CiAgICAgICAgICB0ID0gcGFyc2VGbG9hdCh0KSAvICgvJSQvLnRlc3QodCkgPyAxMDAgOiAxKSAqIHIgKyAicHgiOwogICAgICAgIH0KCiAgICAgICAgImJvcmRlciIgPT09IGUgJiYgdCAmJiAoaSArPSAicGFkZGluZzowIDJweDsiKSwgaSArPSBlICsgIjoiICsgdCArICI7IjsKICAgICAgfQogICAgfSksIG4uZmlyZSgiQWZ0ZXJQcmV2aWV3Rm9ybWF0cyIpLCBTYi5yZW1vdmUoZiksIGk7CiAgfSwKICAgICAgX2IgPSBmdW5jdGlvbiBfYihzKSB7CiAgICB2YXIgZSA9IGJiKHMpLAogICAgICAgIHUgPSBPdShudWxsKTsKICAgIHJldHVybiBmdW5jdGlvbiAoZSkgewogICAgICBlLmFkZFNob3J0Y3V0KCJtZXRhK2IiLCAiIiwgIkJvbGQiKSwgZS5hZGRTaG9ydGN1dCgibWV0YStpIiwgIiIsICJJdGFsaWMiKSwgZS5hZGRTaG9ydGN1dCgibWV0YSt1IiwgIiIsICJVbmRlcmxpbmUiKTsKCiAgICAgIGZvciAodmFyIHQgPSAxOyB0IDw9IDY7IHQrKykgewogICAgICAgIGUuYWRkU2hvcnRjdXQoImFjY2VzcysiICsgdCwgIiIsIFsiRm9ybWF0QmxvY2siLCAhMSwgImgiICsgdF0pOwogICAgICB9CgogICAgICBlLmFkZFNob3J0Y3V0KCJhY2Nlc3MrNyIsICIiLCBbIkZvcm1hdEJsb2NrIiwgITEsICJwIl0pLCBlLmFkZFNob3J0Y3V0KCJhY2Nlc3MrOCIsICIiLCBbIkZvcm1hdEJsb2NrIiwgITEsICJkaXYiXSksIGUuYWRkU2hvcnRjdXQoImFjY2Vzcys5IiwgIiIsIFsiRm9ybWF0QmxvY2siLCAhMSwgImFkZHJlc3MiXSk7CiAgICB9KHMpLCBTaChzKSwgewogICAgICBnZXQ6IGUuZ2V0LAogICAgICBoYXM6IGUuaGFzLAogICAgICByZWdpc3RlcjogZS5yZWdpc3RlciwKICAgICAgdW5yZWdpc3RlcjogZS51bnJlZ2lzdGVyLAogICAgICBhcHBseTogZnVuY3Rpb24gYXBwbHkoZSwgdCwgbikgewogICAgICAgIHZhciByLCBvLCBpOwogICAgICAgIHIgPSBlLCBvID0gdCwgaSA9IG4sIHF2KHMpLmZvcm1hdHRlci5hcHBseShyLCBvLCBpKTsKICAgICAgfSwKICAgICAgcmVtb3ZlOiBmdW5jdGlvbiByZW1vdmUoZSwgdCwgbiwgcikgewogICAgICAgIHZhciBvLCBpLCBhLCB1OwogICAgICAgIG8gPSBlLCBpID0gdCwgYSA9IG4sIHUgPSByLCBxdihzKS5mb3JtYXR0ZXIucmVtb3ZlKG8sIGksIGEsIHUpOwogICAgICB9LAogICAgICB0b2dnbGU6IGZ1bmN0aW9uIHRvZ2dsZShlLCB0LCBuKSB7CiAgICAgICAgdmFyIHIsIG8sIGk7CiAgICAgICAgciA9IGUsIG8gPSB0LCBpID0gbiwgcXYocykuZm9ybWF0dGVyLnRvZ2dsZShyLCBvLCBpKTsKICAgICAgfSwKICAgICAgbWF0Y2g6IGZ1bmN0aW9uIG1hdGNoKGUsIHQsIG4pIHsKICAgICAgICByZXR1cm4gciA9IGUsIG8gPSB0LCBpID0gbiwgcXYocykuZm9ybWF0dGVyLm1hdGNoKHIsIG8sIGkpOwogICAgICAgIHZhciByLCBvLCBpOwogICAgICB9LAogICAgICBjbG9zZXN0OiBmdW5jdGlvbiBjbG9zZXN0KGUpIHsKICAgICAgICByZXR1cm4gdCA9IGUsIHF2KHMpLmZvcm1hdHRlci5jbG9zZXN0KHQpOwogICAgICAgIHZhciB0OwogICAgICB9LAogICAgICBtYXRjaEFsbDogZnVuY3Rpb24gbWF0Y2hBbGwoZSwgdCkgewogICAgICAgIHJldHVybiBuID0gZSwgciA9IHQsIHF2KHMpLmZvcm1hdHRlci5tYXRjaEFsbChuLCByKTsKICAgICAgICB2YXIgbiwgcjsKICAgICAgfSwKICAgICAgbWF0Y2hOb2RlOiBmdW5jdGlvbiBtYXRjaE5vZGUoZSwgdCwgbiwgcikgewogICAgICAgIHJldHVybiBvID0gZSwgaSA9IHQsIGEgPSBuLCB1ID0gciwgcXYocykuZm9ybWF0dGVyLm1hdGNoTm9kZShvLCBpLCBhLCB1KTsKICAgICAgICB2YXIgbywgaSwgYSwgdTsKICAgICAgfSwKICAgICAgY2FuQXBwbHk6IGZ1bmN0aW9uIGNhbkFwcGx5KGUpIHsKICAgICAgICByZXR1cm4gdCA9IGUsIHF2KHMpLmZvcm1hdHRlci5jYW5BcHBseSh0KTsKICAgICAgICB2YXIgdDsKICAgICAgfSwKICAgICAgZm9ybWF0Q2hhbmdlZDogZnVuY3Rpb24gZm9ybWF0Q2hhbmdlZChlLCB0LCBuKSB7CiAgICAgICAgcmV0dXJuIHIgPSB1LCBvID0gZSwgaSA9IHQsIHZvaWQgMCA9PT0gKGEgPSBuKSAmJiAoYSA9ICExKSwgcXYocykuZm9ybWF0dGVyLmZvcm1hdENoYW5nZWQociwgbywgaSwgYSk7CiAgICAgICAgdmFyIHIsIG8sIGksIGE7CiAgICAgIH0sCiAgICAgIGdldENzc1RleHQ6IE4oa2IsIHMpCiAgICB9OwogIH0sCiAgICAgIEFiID0gZnVuY3Rpb24gQWIobiwgciwgbykgewogICAgdmFyIGkgPSBPdSghMSksCiAgICAgICAgYSA9IGZ1bmN0aW9uIGEoZSkgewogICAgICBMdihyLCAhMSwgbyksIHIuYWRkKHt9LCBlKTsKICAgIH07CgogICAgbi5vbigiaW5pdCIsIGZ1bmN0aW9uICgpIHsKICAgICAgci5hZGQoKTsKICAgIH0pLCBuLm9uKCJCZWZvcmVFeGVjQ29tbWFuZCIsIGZ1bmN0aW9uIChlKSB7CiAgICAgIHZhciB0ID0gZS5jb21tYW5kLnRvTG93ZXJDYXNlKCk7CiAgICAgICJ1bmRvIiAhPT0gdCAmJiAicmVkbyIgIT09IHQgJiYgIm1jZXJlcGFpbnQiICE9PSB0ICYmIChJdihyLCBvKSwgci5iZWZvcmVDaGFuZ2UoKSk7CiAgICB9KSwgbi5vbigiRXhlY0NvbW1hbmQiLCBmdW5jdGlvbiAoZSkgewogICAgICB2YXIgdCA9IGUuY29tbWFuZC50b0xvd2VyQ2FzZSgpOwogICAgICAidW5kbyIgIT09IHQgJiYgInJlZG8iICE9PSB0ICYmICJtY2VyZXBhaW50IiAhPT0gdCAmJiBhKGUpOwogICAgfSksIG4ub24oIk9iamVjdFJlc2l6ZVN0YXJ0IGN1dCIsIGZ1bmN0aW9uICgpIHsKICAgICAgci5iZWZvcmVDaGFuZ2UoKTsKICAgIH0pLCBuLm9uKCJTYXZlQ29udGVudCBPYmplY3RSZXNpemVkIGJsdXIiLCBhKSwgbi5vbigiZHJhZ2VuZCIsIGEpLCBuLm9uKCJrZXl1cCIsIGZ1bmN0aW9uIChlKSB7CiAgICAgIHZhciB0ID0gZS5rZXlDb2RlOwogICAgICBlLmlzRGVmYXVsdFByZXZlbnRlZCgpIHx8ICgoMzMgPD0gdCAmJiB0IDw9IDM2IHx8IDM3IDw9IHQgJiYgdCA8PSA0MCB8fCA0NSA9PT0gdCB8fCBlLmN0cmxLZXkpICYmIChhKCksIG4ubm9kZUNoYW5nZWQoKSksIDQ2ICE9PSB0ICYmIDggIT09IHQgfHwgbi5ub2RlQ2hhbmdlZCgpLCBpLmdldCgpICYmIHIudHlwaW5nICYmICExID09PSBCdihSdihuKSwgci5kYXRhWzBdKSAmJiAoITEgPT09IG4uaXNEaXJ0eSgpICYmIChuLnNldERpcnR5KCEwKSwgbi5maXJlKCJjaGFuZ2UiLCB7CiAgICAgICAgbGV2ZWw6IHIuZGF0YVswXSwKICAgICAgICBsYXN0TGV2ZWw6IG51bGwKICAgICAgfSkpLCBuLmZpcmUoIlR5cGluZ1VuZG8iKSwgaS5zZXQoITEpLCBuLm5vZGVDaGFuZ2VkKCkpKTsKICAgIH0pLCBuLm9uKCJrZXlkb3duIiwgZnVuY3Rpb24gKGUpIHsKICAgICAgdmFyIHQsCiAgICAgICAgICBuID0gZS5rZXlDb2RlOwogICAgICBlLmlzRGVmYXVsdFByZXZlbnRlZCgpIHx8ICgzMyA8PSBuICYmIG4gPD0gMzYgfHwgMzcgPD0gbiAmJiBuIDw9IDQwIHx8IDQ1ID09PSBuID8gci50eXBpbmcgJiYgYShlKSA6ICh0ID0gZS5jdHJsS2V5ICYmICFlLmFsdEtleSB8fCBlLm1ldGFLZXksICEobiA8IDE2IHx8IDIwIDwgbikgfHwgMjI0ID09PSBuIHx8IDkxID09PSBuIHx8IHIudHlwaW5nIHx8IHQgfHwgKHIuYmVmb3JlQ2hhbmdlKCksIEx2KHIsICEwLCBvKSwgci5hZGQoe30sIGUpLCBpLnNldCghMCkpKSk7CiAgICB9KSwgbi5vbigibW91c2Vkb3duIiwgZnVuY3Rpb24gKGUpIHsKICAgICAgci50eXBpbmcgJiYgYShlKTsKICAgIH0pOwogICAgbi5vbigiaW5wdXQiLCBmdW5jdGlvbiAoZSkgewogICAgICB2YXIgdCwgbjsKICAgICAgZS5pbnB1dFR5cGUgJiYgKCJpbnNlcnRSZXBsYWNlbWVudFRleHQiID09PSBlLmlucHV0VHlwZSB8fCAiaW5zZXJ0VGV4dCIgPT09IChuID0gZSkuaW5wdXRUeXBlICYmIG51bGwgPT09IG4uZGF0YSB8fCAiaW5zZXJ0RnJvbVBhc3RlIiA9PT0gKHQgPSBlKS5pbnB1dFR5cGUgfHwgImluc2VydEZyb21Ecm9wIiA9PT0gdC5pbnB1dFR5cGUpICYmIGEoZSk7CiAgICB9KSwgbi5vbigiQWRkVW5kbyBVbmRvIFJlZG8gQ2xlYXJVbmRvcyIsIGZ1bmN0aW9uIChlKSB7CiAgICAgIGUuaXNEZWZhdWx0UHJldmVudGVkKCkgfHwgbi5ub2RlQ2hhbmdlZCgpOwogICAgfSk7CiAgfSwKICAgICAgUmIgPSBmdW5jdGlvbiBSYihzKSB7CiAgICB2YXIgZSwKICAgICAgICBjID0gT3UoVS5ub25lKCkpLAogICAgICAgIGwgPSBPdSgwKSwKICAgICAgICBmID0gT3UoMCksCiAgICAgICAgZCA9IHsKICAgICAgZGF0YTogW10sCiAgICAgIHR5cGluZzogITEsCiAgICAgIGJlZm9yZUNoYW5nZTogZnVuY3Rpb24gYmVmb3JlQ2hhbmdlKCkgewogICAgICAgIHZhciBlLCB0OwogICAgICAgIGUgPSBsLCB0ID0gYywgcXYocykudW5kb01hbmFnZXIuYmVmb3JlQ2hhbmdlKGUsIHQpOwogICAgICB9LAogICAgICBhZGQ6IGZ1bmN0aW9uIGFkZChlLCB0KSB7CiAgICAgICAgcmV0dXJuIG4gPSBkLCByID0gZiwgbyA9IGwsIGkgPSBjLCBhID0gZSwgdSA9IHQsIHF2KHMpLnVuZG9NYW5hZ2VyLmFkZFVuZG9MZXZlbChuLCByLCBvLCBpLCBhLCB1KTsKICAgICAgICB2YXIgbiwgciwgbywgaSwgYSwgdTsKICAgICAgfSwKICAgICAgdW5kbzogZnVuY3Rpb24gdW5kbygpIHsKICAgICAgICByZXR1cm4gZSA9IGQsIHQgPSBsLCBuID0gZiwgcXYocykudW5kb01hbmFnZXIudW5kbyhlLCB0LCBuKTsKICAgICAgICB2YXIgZSwgdCwgbjsKICAgICAgfSwKICAgICAgcmVkbzogZnVuY3Rpb24gcmVkbygpIHsKICAgICAgICByZXR1cm4gZSA9IHMsIHQgPSBmLCBuID0gZC5kYXRhLCBxdihlKS51bmRvTWFuYWdlci5yZWRvKHQsIG4pOwogICAgICAgIHZhciBlLCB0LCBuOwogICAgICB9LAogICAgICBjbGVhcjogZnVuY3Rpb24gY2xlYXIoKSB7CiAgICAgICAgdmFyIGUsIHQ7CiAgICAgICAgZSA9IGQsIHQgPSBmLCBxdihzKS51bmRvTWFuYWdlci5jbGVhcihlLCB0KTsKICAgICAgfSwKICAgICAgcmVzZXQ6IGZ1bmN0aW9uIHJlc2V0KCkgewogICAgICAgIHZhciBlOwogICAgICAgIGUgPSBkLCBxdihzKS51bmRvTWFuYWdlci5yZXNldChlKTsKICAgICAgfSwKICAgICAgaGFzVW5kbzogZnVuY3Rpb24gaGFzVW5kbygpIHsKICAgICAgICByZXR1cm4gZSA9IGQsIHQgPSBmLCBxdihzKS51bmRvTWFuYWdlci5oYXNVbmRvKGUsIHQpOwogICAgICAgIHZhciBlLCB0OwogICAgICB9LAogICAgICBoYXNSZWRvOiBmdW5jdGlvbiBoYXNSZWRvKCkgewogICAgICAgIHJldHVybiBlID0gZCwgdCA9IGYsIHF2KHMpLnVuZG9NYW5hZ2VyLmhhc1JlZG8oZSwgdCk7CiAgICAgICAgdmFyIGUsIHQ7CiAgICAgIH0sCiAgICAgIHRyYW5zYWN0OiBmdW5jdGlvbiB0cmFuc2FjdChlKSB7CiAgICAgICAgcmV0dXJuIHQgPSBkLCBuID0gbCwgciA9IGUsIHF2KHMpLnVuZG9NYW5hZ2VyLnRyYW5zYWN0KHQsIG4sIHIpOwogICAgICAgIHZhciB0LCBuLCByOwogICAgICB9LAogICAgICBpZ25vcmU6IGZ1bmN0aW9uIGlnbm9yZShlKSB7CiAgICAgICAgdmFyIHQsIG47CiAgICAgICAgdCA9IGwsIG4gPSBlLCBxdihzKS51bmRvTWFuYWdlci5pZ25vcmUodCwgbik7CiAgICAgIH0sCiAgICAgIGV4dHJhOiBmdW5jdGlvbiBleHRyYShlLCB0KSB7CiAgICAgICAgdmFyIG4sIHIsIG8sIGk7CiAgICAgICAgbiA9IGQsIHIgPSBmLCBvID0gZSwgaSA9IHQsIHF2KHMpLnVuZG9NYW5hZ2VyLmV4dHJhKG4sIHIsIG8sIGkpOwogICAgICB9CiAgICB9OwogICAgcmV0dXJuIEh2KHMpIHx8IEFiKHMsIGQsIGwpLCAoZSA9IHMpLmFkZFNob3J0Y3V0KCJtZXRhK3oiLCAiIiwgIlVuZG8iKSwgZS5hZGRTaG9ydGN1dCgibWV0YSt5LG1ldGErc2hpZnQreiIsICIiLCAiUmVkbyIpLCBkOwogIH0sCiAgICAgIFRiID0gWzksIDI3LCB1ZC5IT01FLCB1ZC5FTkQsIDE5LCAyMCwgNDQsIDE0NCwgMTQ1LCAzMywgMzQsIDQ1LCAxNiwgMTcsIDE4LCA5MSwgOTIsIDkzLCB1ZC5ET1dOLCB1ZC5VUCwgdWQuTEVGVCwgdWQuUklHSFRdLmNvbmNhdCh3dC5icm93c2VyLmlzRmlyZWZveCgpID8gWzIyNF0gOiBbXSksCiAgICAgIERiID0gImRhdGEtbWNlLXBsYWNlaG9sZGVyIiwKICAgICAgT2IgPSBmdW5jdGlvbiBPYihlKSB7CiAgICByZXR1cm4gImtleWRvd24iID09PSBlLnR5cGUgfHwgImtleXVwIiA9PT0gZS50eXBlOwogIH0sCiAgICAgIEJiID0gZnVuY3Rpb24gQmIoZSkgewogICAgdmFyIHQgPSBlLmtleUNvZGU7CiAgICByZXR1cm4gdCA9PT0gdWQuQkFDS1NQQUNFIHx8IHQgPT09IHVkLkRFTEVURTsKICB9LAogICAgICBQYiA9IGZ1bmN0aW9uIFBiKGEpIHsKICAgIHZhciBlLAogICAgICAgIHUgPSBhLmRvbSwKICAgICAgICBzID0gdmMoYSksCiAgICAgICAgYyA9IChlID0gYSkuZ2V0UGFyYW0oInBsYWNlaG9sZGVyIiwgcGMuZ2V0QXR0cmliKGUuZ2V0RWxlbWVudCgpLCAicGxhY2Vob2xkZXIiKSwgInN0cmluZyIpLAogICAgICAgIGwgPSBmdW5jdGlvbiBsKGUsIHQpIHsKICAgICAgdmFyIG4sIHIsIG8sIGk7CiAgICAgICFmdW5jdGlvbiAoZSkgewogICAgICAgIGlmIChPYihlKSkgewogICAgICAgICAgdmFyIHQgPSBlLmtleUNvZGU7CiAgICAgICAgICByZXR1cm4gIUJiKGUpICYmICh1ZC5tZXRhS2V5UHJlc3NlZChlKSB8fCBlLmFsdEtleSB8fCAxMTIgPD0gdCAmJiB0IDw9IDEyMyB8fCBNKFRiLCB0KSk7CiAgICAgICAgfQoKICAgICAgICByZXR1cm4gITE7CiAgICAgIH0oZSkgJiYgKG4gPSBhLmdldEJvZHkoKSwgciA9ICEoT2IobyA9IGUpICYmICEoQmIobykgfHwgImtleXVwIiA9PT0gby50eXBlICYmIDIyOSA9PT0gby5rZXlDb2RlKSkgJiYgZnVuY3Rpb24gKGUsIHQsIG4pIHsKICAgICAgICBpZiAoJG8oQXQuZnJvbURvbSh0KSwgITEpKSB7CiAgICAgICAgICB2YXIgciA9ICIiID09PSBuLAogICAgICAgICAgICAgIG8gPSB0LmZpcnN0RWxlbWVudENoaWxkOwogICAgICAgICAgcmV0dXJuICFvIHx8ICFlLmdldFN0eWxlKHQuZmlyc3RFbGVtZW50Q2hpbGQsICJwYWRkaW5nLWxlZnQiKSAmJiAhZS5nZXRTdHlsZSh0LmZpcnN0RWxlbWVudENoaWxkLCAicGFkZGluZy1yaWdodCIpICYmIChyID8gIWUuaXNCbG9jayhvKSA6IG4gPT09IG8ubm9kZU5hbWUudG9Mb3dlckNhc2UoKSk7CiAgICAgICAgfQoKICAgICAgICByZXR1cm4gITE7CiAgICAgIH0odSwgbiwgcyksICIiICE9PSB1LmdldEF0dHJpYihuLCBEYikgPT09IHIgJiYgIXQgfHwgKHUuc2V0QXR0cmliKG4sIERiLCByID8gYyA6IG51bGwpLCB1LnNldEF0dHJpYihuLCAiYXJpYS1wbGFjZWhvbGRlciIsIHIgPyBjIDogbnVsbCksIGkgPSByLCBhLmZpcmUoIlBsYWNlaG9sZGVyVG9nZ2xlIiwgewogICAgICAgIHN0YXRlOiBpCiAgICAgIH0pLCBhLm9uKHIgPyAia2V5ZG93biIgOiAia2V5dXAiLCBsKSwgYS5vZmYociA/ICJrZXl1cCIgOiAia2V5ZG93biIsIGwpKSk7CiAgICB9OwoKICAgIGMgJiYgYS5vbigiaW5pdCIsIGZ1bmN0aW9uIChlKSB7CiAgICAgIGwoZSwgITApLCBhLm9uKCJjaGFuZ2UgU2V0Q29udGVudCBFeGVjQ29tbWFuZCIsIGwpLCBhLm9uKCJwYXN0ZSIsIGZ1bmN0aW9uIChlKSB7CiAgICAgICAgcmV0dXJuIHFyLnNldEVkaXRvclRpbWVvdXQoYSwgZnVuY3Rpb24gKCkgewogICAgICAgICAgcmV0dXJuIGwoZSk7CiAgICAgICAgfSk7CiAgICAgIH0pOwogICAgfSk7CiAgfSwKICAgICAgTGIgPSAvW1x1MDU5MS1cdTA3RkZcdUZCMUQtXHVGREZGXHVGRTcwLVx1RkVGQ10vLAogICAgICBJYiA9IGZ1bmN0aW9uIEliKGUsIHQpIHsKICAgIHJldHVybiBUdChBdC5mcm9tRG9tKHQpLCBlLmdldFBhcmFtKCJpbmxpbmVfYm91bmRhcmllc19zZWxlY3RvciIsICJhW2hyZWZdLGNvZGUsLm1jZS1hbm5vdGF0aW9uIiwgInN0cmluZyIpKTsKICB9LAogICAgICBNYiA9IGZ1bmN0aW9uIE1iKGUpIHsKICAgIHJldHVybiAicnRsIiA9PT0gRXUuRE9NLmdldFN0eWxlKGUsICJkaXJlY3Rpb24iLCAhMCkgfHwgKHQgPSBlLnRleHRDb250ZW50LCBMYi50ZXN0KHQpKTsKICAgIHZhciB0OwogIH0sCiAgICAgIEZiID0gZnVuY3Rpb24gRmIoZSwgdCwgbikgewogICAgdmFyIHIsCiAgICAgICAgbywKICAgICAgICBpLAogICAgICAgIGEgPSAociA9IGUsIG8gPSB0LCBpID0gbiwgSChFdS5ET00uZ2V0UGFyZW50cyhpLmNvbnRhaW5lcigpLCAiKiIsIG8pLCByKSk7CiAgICByZXR1cm4gVS5mcm9tKGFbYS5sZW5ndGggLSAxXSk7CiAgfSwKICAgICAgVWIgPSBmdW5jdGlvbiBVYihlLCB0KSB7CiAgICBpZiAoIXQpIHJldHVybiB0OwogICAgdmFyIG4gPSB0LmNvbnRhaW5lcigpLAogICAgICAgIHIgPSB0Lm9mZnNldCgpOwogICAgcmV0dXJuIGUgPyB5byhuKSA/IEluKG4ubmV4dFNpYmxpbmcpID8gJHMobi5uZXh0U2libGluZywgMCkgOiAkcy5hZnRlcihuKSA6IHdvKHQpID8gJHMobiwgciArIDEpIDogdCA6IHlvKG4pID8gSW4obi5wcmV2aW91c1NpYmxpbmcpID8gJHMobi5wcmV2aW91c1NpYmxpbmcsIG4ucHJldmlvdXNTaWJsaW5nLmRhdGEubGVuZ3RoKSA6ICRzLmJlZm9yZShuKSA6IHhvKHQpID8gJHMobiwgciAtIDEpIDogdDsKICB9LAogICAgICB6YiA9IE4oVWIsICEwKSwKICAgICAgamIgPSBOKFViLCAhMSksCiAgICAgIEhiID0gZnVuY3Rpb24gSGIoZSwgdCkgewogICAgcmV0dXJuIFB0KGUsIHQpID8gQXIodCwgZnVuY3Rpb24gKGUpIHsKICAgICAgcmV0dXJuIHJvKGUpIHx8IGlvKGUpOwogICAgfSwgKG4gPSBlLCBmdW5jdGlvbiAoZSkgewogICAgICByZXR1cm4gT3QobiwgQXQuZnJvbURvbShlLmRvbS5wYXJlbnROb2RlKSk7CiAgICB9KSkgOiBVLm5vbmUoKTsKICAgIHZhciBuOwogIH0sCiAgICAgIFZiID0gZnVuY3Rpb24gVmIoZSkgewogICAgdmFyIHQsIG4sIHI7CiAgICBlLmRvbS5pc0VtcHR5KGUuZ2V0Qm9keSgpKSAmJiAoZS5zZXRDb250ZW50KCIiKSwgbiA9ICh0ID0gZSkuZ2V0Qm9keSgpLCByID0gbi5maXJzdENoaWxkICYmIHQuZG9tLmlzQmxvY2sobi5maXJzdENoaWxkKSA/IG4uZmlyc3RDaGlsZCA6IG4sIHQuc2VsZWN0aW9uLnNldEN1cnNvckxvY2F0aW9uKHIsIDApKTsKICB9LAogICAgICBxYiA9IGZ1bmN0aW9uIHFiKGUsIHQpIHsKICAgIHJldHVybiB7CiAgICAgIGZyb206IGUsCiAgICAgIHRvOiB0CiAgICB9OwogIH0sCiAgICAgICRiID0gZnVuY3Rpb24gJGIoZSwgdCkgewogICAgdmFyIG4gPSBBdC5mcm9tRG9tKGUpLAogICAgICAgIHIgPSBBdC5mcm9tRG9tKHQuY29udGFpbmVyKCkpOwogICAgcmV0dXJuIEhiKG4sIHIpLm1hcChmdW5jdGlvbiAoZSkgewogICAgICByZXR1cm4gewogICAgICAgIGJsb2NrOiBlLAogICAgICAgIHBvc2l0aW9uOiB0CiAgICAgIH07CiAgICB9KTsKICB9LAogICAgICBXYiA9IGZ1bmN0aW9uIFdiKG8sIGksIGUpIHsKICAgIHZhciB0ID0gJGIobywgJHMuZnJvbVJhbmdlU3RhcnQoZSkpLAogICAgICAgIG4gPSB0LmJpbmQoZnVuY3Rpb24gKGUpIHsKICAgICAgcmV0dXJuIE9sKGksIG8sIGUucG9zaXRpb24pLmJpbmQoZnVuY3Rpb24gKGUpIHsKICAgICAgICByZXR1cm4gJGIobywgZSkubWFwKGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICByZXR1cm4gdCA9IG8sIG4gPSBpLCB6bigociA9IGUpLnBvc2l0aW9uLmdldE5vZGUoKSkgJiYgITEgPT09ICRvKHIuYmxvY2spID8gTGwoITEsIHIuYmxvY2suZG9tKS5iaW5kKGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICAgIHJldHVybiBlLmlzRXF1YWwoci5wb3NpdGlvbikgPyBPbChuLCB0LCBlKS5iaW5kKGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICAgICAgcmV0dXJuICRiKHQsIGUpOwogICAgICAgICAgICB9KSA6IFUuc29tZShyKTsKICAgICAgICAgIH0pLmdldE9yKHIpIDogcjsKICAgICAgICAgIHZhciB0LCBuLCByOwogICAgICAgIH0pOwogICAgICB9KTsKICAgIH0pOwogICAgcmV0dXJuIGRzKHQsIG4sIHFiKS5maWx0ZXIoZnVuY3Rpb24gKGUpIHsKICAgICAgcmV0dXJuICExID09PSBPdCgociA9IGUpLmZyb20uYmxvY2ssIHIudG8uYmxvY2spICYmICR0KChuID0gZSkuZnJvbS5ibG9jaykuYmluZChmdW5jdGlvbiAodCkgewogICAgICAgIHJldHVybiAkdChuLnRvLmJsb2NrKS5maWx0ZXIoZnVuY3Rpb24gKGUpIHsKICAgICAgICAgIHJldHVybiBPdCh0LCBlKTsKICAgICAgICB9KTsKICAgICAgfSkuaXNTb21lKCkgJiYgITEgPT09IFZuKCh0ID0gZSkuZnJvbS5ibG9jay5kb20pICYmICExID09PSBWbih0LnRvLmJsb2NrLmRvbSk7CiAgICAgIHZhciB0LCBuLCByOwogICAgfSk7CiAgfSwKICAgICAgS2IgPSBmdW5jdGlvbiBLYihlKSB7CiAgICB2YXIgdCwKICAgICAgICBuID0gKHQgPSBHdChlKSwgRyh0LCBlbykuZm9sZChmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiB0OwogICAgfSwgZnVuY3Rpb24gKGUpIHsKICAgICAgcmV0dXJuIHQuc2xpY2UoMCwgZSk7CiAgICB9KSk7CiAgICByZXR1cm4gVyhuLCBwbiksIG47CiAgfSwKICAgICAgWGIgPSBmdW5jdGlvbiBYYihlLCB0KSB7CiAgICB2YXIgbiA9IERwKHQsIGUpOwogICAgcmV0dXJuIFkobi5yZXZlcnNlKCksIGZ1bmN0aW9uIChlKSB7CiAgICAgIHJldHVybiAkbyhlKTsKICAgIH0pLmVhY2gocG4pOwogIH0sCiAgICAgIFliID0gZnVuY3Rpb24gWWIoZSwgdCwgbiwgcikgewogICAgaWYgKCRvKG4pKSByZXR1cm4gX3AobiksIEZsKG4uZG9tKTsKICAgIDAgPT09IEgoWHQociksIGZ1bmN0aW9uIChlKSB7CiAgICAgIHJldHVybiAhJG8oZSk7CiAgICB9KS5sZW5ndGggJiYgJG8odCkgJiYgc24ociwgQXQuZnJvbVRhZygiYnIiKSk7CiAgICB2YXIgbyA9IE1sKG4uZG9tLCAkcy5iZWZvcmUoci5kb20pKTsKICAgIHJldHVybiBXKEtiKHQpLCBmdW5jdGlvbiAoZSkgewogICAgICBzbihyLCBlKTsKICAgIH0pLCBYYihlLCB0KSwgbzsKICB9LAogICAgICBHYiA9IGZ1bmN0aW9uIEdiKGUsIHQsIG4pIHsKICAgIGlmICgkbyhuKSkgcmV0dXJuIHBuKG4pLCAkbyh0KSAmJiBfcCh0KSwgRmwodC5kb20pOwogICAgdmFyIHIgPSBVbChuLmRvbSk7CiAgICByZXR1cm4gVyhLYih0KSwgZnVuY3Rpb24gKGUpIHsKICAgICAgZm4obiwgZSk7CiAgICB9KSwgWGIoZSwgdCksIHI7CiAgfSwKICAgICAgSmIgPSBmdW5jdGlvbiBKYihlLCB0KSB7CiAgICByZXR1cm4gUHQodCwgZSkgPyAobiA9IERwKGUsIHQpLCBVLmZyb20obltuLmxlbmd0aCAtIDFdKSkgOiBVLm5vbmUoKTsKICAgIHZhciBuOwogIH0sCiAgICAgIFFiID0gZnVuY3Rpb24gUWIoZSwgdCkgewogICAgTGwoZSwgdC5kb20pLm1hcChmdW5jdGlvbiAoZSkgewogICAgICByZXR1cm4gZS5nZXROb2RlKCk7CiAgICB9KS5tYXAoQXQuZnJvbURvbSkuZmlsdGVyKG5vKS5lYWNoKHBuKTsKICB9LAogICAgICBaYiA9IGZ1bmN0aW9uIFpiKGUsIHQsIG4pIHsKICAgIHJldHVybiBRYighMCwgdCksIFFiKCExLCBuKSwgSmIodCwgbikuZm9sZChOKEdiLCBlLCB0LCBuKSwgTihZYiwgZSwgdCwgbikpOwogIH0sCiAgICAgIGVDID0gZnVuY3Rpb24gZUMoZSwgdCwgbiwgcikgewogICAgcmV0dXJuIHQgPyBaYihlLCByLCBuKSA6IFpiKGUsIG4sIHIpOwogIH0sCiAgICAgIHRDID0gZnVuY3Rpb24gdEModCwgbikgewogICAgdmFyIGUsCiAgICAgICAgciwKICAgICAgICBvLAogICAgICAgIGkgPSBBdC5mcm9tRG9tKHQuZ2V0Qm9keSgpKSwKICAgICAgICBhID0gKGUgPSBpLmRvbSwgciA9IG4sICgobyA9IHQuc2VsZWN0aW9uLmdldFJuZygpKS5jb2xsYXBzZWQgPyBXYihlLCByLCBvKSA6IFUubm9uZSgpKS5iaW5kKGZ1bmN0aW9uIChlKSB7CiAgICAgIHJldHVybiBlQyhpLCBuLCBlLmZyb20uYmxvY2ssIGUudG8uYmxvY2spOwogICAgfSkpOwogICAgcmV0dXJuIGEuZWFjaChmdW5jdGlvbiAoZSkgewogICAgICB0LnNlbGVjdGlvbi5zZXRSbmcoZS50b1JhbmdlKCkpOwogICAgfSksIGEuaXNTb21lKCk7CiAgfSwKICAgICAgbkMgPSBmdW5jdGlvbiBuQyhlLCB0KSB7CiAgICB2YXIgbiA9IEF0LmZyb21Eb20odCksCiAgICAgICAgciA9IE4oT3QsIGUpOwogICAgcmV0dXJuIF9yKG4sIHVvLCByKS5pc1NvbWUoKTsKICB9LAogICAgICByQyA9IGZ1bmN0aW9uIHJDKGUsIHQpIHsKICAgIHZhciBuLAogICAgICAgIHIsCiAgICAgICAgbyA9IE1sKGUuZG9tLCAkcy5mcm9tUmFuZ2VTdGFydCh0KSkuaXNOb25lKCksCiAgICAgICAgaSA9IElsKGUuZG9tLCAkcy5mcm9tUmFuZ2VFbmQodCkpLmlzTm9uZSgpOwogICAgcmV0dXJuICEobkMobiA9IGUsIChyID0gdCkuc3RhcnRDb250YWluZXIpIHx8IG5DKG4sIHIuZW5kQ29udGFpbmVyKSkgJiYgbyAmJiBpOwogIH0sCiAgICAgIG9DID0gZnVuY3Rpb24gb0MoZSkgewogICAgdmFyIG4sCiAgICAgICAgciwKICAgICAgICBvLAogICAgICAgIHQsCiAgICAgICAgaSA9IEF0LmZyb21Eb20oZS5nZXRCb2R5KCkpLAogICAgICAgIGEgPSBlLnNlbGVjdGlvbi5nZXRSbmcoKTsKICAgIHJldHVybiByQyhpLCBhKSA/ICgodCA9IGUpLnNldENvbnRlbnQoIiIpLCB0LnNlbGVjdGlvbi5zZXRDdXJzb3JMb2NhdGlvbigpLCAhMCkgOiAobiA9IGksIHIgPSBlLnNlbGVjdGlvbiwgbyA9IHIuZ2V0Um5nKCksIGRzKEhiKG4sIEF0LmZyb21Eb20oby5zdGFydENvbnRhaW5lcikpLCBIYihuLCBBdC5mcm9tRG9tKG8uZW5kQ29udGFpbmVyKSksIGZ1bmN0aW9uIChlLCB0KSB7CiAgICAgIHJldHVybiAhMSA9PT0gT3QoZSwgdCkgJiYgKG8uZGVsZXRlQ29udGVudHMoKSwgZUMobiwgITAsIGUsIHQpLmVhY2goZnVuY3Rpb24gKGUpIHsKICAgICAgICByLnNldFJuZyhlLnRvUmFuZ2UoKSk7CiAgICAgIH0pLCAhMCk7CiAgICB9KS5nZXRPcighMSkpOwogIH0sCiAgICAgIGlDID0gZnVuY3Rpb24gaUMoZSwgdCkgewogICAgcmV0dXJuICFlLnNlbGVjdGlvbi5pc0NvbGxhcHNlZCgpICYmIG9DKGUpOwogIH0sCiAgICAgIGFDID0gSG4sCiAgICAgIHVDID0gVm4sCiAgICAgIHNDID0gZnVuY3Rpb24gc0MoZSwgdCwgbiwgciwgbykgewogICAgcmV0dXJuIFUuZnJvbSh0Ll9zZWxlY3Rpb25PdmVycmlkZXMuc2hvd0NhcmV0KGUsIG4sIHIsIG8pKTsKICB9LAogICAgICBjQyA9IGZ1bmN0aW9uIGNDKGUsIHQpIHsKICAgIHZhciBuLCByOwogICAgcmV0dXJuIGUuZmlyZSgiQmVmb3JlT2JqZWN0U2VsZWN0ZWQiLCB7CiAgICAgIHRhcmdldDogdAogICAgfSkuaXNEZWZhdWx0UHJldmVudGVkKCkgPyBVLm5vbmUoKSA6IFUuc29tZSgoKHIgPSAobiA9IHQpLm93bmVyRG9jdW1lbnQuY3JlYXRlUmFuZ2UoKSkuc2VsZWN0Tm9kZShuKSwgcikpOwogIH0sCiAgICAgIGxDID0gZnVuY3Rpb24gbEMoZSwgdCwgbikgewogICAgdmFyIHIgPSBsbCgxLCBlLmdldEJvZHkoKSwgdCksCiAgICAgICAgbyA9ICRzLmZyb21SYW5nZVN0YXJ0KHIpLAogICAgICAgIGkgPSBvLmdldE5vZGUoKTsKICAgIGlmIChXYyhpKSkgcmV0dXJuIHNDKDEsIGUsIGksICFvLmlzQXRFbmQoKSwgITEpOwogICAgdmFyIGEgPSBvLmdldE5vZGUoITApOwogICAgaWYgKFdjKGEpKSByZXR1cm4gc0MoMSwgZSwgYSwgITEsICExKTsKICAgIHZhciB1ID0gZS5kb20uZ2V0UGFyZW50KG8uZ2V0Tm9kZSgpLCBmdW5jdGlvbiAoZSkgewogICAgICByZXR1cm4gdUMoZSkgfHwgYUMoZSk7CiAgICB9KTsKICAgIHJldHVybiBXYyh1KSA/IHNDKDEsIGUsIHUsICExLCBuKSA6IFUubm9uZSgpOwogIH0sCiAgICAgIGZDID0gZnVuY3Rpb24gZkMoZSwgdCwgbikgewogICAgcmV0dXJuIHQuY29sbGFwc2VkID8gbEMoZSwgdCwgbikuZ2V0T3IodCkgOiB0OwogIH0sCiAgICAgIGRDID0gZnVuY3Rpb24gZEMoZSkgewogICAgcmV0dXJuIE5wKGUpIHx8IENwKGUpOwogIH0sCiAgICAgIG1DID0gZnVuY3Rpb24gbUMoZSkgewogICAgcmV0dXJuIEVwKGUpIHx8IHdwKGUpOwogIH0sCiAgICAgIHBDID0gZnVuY3Rpb24gcEMobiwgciwgZSwgdCwgbywgaSkgewogICAgdmFyIGEsIHU7CiAgICByZXR1cm4gc0ModCwgbiwgaS5nZXROb2RlKCFvKSwgbywgITApLmVhY2goZnVuY3Rpb24gKGUpIHsKICAgICAgdmFyIHQ7CiAgICAgIHIuY29sbGFwc2VkID8gKHQgPSByLmNsb25lUmFuZ2UoKSwgbyA/IHQuc2V0RW5kKGUuc3RhcnRDb250YWluZXIsIGUuc3RhcnRPZmZzZXQpIDogdC5zZXRTdGFydChlLmVuZENvbnRhaW5lciwgZS5lbmRPZmZzZXQpLCB0LmRlbGV0ZUNvbnRlbnRzKCkpIDogci5kZWxldGVDb250ZW50cygpLCBuLnNlbGVjdGlvbi5zZXRSbmcoZSk7CiAgICB9KSwgYSA9IG4uZG9tLCBJbih1ID0gZSkgJiYgMCA9PT0gdS5kYXRhLmxlbmd0aCAmJiBhLnJlbW92ZSh1KSwgITA7CiAgfSwKICAgICAgZ0MgPSBmdW5jdGlvbiBnQyhlLCB0KSB7CiAgICB2YXIgbiA9IGUuc2VsZWN0aW9uLmdldFJuZygpOwogICAgaWYgKCFJbihuLmNvbW1vbkFuY2VzdG9yQ29udGFpbmVyKSkgcmV0dXJuICExOwoKICAgIHZhciByID0gdCA/IFZzLkZvcndhcmRzIDogVnMuQmFja3dhcmRzLAogICAgICAgIG8gPSBfbChlLmdldEJvZHkoKSksCiAgICAgICAgaSA9IE4ocGwsIHQgPyBvLm5leHQgOiBvLnByZXYpLAogICAgICAgIGEgPSB0ID8gZEMgOiBtQywKICAgICAgICB1ID0gZGwociwgZS5nZXRCb2R5KCksIG4pLAogICAgICAgIHMgPSBVYih0LCBpKHUpKTsKCiAgICBpZiAoIXMgfHwgIWdsKHUsIHMpKSByZXR1cm4gITE7CiAgICBpZiAoYShzKSkgcmV0dXJuIHBDKGUsIG4sIHUuZ2V0Tm9kZSgpLCByLCB0LCBzKTsKICAgIHZhciBjID0gaShzKTsKICAgIHJldHVybiAhIShjICYmIGEoYykgJiYgZ2wocywgYykpICYmIHBDKGUsIG4sIHUuZ2V0Tm9kZSgpLCByLCB0LCBjKTsKICB9LAogICAgICBoQyA9IENyKFt7CiAgICByZW1vdmU6IFsiZWxlbWVudCJdCiAgfSwgewogICAgbW92ZVRvRWxlbWVudDogWyJlbGVtZW50Il0KICB9LCB7CiAgICBtb3ZlVG9Qb3NpdGlvbjogWyJwb3NpdGlvbiJdCiAgfV0pLAogICAgICB2QyA9IGZ1bmN0aW9uIHZDKGUsIHQsIG4sIHIpIHsKICAgIHZhciBvID0gci5nZXROb2RlKCExID09PSB0KTsKICAgIHJldHVybiBIYihBdC5mcm9tRG9tKGUpLCBBdC5mcm9tRG9tKG4uZ2V0Tm9kZSgpKSkubWFwKGZ1bmN0aW9uIChlKSB7CiAgICAgIHJldHVybiAkbyhlKSA/IGhDLnJlbW92ZShlLmRvbSkgOiBoQy5tb3ZlVG9FbGVtZW50KG8pOwogICAgfSkub3JUaHVuayhmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiBVLnNvbWUoaEMubW92ZVRvRWxlbWVudChvKSk7CiAgICB9KTsKICB9LAogICAgICB5QyA9IGZ1bmN0aW9uIHlDKHUsIHMsIGMpIHsKICAgIHJldHVybiBPbChzLCB1LCBjKS5iaW5kKGZ1bmN0aW9uIChlKSB7CiAgICAgIHJldHVybiBhID0gZS5nZXROb2RlKCksIHVvKEF0LmZyb21Eb20oYSkpIHx8IGlvKEF0LmZyb21Eb20oYSkpID8gVS5ub25lKCkgOiAodCA9IHUsIG8gPSBlLCBpID0gZnVuY3Rpb24gaShlKSB7CiAgICAgICAgcmV0dXJuIHRvKEF0LmZyb21Eb20oZSkpICYmICFvbChyLCBvLCB0KTsKICAgICAgfSwgZmwoIShuID0gcyksIHIgPSBjKS5mb2xkKGZ1bmN0aW9uICgpIHsKICAgICAgICByZXR1cm4gZmwobiwgbykuZm9sZChDLCBpKTsKICAgICAgfSwgaSkgPyBVLm5vbmUoKSA6IHMgJiYgVm4oZS5nZXROb2RlKCkpIHx8ICExID09PSBzICYmIFZuKGUuZ2V0Tm9kZSghMCkpID8gdkModSwgcywgYywgZSkgOiBzICYmIEVwKGMpIHx8ICExID09PSBzICYmIE5wKGMpID8gVS5zb21lKGhDLm1vdmVUb1Bvc2l0aW9uKGUpKSA6IFUubm9uZSgpKTsKICAgICAgdmFyIHQsIG4sIHIsIG8sIGksIGE7CiAgICB9KTsKICB9LAogICAgICBiQyA9IGZ1bmN0aW9uIGJDKHIsIGUsIG8pIHsKICAgIHJldHVybiBpID0gZSwgYSA9IG8uZ2V0Tm9kZSghMSA9PT0gaSksIHUgPSBpID8gImFmdGVyIiA6ICJiZWZvcmUiLCBBbihhKSAmJiBhLmdldEF0dHJpYnV0ZSgiZGF0YS1tY2UtY2FyZXQiKSA9PT0gdSA/ICh0ID0gZSwgbiA9IG8uZ2V0Tm9kZSghMSA9PT0gZSksICh0ICYmIFZuKG4ubmV4dFNpYmxpbmcpID8gVS5zb21lKGhDLm1vdmVUb0VsZW1lbnQobi5uZXh0U2libGluZykpIDogITEgPT09IHQgJiYgVm4obi5wcmV2aW91c1NpYmxpbmcpID8gVS5zb21lKGhDLm1vdmVUb0VsZW1lbnQobi5wcmV2aW91c1NpYmxpbmcpKSA6IFUubm9uZSgpKS5mb2xkKGZ1bmN0aW9uICgpIHsKICAgICAgcmV0dXJuIHlDKHIsIGUsIG8pOwogICAgfSwgVS5zb21lKSkgOiB5QyhyLCBlLCBvKS5iaW5kKGZ1bmN0aW9uIChlKSB7CiAgICAgIHJldHVybiB0ID0gciwgbiA9IG8sIGUuZm9sZChmdW5jdGlvbiAoZSkgewogICAgICAgIHJldHVybiBVLnNvbWUoaEMucmVtb3ZlKGUpKTsKICAgICAgfSwgZnVuY3Rpb24gKGUpIHsKICAgICAgICByZXR1cm4gVS5zb21lKGhDLm1vdmVUb0VsZW1lbnQoZSkpOwogICAgICB9LCBmdW5jdGlvbiAoZSkgewogICAgICAgIHJldHVybiBvbChuLCBlLCB0KSA/IFUubm9uZSgpIDogVS5zb21lKGhDLm1vdmVUb1Bvc2l0aW9uKGUpKTsKICAgICAgfSk7CiAgICAgIHZhciB0LCBuOwogICAgfSk7CiAgICB2YXIgdCwgbiwgaSwgYSwgdTsKICB9LAogICAgICBDQyA9IGZ1bmN0aW9uIENDKGUsIHQpIHsKICAgIHJldHVybiBVLmZyb20oaWQoZS5nZXRCb2R5KCksIHQpKTsKICB9LAogICAgICB3QyA9IGZ1bmN0aW9uIHdDKGEsIHUpIHsKICAgIHZhciBlID0gYS5zZWxlY3Rpb24uZ2V0Tm9kZSgpOwogICAgcmV0dXJuIENDKGEsIGUpLmZpbHRlcihWbikuZm9sZChmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiBlID0gYS5nZXRCb2R5KCksIHQgPSB1LCBuID0gYS5zZWxlY3Rpb24uZ2V0Um5nKCksIHIgPSBsbCh0ID8gMSA6IC0xLCBlLCBuKSwgbyA9ICRzLmZyb21SYW5nZVN0YXJ0KHIpLCBpID0gQXQuZnJvbURvbShlKSwgKCExID09PSB0ICYmIEVwKG8pID8gVS5zb21lKGhDLnJlbW92ZShvLmdldE5vZGUoITApKSkgOiB0ICYmIE5wKG8pID8gVS5zb21lKGhDLnJlbW92ZShvLmdldE5vZGUoKSkpIDogITEgPT09IHQgJiYgTnAobykgJiYgVnAoaSwgbykgPyBxcChpLCBvKS5tYXAoZnVuY3Rpb24gKGUpIHsKICAgICAgICByZXR1cm4gaEMucmVtb3ZlKGUuZ2V0Tm9kZSgpKTsKICAgICAgfSkgOiB0ICYmIEVwKG8pICYmIEhwKGksIG8pID8gJHAoaSwgbykubWFwKGZ1bmN0aW9uIChlKSB7CiAgICAgICAgcmV0dXJuIGhDLnJlbW92ZShlLmdldE5vZGUoKSk7CiAgICAgIH0pIDogYkMoZSwgdCwgbykpLmV4aXN0cyhmdW5jdGlvbiAoZSkgewogICAgICAgIHJldHVybiBlLmZvbGQoZnVuY3Rpb24gKGUpIHsKICAgICAgICAgIHJldHVybiBvLl9zZWxlY3Rpb25PdmVycmlkZXMuaGlkZUZha2VDYXJldCgpLCBDZyhvLCBpLCBBdC5mcm9tRG9tKGUpKSwgITA7CiAgICAgICAgfSwgKHIgPSBpID0gdSwgZnVuY3Rpb24gKGUpIHsKICAgICAgICAgIHZhciB0ID0gciA/ICRzLmJlZm9yZShlKSA6ICRzLmFmdGVyKGUpOwogICAgICAgICAgcmV0dXJuIG4uc2VsZWN0aW9uLnNldFJuZyh0LnRvUmFuZ2UoKSksICEwOwogICAgICAgIH0pLCAodCA9IG4gPSBvID0gYSwgZnVuY3Rpb24gKGUpIHsKICAgICAgICAgIHJldHVybiB0LnNlbGVjdGlvbi5zZXRSbmcoZS50b1JhbmdlKCkpLCAhMDsKICAgICAgICB9KSk7CiAgICAgICAgdmFyIHQsIG4sIHIsIG8sIGk7CiAgICAgIH0pOwogICAgICB2YXIgZSwgdCwgbiwgciwgbywgaTsKICAgIH0sIGspOwogIH0sCiAgICAgIHhDID0gZnVuY3Rpb24geEModCwgbikgewogICAgdmFyIGUgPSB0LnNlbGVjdGlvbi5nZXROb2RlKCk7CiAgICByZXR1cm4gISFWbihlKSAmJiBDQyh0LCBlLnBhcmVudE5vZGUpLmZpbHRlcihWbikuZm9sZChmdW5jdGlvbiAoKSB7CiAgICAgIHZhciBlOwogICAgICByZXR1cm4gZSA9IEF0LmZyb21Eb20odC5nZXRCb2R5KCkpLCBXKEd1KGUsICIubWNlLW9mZnNjcmVlbi1zZWxlY3Rpb24iKSwgcG4pLCBDZyh0LCBuLCBBdC5mcm9tRG9tKHQuc2VsZWN0aW9uLmdldE5vZGUoKSkpLCBWYih0KSwgITA7CiAgICB9LCBmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiAhMDsKICAgIH0pOwogIH0sCiAgICAgIFNDID0gZnVuY3Rpb24gU0MoZSkgewogICAgdmFyIHQsCiAgICAgICAgbiA9IGUuZG9tLAogICAgICAgIHIgPSBlLnNlbGVjdGlvbiwKICAgICAgICBvID0gaWQoZS5nZXRCb2R5KCksIHIuZ2V0Tm9kZSgpKTsKICAgIHJldHVybiBIbihvKSAmJiBuLmlzQmxvY2sobykgJiYgbi5pc0VtcHR5KG8pICYmICh0ID0gbi5jcmVhdGUoImJyIiwgewogICAgICAiZGF0YS1tY2UtYm9ndXMiOiAiMSIKICAgIH0pLCBuLnNldEhUTUwobywgIiIpLCBvLmFwcGVuZENoaWxkKHQpLCByLnNldFJuZygkcy5iZWZvcmUodCkudG9SYW5nZSgpKSksICEwOwogIH0sCiAgICAgIE5DID0gZnVuY3Rpb24gTkMoZSwgdCkgewogICAgcmV0dXJuIChlLnNlbGVjdGlvbi5pc0NvbGxhcHNlZCgpID8gd0MgOiB4QykoZSwgdCk7CiAgfSwKICAgICAgRUMgPSBmdW5jdGlvbiBFQyhlLCB0KSB7CiAgICByZXR1cm4gISFlLnNlbGVjdGlvbi5pc0NvbGxhcHNlZCgpICYmIChuID0gZSwgciA9IHQsIG8gPSAkcy5mcm9tUmFuZ2VTdGFydChuLnNlbGVjdGlvbi5nZXRSbmcoKSksIE9sKHIsIG4uZ2V0Qm9keSgpLCBvKS5maWx0ZXIoZnVuY3Rpb24gKGUpIHsKICAgICAgcmV0dXJuIChyID8geXAgOiBicCkoZSk7CiAgICB9KS5iaW5kKGZ1bmN0aW9uIChlKSB7CiAgICAgIHJldHVybiBVLmZyb20oaWwociA/IDAgOiAtMSwgZSkpOwogICAgfSkuZXhpc3RzKGZ1bmN0aW9uIChlKSB7CiAgICAgIHJldHVybiBuLnNlbGVjdGlvbi5zZWxlY3QoZSksICEwOwogICAgfSkpOwogICAgdmFyIG4sIHIsIG87CiAgfSwKICAgICAga0MgPSBJbiwKICAgICAgX0MgPSBmdW5jdGlvbiBfQyhlKSB7CiAgICByZXR1cm4ga0MoZSkgJiYgZS5kYXRhWzBdID09PSBmbzsKICB9LAogICAgICBBQyA9IGZ1bmN0aW9uIEFDKGUpIHsKICAgIHJldHVybiBrQyhlKSAmJiBlLmRhdGFbZS5kYXRhLmxlbmd0aCAtIDFdID09PSBmbzsKICB9LAogICAgICBSQyA9IGZ1bmN0aW9uIFJDKGUpIHsKICAgIHJldHVybiBlLm93bmVyRG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoZm8pOwogIH0sCiAgICAgIFRDID0gZnVuY3Rpb24gVEMoZSwgdCkgewogICAgcmV0dXJuIChlID8gZnVuY3Rpb24gKGUpIHsKICAgICAgaWYgKGtDKGUucHJldmlvdXNTaWJsaW5nKSkgcmV0dXJuIEFDKGUucHJldmlvdXNTaWJsaW5nKSB8fCBlLnByZXZpb3VzU2libGluZy5hcHBlbmREYXRhKGZvKSwgZS5wcmV2aW91c1NpYmxpbmc7CiAgICAgIGlmIChrQyhlKSkgcmV0dXJuIF9DKGUpIHx8IGUuaW5zZXJ0RGF0YSgwLCBmbyksIGU7CiAgICAgIHZhciB0ID0gUkMoZSk7CiAgICAgIHJldHVybiBlLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKHQsIGUpLCB0OwogICAgfSA6IGZ1bmN0aW9uIChlKSB7CiAgICAgIGlmIChrQyhlLm5leHRTaWJsaW5nKSkgcmV0dXJuIF9DKGUubmV4dFNpYmxpbmcpIHx8IGUubmV4dFNpYmxpbmcuaW5zZXJ0RGF0YSgwLCBmbyksIGUubmV4dFNpYmxpbmc7CiAgICAgIGlmIChrQyhlKSkgcmV0dXJuIEFDKGUpIHx8IGUuYXBwZW5kRGF0YShmbyksIGU7CiAgICAgIHZhciB0ID0gUkMoZSk7CiAgICAgIHJldHVybiBlLm5leHRTaWJsaW5nID8gZS5wYXJlbnROb2RlLmluc2VydEJlZm9yZSh0LCBlLm5leHRTaWJsaW5nKSA6IGUucGFyZW50Tm9kZS5hcHBlbmRDaGlsZCh0KSwgdDsKICAgIH0pKHQpOwogIH0sCiAgICAgIERDID0gTihUQywgITApLAogICAgICBPQyA9IE4oVEMsICExKSwKICAgICAgQkMgPSBmdW5jdGlvbiBCQyhlLCB0KSB7CiAgICByZXR1cm4gSW4oZS5jb250YWluZXIoKSkgPyBUQyh0LCBlLmNvbnRhaW5lcigpKSA6IFRDKHQsIGUuZ2V0Tm9kZSgpKTsKICB9LAogICAgICBQQyA9IGZ1bmN0aW9uIFBDKGUsIHQpIHsKICAgIHZhciBuID0gdC5nZXQoKTsKICAgIHJldHVybiBuICYmIGUuY29udGFpbmVyKCkgPT09IG4gJiYgeW8obik7CiAgfSwKICAgICAgTEMgPSBmdW5jdGlvbiBMQyhuLCBlKSB7CiAgICByZXR1cm4gZS5mb2xkKGZ1bmN0aW9uIChlKSB7CiAgICAgIEZjKG4uZ2V0KCkpOwogICAgICB2YXIgdCA9IERDKGUpOwogICAgICByZXR1cm4gbi5zZXQodCksIFUuc29tZSgkcyh0LCB0Lmxlbmd0aCAtIDEpKTsKICAgIH0sIGZ1bmN0aW9uIChlKSB7CiAgICAgIHJldHVybiBGbChlKS5tYXAoZnVuY3Rpb24gKGUpIHsKICAgICAgICBpZiAoUEMoZSwgbikpIHJldHVybiAkcyhuLmdldCgpLCAxKTsKICAgICAgICBGYyhuLmdldCgpKTsKICAgICAgICB2YXIgdCA9IEJDKGUsICEwKTsKICAgICAgICByZXR1cm4gbi5zZXQodCksICRzKHQsIDEpOwogICAgICB9KTsKICAgIH0sIGZ1bmN0aW9uIChlKSB7CiAgICAgIHJldHVybiBVbChlKS5tYXAoZnVuY3Rpb24gKGUpIHsKICAgICAgICBpZiAoUEMoZSwgbikpIHJldHVybiAkcyhuLmdldCgpLCBuLmdldCgpLmxlbmd0aCAtIDEpOwogICAgICAgIEZjKG4uZ2V0KCkpOwogICAgICAgIHZhciB0ID0gQkMoZSwgITEpOwogICAgICAgIHJldHVybiBuLnNldCh0KSwgJHModCwgdC5sZW5ndGggLSAxKTsKICAgICAgfSk7CiAgICB9LCBmdW5jdGlvbiAoZSkgewogICAgICBGYyhuLmdldCgpKTsKICAgICAgdmFyIHQgPSBPQyhlKTsKICAgICAgcmV0dXJuIG4uc2V0KHQpLCBVLnNvbWUoJHModCwgMSkpOwogICAgfSk7CiAgfSwKICAgICAgSUMgPSBmdW5jdGlvbiBJQyhlLCB0KSB7CiAgICBmb3IgKHZhciBuID0gMDsgbiA8IGUubGVuZ3RoOyBuKyspIHsKICAgICAgdmFyIHIgPSBlW25dLmFwcGx5KG51bGwsIHQpOwogICAgICBpZiAoci5pc1NvbWUoKSkgcmV0dXJuIHI7CiAgICB9CgogICAgcmV0dXJuIFUubm9uZSgpOwogIH0sCiAgICAgIE1DID0gQ3IoW3sKICAgIGJlZm9yZTogWyJlbGVtZW50Il0KICB9LCB7CiAgICBzdGFydDogWyJlbGVtZW50Il0KICB9LCB7CiAgICBlbmQ6IFsiZWxlbWVudCJdCiAgfSwgewogICAgYWZ0ZXI6IFsiZWxlbWVudCJdCiAgfV0pLAogICAgICBGQyA9IGZ1bmN0aW9uIEZDKGUsIHQpIHsKICAgIHZhciBuID0gcmwodCwgZSk7CiAgICByZXR1cm4gbiB8fCBlOwogIH0sCiAgICAgIFVDID0gZnVuY3Rpb24gVUMoZSwgdCwgbikgewogICAgdmFyIHIgPSB6YihuKSwKICAgICAgICBvID0gRkModCwgci5jb250YWluZXIoKSk7CiAgICByZXR1cm4gRmIoZSwgbywgcikuZm9sZChmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiBJbChvLCByKS5iaW5kKE4oRmIsIGUsIG8pKS5tYXAoZnVuY3Rpb24gKGUpIHsKICAgICAgICByZXR1cm4gTUMuYmVmb3JlKGUpOwogICAgICB9KTsKICAgIH0sIFUubm9uZSk7CiAgfSwKICAgICAgekMgPSBmdW5jdGlvbiB6QyhlLCB0KSB7CiAgICByZXR1cm4gbnVsbCA9PT0gSGwoZSwgdCk7CiAgfSwKICAgICAgakMgPSBmdW5jdGlvbiBqQyhlLCB0LCBuKSB7CiAgICByZXR1cm4gRmIoZSwgdCwgbikuZmlsdGVyKE4oekMsIHQpKTsKICB9LAogICAgICBIQyA9IGZ1bmN0aW9uIEhDKGUsIHQsIG4pIHsKICAgIHZhciByID0gamIobik7CiAgICByZXR1cm4gakMoZSwgdCwgcikuYmluZChmdW5jdGlvbiAoZSkgewogICAgICByZXR1cm4gTWwoZSwgcikuaXNOb25lKCkgPyBVLnNvbWUoTUMuc3RhcnQoZSkpIDogVS5ub25lKCk7CiAgICB9KTsKICB9LAogICAgICBWQyA9IGZ1bmN0aW9uIFZDKGUsIHQsIG4pIHsKICAgIHZhciByID0gemIobik7CiAgICByZXR1cm4gakMoZSwgdCwgcikuYmluZChmdW5jdGlvbiAoZSkgewogICAgICByZXR1cm4gSWwoZSwgcikuaXNOb25lKCkgPyBVLnNvbWUoTUMuZW5kKGUpKSA6IFUubm9uZSgpOwogICAgfSk7CiAgfSwKICAgICAgcUMgPSBmdW5jdGlvbiBxQyhlLCB0LCBuKSB7CiAgICB2YXIgciA9IGpiKG4pLAogICAgICAgIG8gPSBGQyh0LCByLmNvbnRhaW5lcigpKTsKICAgIHJldHVybiBGYihlLCBvLCByKS5mb2xkKGZ1bmN0aW9uICgpIHsKICAgICAgcmV0dXJuIE1sKG8sIHIpLmJpbmQoTihGYiwgZSwgbykpLm1hcChmdW5jdGlvbiAoZSkgewogICAgICAgIHJldHVybiBNQy5hZnRlcihlKTsKICAgICAgfSk7CiAgICB9LCBVLm5vbmUpOwogIH0sCiAgICAgICRDID0gZnVuY3Rpb24gJEMoZSkgewogICAgcmV0dXJuICExID09PSBNYihLQyhlKSk7CiAgfSwKICAgICAgV0MgPSBmdW5jdGlvbiBXQyhlLCB0LCBuKSB7CiAgICByZXR1cm4gSUMoW1VDLCBIQywgVkMsIHFDXSwgW2UsIHQsIG5dKS5maWx0ZXIoJEMpOwogIH0sCiAgICAgIEtDID0gZnVuY3Rpb24gS0MoZSkgewogICAgcmV0dXJuIGUuZm9sZChvLCBvLCBvLCBvKTsKICB9LAogICAgICBYQyA9IGZ1bmN0aW9uIFhDKGUpIHsKICAgIHJldHVybiBlLmZvbGQoRSgiYmVmb3JlIiksIEUoInN0YXJ0IiksIEUoImVuZCIpLCBFKCJhZnRlciIpKTsKICB9LAogICAgICBZQyA9IGZ1bmN0aW9uIFlDKGUpIHsKICAgIHJldHVybiBlLmZvbGQoTUMuYmVmb3JlLCBNQy5iZWZvcmUsIE1DLmFmdGVyLCBNQy5hZnRlcik7CiAgfSwKICAgICAgR0MgPSBmdW5jdGlvbiBHQyhlKSB7CiAgICByZXR1cm4gZS5mb2xkKE1DLnN0YXJ0LCBNQy5zdGFydCwgTUMuZW5kLCBNQy5lbmQpOwogIH0sCiAgICAgIEpDID0gZnVuY3Rpb24gSkMoYSwgZSwgdSwgdCwgbiwgcykgewogICAgcmV0dXJuIGRzKEZiKGUsIHUsIHQpLCBGYihlLCB1LCBuKSwgZnVuY3Rpb24gKGUsIHQpIHsKICAgICAgcmV0dXJuIGUgIT09IHQgJiYgKHIgPSB0LCBvID0gcmwoZSwgbiA9IHUpLCBpID0gcmwociwgbiksIG8gJiYgbyA9PT0gaSkgPyBNQy5hZnRlcihhID8gZSA6IHQpIDogczsKICAgICAgdmFyIG4sIHIsIG8sIGk7CiAgICB9KS5nZXRPcihzKTsKICB9LAogICAgICBRQyA9IGZ1bmN0aW9uIFFDKGUsIHIpIHsKICAgIHJldHVybiBlLmZvbGQoaywgZnVuY3Rpb24gKGUpIHsKICAgICAgcmV0dXJuIG4gPSByLCAhKFhDKHQgPSBlKSA9PT0gWEMobikgJiYgS0ModCkgPT09IEtDKG4pKTsKICAgICAgdmFyIHQsIG47CiAgICB9KTsKICB9LAogICAgICBaQyA9IGZ1bmN0aW9uIFpDKGUsIHQpIHsKICAgIHJldHVybiBlID8gdC5mb2xkKGEoVS5zb21lLCBNQy5zdGFydCksIFUubm9uZSwgYShVLnNvbWUsIE1DLmFmdGVyKSwgVS5ub25lKSA6IHQuZm9sZChVLm5vbmUsIGEoVS5zb21lLCBNQy5iZWZvcmUpLCBVLm5vbmUsIGEoVS5zb21lLCBNQy5lbmQpKTsKICB9LAogICAgICBldyA9IGZ1bmN0aW9uIGV3KGUsIGEsIHUsIHMpIHsKICAgIHZhciB0ID0gVWIoZSwgcyksCiAgICAgICAgYyA9IFdDKGEsIHUsIHQpOwogICAgcmV0dXJuIFdDKGEsIHUsIHQpLmJpbmQoTihaQywgZSkpLm9yVGh1bmsoZnVuY3Rpb24gKCkgewogICAgICByZXR1cm4gbiA9IGEsIHIgPSB1LCBvID0gYywgaSA9IFViKHQgPSBlLCBzKSwgT2wodCwgciwgaSkubWFwKE4oVWIsIHQpKS5mb2xkKGZ1bmN0aW9uICgpIHsKICAgICAgICByZXR1cm4gby5tYXAoWUMpOwogICAgICB9LCBmdW5jdGlvbiAoZSkgewogICAgICAgIHJldHVybiBXQyhuLCByLCBlKS5tYXAoTihKQywgdCwgbiwgciwgaSwgZSkpLmZpbHRlcihOKFFDLCBvKSk7CiAgICAgIH0pLmZpbHRlcigkQyk7CiAgICAgIHZhciB0LCBuLCByLCBvLCBpOwogICAgfSk7CiAgfSwKICAgICAgdHcgPSAoTihldywgITEpLCBOKGV3LCAhMCksIGZ1bmN0aW9uIChlLCB0LCBuKSB7CiAgICB2YXIgciA9IGUgPyAxIDogLTE7CiAgICByZXR1cm4gdC5zZXRSbmcoJHMobi5jb250YWluZXIoKSwgbi5vZmZzZXQoKSArIHIpLnRvUmFuZ2UoKSksIHQuZ2V0U2VsKCkubW9kaWZ5KCJtb3ZlIiwgZSA/ICJmb3J3YXJkIiA6ICJiYWNrd2FyZCIsICJ3b3JkIiksICEwOwogIH0pLAogICAgICBudyA9IGZ1bmN0aW9uIG53KGUsIHQpIHsKICAgIHZhciBuID0gdC5zZWxlY3Rpb24uZ2V0Um5nKCksCiAgICAgICAgciA9IGUgPyAkcy5mcm9tUmFuZ2VFbmQobikgOiAkcy5mcm9tUmFuZ2VTdGFydChuKTsKICAgIHJldHVybiAhIVQodC5zZWxlY3Rpb24uZ2V0U2VsKCkubW9kaWZ5KSAmJiAoZSAmJiB3byhyKSA/IHR3KCEwLCB0LnNlbGVjdGlvbiwgcikgOiAhKGUgfHwgIXhvKHIpKSAmJiB0dyghMSwgdC5zZWxlY3Rpb24sIHIpKTsKICB9LAogICAgICBydyA9IGZ1bmN0aW9uIHJ3KGUsIHQpIHsKICAgIHZhciBuID0gZS5kb20uY3JlYXRlUm5nKCk7CiAgICBuLnNldFN0YXJ0KHQuY29udGFpbmVyKCksIHQub2Zmc2V0KCkpLCBuLnNldEVuZCh0LmNvbnRhaW5lcigpLCB0Lm9mZnNldCgpKSwgZS5zZWxlY3Rpb24uc2V0Um5nKG4pOwogIH0sCiAgICAgIG93ID0gZnVuY3Rpb24gb3coZSwgdCkgewogICAgZSA/IHQuc2V0QXR0cmlidXRlKCJkYXRhLW1jZS1zZWxlY3RlZCIsICJpbmxpbmUtYm91bmRhcnkiKSA6IHQucmVtb3ZlQXR0cmlidXRlKCJkYXRhLW1jZS1zZWxlY3RlZCIpOwogIH0sCiAgICAgIGl3ID0gZnVuY3Rpb24gaXcodCwgZSwgbikgewogICAgcmV0dXJuIExDKGUsIG4pLm1hcChmdW5jdGlvbiAoZSkgewogICAgICByZXR1cm4gcncodCwgZSksIG47CiAgICB9KTsKICB9LAogICAgICBhdyA9IGZ1bmN0aW9uIGF3KGUsIHQpIHsKICAgIHZhciBuLCByOwogICAgZS5zZWxlY3Rpb24uaXNDb2xsYXBzZWQoKSAmJiAhMCAhPT0gZS5jb21wb3NpbmcgJiYgdC5nZXQoKSAmJiAobiA9ICRzLmZyb21SYW5nZVN0YXJ0KGUuc2VsZWN0aW9uLmdldFJuZygpKSwgJHMuaXNUZXh0UG9zaXRpb24obikgJiYgITEgPT09ICh3byhyID0gbikgfHwgeG8ocikpICYmIChydyhlLCBNYyh0LmdldCgpLCBuKSksIHQuc2V0KG51bGwpKSk7CiAgfSwKICAgICAgdXcgPSBmdW5jdGlvbiB1dyhlLCB0LCBuKSB7CiAgICByZXR1cm4gISFfYyhlKSAmJiAobyA9IHQsIGkgPSBuLCBhID0gKHIgPSBlKS5nZXRCb2R5KCksIHUgPSAkcy5mcm9tUmFuZ2VTdGFydChyLnNlbGVjdGlvbi5nZXRSbmcoKSksIHMgPSBOKEliLCByKSwgZXcoaSwgcywgYSwgdSkuYmluZChmdW5jdGlvbiAoZSkgewogICAgICByZXR1cm4gaXcociwgbywgZSk7CiAgICB9KS5pc1NvbWUoKSk7CiAgICB2YXIgciwgbywgaSwgYSwgdSwgczsKICB9LAogICAgICBzdyA9IGZ1bmN0aW9uIHN3KGUsIHQsIG4pIHsKICAgIHJldHVybiAhIV9jKHQpICYmIG53KGUsIHQpOwogIH0sCiAgICAgIGN3ID0gZnVuY3Rpb24gY3coZCkgewogICAgdmFyIG0gPSBPdShudWxsKSwKICAgICAgICBwID0gTihJYiwgZCk7CiAgICByZXR1cm4gZC5vbigiTm9kZUNoYW5nZSIsIGZ1bmN0aW9uIChlKSB7CiAgICAgIHZhciBuLCByLCBvLCB0LCBpLCBhLCB1LCBzLCBjLCBsLCBmOwogICAgICAhX2MoZCkgfHwgd3QuYnJvd3Nlci5pc0lFKCkgJiYgZS5pbml0aWFsIHx8IChhID0gcCwgdSA9IGQuZG9tLCBzID0gZS5wYXJlbnRzLCBjID0geihHdShBdC5mcm9tRG9tKHUuZ2V0Um9vdCgpKSwgJypbZGF0YS1tY2Utc2VsZWN0ZWQ9ImlubGluZS1ib3VuZGFyeSJdJyksIGZ1bmN0aW9uIChlKSB7CiAgICAgICAgcmV0dXJuIGUuZG9tOwogICAgICB9KSwgbCA9IEgoYywgYSksIGYgPSBIKHMsIGEpLCBXKGVlKGwsIGYpLCBOKG93LCAhMSkpLCBXKGVlKGYsIGwpLCBOKG93LCAhMCkpLCBhdyhkLCBtKSwgbiA9IHAsIHIgPSBkLCBvID0gbSwgdCA9IGUucGFyZW50cywgci5zZWxlY3Rpb24uaXNDb2xsYXBzZWQoKSAmJiAoaSA9IEgodCwgbiksIFcoaSwgZnVuY3Rpb24gKGUpIHsKICAgICAgICB2YXIgdCA9ICRzLmZyb21SYW5nZVN0YXJ0KHIuc2VsZWN0aW9uLmdldFJuZygpKTsKICAgICAgICBXQyhuLCByLmdldEJvZHkoKSwgdCkuYmluZChmdW5jdGlvbiAoZSkgewogICAgICAgICAgcmV0dXJuIGl3KHIsIG8sIGUpOwogICAgICAgIH0pOwogICAgICB9KSkpOwogICAgfSksIG07CiAgfSwKICAgICAgbHcgPSBOKHN3LCAhMCksCiAgICAgIGZ3ID0gTihzdywgITEpLAogICAgICBkdyA9IGZ1bmN0aW9uIGR3KHQsIG4pIHsKICAgIHJldHVybiBmdW5jdGlvbiAoZSkgewogICAgICByZXR1cm4gTEMobiwgZSkuZXhpc3RzKGZ1bmN0aW9uIChlKSB7CiAgICAgICAgcmV0dXJuIHJ3KHQsIGUpLCAhMDsKICAgICAgfSk7CiAgICB9OwogIH0sCiAgICAgIG13ID0gZnVuY3Rpb24gbXcociwgbywgaSwgYSkgewogICAgdmFyIHUgPSByLmdldEJvZHkoKSwKICAgICAgICBzID0gTihJYiwgcik7CiAgICByLnVuZG9NYW5hZ2VyLmlnbm9yZShmdW5jdGlvbiAoKSB7CiAgICAgIHZhciBlLCB0LCBuOwogICAgICByLnNlbGVjdGlvbi5zZXRSbmcoKGUgPSBpLCB0ID0gYSwgKG4gPSBkb2N1bWVudC5jcmVhdGVSYW5nZSgpKS5zZXRTdGFydChlLmNvbnRhaW5lcigpLCBlLm9mZnNldCgpKSwgbi5zZXRFbmQodC5jb250YWluZXIoKSwgdC5vZmZzZXQoKSksIG4pKSwgci5leGVjQ29tbWFuZCgiRGVsZXRlIiksIFdDKHMsIHUsICRzLmZyb21SYW5nZVN0YXJ0KHIuc2VsZWN0aW9uLmdldFJuZygpKSkubWFwKEdDKS5tYXAoZHcociwgbykpOwogICAgfSksIHIubm9kZUNoYW5nZWQoKTsKICB9LAogICAgICBwdyA9IGZ1bmN0aW9uIHB3KG4sIHIsIGksIG8pIHsKICAgIHZhciBlLAogICAgICAgIHQsCiAgICAgICAgYSA9IChlID0gbi5nZXRCb2R5KCksIHQgPSBvLmNvbnRhaW5lcigpLCBybCh0LCBlKSB8fCBlKSwKICAgICAgICB1ID0gTihJYiwgbiksCiAgICAgICAgcyA9IFdDKHUsIGEsIG8pOwogICAgcmV0dXJuIHMuYmluZChmdW5jdGlvbiAoZSkgewogICAgICByZXR1cm4gaSA/IGUuZm9sZChFKFUuc29tZShHQyhlKSkpLCBVLm5vbmUsIEUoVS5zb21lKFlDKGUpKSksIFUubm9uZSkgOiBlLmZvbGQoVS5ub25lLCBFKFUuc29tZShZQyhlKSkpLCBVLm5vbmUsIEUoVS5zb21lKEdDKGUpKSkpOwogICAgfSkubWFwKGR3KG4sIHIpKS5nZXRPclRodW5rKGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIHQgPSBCbChpLCBhLCBvKSwKICAgICAgICAgIGUgPSB0LmJpbmQoZnVuY3Rpb24gKGUpIHsKICAgICAgICByZXR1cm4gV0ModSwgYSwgZSk7CiAgICAgIH0pOwogICAgICByZXR1cm4gZHMocywgZSwgZnVuY3Rpb24gKCkgewogICAgICAgIHJldHVybiBGYih1LCBhLCBvKS5leGlzdHMoZnVuY3Rpb24gKGUpIHsKICAgICAgICAgIHJldHVybiAhIWRzKEZsKG8gPSBlKSwgVWwobyksIGZ1bmN0aW9uIChlLCB0KSB7CiAgICAgICAgICAgIHZhciBuID0gVWIoITAsIGUpLAogICAgICAgICAgICAgICAgciA9IFViKCExLCB0KTsKICAgICAgICAgICAgcmV0dXJuIElsKG8sIG4pLmZvcmFsbChmdW5jdGlvbiAoZSkgewogICAgICAgICAgICAgIHJldHVybiBlLmlzRXF1YWwocik7CiAgICAgICAgICAgIH0pOwogICAgICAgICAgfSkuZ2V0T3IoITApICYmIChDZyhuLCBpLCBBdC5mcm9tRG9tKGUpKSwgITApOwogICAgICAgICAgdmFyIG87CiAgICAgICAgfSk7CiAgICAgIH0pLm9yVGh1bmsoZnVuY3Rpb24gKCkgewogICAgICAgIHJldHVybiBlLmJpbmQoZnVuY3Rpb24gKGUpIHsKICAgICAgICAgIHJldHVybiB0Lm1hcChmdW5jdGlvbiAoZSkgewogICAgICAgICAgICByZXR1cm4gaSA/IG13KG4sIHIsIG8sIGUpIDogbXcobiwgciwgZSwgbyksICEwOwogICAgICAgICAgfSk7CiAgICAgICAgfSk7CiAgICAgIH0pLmdldE9yKCExKTsKICAgIH0pOwogIH0sCiAgICAgIGd3ID0gZnVuY3Rpb24gZ3coZSwgdCwgbikgewogICAgaWYgKGUuc2VsZWN0aW9uLmlzQ29sbGFwc2VkKCkgJiYgX2MoZSkpIHsKICAgICAgdmFyIHIgPSAkcy5mcm9tUmFuZ2VTdGFydChlLnNlbGVjdGlvbi5nZXRSbmcoKSk7CiAgICAgIHJldHVybiBwdyhlLCB0LCBuLCByKTsKICAgIH0KCiAgICByZXR1cm4gITE7CiAgfSwKICAgICAgaHcgPSBmdW5jdGlvbiBodyhlKSB7CiAgICByZXR1cm4gMSA9PT0gR3QoZSkubGVuZ3RoOwogIH0sCiAgICAgIHZ3ID0gZnVuY3Rpb24gdncoZSwgdCwgbiwgcikgewogICAgdmFyIG8sCiAgICAgICAgaSwKICAgICAgICBhLAogICAgICAgIHUsCiAgICAgICAgcywKICAgICAgICBjID0gTihOaCwgdCksCiAgICAgICAgbCA9IHooSChyLCBjKSwgZnVuY3Rpb24gKGUpIHsKICAgICAgcmV0dXJuIGUuZG9tOwogICAgfSk7CiAgICAwID09PSBsLmxlbmd0aCA/IENnKHQsIGUsIG4pIDogKGkgPSBuLmRvbSwgYSA9IGwsIHUgPSB2aCghMSksIHMgPSB3aChhLCB1LmRvbSksIHNuKEF0LmZyb21Eb20oaSksIHUpLCBwbihBdC5mcm9tRG9tKGkpKSwgbyA9ICRzKHMsIDApLCB0LnNlbGVjdGlvbi5zZXRSbmcoby50b1JhbmdlKCkpKTsKICB9LAogICAgICB5dyA9IGZ1bmN0aW9uIHl3KHIsIG8pIHsKICAgIHZhciB0LAogICAgICAgIGUgPSBBdC5mcm9tRG9tKHIuZ2V0Qm9keSgpKSwKICAgICAgICBuID0gQXQuZnJvbURvbShyLnNlbGVjdGlvbi5nZXRTdGFydCgpKSwKICAgICAgICBzID0gSCgodCA9IERwKG4sIGUpLCBHKHQsIGVvKS5mb2xkKEUodCksIGZ1bmN0aW9uIChlKSB7CiAgICAgIHJldHVybiB0LnNsaWNlKDAsIGUpOwogICAgfSkpLCBodyk7CiAgICByZXR1cm4gcmUocykuZXhpc3RzKGZ1bmN0aW9uIChlKSB7CiAgICAgIHZhciB0LAogICAgICAgICAgaSwKICAgICAgICAgIGEsCiAgICAgICAgICB1LAogICAgICAgICAgbiA9ICRzLmZyb21SYW5nZVN0YXJ0KHIuc2VsZWN0aW9uLmdldFJuZygpKTsKICAgICAgcmV0dXJuIGkgPSBvLCBhID0gbiwgdSA9IGUuZG9tLCAhKCFkcyhGbCh1KSwgVWwodSksIGZ1bmN0aW9uIChlLCB0KSB7CiAgICAgICAgdmFyIG4gPSBVYighMCwgZSksCiAgICAgICAgICAgIHIgPSBVYighMSwgdCksCiAgICAgICAgICAgIG8gPSBVYighMSwgYSk7CiAgICAgICAgcmV0dXJuIGkgPyBJbCh1LCBvKS5leGlzdHMoZnVuY3Rpb24gKGUpIHsKICAgICAgICAgIHJldHVybiBlLmlzRXF1YWwocikgJiYgYS5pc0VxdWFsKG4pOwogICAgICAgIH0pIDogTWwodSwgbykuZXhpc3RzKGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICByZXR1cm4gZS5pc0VxdWFsKG4pICYmIGEuaXNFcXVhbChyKTsKICAgICAgICB9KTsKICAgICAgfSkuZ2V0T3IoITApIHx8IGpsKCh0ID0gZSkuZG9tKSAmJiBnaCh0LmRvbSkpICYmICh2dyhvLCByLCBlLCBzKSwgITApOwogICAgfSk7CiAgfSwKICAgICAgYncgPSBmdW5jdGlvbiBidyhlLCB0KSB7CiAgICByZXR1cm4gISFlLnNlbGVjdGlvbi5pc0NvbGxhcHNlZCgpICYmIHl3KGUsIHQpOwogIH0sCiAgICAgIEN3ID0gZnVuY3Rpb24gQ3coZSwgdCwgbikgewogICAgcmV0dXJuIGUuX3NlbGVjdGlvbk92ZXJyaWRlcy5oaWRlRmFrZUNhcmV0KCksIENnKGUsIHQsIEF0LmZyb21Eb20obikpLCAhMDsKICB9LAogICAgICB3dyA9IGZ1bmN0aW9uIHd3KGUsIHQpIHsKICAgIHJldHVybiBlLnNlbGVjdGlvbi5pc0NvbGxhcHNlZCgpID8gKGkgPSBlLCB1ID0gKGEgPSB0KSA/IENwIDogd3AsIHMgPSBhID8gVnMuRm9yd2FyZHMgOiBWcy5CYWNrd2FyZHMsIGMgPSBkbChzLCBpLmdldEJvZHkoKSwgaS5zZWxlY3Rpb24uZ2V0Um5nKCkpLCB1KGMpID8gQ3coaSwgYSwgYy5nZXROb2RlKCFhKSkgOiBVLmZyb20oVWIoYSwgYykpLmZpbHRlcihmdW5jdGlvbiAoZSkgewogICAgICByZXR1cm4gdShlKSAmJiBnbChjLCBlKTsKICAgIH0pLmV4aXN0cyhmdW5jdGlvbiAoZSkgewogICAgICByZXR1cm4gQ3coaSwgYSwgZS5nZXROb2RlKCFhKSk7CiAgICB9KSkgOiAociA9IHQsIG8gPSAobiA9IGUpLnNlbGVjdGlvbi5nZXROb2RlKCksICEhJG4obykgJiYgQ3cobiwgciwgbykpOwogICAgdmFyIG4sIHIsIG8sIGksIGEsIHUsIHMsIGM7CiAgfSwKICAgICAgeHcgPSBmdW5jdGlvbiB4dyhlKSB7CiAgICB2YXIgdCA9IHBhcnNlSW50KGUsIDEwKTsKICAgIHJldHVybiBpc05hTih0KSA/IDAgOiB0OwogIH0sCiAgICAgIFN3ID0gZnVuY3Rpb24gU3coZSwgdCkgewogICAgcmV0dXJuIChlIHx8ICJ0YWJsZSIgPT09IEx0KHQpID8gIm1hcmdpbiIgOiAicGFkZGluZyIpICsgKCJydGwiID09PSBlcih0LCAiZGlyZWN0aW9uIikgPyAiLXJpZ2h0IiA6ICItbGVmdCIpOwogIH0sCiAgICAgIE53ID0gZnVuY3Rpb24gTncoZSkgewogICAgdmFyIHIsCiAgICAgICAgdCA9IGt3KGUpOwogICAgcmV0dXJuICFlLm1vZGUuaXNSZWFkT25seSgpICYmICgxIDwgdC5sZW5ndGggfHwgKHIgPSBlLCBRKHQsIGZ1bmN0aW9uIChlKSB7CiAgICAgIHZhciB0ID0gU3coU2MociksIGUpLAogICAgICAgICAgbiA9IG5yKGUsIHQpLm1hcCh4dykuZ2V0T3IoMCk7CiAgICAgIHJldHVybiAiZmFsc2UiICE9PSByLmRvbS5nZXRDb250ZW50RWRpdGFibGUoZS5kb20pICYmIDAgPCBuOwogICAgfSkpKTsKICB9LAogICAgICBFdyA9IGZ1bmN0aW9uIEV3KGUpIHsKICAgIHJldHVybiBvbyhlKSB8fCBpbyhlKTsKICB9LAogICAgICBrdyA9IGZ1bmN0aW9uIGt3KGUpIHsKICAgIHJldHVybiBIKHooZS5zZWxlY3Rpb24uZ2V0U2VsZWN0ZWRCbG9ja3MoKSwgQXQuZnJvbURvbSksIGZ1bmN0aW9uIChlKSB7CiAgICAgIHJldHVybiAhRXcoZSkgJiYgISR0KGUpLm1hcChFdykuZ2V0T3IoITEpICYmIEFyKGUsIGZ1bmN0aW9uIChlKSB7CiAgICAgICAgcmV0dXJuIEhuKGUuZG9tKSB8fCBWbihlLmRvbSk7CiAgICAgIH0pLmV4aXN0cyhmdW5jdGlvbiAoZSkgewogICAgICAgIHJldHVybiBIbihlLmRvbSk7CiAgICAgIH0pOwogICAgfSk7CiAgfSwKICAgICAgX3cgPSBmdW5jdGlvbiBfdyhlLCBjKSB7CiAgICB2YXIgbCA9IGUuZG9tLAogICAgICAgIHQgPSBlLnNlbGVjdGlvbiwKICAgICAgICBuID0gZS5mb3JtYXR0ZXIsCiAgICAgICAgciA9IGUuZ2V0UGFyYW0oImluZGVudGF0aW9uIiwgIjQwcHgiLCAic3RyaW5nIiksCiAgICAgICAgZiA9IC9bYS16JV0rJC9pLmV4ZWMocilbMF0sCiAgICAgICAgZCA9IHBhcnNlSW50KHIsIDEwKSwKICAgICAgICBtID0gU2MoZSksCiAgICAgICAgbyA9IHZjKGUpOwogICAgZS5xdWVyeUNvbW1hbmRTdGF0ZSgiSW5zZXJ0VW5vcmRlcmVkTGlzdCIpIHx8IGUucXVlcnlDb21tYW5kU3RhdGUoIkluc2VydE9yZGVyZWRMaXN0IikgfHwgIiIgIT09IG8gfHwgbC5nZXRQYXJlbnQodC5nZXROb2RlKCksIGwuaXNCbG9jaykgfHwgbi5hcHBseSgiZGl2IiksIFcoa3coZSksIGZ1bmN0aW9uIChlKSB7CiAgICAgIHZhciB0LCBuLCByLCBvLCBpLCBhLCB1LCBzOwogICAgICB0ID0gbCwgbiA9IGMsIHIgPSBtLCBvID0gZCwgaSA9IGYsIGEgPSBlLmRvbSwgcyA9IFN3KHIsIEF0LmZyb21Eb20oYSkpLCAib3V0ZGVudCIgPT09IG4gPyAodSA9IE1hdGgubWF4KDAsIHh3KGEuc3R5bGVbc10pIC0gbyksIHQuc2V0U3R5bGUoYSwgcywgdSA/IHUgKyBpIDogIiIpKSA6ICh1ID0geHcoYS5zdHlsZVtzXSkgKyBvICsgaSwgdC5zZXRTdHlsZShhLCBzLCB1KSk7CiAgICB9KTsKICB9LAogICAgICBBdyA9IGZ1bmN0aW9uIEF3KGUsIHQpIHsKICAgIGlmIChlLnNlbGVjdGlvbi5pc0NvbGxhcHNlZCgpICYmIE53KGUpKSB7CiAgICAgIHZhciBuID0gZS5kb20sCiAgICAgICAgICByID0gZS5zZWxlY3Rpb24uZ2V0Um5nKCksCiAgICAgICAgICBvID0gJHMuZnJvbVJhbmdlU3RhcnQociksCiAgICAgICAgICBpID0gbi5nZXRQYXJlbnQoci5zdGFydENvbnRhaW5lciwgbi5pc0Jsb2NrKTsKICAgICAgaWYgKG51bGwgIT09IGkgJiYgSXAoQXQuZnJvbURvbShpKSwgbykpIHJldHVybiBfdyhlLCAib3V0ZGVudCIpLCAhMDsKICAgIH0KCiAgICByZXR1cm4gITE7CiAgfSwKICAgICAgUncgPSBmdW5jdGlvbiBSdyhlLCB0KSB7CiAgICBlLmdldERvYygpLmV4ZWNDb21tYW5kKHQsICExLCBudWxsKTsKICB9LAogICAgICBUdyA9IGZ1bmN0aW9uIFR3KG4sIHIpIHsKICAgIG4uYWRkQ29tbWFuZCgiZGVsZXRlIiwgZnVuY3Rpb24gKCkgewogICAgICB2YXIgZSwgdDsKICAgICAgdCA9IHIsIEF3KGUgPSBuKSB8fCBOQyhlLCAhMSkgfHwgZ0MoZSwgITEpIHx8IGd3KGUsIHQsICExKSB8fCB0QyhlLCAhMSkgfHwgS2coZSkgfHwgRUMoZSwgITEpIHx8IHd3KGUsICExKSB8fCBpQyhlKSB8fCBidyhlLCAhMSkgfHwgKFJ3KGUsICJEZWxldGUiKSwgVmIoZSkpOwogICAgfSksIG4uYWRkQ29tbWFuZCgiZm9yd2FyZERlbGV0ZSIsIGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIGUsIHQ7CiAgICAgIHQgPSByLCBOQyhlID0gbiwgITApIHx8IGdDKGUsICEwKSB8fCBndyhlLCB0LCAhMCkgfHwgdEMoZSwgITApIHx8IEtnKGUpIHx8IEVDKGUsICEwKSB8fCB3dyhlLCAhMCkgfHwgaUMoZSkgfHwgYncoZSwgITApIHx8IFJ3KGUsICJGb3J3YXJkRGVsZXRlIik7CiAgICB9KTsKICB9LAogICAgICBEdyA9IGZ1bmN0aW9uIER3KGUpIHsKICAgIHJldHVybiBlLnRvdWNoZXMgPT09IHVuZGVmaW5lZCB8fCAxICE9PSBlLnRvdWNoZXMubGVuZ3RoID8gVS5ub25lKCkgOiBVLnNvbWUoZS50b3VjaGVzWzBdKTsKICB9LAogICAgICBPdyA9IGZ1bmN0aW9uIE93KGEpIHsKICAgIHZhciB1ID0gT3UoVS5ub25lKCkpLAogICAgICAgIHMgPSBPdSghMSksCiAgICAgICAgciA9IGp1KGZ1bmN0aW9uIChlKSB7CiAgICAgIGEuZmlyZSgibG9uZ3ByZXNzIiwgX2tlKF9rZSh7fSwgZSksIHsKICAgICAgICB0eXBlOiAibG9uZ3ByZXNzIgogICAgICB9KSksIHMuc2V0KCEwKTsKICAgIH0sIDQwMCk7CiAgICBhLm9uKCJ0b3VjaHN0YXJ0IiwgZnVuY3Rpb24gKG4pIHsKICAgICAgRHcobikuZWFjaChmdW5jdGlvbiAoZSkgewogICAgICAgIHIuY2FuY2VsKCk7CiAgICAgICAgdmFyIHQgPSB7CiAgICAgICAgICB4OiBlLmNsaWVudFgsCiAgICAgICAgICB5OiBlLmNsaWVudFksCiAgICAgICAgICB0YXJnZXQ6IG4udGFyZ2V0CiAgICAgICAgfTsKICAgICAgICByLnRocm90dGxlKG4pLCBzLnNldCghMSksIHUuc2V0KFUuc29tZSh0KSk7CiAgICAgIH0pOwogICAgfSwgITApLCBhLm9uKCJ0b3VjaG1vdmUiLCBmdW5jdGlvbiAoZSkgewogICAgICByLmNhbmNlbCgpLCBEdyhlKS5lYWNoKGZ1bmN0aW9uIChpKSB7CiAgICAgICAgdS5nZXQoKS5lYWNoKGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICB2YXIgdCwgbiwgciwgbzsKICAgICAgICAgIHQgPSBpLCBuID0gZSwgciA9IE1hdGguYWJzKHQuY2xpZW50WCAtIG4ueCksIG8gPSBNYXRoLmFicyh0LmNsaWVudFkgLSBuLnkpLCAoNSA8IHIgfHwgNSA8IG8pICYmICh1LnNldChVLm5vbmUoKSksIHMuc2V0KCExKSwgYS5maXJlKCJsb25ncHJlc3NjYW5jZWwiKSk7CiAgICAgICAgfSk7CiAgICAgIH0pOwogICAgfSwgITApLCBhLm9uKCJ0b3VjaGVuZCB0b3VjaGNhbmNlbCIsIGZ1bmN0aW9uICh0KSB7CiAgICAgIHIuY2FuY2VsKCksICJ0b3VjaGNhbmNlbCIgIT09IHQudHlwZSAmJiB1LmdldCgpLmZpbHRlcihmdW5jdGlvbiAoZSkgewogICAgICAgIHJldHVybiBlLnRhcmdldC5pc0VxdWFsTm9kZSh0LnRhcmdldCk7CiAgICAgIH0pLmVhY2goZnVuY3Rpb24gKCkgewogICAgICAgIHMuZ2V0KCkgPyB0LnByZXZlbnREZWZhdWx0KCkgOiBhLmZpcmUoInRhcCIsIF9rZShfa2Uoe30sIHQpLCB7CiAgICAgICAgICB0eXBlOiAidGFwIgogICAgICAgIH0pKTsKICAgICAgfSk7CiAgICB9LCAhMCk7CiAgfSwKICAgICAgQncgPSBmdW5jdGlvbiBCdyhlLCB0KSB7CiAgICByZXR1cm4gZS5oYXNPd25Qcm9wZXJ0eSh0Lm5vZGVOYW1lKTsKICB9LAogICAgICBQdyA9IGZ1bmN0aW9uIFB3KGUpIHsKICAgIHZhciB0LAogICAgICAgIG4sCiAgICAgICAgciwKICAgICAgICBvID0gZS5kb20sCiAgICAgICAgaSA9IGUuc2VsZWN0aW9uLAogICAgICAgIGEgPSBlLnNjaGVtYSwKICAgICAgICB1ID0gYS5nZXRCbG9ja0VsZW1lbnRzKCksCiAgICAgICAgcyA9IGkuZ2V0U3RhcnQoKSwKICAgICAgICBjID0gZS5nZXRCb2R5KCksCiAgICAgICAgbCA9IHZjKGUpOwoKICAgIGlmIChzICYmIEFuKHMpICYmIGwpIHsKICAgICAgdmFyIGYgPSBjLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk7CgogICAgICBpZiAoYS5pc1ZhbGlkQ2hpbGQoZiwgbC50b0xvd2VyQ2FzZSgpKSAmJiAoZCA9IHUsIG0gPSBjLCBwID0gcywgIUYoVHAoQXQuZnJvbURvbShwKSwgQXQuZnJvbURvbShtKSksIGZ1bmN0aW9uIChlKSB7CiAgICAgICAgcmV0dXJuIEJ3KGQsIGUuZG9tKTsKICAgICAgfSkpKSB7CiAgICAgICAgZm9yICh2YXIgZCwgbSwgcCwgZywgaCwgdiA9IGkuZ2V0Um5nKCksIHkgPSB2LnN0YXJ0Q29udGFpbmVyLCBiID0gdi5zdGFydE9mZnNldCwgQyA9IHYuZW5kQ29udGFpbmVyLCB3ID0gdi5lbmRPZmZzZXQsIHggPSBFbShlKSwgcyA9IGMuZmlyc3RDaGlsZDsgczspIHsKICAgICAgICAgIGlmIChnID0gdSwgSW4oaCA9IHMpIHx8IEFuKGgpICYmICFCdyhnLCBoKSAmJiAhSmwoaCkpIHsKICAgICAgICAgICAgaWYgKGZ1bmN0aW9uIChlLCB0KSB7CiAgICAgICAgICAgICAgaWYgKEluKHQpKSB7CiAgICAgICAgICAgICAgICBpZiAoMCA9PT0gdC5ub2RlVmFsdWUubGVuZ3RoKSByZXR1cm4gITA7CiAgICAgICAgICAgICAgICBpZiAoL15ccyskLy50ZXN0KHQubm9kZVZhbHVlKSAmJiAoIXQubmV4dFNpYmxpbmcgfHwgQncoZSwgdC5uZXh0U2libGluZykpKSByZXR1cm4gITA7CiAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICByZXR1cm4gITE7CiAgICAgICAgICAgIH0odSwgcykpIHsKICAgICAgICAgICAgICBzID0gKG4gPSBzKS5uZXh0U2libGluZywgby5yZW1vdmUobik7CiAgICAgICAgICAgICAgY29udGludWU7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIHQgfHwgKHQgPSBvLmNyZWF0ZShsLCB5YyhlKSksIHMucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUodCwgcyksIHIgPSAhMCksIHMgPSAobiA9IHMpLm5leHRTaWJsaW5nLCB0LmFwcGVuZENoaWxkKG4pOwogICAgICAgICAgfSBlbHNlIHQgPSBudWxsLCBzID0gcy5uZXh0U2libGluZzsKICAgICAgICB9CgogICAgICAgIHIgJiYgeCAmJiAodi5zZXRTdGFydCh5LCBiKSwgdi5zZXRFbmQoQywgdyksIGkuc2V0Um5nKHYpLCBlLm5vZGVDaGFuZ2VkKCkpOwogICAgICB9CiAgICB9CiAgfSwKICAgICAgTHcgPSBmdW5jdGlvbiBMdyhlLCB0KSB7CiAgICB2YXIgbjsKICAgIHQuaGFzQXR0cmlidXRlKCJkYXRhLW1jZS1jYXJldCIpICYmIChrbyh0KSwgKG4gPSBlKS5zZWxlY3Rpb24uc2V0Um5nKG4uc2VsZWN0aW9uLmdldFJuZygpKSwgZS5zZWxlY3Rpb24uc2Nyb2xsSW50b1ZpZXcodCkpOwogIH0sCiAgICAgIEl3ID0gZnVuY3Rpb24gSXcoZSwgdCkgewogICAgdmFyIG4sCiAgICAgICAgciA9IChuID0gZSwgRHIoQXQuZnJvbURvbShuLmdldEJvZHkoKSksICIqW2RhdGEtbWNlLWNhcmV0XSIpLmZvbGQoRShudWxsKSwgZnVuY3Rpb24gKGUpIHsKICAgICAgcmV0dXJuIGUuZG9tOwogICAgfSkpOwogICAgaWYgKHIpIHJldHVybiAiY29tcG9zaXRpb25zdGFydCIgPT09IHQudHlwZSA/ICh0LnByZXZlbnREZWZhdWx0KCksIHQuc3RvcFByb3BhZ2F0aW9uKCksIHZvaWQgTHcoZSwgcikpIDogdm9pZCAoQ28ocikgJiYgKEx3KGUsIHIpLCBlLnVuZG9NYW5hZ2VyLmFkZCgpKSk7CiAgfTsKCiAgKHdiID0gQ2IgPSBDYiB8fCB7fSlbd2IuQnIgPSAwXSA9ICJCciIsIHdiW3diLkJsb2NrID0gMV0gPSAiQmxvY2siLCB3Ylt3Yi5XcmFwID0gMl0gPSAiV3JhcCIsIHdiW3diLkVvbCA9IDNdID0gIkVvbCI7CgogIHZhciBNdywKICAgICAgRncsCiAgICAgIFV3ID0gZnVuY3Rpb24gVXcoZSwgdCkgewogICAgcmV0dXJuIGUgPT09IFZzLkJhY2t3YXJkcyA/IFoodCkgOiB0OwogIH0sCiAgICAgIHp3ID0gZnVuY3Rpb24gencoZSwgdCwgbiwgcikgewogICAgZm9yICh2YXIgbywgaSwgYSwgdSwgcywgYywgbCA9IF9sKG4pLCBmID0gciwgZCA9IFtdOyBmICYmIChzID0gbCwgYyA9IGYsIG8gPSB0ID09PSBWcy5Gb3J3YXJkcyA/IHMubmV4dChjKSA6IHMucHJldihjKSk7KSB7CiAgICAgIGlmICh6bihvLmdldE5vZGUoITEpKSkgcmV0dXJuIHQgPT09IFZzLkZvcndhcmRzID8gewogICAgICAgIHBvc2l0aW9uczogVXcodCwgZCkuY29uY2F0KFtvXSksCiAgICAgICAgYnJlYWtUeXBlOiBDYi5CciwKICAgICAgICBicmVha0F0OiBVLnNvbWUobykKICAgICAgfSA6IHsKICAgICAgICBwb3NpdGlvbnM6IFV3KHQsIGQpLAogICAgICAgIGJyZWFrVHlwZTogQ2IuQnIsCiAgICAgICAgYnJlYWtBdDogVS5zb21lKG8pCiAgICAgIH07CgogICAgICBpZiAoby5pc1Zpc2libGUoKSkgewogICAgICAgIGlmIChlKGYsIG8pKSB7CiAgICAgICAgICB2YXIgbSA9IChpID0gdCwgYSA9IGYsIHpuKCh1ID0gbykuZ2V0Tm9kZShpID09PSBWcy5Gb3J3YXJkcykpID8gQ2IuQnIgOiAhMSA9PT0gb2woYSwgdSkgPyBDYi5CbG9jayA6IENiLldyYXApOwogICAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgcG9zaXRpb25zOiBVdyh0LCBkKSwKICAgICAgICAgICAgYnJlYWtUeXBlOiBtLAogICAgICAgICAgICBicmVha0F0OiBVLnNvbWUobykKICAgICAgICAgIH07CiAgICAgICAgfQoKICAgICAgICBkLnB1c2gobyksIGYgPSBvOwogICAgICB9IGVsc2UgZiA9IG87CiAgICB9CgogICAgcmV0dXJuIHsKICAgICAgcG9zaXRpb25zOiBVdyh0LCBkKSwKICAgICAgYnJlYWtUeXBlOiBDYi5Fb2wsCiAgICAgIGJyZWFrQXQ6IFUubm9uZSgpCiAgICB9OwogIH0sCiAgICAgIGp3ID0gZnVuY3Rpb24gancobiwgciwgbywgZSkgewogICAgcmV0dXJuIHIobywgZSkuYnJlYWtBdC5tYXAoZnVuY3Rpb24gKGUpIHsKICAgICAgdmFyIHQgPSByKG8sIGUpLnBvc2l0aW9uczsKICAgICAgcmV0dXJuIG4gPT09IFZzLkJhY2t3YXJkcyA/IHQuY29uY2F0KGUpIDogW2VdLmNvbmNhdCh0KTsKICAgIH0pLmdldE9yKFtdKTsKICB9LAogICAgICBIdyA9IGZ1bmN0aW9uIEh3KGUsIGkpIHsKICAgIHJldHVybiBYKGUsIGZ1bmN0aW9uIChlLCBvKSB7CiAgICAgIHJldHVybiBlLmZvbGQoZnVuY3Rpb24gKCkgewogICAgICAgIHJldHVybiBVLnNvbWUobyk7CiAgICAgIH0sIGZ1bmN0aW9uIChyKSB7CiAgICAgICAgcmV0dXJuIGRzKG5lKHIuZ2V0Q2xpZW50UmVjdHMoKSksIG5lKG8uZ2V0Q2xpZW50UmVjdHMoKSksIGZ1bmN0aW9uIChlLCB0KSB7CiAgICAgICAgICB2YXIgbiA9IE1hdGguYWJzKGkgLSBlLmxlZnQpOwogICAgICAgICAgcmV0dXJuIE1hdGguYWJzKGkgLSB0LmxlZnQpIDw9IG4gPyBvIDogcjsKICAgICAgICB9KS5vcihlKTsKICAgICAgfSk7CiAgICB9LCBVLm5vbmUoKSk7CiAgfSwKICAgICAgVncgPSBmdW5jdGlvbiBWdyh0LCBlKSB7CiAgICByZXR1cm4gbmUoZS5nZXRDbGllbnRSZWN0cygpKS5iaW5kKGZ1bmN0aW9uIChlKSB7CiAgICAgIHJldHVybiBIdyh0LCBlLmxlZnQpOwogICAgfSk7CiAgfSwKICAgICAgcXcgPSBOKHp3LCBIcy5pc0Fib3ZlLCAtMSksCiAgICAgICR3ID0gTih6dywgSHMuaXNCZWxvdywgMSksCiAgICAgIFd3ID0gTihqdywgLTEsIHF3KSwKICAgICAgS3cgPSBOKGp3LCAxLCAkdyksCiAgICAgIFh3ID0gZnVuY3Rpb24gWHcodCkgewogICAgdmFyIGUgPSBmdW5jdGlvbiBlKF9lOSkgewogICAgICByZXR1cm4geihfZTksIGZ1bmN0aW9uIChlKSB7CiAgICAgICAgcmV0dXJuIChlID0gcHMoZSkpLm5vZGUgPSB0LCBlOwogICAgICB9KTsKICAgIH07CgogICAgaWYgKEFuKHQpKSByZXR1cm4gZSh0LmdldENsaWVudFJlY3RzKCkpOwoKICAgIGlmIChJbih0KSkgewogICAgICB2YXIgbiA9IHQub3duZXJEb2N1bWVudC5jcmVhdGVSYW5nZSgpOwogICAgICByZXR1cm4gbi5zZXRTdGFydCh0LCAwKSwgbi5zZXRFbmQodCwgdC5kYXRhLmxlbmd0aCksIGUobi5nZXRDbGllbnRSZWN0cygpKTsKICAgIH0KICB9LAogICAgICBZdyA9IGZ1bmN0aW9uIFl3KGUpIHsKICAgIHJldHVybiBKKGUsIFh3KTsKICB9OwoKICAoRncgPSBNdyA9IE13IHx8IHt9KVtGdy5VcCA9IC0xXSA9ICJVcCIsIEZ3W0Z3LkRvd24gPSAxXSA9ICJEb3duIjsKCiAgdmFyIEd3ID0gZnVuY3Rpb24gR3cobywgaSwgYSwgZSwgdSwgdCkgewogICAgdmFyIHMgPSAwLAogICAgICAgIGMgPSBbXSwKICAgICAgICBuID0gZnVuY3Rpb24gbihlKSB7CiAgICAgIHZhciB0LAogICAgICAgICAgbiwKICAgICAgICAgIHIgPSBZdyhbZV0pOwoKICAgICAgZm9yICgtMSA9PT0gbyAmJiAociA9IHIucmV2ZXJzZSgpKSwgdCA9IDA7IHQgPCByLmxlbmd0aDsgdCsrKSB7CiAgICAgICAgaWYgKG4gPSByW3RdLCAhYShuLCBsKSkgewogICAgICAgICAgaWYgKDAgPCBjLmxlbmd0aCAmJiBpKG4sIEVlKGMpKSAmJiBzKyssIG4ubGluZSA9IHMsIHUobikpIHJldHVybiAhMDsKICAgICAgICAgIGMucHVzaChuKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0sCiAgICAgICAgbCA9IEVlKHQuZ2V0Q2xpZW50UmVjdHMoKSk7CgogICAgaWYgKCFsKSByZXR1cm4gYzsKICAgIHZhciByID0gdC5nZXROb2RlKCk7CiAgICByZXR1cm4gbihyKSwgZnVuY3Rpb24gKGUsIHQsIG4sIHIpIHsKICAgICAgZm9yICg7IHIgPSBubChyLCBlLCBNbywgdCk7KSB7CiAgICAgICAgaWYgKG4ocikpIHJldHVybjsKICAgICAgfQogICAgfShvLCBlLCBuLCByKSwgYzsKICB9LAogICAgICBKdyA9IE4oR3csIE13LlVwLCB2cywgeXMpLAogICAgICBRdyA9IE4oR3csIE13LkRvd24sIHlzLCB2cyksCiAgICAgIFp3ID0gZnVuY3Rpb24gWncobikgewogICAgcmV0dXJuIGZ1bmN0aW9uIChlKSB7CiAgICAgIHJldHVybiB0ID0gbiwgZS5saW5lID4gdDsKICAgICAgdmFyIHQ7CiAgICB9OwogIH0sCiAgICAgIGV4ID0gZnVuY3Rpb24gZXgobikgewogICAgcmV0dXJuIGZ1bmN0aW9uIChlKSB7CiAgICAgIHJldHVybiB0ID0gbiwgZS5saW5lID09PSB0OwogICAgICB2YXIgdDsKICAgIH07CiAgfSwKICAgICAgdHggPSBWbiwKICAgICAgbnggPSBubCwKICAgICAgcnggPSBmdW5jdGlvbiByeChlLCB0KSB7CiAgICByZXR1cm4gTWF0aC5hYnMoZS5sZWZ0IC0gdCk7CiAgfSwKICAgICAgb3ggPSBmdW5jdGlvbiBveChlLCB0KSB7CiAgICByZXR1cm4gTWF0aC5hYnMoZS5yaWdodCAtIHQpOwogIH0sCiAgICAgIGl4ID0gZnVuY3Rpb24gaXgoZSwgdCkgewogICAgcmV0dXJuIGUgPj0gdC5sZWZ0ICYmIGUgPD0gdC5yaWdodDsKICB9LAogICAgICBheCA9IGZ1bmN0aW9uIGF4KGUsIHQpIHsKICAgIHJldHVybiBlID49IHQudG9wICYmIGUgPD0gdC5ib3R0b207CiAgfSwKICAgICAgdXggPSBmdW5jdGlvbiB1eChlLCBvKSB7CiAgICByZXR1cm4gU2UoZSwgZnVuY3Rpb24gKGUsIHQpIHsKICAgICAgdmFyIG4gPSBNYXRoLm1pbihyeChlLCBvKSwgb3goZSwgbykpLAogICAgICAgICAgciA9IE1hdGgubWluKHJ4KHQsIG8pLCBveCh0LCBvKSk7CiAgICAgIHJldHVybiBpeChvLCB0KSB8fCAhaXgobywgZSkgJiYgKHIgPT09IG4gJiYgdHgodC5ub2RlKSB8fCByIDwgbikgPyB0IDogZTsKICAgIH0pOwogIH0sCiAgICAgIHN4ID0gZnVuY3Rpb24gc3goZSwgdCwgbiwgciwgbykgewogICAgdmFyIGkgPSBueChyLCBlLCBNbywgdCwgIW8pOwoKICAgIGRvIHsKICAgICAgaWYgKCFpIHx8IG4oaSkpIHJldHVybjsKICAgIH0gd2hpbGUgKGkgPSBueChpLCBlLCBNbywgdCkpOwogIH0sCiAgICAgIGN4ID0gZnVuY3Rpb24gY3goZSwgdCwgbikgewogICAgdmFyIHIsCiAgICAgICAgbywKICAgICAgICBpID0gWXcoSChvZShlLmdldEVsZW1lbnRzQnlUYWdOYW1lKCIqIikpLCBLYykpLAogICAgICAgIGEgPSBIKGksIE4oYXgsIG4pKTsKCiAgICBpZiAodSA9IHV4KGEsIHQpKSB7CiAgICAgIHZhciB1LAogICAgICAgICAgcyA9ICFCbih1Lm5vZGUpICYmICEkbih1Lm5vZGUpOwogICAgICBpZiAoKHUgPSB1eChmdW5jdGlvbiAoZSwgciwgdCkgewogICAgICAgIHZvaWQgMCA9PT0gdCAmJiAodCA9ICEwKTsKCiAgICAgICAgdmFyIG8gPSBbXSwKICAgICAgICAgICAgbiA9IGZ1bmN0aW9uIG4odCwgZSkgewogICAgICAgICAgdmFyIG4gPSBIKFl3KFtlXSksIGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICAgIHJldHVybiAhdChlLCByKTsKICAgICAgICAgIH0pOwogICAgICAgICAgcmV0dXJuIG8gPSBvLmNvbmNhdChuKSwgMCA9PT0gbi5sZW5ndGg7CiAgICAgICAgfTsKCiAgICAgICAgcmV0dXJuIG8ucHVzaChyKSwgc3goTXcuVXAsIGUsIE4obiwgdnMpLCByLm5vZGUsIHQpLCBzeChNdy5Eb3duLCBlLCBOKG4sIHlzKSwgci5ub2RlLCB0KSwgbzsKICAgICAgfShlLCB1LCBzKSwgdCkpICYmIEtjKHUubm9kZSkpIHJldHVybiBvID0gdCwgewogICAgICAgIG5vZGU6IChyID0gdSkubm9kZSwKICAgICAgICBiZWZvcmU6IHJ4KHIsIG8pIDwgb3gociwgbykKICAgICAgfTsKICAgIH0KCiAgICByZXR1cm4gbnVsbDsKICB9LAogICAgICBseCA9IGZ1bmN0aW9uIGx4KGUsIHQpIHsKICAgIGUuc2VsZWN0aW9uLnNldFJuZyh0KSwgWGQoZSwgZS5zZWxlY3Rpb24uZ2V0Um5nKCkpOwogIH0sCiAgICAgIGZ4ID0gZnVuY3Rpb24gZngoZSwgdCwgbikgewogICAgcmV0dXJuIFUuc29tZShmQyhlLCB0LCBuKSk7CiAgfSwKICAgICAgZHggPSBmdW5jdGlvbiBkeChlLCB0LCBuLCByLCBvLCBpKSB7CiAgICB2YXIgYSA9IHQgPT09IFZzLkZvcndhcmRzLAogICAgICAgIHUgPSBfbChlLmdldEJvZHkoKSksCiAgICAgICAgcyA9IE4ocGwsIGEgPyB1Lm5leHQgOiB1LnByZXYpLAogICAgICAgIGMgPSBhID8gciA6IG87CgogICAgaWYgKCFuLmNvbGxhcHNlZCkgewogICAgICB2YXIgbCA9IENzKG4pOwogICAgICBpZiAoaShsKSkgcmV0dXJuIHNDKHQsIGUsIGwsIHQgPT09IFZzLkJhY2t3YXJkcywgITEpOwogICAgfQoKICAgIHZhciBmID0gZGwodCwgZS5nZXRCb2R5KCksIG4pOwogICAgaWYgKGMoZikpIHJldHVybiBjQyhlLCBmLmdldE5vZGUoIWEpKTsKICAgIHZhciBkID0gVWIoYSwgcyhmKSksCiAgICAgICAgbSA9IHZvKG4uc3RhcnRDb250YWluZXIpOwogICAgaWYgKCFkKSByZXR1cm4gbSA/IFUuc29tZShuKSA6IFUubm9uZSgpOwogICAgaWYgKGMoZCkpIHJldHVybiBzQyh0LCBlLCBkLmdldE5vZGUoIWEpLCBhLCAhMSk7CiAgICB2YXIgcCA9IHMoZCk7CiAgICByZXR1cm4gcCAmJiBjKHApICYmIGdsKGQsIHApID8gc0ModCwgZSwgcC5nZXROb2RlKCFhKSwgYSwgITEpIDogbSA/IGZ4KGUsIGQudG9SYW5nZSgpLCAhMSkgOiBVLm5vbmUoKTsKICB9LAogICAgICBteCA9IGZ1bmN0aW9uIG14KHQsIGUsIG4sIHIsIG8sIGkpIHsKICAgIHZhciBhID0gZGwoZSwgdC5nZXRCb2R5KCksIG4pLAogICAgICAgIHUgPSBFZShhLmdldENsaWVudFJlY3RzKCkpLAogICAgICAgIHMgPSBlID09PSBNdy5Eb3duOwogICAgaWYgKCF1KSByZXR1cm4gVS5ub25lKCk7CiAgICB2YXIgYywKICAgICAgICBsID0gKHMgPyBRdyA6IEp3KSh0LmdldEJvZHkoKSwgWncoMSksIGEpLAogICAgICAgIGYgPSBIKGwsIGV4KDEpKSwKICAgICAgICBkID0gdS5sZWZ0LAogICAgICAgIG0gPSB1eChmLCBkKTsKCiAgICBpZiAobSAmJiBpKG0ubm9kZSkpIHsKICAgICAgdmFyIHAgPSBNYXRoLmFicyhkIC0gbS5sZWZ0KSwKICAgICAgICAgIGcgPSBNYXRoLmFicyhkIC0gbS5yaWdodCk7CiAgICAgIHJldHVybiBzQyhlLCB0LCBtLm5vZGUsIHAgPCBnLCAhMSk7CiAgICB9CgogICAgaWYgKGMgPSByKGEpID8gYS5nZXROb2RlKCkgOiBvKGEpID8gYS5nZXROb2RlKCEwKSA6IENzKG4pKSB7CiAgICAgIHZhciBoID0gZnVuY3Rpb24gKGUsIHQsIG4sIHIpIHsKICAgICAgICB2YXIgbywKICAgICAgICAgICAgaSwKICAgICAgICAgICAgYSwKICAgICAgICAgICAgdSwKICAgICAgICAgICAgcyA9IF9sKHQpLAogICAgICAgICAgICBjID0gW10sCiAgICAgICAgICAgIGwgPSAwLAogICAgICAgICAgICBmID0gZnVuY3Rpb24gZihlKSB7CiAgICAgICAgICByZXR1cm4gRWUoZS5nZXRDbGllbnRSZWN0cygpKTsKICAgICAgICB9LAogICAgICAgICAgICBkID0gMSA9PT0gZSA/IChvID0gcy5uZXh0LCBpID0geXMsIGEgPSB2cywgJHMuYWZ0ZXIocikpIDogKG8gPSBzLnByZXYsIGkgPSB2cywgYSA9IHlzLCAkcy5iZWZvcmUocikpLAogICAgICAgICAgICBtID0gZihkKTsKCiAgICAgICAgZG8gewogICAgICAgICAgaWYgKGQuaXNWaXNpYmxlKCkgJiYgIWEodSA9IGYoZCksIG0pKSB7CiAgICAgICAgICAgIGlmICgwIDwgYy5sZW5ndGggJiYgaSh1LCBFZShjKSkgJiYgbCsrLCAodSA9IHBzKHUpKS5wb3NpdGlvbiA9IGQsIHUubGluZSA9IGwsIG4odSkpIHJldHVybiBjOwogICAgICAgICAgICBjLnB1c2godSk7CiAgICAgICAgICB9CiAgICAgICAgfSB3aGlsZSAoZCA9IG8oZCkpOwoKICAgICAgICByZXR1cm4gYzsKICAgICAgfShlLCB0LmdldEJvZHkoKSwgWncoMSksIGMpLAogICAgICAgICAgdiA9IHV4KEgoaCwgZXgoMSkpLCBkKTsKCiAgICAgIGlmICh2KSByZXR1cm4gZngodCwgdi5wb3NpdGlvbi50b1JhbmdlKCksICExKTsKICAgICAgaWYgKHYgPSBFZShIKGgsIGV4KDApKSkpIHJldHVybiBmeCh0LCB2LnBvc2l0aW9uLnRvUmFuZ2UoKSwgITEpOwogICAgfQoKICAgIHJldHVybiAwID09PSBmLmxlbmd0aCA/IHB4KHQsIHMpLmZpbHRlcihzID8gbyA6IHIpLm1hcChmdW5jdGlvbiAoZSkgewogICAgICByZXR1cm4gZkModCwgZS50b1JhbmdlKCksICExKTsKICAgIH0pIDogVS5ub25lKCk7CiAgfSwKICAgICAgcHggPSBmdW5jdGlvbiBweChlLCB0KSB7CiAgICB2YXIgbiA9IGUuc2VsZWN0aW9uLmdldFJuZygpLAogICAgICAgIHIgPSBlLmdldEJvZHkoKTsKCiAgICBpZiAodCkgewogICAgICB2YXIgbyA9ICRzLmZyb21SYW5nZUVuZChuKSwKICAgICAgICAgIGkgPSAkdyhyLCBvKTsKICAgICAgcmV0dXJuIHJlKGkucG9zaXRpb25zKTsKICAgIH0KCiAgICBvID0gJHMuZnJvbVJhbmdlU3RhcnQobiksIGkgPSBxdyhyLCBvKTsKICAgIHJldHVybiBuZShpLnBvc2l0aW9ucyk7CiAgfSwKICAgICAgZ3ggPSBmdW5jdGlvbiBneCh0LCBlLCBuKSB7CiAgICByZXR1cm4gcHgodCwgZSkuZmlsdGVyKG4pLmV4aXN0cyhmdW5jdGlvbiAoZSkgewogICAgICByZXR1cm4gdC5zZWxlY3Rpb24uc2V0Um5nKGUudG9SYW5nZSgpKSwgITA7CiAgICB9KTsKICB9LAogICAgICBoeCA9IFZuLAogICAgICB2eCA9IGZ1bmN0aW9uIHZ4KGUsIHQsIG4pIHsKICAgIHZhciByLAogICAgICAgIG8sCiAgICAgICAgaSA9IF9sKGUuZ2V0Qm9keSgpKSwKICAgICAgICBhID0gTihwbCwgMSA9PT0gdCA/IGkubmV4dCA6IGkucHJldik7CgogICAgaWYgKG4uY29sbGFwc2VkICYmICIiICE9PSB2YyhlKSkgewogICAgICB2YXIgdSwKICAgICAgICAgIHMgPSBlLmRvbS5nZXRQYXJlbnQobi5zdGFydENvbnRhaW5lciwgIlBSRSIpOwogICAgICBpZiAoIXMpIHJldHVybjsKICAgICAgYSgkcy5mcm9tUmFuZ2VTdGFydChuKSkgfHwgKG8gPSAociA9IGUpLmRvbS5jcmVhdGUodmMocikpLCAoIXd0LmllIHx8IDExIDw9IHd0LmllKSAmJiAoby5pbm5lckhUTUwgPSAnPGJyIGRhdGEtbWNlLWJvZ3VzPSIxIj4nKSwgdSA9IG8sIDEgPT09IHQgPyBlLiQocykuYWZ0ZXIodSkgOiBlLiQocykuYmVmb3JlKHUpLCBlLnNlbGVjdGlvbi5zZWxlY3QodSwgITApLCBlLnNlbGVjdGlvbi5jb2xsYXBzZSgpKTsKICAgIH0KICB9LAogICAgICB5eCA9IGZ1bmN0aW9uIHl4KGUsIHQpIHsKICAgIHZhciBuID0gdCA/IFZzLkZvcndhcmRzIDogVnMuQmFja3dhcmRzLAogICAgICAgIHIgPSBlLnNlbGVjdGlvbi5nZXRSbmcoKTsKICAgIHJldHVybiBkeChlLCBuLCByLCBOcCwgRXAsIGh4KS5vclRodW5rKGZ1bmN0aW9uICgpIHsKICAgICAgcmV0dXJuIHZ4KGUsIG4sIHIpLCBVLm5vbmUoKTsKICAgIH0pOwogIH0sCiAgICAgIGJ4ID0gZnVuY3Rpb24gYngoZSwgdCkgewogICAgdmFyIG4gPSB0ID8gMSA6IC0xLAogICAgICAgIHIgPSBlLnNlbGVjdGlvbi5nZXRSbmcoKTsKICAgIHJldHVybiBteChlLCBuLCByLCBmdW5jdGlvbiAoZSkgewogICAgICByZXR1cm4gTnAoZSkgfHwgeHAoZSk7CiAgICB9LCBmdW5jdGlvbiAoZSkgewogICAgICByZXR1cm4gRXAoZSkgfHwgU3AoZSk7CiAgICB9LCBoeCkub3JUaHVuayhmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiB2eChlLCBuLCByKSwgVS5ub25lKCk7CiAgICB9KTsKICB9LAogICAgICBDeCA9IGZ1bmN0aW9uIEN4KHQsIGUpIHsKICAgIHJldHVybiB5eCh0LCBlKS5leGlzdHMoZnVuY3Rpb24gKGUpIHsKICAgICAgcmV0dXJuIGx4KHQsIGUpLCAhMDsKICAgIH0pOwogIH0sCiAgICAgIHd4ID0gZnVuY3Rpb24gd3godCwgZSkgewogICAgcmV0dXJuIGJ4KHQsIGUpLmV4aXN0cyhmdW5jdGlvbiAoZSkgewogICAgICByZXR1cm4gbHgodCwgZSksICEwOwogICAgfSk7CiAgfSwKICAgICAgeHggPSBmdW5jdGlvbiB4eChlLCB0KSB7CiAgICByZXR1cm4gZ3goZSwgdCwgdCA/IEVwIDogTnApOwogIH0sCiAgICAgIFN4ID0gZnVuY3Rpb24gU3goZSkgewogICAgcmV0dXJuIE0oWyJmaWdjYXB0aW9uIl0sIEx0KGUpKTsKICB9LAogICAgICBOeCA9IGZ1bmN0aW9uIE54KGUpIHsKICAgIHZhciB0ID0gZG9jdW1lbnQuY3JlYXRlUmFuZ2UoKTsKICAgIHJldHVybiB0LnNldFN0YXJ0QmVmb3JlKGUuZG9tKSwgdC5zZXRFbmRCZWZvcmUoZS5kb20pLCB0OwogIH0sCiAgICAgIEV4ID0gZnVuY3Rpb24gRXgoZSwgdCwgbikgewogICAgKG4gPyBmbiA6IGxuKShlLCB0KTsKICB9LAogICAgICBreCA9IGZ1bmN0aW9uIGt4KGUsIHQsIG4sIHIpIHsKICAgIHJldHVybiAiIiA9PT0gdCA/IChsID0gZSwgZiA9IHIsIGQgPSBBdC5mcm9tVGFnKCJiciIpLCBFeChsLCBkLCBmKSwgTngoZCkpIDogKG8gPSBlLCBpID0gciwgYSA9IHQsIHUgPSBuLCBzID0gQXQuZnJvbVRhZyhhKSwgYyA9IEF0LmZyb21UYWcoImJyIiksIFluKHMsIHUpLCBmbihzLCBjKSwgRXgobywgcywgaSksIE54KGMpKTsKICAgIHZhciBvLCBpLCBhLCB1LCBzLCBjLCBsLCBmLCBkOwogIH0sCiAgICAgIF94ID0gZnVuY3Rpb24gX3goZSwgdCwgbikgewogICAgcmV0dXJuIHQgPyAobyA9IGUuZG9tLCAkdyhvLCBuKS5icmVha0F0LmlzTm9uZSgpKSA6IChyID0gZS5kb20sIHF3KHIsIG4pLmJyZWFrQXQuaXNOb25lKCkpOwogICAgdmFyIHIsIG87CiAgfSwKICAgICAgQXggPSBmdW5jdGlvbiBBeCh0LCBuKSB7CiAgICB2YXIgZSwKICAgICAgICByLAogICAgICAgIG8gPSBBdC5mcm9tRG9tKHQuZ2V0Qm9keSgpKSwKICAgICAgICBpID0gJHMuZnJvbVJhbmdlU3RhcnQodC5zZWxlY3Rpb24uZ2V0Um5nKCkpLAogICAgICAgIGEgPSB2Yyh0KSwKICAgICAgICB1ID0geWModCk7CiAgICByZXR1cm4gZSA9IGksIHIgPSBOKE90LCBvKSwgQXIoQXQuZnJvbURvbShlLmNvbnRhaW5lcigpKSwgZW8sIHIpLmZpbHRlcihTeCkuZXhpc3RzKGZ1bmN0aW9uICgpIHsKICAgICAgaWYgKF94KG8sIG4sIGkpKSB7CiAgICAgICAgdmFyIGUgPSBreChvLCBhLCB1LCBuKTsKICAgICAgICByZXR1cm4gdC5zZWxlY3Rpb24uc2V0Um5nKGUpLCAhMDsKICAgICAgfQoKICAgICAgcmV0dXJuICExOwogICAgfSk7CiAgfSwKICAgICAgUnggPSBmdW5jdGlvbiBSeChlLCB0KSB7CiAgICByZXR1cm4gISFlLnNlbGVjdGlvbi5pc0NvbGxhcHNlZCgpICYmIEF4KGUsIHQpOwogIH0sCiAgICAgIFR4ID0gZnVuY3Rpb24gVHgoZSwgcikgewogICAgcmV0dXJuIEooeihlLCBmdW5jdGlvbiAoZSkgewogICAgICByZXR1cm4gX2tlKHsKICAgICAgICBzaGlmdEtleTogITEsCiAgICAgICAgYWx0S2V5OiAhMSwKICAgICAgICBjdHJsS2V5OiAhMSwKICAgICAgICBtZXRhS2V5OiAhMSwKICAgICAgICBrZXlDb2RlOiAwLAogICAgICAgIGFjdGlvbjogVgogICAgICB9LCBlKTsKICAgIH0pLCBmdW5jdGlvbiAoZSkgewogICAgICByZXR1cm4gdCA9IGUsIChuID0gcikua2V5Q29kZSA9PT0gdC5rZXlDb2RlICYmIG4uc2hpZnRLZXkgPT09IHQuc2hpZnRLZXkgJiYgbi5hbHRLZXkgPT09IHQuYWx0S2V5ICYmIG4uY3RybEtleSA9PT0gdC5jdHJsS2V5ICYmIG4ubWV0YUtleSA9PT0gdC5tZXRhS2V5ID8gW2VdIDogW107CiAgICAgIHZhciB0LCBuOwogICAgfSk7CiAgfSwKICAgICAgRHggPSBmdW5jdGlvbiBEeChlKSB7CiAgICBmb3IgKHZhciB0ID0gW10sIG4gPSAxOyBuIDwgYXJndW1lbnRzLmxlbmd0aDsgbisrKSB7CiAgICAgIHRbbiAtIDFdID0gYXJndW1lbnRzW25dOwogICAgfQoKICAgIHJldHVybiBmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiBlLmFwcGx5KG51bGwsIHQpOwogICAgfTsKICB9LAogICAgICBPeCA9IGZ1bmN0aW9uIE94KGUsIHQpIHsKICAgIHJldHVybiBZKFR4KGUsIHQpLCBmdW5jdGlvbiAoZSkgewogICAgICByZXR1cm4gZS5hY3Rpb24oKTsKICAgIH0pOwogIH0sCiAgICAgIEJ4ID0gZnVuY3Rpb24gQngodCwgZSkgewogICAgdmFyIG4gPSBlID8gVnMuRm9yd2FyZHMgOiBWcy5CYWNrd2FyZHMsCiAgICAgICAgciA9IHQuc2VsZWN0aW9uLmdldFJuZygpOwogICAgcmV0dXJuIGR4KHQsIG4sIHIsIENwLCB3cCwgJG4pLmV4aXN0cyhmdW5jdGlvbiAoZSkgewogICAgICByZXR1cm4gbHgodCwgZSksICEwOwogICAgfSk7CiAgfSwKICAgICAgUHggPSBmdW5jdGlvbiBQeCh0LCBlKSB7CiAgICB2YXIgbiA9IGUgPyAxIDogLTEsCiAgICAgICAgciA9IHQuc2VsZWN0aW9uLmdldFJuZygpOwogICAgcmV0dXJuIG14KHQsIG4sIHIsIENwLCB3cCwgJG4pLmV4aXN0cyhmdW5jdGlvbiAoZSkgewogICAgICByZXR1cm4gbHgodCwgZSksICEwOwogICAgfSk7CiAgfSwKICAgICAgTHggPSBmdW5jdGlvbiBMeChlLCB0KSB7CiAgICByZXR1cm4gZ3goZSwgdCwgdCA/IHdwIDogQ3ApOwogIH0sCiAgICAgIEl4ID0gZnVuY3Rpb24gSXgobywgZSkgewogICAgcmV0dXJuIEooZSwgZnVuY3Rpb24gKGUpIHsKICAgICAgdmFyIHQsCiAgICAgICAgICBuLAogICAgICAgICAgciA9ICh0ID0gcHMoZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSksIG4gPSAtMSwgewogICAgICAgIGxlZnQ6IHQubGVmdCAtIG4sCiAgICAgICAgdG9wOiB0LnRvcCAtIG4sCiAgICAgICAgcmlnaHQ6IHQucmlnaHQgKyAyICogbiwKICAgICAgICBib3R0b206IHQuYm90dG9tICsgMiAqIG4sCiAgICAgICAgd2lkdGg6IHQud2lkdGggKyBuLAogICAgICAgIGhlaWdodDogdC5oZWlnaHQgKyBuCiAgICAgIH0pOwogICAgICByZXR1cm4gW3sKICAgICAgICB4OiByLmxlZnQsCiAgICAgICAgeTogbyhyKSwKICAgICAgICBjZWxsOiBlCiAgICAgIH0sIHsKICAgICAgICB4OiByLnJpZ2h0LAogICAgICAgIHk6IG8ociksCiAgICAgICAgY2VsbDogZQogICAgICB9XTsKICAgIH0pOwogIH0sCiAgICAgIE14ID0gZnVuY3Rpb24gTXgoZSwgdCwgbiwgciwgbykgewogICAgdmFyIGksCiAgICAgICAgYSwKICAgICAgICB1ID0gR3UoQXQuZnJvbURvbShuKSwgInRkLHRoLGNhcHRpb24iKS5tYXAoZnVuY3Rpb24gKGUpIHsKICAgICAgcmV0dXJuIGUuZG9tOwogICAgfSksCiAgICAgICAgcyA9IEgoSXgoZSwgdSksIGZ1bmN0aW9uIChlKSB7CiAgICAgIHJldHVybiB0KGUsIG8pOwogICAgfSk7CiAgICByZXR1cm4gaSA9IHIsIGEgPSBvLCBYKHMsIGZ1bmN0aW9uIChlLCByKSB7CiAgICAgIHJldHVybiBlLmZvbGQoZnVuY3Rpb24gKCkgewogICAgICAgIHJldHVybiBVLnNvbWUocik7CiAgICAgIH0sIGZ1bmN0aW9uIChlKSB7CiAgICAgICAgdmFyIHQgPSBNYXRoLnNxcnQoTWF0aC5hYnMoZS54IC0gaSkgKyBNYXRoLmFicyhlLnkgLSBhKSksCiAgICAgICAgICAgIG4gPSBNYXRoLnNxcnQoTWF0aC5hYnMoci54IC0gaSkgKyBNYXRoLmFicyhyLnkgLSBhKSk7CiAgICAgICAgcmV0dXJuIFUuc29tZShuIDwgdCA/IHIgOiBlKTsKICAgICAgfSk7CiAgICB9LCBVLm5vbmUoKSkubWFwKGZ1bmN0aW9uIChlKSB7CiAgICAgIHJldHVybiBlLmNlbGw7CiAgICB9KTsKICB9LAogICAgICBGeCA9IE4oTXgsIGZ1bmN0aW9uIChlKSB7CiAgICByZXR1cm4gZS5ib3R0b207CiAgfSwgZnVuY3Rpb24gKGUsIHQpIHsKICAgIHJldHVybiBlLnkgPCB0OwogIH0pLAogICAgICBVeCA9IE4oTXgsIGZ1bmN0aW9uIChlKSB7CiAgICByZXR1cm4gZS50b3A7CiAgfSwgZnVuY3Rpb24gKGUsIHQpIHsKICAgIHJldHVybiBlLnkgPiB0OwogIH0pLAogICAgICB6eCA9IGZ1bmN0aW9uIHp4KHQsIG4pIHsKICAgIHJldHVybiBuZShuLmdldENsaWVudFJlY3RzKCkpLmJpbmQoZnVuY3Rpb24gKGUpIHsKICAgICAgcmV0dXJuIEZ4KHQsIGUubGVmdCwgZS50b3ApOwogICAgfSkuYmluZChmdW5jdGlvbiAoZSkgewogICAgICByZXR1cm4gVncoVWwodCA9IGUpLm1hcChmdW5jdGlvbiAoZSkgewogICAgICAgIHJldHVybiBxdyh0LCBlKS5wb3NpdGlvbnMuY29uY2F0KGUpOwogICAgICB9KS5nZXRPcihbXSksIG4pOwogICAgICB2YXIgdDsKICAgIH0pOwogIH0sCiAgICAgIGp4ID0gZnVuY3Rpb24gangodCwgbikgewogICAgcmV0dXJuIHJlKG4uZ2V0Q2xpZW50UmVjdHMoKSkuYmluZChmdW5jdGlvbiAoZSkgewogICAgICByZXR1cm4gVXgodCwgZS5sZWZ0LCBlLnRvcCk7CiAgICB9KS5iaW5kKGZ1bmN0aW9uIChlKSB7CiAgICAgIHJldHVybiBWdyhGbCh0ID0gZSkubWFwKGZ1bmN0aW9uIChlKSB7CiAgICAgICAgcmV0dXJuIFtlXS5jb25jYXQoJHcodCwgZSkucG9zaXRpb25zKTsKICAgICAgfSkuZ2V0T3IoW10pLCBuKTsKICAgICAgdmFyIHQ7CiAgICB9KTsKICB9LAogICAgICBIeCA9IGZ1bmN0aW9uIEh4KGUsIHQsIG4pIHsKICAgIHZhciByLAogICAgICAgIG8sCiAgICAgICAgaSwKICAgICAgICBhLAogICAgICAgIHUgPSBlKHQsIG4pOwogICAgcmV0dXJuIChhID0gdSkuYnJlYWtUeXBlID09PSBDYi5XcmFwICYmIDAgPT09IGEucG9zaXRpb25zLmxlbmd0aCB8fCAhem4obi5nZXROb2RlKCkpICYmIChpID0gdSkuYnJlYWtUeXBlID09PSBDYi5CciAmJiAxID09PSBpLnBvc2l0aW9ucy5sZW5ndGggPyAociA9IGUsIG8gPSB0LCAhdS5icmVha0F0LmV4aXN0cyhmdW5jdGlvbiAoZSkgewogICAgICByZXR1cm4gcihvLCBlKS5icmVha0F0LmlzU29tZSgpOwogICAgfSkpIDogdS5icmVha0F0LmlzTm9uZSgpOwogIH0sCiAgICAgIFZ4ID0gTihIeCwgcXcpLAogICAgICBxeCA9IE4oSHgsICR3KSwKICAgICAgJHggPSBmdW5jdGlvbiAkeCh0LCBlLCBuLCByKSB7CiAgICB2YXIgbywKICAgICAgICBpLAogICAgICAgIGEsCiAgICAgICAgdSwKICAgICAgICBzID0gdC5zZWxlY3Rpb24uZ2V0Um5nKCksCiAgICAgICAgYyA9IGUgPyAxIDogLTE7CiAgICByZXR1cm4gISghJGMoKSB8fCAobyA9IGUsIGkgPSBzLCBhID0gbiwgdSA9ICRzLmZyb21SYW5nZVN0YXJ0KGkpLCAhTGwoIW8sIGEpLmV4aXN0cyhmdW5jdGlvbiAoZSkgewogICAgICByZXR1cm4gZS5pc0VxdWFsKHUpOwogICAgfSkpKSAmJiAoc0MoYywgdCwgbiwgIWUsICExKS5lYWNoKGZ1bmN0aW9uIChlKSB7CiAgICAgIGx4KHQsIGUpOwogICAgfSksICEwKTsKICB9LAogICAgICBXeCA9IGZ1bmN0aW9uIFd4KGUsIHQpIHsKICAgIHZhciBuID0gdC5nZXROb2RlKGUpOwogICAgcmV0dXJuIEFuKG4pICYmICJUQUJMRSIgPT09IG4ubm9kZU5hbWUgPyBVLnNvbWUobikgOiBVLm5vbmUoKTsKICB9LAogICAgICBLeCA9IGZ1bmN0aW9uIEt4KHUsIHMsIGMpIHsKICAgIHZhciBlID0gV3goISFzLCBjKSwKICAgICAgICB0ID0gITEgPT09IHM7CiAgICBlLmZvbGQoZnVuY3Rpb24gKCkgewogICAgICByZXR1cm4gbHgodSwgYy50b1JhbmdlKCkpOwogICAgfSwgZnVuY3Rpb24gKGEpIHsKICAgICAgcmV0dXJuIExsKHQsIHUuZ2V0Qm9keSgpKS5maWx0ZXIoZnVuY3Rpb24gKGUpIHsKICAgICAgICByZXR1cm4gZS5pc0VxdWFsKGMpOwogICAgICB9KS5mb2xkKGZ1bmN0aW9uICgpIHsKICAgICAgICByZXR1cm4gbHgodSwgYy50b1JhbmdlKCkpOwogICAgICB9LCBmdW5jdGlvbiAoZSkgewogICAgICAgIHJldHVybiBuID0gcywgbyA9IGEsIHQgPSBjLCB2b2lkICgoaSA9IHZjKHIgPSB1KSkgPyByLnVuZG9NYW5hZ2VyLnRyYW5zYWN0KGZ1bmN0aW9uICgpIHsKICAgICAgICAgIHZhciBlID0gQXQuZnJvbVRhZyhpKTsKICAgICAgICAgIFluKGUsIHljKHIpKSwgZm4oZSwgQXQuZnJvbVRhZygiYnIiKSksIChuID8gY24gOiBzbikoQXQuZnJvbURvbShvKSwgZSk7CiAgICAgICAgICB2YXIgdCA9IHIuZG9tLmNyZWF0ZVJuZygpOwogICAgICAgICAgdC5zZXRTdGFydChlLmRvbSwgMCksIHQuc2V0RW5kKGUuZG9tLCAwKSwgbHgociwgdCk7CiAgICAgICAgfSkgOiBseChyLCB0LnRvUmFuZ2UoKSkpOwogICAgICAgIHZhciBuLCByLCBvLCB0LCBpOwogICAgICB9KTsKICAgIH0pOwogIH0sCiAgICAgIFh4ID0gZnVuY3Rpb24gWHgoZSwgdCwgbiwgcikgewogICAgdmFyIG8sCiAgICAgICAgaSwKICAgICAgICBhLAogICAgICAgIHUsCiAgICAgICAgcywKICAgICAgICBjLAogICAgICAgIGwgPSBlLnNlbGVjdGlvbi5nZXRSbmcoKSwKICAgICAgICBmID0gJHMuZnJvbVJhbmdlU3RhcnQobCksCiAgICAgICAgZCA9IGUuZ2V0Qm9keSgpOwoKICAgIGlmICghdCAmJiBWeChyLCBmKSkgewogICAgICB2YXIgbSA9ICh1ID0gZCwgengocyA9IG4sIGMgPSBmKS5vclRodW5rKGZ1bmN0aW9uICgpIHsKICAgICAgICByZXR1cm4gbmUoYy5nZXRDbGllbnRSZWN0cygpKS5iaW5kKGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICByZXR1cm4gSHcoV3codSwgJHMuYmVmb3JlKHMpKSwgZS5sZWZ0KTsKICAgICAgICB9KTsKICAgICAgfSkuZ2V0T3IoJHMuYmVmb3JlKHMpKSk7CiAgICAgIHJldHVybiBLeChlLCB0LCBtKSwgITA7CiAgICB9CgogICAgaWYgKHQgJiYgcXgociwgZikpIHsKICAgICAgbSA9IChvID0gZCwgangoaSA9IG4sIGEgPSBmKS5vclRodW5rKGZ1bmN0aW9uICgpIHsKICAgICAgICByZXR1cm4gbmUoYS5nZXRDbGllbnRSZWN0cygpKS5iaW5kKGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICByZXR1cm4gSHcoS3cobywgJHMuYWZ0ZXIoaSkpLCBlLmxlZnQpOwogICAgICAgIH0pOwogICAgICB9KS5nZXRPcigkcy5hZnRlcihpKSkpOwogICAgICByZXR1cm4gS3goZSwgdCwgbSksICEwOwogICAgfQoKICAgIHJldHVybiAhMTsKICB9LAogICAgICBZeCA9IGZ1bmN0aW9uIFl4KG4sIHIsIG8pIHsKICAgIHJldHVybiBVLmZyb20obi5kb20uZ2V0UGFyZW50KG4uc2VsZWN0aW9uLmdldE5vZGUoKSwgInRkLHRoIikpLmJpbmQoZnVuY3Rpb24gKHQpIHsKICAgICAgcmV0dXJuIFUuZnJvbShuLmRvbS5nZXRQYXJlbnQodCwgInRhYmxlIikpLm1hcChmdW5jdGlvbiAoZSkgewogICAgICAgIHJldHVybiBvKG4sIHIsIGUsIHQpOwogICAgICB9KTsKICAgIH0pLmdldE9yKCExKTsKICB9LAogICAgICBHeCA9IGZ1bmN0aW9uIEd4KGUsIHQpIHsKICAgIHJldHVybiBZeChlLCB0LCAkeCk7CiAgfSwKICAgICAgSnggPSBmdW5jdGlvbiBKeChlLCB0KSB7CiAgICByZXR1cm4gWXgoZSwgdCwgWHgpOwogIH0sCiAgICAgIFF4ID0gZnVuY3Rpb24gUXgoaSwgYSkgewogICAgaS5vbigia2V5ZG93biIsIGZ1bmN0aW9uIChlKSB7CiAgICAgIHZhciB0LCBuLCByLCBvOwogICAgICAhMSA9PT0gZS5pc0RlZmF1bHRQcmV2ZW50ZWQoKSAmJiAodCA9IGksIG4gPSBhLCByID0gZSwgbyA9IGR0KCkub3MsIE94KFt7CiAgICAgICAga2V5Q29kZTogdWQuUklHSFQsCiAgICAgICAgYWN0aW9uOiBEeChDeCwgdCwgITApCiAgICAgIH0sIHsKICAgICAgICBrZXlDb2RlOiB1ZC5MRUZULAogICAgICAgIGFjdGlvbjogRHgoQ3gsIHQsICExKQogICAgICB9LCB7CiAgICAgICAga2V5Q29kZTogdWQuVVAsCiAgICAgICAgYWN0aW9uOiBEeCh3eCwgdCwgITEpCiAgICAgIH0sIHsKICAgICAgICBrZXlDb2RlOiB1ZC5ET1dOLAogICAgICAgIGFjdGlvbjogRHgod3gsIHQsICEwKQogICAgICB9LCB7CiAgICAgICAga2V5Q29kZTogdWQuUklHSFQsCiAgICAgICAgYWN0aW9uOiBEeChHeCwgdCwgITApCiAgICAgIH0sIHsKICAgICAgICBrZXlDb2RlOiB1ZC5MRUZULAogICAgICAgIGFjdGlvbjogRHgoR3gsIHQsICExKQogICAgICB9LCB7CiAgICAgICAga2V5Q29kZTogdWQuVVAsCiAgICAgICAgYWN0aW9uOiBEeChKeCwgdCwgITEpCiAgICAgIH0sIHsKICAgICAgICBrZXlDb2RlOiB1ZC5ET1dOLAogICAgICAgIGFjdGlvbjogRHgoSngsIHQsICEwKQogICAgICB9LCB7CiAgICAgICAga2V5Q29kZTogdWQuUklHSFQsCiAgICAgICAgYWN0aW9uOiBEeChCeCwgdCwgITApCiAgICAgIH0sIHsKICAgICAgICBrZXlDb2RlOiB1ZC5MRUZULAogICAgICAgIGFjdGlvbjogRHgoQngsIHQsICExKQogICAgICB9LCB7CiAgICAgICAga2V5Q29kZTogdWQuVVAsCiAgICAgICAgYWN0aW9uOiBEeChQeCwgdCwgITEpCiAgICAgIH0sIHsKICAgICAgICBrZXlDb2RlOiB1ZC5ET1dOLAogICAgICAgIGFjdGlvbjogRHgoUHgsIHQsICEwKQogICAgICB9LCB7CiAgICAgICAga2V5Q29kZTogdWQuUklHSFQsCiAgICAgICAgYWN0aW9uOiBEeCh1dywgdCwgbiwgITApCiAgICAgIH0sIHsKICAgICAgICBrZXlDb2RlOiB1ZC5MRUZULAogICAgICAgIGFjdGlvbjogRHgodXcsIHQsIG4sICExKQogICAgICB9LCB7CiAgICAgICAga2V5Q29kZTogdWQuUklHSFQsCiAgICAgICAgY3RybEtleTogIW8uaXNPU1goKSwKICAgICAgICBhbHRLZXk6IG8uaXNPU1goKSwKICAgICAgICBhY3Rpb246IER4KGx3LCB0LCBuKQogICAgICB9LCB7CiAgICAgICAga2V5Q29kZTogdWQuTEVGVCwKICAgICAgICBjdHJsS2V5OiAhby5pc09TWCgpLAogICAgICAgIGFsdEtleTogby5pc09TWCgpLAogICAgICAgIGFjdGlvbjogRHgoZncsIHQsIG4pCiAgICAgIH0sIHsKICAgICAgICBrZXlDb2RlOiB1ZC5VUCwKICAgICAgICBhY3Rpb246IER4KFJ4LCB0LCAhMSkKICAgICAgfSwgewogICAgICAgIGtleUNvZGU6IHVkLkRPV04sCiAgICAgICAgYWN0aW9uOiBEeChSeCwgdCwgITApCiAgICAgIH1dLCByKS5lYWNoKGZ1bmN0aW9uIChlKSB7CiAgICAgICAgci5wcmV2ZW50RGVmYXVsdCgpOwogICAgICB9KSk7CiAgICB9KTsKICB9LAogICAgICBaeCA9IGZ1bmN0aW9uIFp4KG8sIGkpIHsKICAgIG8ub24oImtleWRvd24iLCBmdW5jdGlvbiAoZSkgewogICAgICB2YXIgdCwgbiwgcjsKICAgICAgITEgPT09IGUuaXNEZWZhdWx0UHJldmVudGVkKCkgJiYgKHQgPSBvLCBuID0gaSwgciA9IGUsIE94KFt7CiAgICAgICAga2V5Q29kZTogdWQuQkFDS1NQQUNFLAogICAgICAgIGFjdGlvbjogRHgoQXcsIHQsICExKQogICAgICB9LCB7CiAgICAgICAga2V5Q29kZTogdWQuQkFDS1NQQUNFLAogICAgICAgIGFjdGlvbjogRHgoTkMsIHQsICExKQogICAgICB9LCB7CiAgICAgICAga2V5Q29kZTogdWQuREVMRVRFLAogICAgICAgIGFjdGlvbjogRHgoTkMsIHQsICEwKQogICAgICB9LCB7CiAgICAgICAga2V5Q29kZTogdWQuQkFDS1NQQUNFLAogICAgICAgIGFjdGlvbjogRHgoZ0MsIHQsICExKQogICAgICB9LCB7CiAgICAgICAga2V5Q29kZTogdWQuREVMRVRFLAogICAgICAgIGFjdGlvbjogRHgoZ0MsIHQsICEwKQogICAgICB9LCB7CiAgICAgICAga2V5Q29kZTogdWQuQkFDS1NQQUNFLAogICAgICAgIGFjdGlvbjogRHgoZ3csIHQsIG4sICExKQogICAgICB9LCB7CiAgICAgICAga2V5Q29kZTogdWQuREVMRVRFLAogICAgICAgIGFjdGlvbjogRHgoZ3csIHQsIG4sICEwKQogICAgICB9LCB7CiAgICAgICAga2V5Q29kZTogdWQuQkFDS1NQQUNFLAogICAgICAgIGFjdGlvbjogRHgoS2csIHQsICExKQogICAgICB9LCB7CiAgICAgICAga2V5Q29kZTogdWQuREVMRVRFLAogICAgICAgIGFjdGlvbjogRHgoS2csIHQsICEwKQogICAgICB9LCB7CiAgICAgICAga2V5Q29kZTogdWQuQkFDS1NQQUNFLAogICAgICAgIGFjdGlvbjogRHgoRUMsIHQsICExKQogICAgICB9LCB7CiAgICAgICAga2V5Q29kZTogdWQuREVMRVRFLAogICAgICAgIGFjdGlvbjogRHgoRUMsIHQsICEwKQogICAgICB9LCB7CiAgICAgICAga2V5Q29kZTogdWQuQkFDS1NQQUNFLAogICAgICAgIGFjdGlvbjogRHgod3csIHQsICExKQogICAgICB9LCB7CiAgICAgICAga2V5Q29kZTogdWQuREVMRVRFLAogICAgICAgIGFjdGlvbjogRHgod3csIHQsICEwKQogICAgICB9LCB7CiAgICAgICAga2V5Q29kZTogdWQuQkFDS1NQQUNFLAogICAgICAgIGFjdGlvbjogRHgoaUMsIHQsICExKQogICAgICB9LCB7CiAgICAgICAga2V5Q29kZTogdWQuREVMRVRFLAogICAgICAgIGFjdGlvbjogRHgoaUMsIHQsICEwKQogICAgICB9LCB7CiAgICAgICAga2V5Q29kZTogdWQuQkFDS1NQQUNFLAogICAgICAgIGFjdGlvbjogRHgodEMsIHQsICExKQogICAgICB9LCB7CiAgICAgICAga2V5Q29kZTogdWQuREVMRVRFLAogICAgICAgIGFjdGlvbjogRHgodEMsIHQsICEwKQogICAgICB9LCB7CiAgICAgICAga2V5Q29kZTogdWQuQkFDS1NQQUNFLAogICAgICAgIGFjdGlvbjogRHgoYncsIHQsICExKQogICAgICB9LCB7CiAgICAgICAga2V5Q29kZTogdWQuREVMRVRFLAogICAgICAgIGFjdGlvbjogRHgoYncsIHQsICEwKQogICAgICB9XSwgcikuZWFjaChmdW5jdGlvbiAoZSkgewogICAgICAgIHIucHJldmVudERlZmF1bHQoKTsKICAgICAgfSkpOwogICAgfSksIG8ub24oImtleXVwIiwgZnVuY3Rpb24gKGUpIHsKICAgICAgdmFyIHQsIG47CiAgICAgICExID09PSBlLmlzRGVmYXVsdFByZXZlbnRlZCgpICYmICh0ID0gbywgbiA9IGUsIE94KFt7CiAgICAgICAga2V5Q29kZTogdWQuQkFDS1NQQUNFLAogICAgICAgIGFjdGlvbjogRHgoU0MsIHQpCiAgICAgIH0sIHsKICAgICAgICBrZXlDb2RlOiB1ZC5ERUxFVEUsCiAgICAgICAgYWN0aW9uOiBEeChTQywgdCkKICAgICAgfV0sIG4pKTsKICAgIH0pOwogIH0sCiAgICAgIGVTID0gZnVuY3Rpb24gZVMoZSwgdCkgewogICAgdmFyIG4sCiAgICAgICAgciwKICAgICAgICBvID0gdCwKICAgICAgICBpID0gZS5kb20sCiAgICAgICAgYSA9IGUuc2NoZW1hLmdldE1vdmVDYXJldEJlZm9yZU9uRW50ZXJFbGVtZW50cygpOwoKICAgIGlmICh0KSB7CiAgICAgICEvXihMSXxEVHxERCkkLy50ZXN0KHQubm9kZU5hbWUpIHx8IChyID0gZnVuY3Rpb24gKGUpIHsKICAgICAgICBmb3IgKDsgZTspIHsKICAgICAgICAgIGlmICgxID09PSBlLm5vZGVUeXBlIHx8IDMgPT09IGUubm9kZVR5cGUgJiYgZS5kYXRhICYmIC9bXHJcblxzXS8udGVzdChlLmRhdGEpKSByZXR1cm4gZTsKICAgICAgICAgIGUgPSBlLm5leHRTaWJsaW5nOwogICAgICAgIH0KICAgICAgfSh0LmZpcnN0Q2hpbGQpKSAmJiAvXihVTHxPTHxETCkkLy50ZXN0KHIubm9kZU5hbWUpICYmIHQuaW5zZXJ0QmVmb3JlKGkuZG9jLmNyZWF0ZVRleHROb2RlKGxvKSwgdC5maXJzdENoaWxkKTsKICAgICAgdmFyIHUgPSBpLmNyZWF0ZVJuZygpOwoKICAgICAgaWYgKHQubm9ybWFsaXplKCksIHQuaGFzQ2hpbGROb2RlcygpKSB7CiAgICAgICAgZm9yICh2YXIgcyA9IG5ldyBYcih0LCB0KTsgbiA9IHMuY3VycmVudCgpOykgewogICAgICAgICAgaWYgKEluKG4pKSB7CiAgICAgICAgICAgIHUuc2V0U3RhcnQobiwgMCksIHUuc2V0RW5kKG4sIDApOwogICAgICAgICAgICBicmVhazsKICAgICAgICAgIH0KCiAgICAgICAgICBpZiAoYVtuLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCldKSB7CiAgICAgICAgICAgIHUuc2V0U3RhcnRCZWZvcmUobiksIHUuc2V0RW5kQmVmb3JlKG4pOwogICAgICAgICAgICBicmVhazsKICAgICAgICAgIH0KCiAgICAgICAgICBvID0gbiwgbiA9IHMubmV4dCgpOwogICAgICAgIH0KCiAgICAgICAgbiB8fCAodS5zZXRTdGFydChvLCAwKSwgdS5zZXRFbmQobywgMCkpOwogICAgICB9IGVsc2Ugem4odCkgPyB0Lm5leHRTaWJsaW5nICYmIGkuaXNCbG9jayh0Lm5leHRTaWJsaW5nKSA/ICh1LnNldFN0YXJ0QmVmb3JlKHQpLCB1LnNldEVuZEJlZm9yZSh0KSkgOiAodS5zZXRTdGFydEFmdGVyKHQpLCB1LnNldEVuZEFmdGVyKHQpKSA6ICh1LnNldFN0YXJ0KHQsIDApLCB1LnNldEVuZCh0LCAwKSk7CgogICAgICBlLnNlbGVjdGlvbi5zZXRSbmcodSksIFhkKGUsIHUpOwogICAgfQogIH0sCiAgICAgIHRTID0gZnVuY3Rpb24gdFMoZSkgewogICAgcmV0dXJuIFUuZnJvbShlLmRvbS5nZXRQYXJlbnQoZS5zZWxlY3Rpb24uZ2V0U3RhcnQoITApLCBlLmRvbS5pc0Jsb2NrKSk7CiAgfSwKICAgICAgblMgPSBmdW5jdGlvbiBuUyhlLCB0KSB7CiAgICByZXR1cm4gZSAmJiBlLnBhcmVudE5vZGUgJiYgZS5wYXJlbnROb2RlLm5vZGVOYW1lID09PSB0OwogIH0sCiAgICAgIHJTID0gZnVuY3Rpb24gclMoZSkgewogICAgcmV0dXJuIGUgJiYgL14oT0x8VUx8TEkpJC8udGVzdChlLm5vZGVOYW1lKTsKICB9LAogICAgICBvUyA9IGZ1bmN0aW9uIG9TKGUpIHsKICAgIHZhciB0ID0gZS5wYXJlbnROb2RlOwogICAgcmV0dXJuIC9eKExJfERUfEREKSQvLnRlc3QodC5ub2RlTmFtZSkgPyB0IDogZTsKICB9LAogICAgICBpUyA9IGZ1bmN0aW9uIGlTKGUsIHQsIG4pIHsKICAgIGZvciAodmFyIHIgPSBlW24gPyAiZmlyc3RDaGlsZCIgOiAibGFzdENoaWxkIl07IHIgJiYgIUFuKHIpOykgewogICAgICByID0gcltuID8gIm5leHRTaWJsaW5nIiA6ICJwcmV2aW91c1NpYmxpbmciXTsKICAgIH0KCiAgICByZXR1cm4gciA9PT0gdDsKICB9LAogICAgICBhUyA9IGZ1bmN0aW9uIGFTKGUsIHQsIG4sIHIsIG8pIHsKICAgIHZhciBpLAogICAgICAgIGEsCiAgICAgICAgdSwKICAgICAgICBzLAogICAgICAgIGMsCiAgICAgICAgbCwKICAgICAgICBmID0gZS5kb20sCiAgICAgICAgZCA9IGUuc2VsZWN0aW9uLmdldFJuZygpOwogICAgbiAhPT0gZS5nZXRCb2R5KCkgJiYgKHJTKGkgPSBuKSAmJiByUyhpLnBhcmVudE5vZGUpICYmIChvID0gIkxJIiksIGEgPSBvID8gdChvKSA6IGYuY3JlYXRlKCJCUiIpLCBpUyhuLCByLCAhMCkgJiYgaVMobiwgciwgITEpID8gblMobiwgIkxJIikgPyBmLmluc2VydEFmdGVyKGEsIG9TKG4pKSA6IGYucmVwbGFjZShhLCBuKSA6IGlTKG4sIHIsICEwKSA/IG5TKG4sICJMSSIpID8gKGYuaW5zZXJ0QWZ0ZXIoYSwgb1MobikpLCBhLmFwcGVuZENoaWxkKGYuZG9jLmNyZWF0ZVRleHROb2RlKCIgIikpLCBhLmFwcGVuZENoaWxkKG4pKSA6IG4ucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUoYSwgbikgOiBpUyhuLCByLCAhMSkgPyBmLmluc2VydEFmdGVyKGEsIG9TKG4pKSA6IChuID0gb1MobiksICh1ID0gZC5jbG9uZVJhbmdlKCkpLnNldFN0YXJ0QWZ0ZXIociksIHUuc2V0RW5kQWZ0ZXIobiksIHMgPSB1LmV4dHJhY3RDb250ZW50cygpLCAiTEkiID09PSBvICYmIChsID0gIkxJIiwgKGMgPSBzKS5maXJzdENoaWxkICYmIGMuZmlyc3RDaGlsZC5ub2RlTmFtZSA9PT0gbCkgPyAoYSA9IHMuZmlyc3RDaGlsZCwgZi5pbnNlcnRBZnRlcihzLCBuKSkgOiAoZi5pbnNlcnRBZnRlcihzLCBuKSwgZi5pbnNlcnRBZnRlcihhLCBuKSkpLCBmLnJlbW92ZShyKSwgZVMoZSwgYSkpOwogIH0sCiAgICAgIHVTID0gZnVuY3Rpb24gdVMoZSkgewogICAgZS5pbm5lckhUTUwgPSAnPGJyIGRhdGEtbWNlLWJvZ3VzPSIxIj4nOwogIH0sCiAgICAgIHNTID0gZnVuY3Rpb24gc1MoZSwgdCkgewogICAgcmV0dXJuIGUubm9kZU5hbWUgPT09IHQgfHwgZS5wcmV2aW91c1NpYmxpbmcgJiYgZS5wcmV2aW91c1NpYmxpbmcubm9kZU5hbWUgPT09IHQ7CiAgfSwKICAgICAgY1MgPSBmdW5jdGlvbiBjUyhlLCB0KSB7CiAgICByZXR1cm4gdCAmJiBlLmlzQmxvY2sodCkgJiYgIS9eKFREfFRIfENBUFRJT058Rk9STSkkLy50ZXN0KHQubm9kZU5hbWUpICYmICEvXihmaXhlZHxhYnNvbHV0ZSkvaS50ZXN0KHQuc3R5bGUucG9zaXRpb24pICYmICJ0cnVlIiAhPT0gZS5nZXRDb250ZW50RWRpdGFibGUodCk7CiAgfSwKICAgICAgbFMgPSBmdW5jdGlvbiBsUyhlLCB0LCBuKSB7CiAgICByZXR1cm4gITEgPT09IEluKHQpID8gbiA6IGUgPyAxID09PSBuICYmIHQuZGF0YS5jaGFyQXQobiAtIDEpID09PSBmbyA/IDAgOiBuIDogbiA9PT0gdC5kYXRhLmxlbmd0aCAtIDEgJiYgdC5kYXRhLmNoYXJBdChuKSA9PT0gZm8gPyB0LmRhdGEubGVuZ3RoIDogbjsKICB9LAogICAgICBmUyA9IGZ1bmN0aW9uIGZTKGUsIHQpIHsKICAgIGZvciAodmFyIG4sIHIgPSBlLmdldFJvb3QoKSwgbyA9IHQ7IG8gIT09IHIgJiYgImZhbHNlIiAhPT0gZS5nZXRDb250ZW50RWRpdGFibGUobyk7KSB7CiAgICAgICJ0cnVlIiA9PT0gZS5nZXRDb250ZW50RWRpdGFibGUobykgJiYgKG4gPSBvKSwgbyA9IG8ucGFyZW50Tm9kZTsKICAgIH0KCiAgICByZXR1cm4gbyAhPT0gciA/IG4gOiByOwogIH0sCiAgICAgIGRTID0gZnVuY3Rpb24gZFMoZSwgdCkgewogICAgdmFyIG4gPSB2YyhlKTsKICAgIG4gJiYgbi50b0xvd2VyQ2FzZSgpID09PSB0LnRhZ05hbWUudG9Mb3dlckNhc2UoKSAmJiBmdW5jdGlvbiAoZSwgbywgdCkgewogICAgICB2YXIgaSA9IGUuZG9tOwogICAgICBVLmZyb20odC5zdHlsZSkubWFwKGkucGFyc2VTdHlsZSkuZWFjaChmdW5jdGlvbiAoZSkgewogICAgICAgIHZhciB0ID0gcnIoQXQuZnJvbURvbShvKSksCiAgICAgICAgICAgIG4gPSBfa2UoX2tlKHt9LCB0KSwgZSk7CgogICAgICAgIGkuc2V0U3R5bGVzKG8sIG4pOwogICAgICB9KTsKICAgICAgdmFyIG4gPSBVLmZyb20odFsiY2xhc3MiXSkubWFwKGZ1bmN0aW9uIChlKSB7CiAgICAgICAgcmV0dXJuIGUuc3BsaXQoL1xzKy8pOwogICAgICB9KSwKICAgICAgICAgIHIgPSBVLmZyb20oby5jbGFzc05hbWUpLm1hcChmdW5jdGlvbiAoZSkgewogICAgICAgIHJldHVybiBIKGUuc3BsaXQoL1xzKy8pLCBmdW5jdGlvbiAoZSkgewogICAgICAgICAgcmV0dXJuICIiICE9PSBlOwogICAgICAgIH0pOwogICAgICB9KTsKICAgICAgZHMobiwgciwgZnVuY3Rpb24gKHQsIGUpIHsKICAgICAgICB2YXIgbiA9IEgoZSwgZnVuY3Rpb24gKGUpIHsKICAgICAgICAgIHJldHVybiAhTSh0LCBlKTsKICAgICAgICB9KSwKICAgICAgICAgICAgciA9IF9lKHQsIG4pOwoKICAgICAgICBpLnNldEF0dHJpYihvLCAiY2xhc3MiLCByLmpvaW4oIiAiKSk7CiAgICAgIH0pOwogICAgICB2YXIgYSA9IFsic3R5bGUiLCAiY2xhc3MiXSwKICAgICAgICAgIHUgPSBtZSh0LCBmdW5jdGlvbiAoZSwgdCkgewogICAgICAgIHJldHVybiAhTShhLCB0KTsKICAgICAgfSk7CiAgICAgIGkuc2V0QXR0cmlicyhvLCB1KTsKICAgIH0oZSwgdCwgeWMoZSkpOwogIH0sCiAgICAgIG1TID0gZnVuY3Rpb24gbVMoYSwgZSkgewogICAgdmFyIHQsCiAgICAgICAgdSwKICAgICAgICBpLAogICAgICAgIHMsCiAgICAgICAgbiwKICAgICAgICByLAogICAgICAgIG8sCiAgICAgICAgYywKICAgICAgICBsLAogICAgICAgIGYgPSBhLmRvbSwKICAgICAgICBkID0gYS5zY2hlbWEsCiAgICAgICAgbSA9IGQuZ2V0Tm9uRW1wdHlFbGVtZW50cygpLAogICAgICAgIHAgPSBhLnNlbGVjdGlvbi5nZXRSbmcoKSwKICAgICAgICBnID0gZnVuY3Rpb24gZyhlKSB7CiAgICAgIHZhciB0LAogICAgICAgICAgbiA9IHUsCiAgICAgICAgICByID0gZC5nZXRUZXh0SW5saW5lRWxlbWVudHMoKSwKICAgICAgICAgIG8gPSBlIHx8ICJUQUJMRSIgPT09IGMgfHwgIkhSIiA9PT0gYyA/IGYuY3JlYXRlKGUgfHwgTikgOiBzLmNsb25lTm9kZSghMSksCiAgICAgICAgICBpID0gbzsKICAgICAgaWYgKCExID09PSBhLmdldFBhcmFtKCJrZWVwX3N0eWxlcyIsICEwKSkgZi5zZXRBdHRyaWIobywgInN0eWxlIiwgbnVsbCksIGYuc2V0QXR0cmliKG8sICJjbGFzcyIsIG51bGwpO2Vsc2UgZG8gewogICAgICAgIGlmIChyW24ubm9kZU5hbWVdKSB7CiAgICAgICAgICBpZiAoamwobikgfHwgSmwobikpIGNvbnRpbnVlOwogICAgICAgICAgdCA9IG4uY2xvbmVOb2RlKCExKSwgZi5zZXRBdHRyaWIodCwgImlkIiwgIiIpLCBvLmhhc0NoaWxkTm9kZXMoKSA/IHQuYXBwZW5kQ2hpbGQoby5maXJzdENoaWxkKSA6IGkgPSB0LCBvLmFwcGVuZENoaWxkKHQpOwogICAgICAgIH0KICAgICAgfSB3aGlsZSAoKG4gPSBuLnBhcmVudE5vZGUpICYmIG4gIT09IEUpOwogICAgICByZXR1cm4gZFMoYSwgbyksIHVTKGkpLCBvOwogICAgfSwKICAgICAgICBoID0gZnVuY3Rpb24gaChlKSB7CiAgICAgIHZhciB0LAogICAgICAgICAgbiwKICAgICAgICAgIHIgPSBsUyhlLCB1LCBpKTsKICAgICAgaWYgKEluKHUpICYmIChlID8gMCA8IHIgOiByIDwgdS5ub2RlVmFsdWUubGVuZ3RoKSkgcmV0dXJuICExOwogICAgICBpZiAodS5wYXJlbnROb2RlID09PSBzICYmIGwgJiYgIWUpIHJldHVybiAhMDsKICAgICAgaWYgKGUgJiYgQW4odSkgJiYgdSA9PT0gcy5maXJzdENoaWxkKSByZXR1cm4gITA7CiAgICAgIGlmIChzUyh1LCAiVEFCTEUiKSB8fCBzUyh1LCAiSFIiKSkgcmV0dXJuIGwgJiYgIWUgfHwgIWwgJiYgZTsKICAgICAgdmFyIG8gPSBuZXcgWHIodSwgcyk7CgogICAgICBmb3IgKEluKHUpICYmIChlICYmIDAgPT09IHIgPyBvLnByZXYoKSA6IGUgfHwgciAhPT0gdS5ub2RlVmFsdWUubGVuZ3RoIHx8IG8ubmV4dCgpKTsgdCA9IG8uY3VycmVudCgpOykgewogICAgICAgIGlmIChBbih0KSkgewogICAgICAgICAgaWYgKCF0LmdldEF0dHJpYnV0ZSgiZGF0YS1tY2UtYm9ndXMiKSAmJiAobiA9IHQubm9kZU5hbWUudG9Mb3dlckNhc2UoKSwgbVtuXSAmJiAiYnIiICE9PSBuKSkgcmV0dXJuICExOwogICAgICAgIH0gZWxzZSBpZiAoSW4odCkgJiYgIVVvKHQubm9kZVZhbHVlKSkgcmV0dXJuICExOwoKICAgICAgICBlID8gby5wcmV2KCkgOiBvLm5leHQoKTsKICAgICAgfQoKICAgICAgcmV0dXJuICEwOwogICAgfSwKICAgICAgICB2ID0gZnVuY3Rpb24gdigpIHsKICAgICAgbiA9IC9eKEhbMS02XXxQUkV8RklHVVJFKSQvLnRlc3QoYykgJiYgIkhHUk9VUCIgIT09IEMgPyBnKE4pIDogZygpLCBhLmdldFBhcmFtKCJlbmRfY29udGFpbmVyX29uX2VtcHR5X2Jsb2NrIiwgITEpICYmIGNTKGYsIG8pICYmIGYuaXNFbXB0eShzKSA/IG4gPSBmLnNwbGl0KG8sIHMpIDogZi5pbnNlcnRBZnRlcihuLCBzKSwgZVMoYSwgbik7CiAgICB9OwoKICAgIHlkKGYsIHApLmVhY2goZnVuY3Rpb24gKGUpIHsKICAgICAgcC5zZXRTdGFydChlLnN0YXJ0Q29udGFpbmVyLCBlLnN0YXJ0T2Zmc2V0KSwgcC5zZXRFbmQoZS5lbmRDb250YWluZXIsIGUuZW5kT2Zmc2V0KTsKICAgIH0pLCB1ID0gcC5zdGFydENvbnRhaW5lciwgaSA9IHAuc3RhcnRPZmZzZXQsIE4gPSB2YyhhKTsKICAgIHZhciB5ID0gISghZSB8fCAhZS5zaGlmdEtleSksCiAgICAgICAgYiA9ICEoIWUgfHwgIWUuY3RybEtleSk7CiAgICBBbih1KSAmJiB1Lmhhc0NoaWxkTm9kZXMoKSAmJiAobCA9IGkgPiB1LmNoaWxkTm9kZXMubGVuZ3RoIC0gMSwgdSA9IHUuY2hpbGROb2Rlc1tNYXRoLm1pbihpLCB1LmNoaWxkTm9kZXMubGVuZ3RoIC0gMSldIHx8IHUsIGkgPSBsICYmIEluKHUpID8gdS5ub2RlVmFsdWUubGVuZ3RoIDogMCk7CiAgICB2YXIgQywKICAgICAgICB3LAogICAgICAgIHgsCiAgICAgICAgUywKICAgICAgICBOLAogICAgICAgIEUgPSBmUyhmLCB1KTsKICAgIEUgJiYgKChOICYmICF5IHx8ICFOICYmIHkpICYmICh1ID0gZnVuY3Rpb24gKGUsIHQsIG4sIHIsIG8pIHsKICAgICAgdmFyIGksCiAgICAgICAgICBhLAogICAgICAgICAgdSwKICAgICAgICAgIHMsCiAgICAgICAgICBjLAogICAgICAgICAgbCwKICAgICAgICAgIGYgPSB0IHx8ICJQIiwKICAgICAgICAgIGQgPSBlLmRvbSwKICAgICAgICAgIG0gPSBmUyhkLCByKSwKICAgICAgICAgIHAgPSBkLmdldFBhcmVudChyLCBkLmlzQmxvY2spOwoKICAgICAgaWYgKCFwIHx8ICFjUyhkLCBwKSkgewogICAgICAgIGlmIChjID0gKHAgPSBwIHx8IG0pID09PSBlLmdldEJvZHkoKSB8fCAobCA9IHApICYmIC9eKFREfFRIfENBUFRJT04pJC8udGVzdChsLm5vZGVOYW1lKSA/IHAubm9kZU5hbWUudG9Mb3dlckNhc2UoKSA6IHAucGFyZW50Tm9kZS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpLCAhcC5oYXNDaGlsZE5vZGVzKCkpIHJldHVybiBpID0gZC5jcmVhdGUoZiksIGRTKGUsIGkpLCBwLmFwcGVuZENoaWxkKGkpLCBuLnNldFN0YXJ0KGksIDApLCBuLnNldEVuZChpLCAwKSwgaTsKCiAgICAgICAgZm9yICh1ID0gcjsgdS5wYXJlbnROb2RlICE9PSBwOykgewogICAgICAgICAgdSA9IHUucGFyZW50Tm9kZTsKICAgICAgICB9CgogICAgICAgIGZvciAoOyB1ICYmICFkLmlzQmxvY2sodSk7KSB7CiAgICAgICAgICB1ID0gKGEgPSB1KS5wcmV2aW91c1NpYmxpbmc7CiAgICAgICAgfQoKICAgICAgICBpZiAoYSAmJiBlLnNjaGVtYS5pc1ZhbGlkQ2hpbGQoYywgZi50b0xvd2VyQ2FzZSgpKSkgewogICAgICAgICAgZm9yIChpID0gZC5jcmVhdGUoZiksIGRTKGUsIGkpLCBhLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKGksIGEpLCB1ID0gYTsgdSAmJiAhZC5pc0Jsb2NrKHUpOykgewogICAgICAgICAgICBzID0gdS5uZXh0U2libGluZywgaS5hcHBlbmRDaGlsZCh1KSwgdSA9IHM7CiAgICAgICAgICB9CgogICAgICAgICAgbi5zZXRTdGFydChyLCBvKSwgbi5zZXRFbmQociwgbyk7CiAgICAgICAgfQogICAgICB9CgogICAgICByZXR1cm4gcjsKICAgIH0oYSwgTiwgcCwgdSwgaSkpLCBzID0gZi5nZXRQYXJlbnQodSwgZi5pc0Jsb2NrKSwgbyA9IHMgPyBmLmdldFBhcmVudChzLnBhcmVudE5vZGUsIGYuaXNCbG9jaykgOiBudWxsLCBjID0gcyA/IHMubm9kZU5hbWUudG9VcHBlckNhc2UoKSA6ICIiLCAiTEkiICE9PSAoQyA9IG8gPyBvLm5vZGVOYW1lLnRvVXBwZXJDYXNlKCkgOiAiIikgfHwgYiB8fCAobyA9IChzID0gbykucGFyZW50Tm9kZSwgYyA9IEMpLCAvXihMSXxEVHxERCkkLy50ZXN0KGMpICYmIGYuaXNFbXB0eShzKSA/IGFTKGEsIGcsIG8sIHMsIE4pIDogTiAmJiBzID09PSBhLmdldEJvZHkoKSB8fCAoTiA9IE4gfHwgIlAiLCB2byhzKSA/IChuID0ga28ocyksIGYuaXNFbXB0eShzKSAmJiB1UyhzKSwgZFMoYSwgbiksIGVTKGEsIG4pKSA6IGgoKSA/IHYoKSA6IGgoITApID8gKG4gPSBzLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKGcoKSwgcyksIGVTKGEsIHNTKHMsICJIUiIpID8gbiA6IHMpKSA6ICgoUyA9ICh4ID0gcCkuY2xvbmVSYW5nZSgpKS5zZXRTdGFydCh4LnN0YXJ0Q29udGFpbmVyLCBsUyghMCwgeC5zdGFydENvbnRhaW5lciwgeC5zdGFydE9mZnNldCkpLCBTLnNldEVuZCh4LmVuZENvbnRhaW5lciwgbFMoITEsIHguZW5kQ29udGFpbmVyLCB4LmVuZE9mZnNldCkpLCAodCA9IFMuY2xvbmVSYW5nZSgpKS5zZXRFbmRBZnRlcihzKSwgciA9IHQuZXh0cmFjdENvbnRlbnRzKCksIHcgPSByLCBXKFl1KEF0LmZyb21Eb20odyksIFV0KSwgZnVuY3Rpb24gKGUpIHsKICAgICAgdmFyIHQgPSBlLmRvbTsKICAgICAgdC5ub2RlVmFsdWUgPSBwbyh0Lm5vZGVWYWx1ZSk7CiAgICB9KSwgZnVuY3Rpb24gKGUpIHsKICAgICAgZm9yICg7IEluKGUpICYmIChlLm5vZGVWYWx1ZSA9IGUubm9kZVZhbHVlLnJlcGxhY2UoL15bXHJcbl0rLywgIiIpKSwgZSA9IGUuZmlyc3RDaGlsZDspIHsKICAgICAgICA7CiAgICAgIH0KICAgIH0ociksIG4gPSByLmZpcnN0Q2hpbGQsIGYuaW5zZXJ0QWZ0ZXIociwgcyksIGZ1bmN0aW9uIChlLCB0LCBuKSB7CiAgICAgIHZhciByLAogICAgICAgICAgbywKICAgICAgICAgIGksCiAgICAgICAgICBhID0gbiwKICAgICAgICAgIHUgPSBbXTsKCiAgICAgIGlmIChhKSB7CiAgICAgICAgZm9yICg7IGEgPSBhLmZpcnN0Q2hpbGQ7KSB7CiAgICAgICAgICBpZiAoZS5pc0Jsb2NrKGEpKSByZXR1cm47CiAgICAgICAgICBBbihhKSAmJiAhdFthLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCldICYmIHUucHVzaChhKTsKICAgICAgICB9CgogICAgICAgIGZvciAociA9IHUubGVuZ3RoOyByLS07KSB7CiAgICAgICAgICAhKGEgPSB1W3JdKS5oYXNDaGlsZE5vZGVzKCkgfHwgYS5maXJzdENoaWxkID09PSBhLmxhc3RDaGlsZCAmJiAiIiA9PT0gYS5maXJzdENoaWxkLm5vZGVWYWx1ZSA/IGUucmVtb3ZlKGEpIDogKG8gPSBlLCAoaSA9IGEpICYmICJBIiA9PT0gaS5ub2RlTmFtZSAmJiBvLmlzRW1wdHkoaSkgJiYgZS5yZW1vdmUoYSkpOwogICAgICAgIH0KICAgICAgfQogICAgfShmLCBtLCBuKSwgZnVuY3Rpb24gKGUsIHQpIHsKICAgICAgdC5ub3JtYWxpemUoKTsKICAgICAgdmFyIG4gPSB0Lmxhc3RDaGlsZDsKICAgICAgbiAmJiAhL14obGVmdHxyaWdodCkkL2dpLnRlc3QoZS5nZXRTdHlsZShuLCAiZmxvYXQiLCAhMCkpIHx8IGUuYWRkKHQsICJiciIpOwogICAgfShmLCBzKSwgZi5pc0VtcHR5KHMpICYmIHVTKHMpLCBuLm5vcm1hbGl6ZSgpLCBmLmlzRW1wdHkobikgPyAoZi5yZW1vdmUobiksIHYoKSkgOiAoZFMoYSwgbiksIGVTKGEsIG4pKSksIGYuc2V0QXR0cmliKG4sICJpZCIsICIiKSwgYS5maXJlKCJOZXdCbG9jayIsIHsKICAgICAgbmV3QmxvY2s6IG4KICAgIH0pKSk7CiAgfSwKICAgICAgcFMgPSBmdW5jdGlvbiBwUyhlLCB0LCBuKSB7CiAgICB2YXIgciA9IGUuY3JlYXRlKCJzcGFuIiwge30sICImbmJzcDsiKTsKICAgIG4ucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUociwgbiksIHQuc2Nyb2xsSW50b1ZpZXcociksIGUucmVtb3ZlKHIpOwogIH0sCiAgICAgIGdTID0gZnVuY3Rpb24gZ1MoZSwgdCwgbiwgcikgewogICAgdmFyIG8gPSBlLmNyZWF0ZVJuZygpOwogICAgciA/IChvLnNldFN0YXJ0QmVmb3JlKG4pLCBvLnNldEVuZEJlZm9yZShuKSkgOiAoby5zZXRTdGFydEFmdGVyKG4pLCBvLnNldEVuZEFmdGVyKG4pKSwgdC5zZXRSbmcobyk7CiAgfSwKICAgICAgaFMgPSBmdW5jdGlvbiBoUyhlLCB0KSB7CiAgICB2YXIgbiwKICAgICAgICByLAogICAgICAgIG8gPSBlLnNlbGVjdGlvbiwKICAgICAgICBpID0gZS5kb20sCiAgICAgICAgYSA9IG8uZ2V0Um5nKCk7CiAgICB5ZChpLCBhKS5lYWNoKGZ1bmN0aW9uIChlKSB7CiAgICAgIGEuc2V0U3RhcnQoZS5zdGFydENvbnRhaW5lciwgZS5zdGFydE9mZnNldCksIGEuc2V0RW5kKGUuZW5kQ29udGFpbmVyLCBlLmVuZE9mZnNldCk7CiAgICB9KTsKICAgIHZhciB1LAogICAgICAgIHMgPSBhLnN0YXJ0T2Zmc2V0LAogICAgICAgIGMgPSBhLnN0YXJ0Q29udGFpbmVyOwogICAgMSA9PT0gYy5ub2RlVHlwZSAmJiBjLmhhc0NoaWxkTm9kZXMoKSAmJiAodSA9IHMgPiBjLmNoaWxkTm9kZXMubGVuZ3RoIC0gMSwgYyA9IGMuY2hpbGROb2Rlc1tNYXRoLm1pbihzLCBjLmNoaWxkTm9kZXMubGVuZ3RoIC0gMSldIHx8IGMsIHMgPSB1ICYmIDMgPT09IGMubm9kZVR5cGUgPyBjLm5vZGVWYWx1ZS5sZW5ndGggOiAwKTsKICAgIHZhciBsID0gaS5nZXRQYXJlbnQoYywgaS5pc0Jsb2NrKSwKICAgICAgICBmID0gbCA/IGkuZ2V0UGFyZW50KGwucGFyZW50Tm9kZSwgaS5pc0Jsb2NrKSA6IG51bGwsCiAgICAgICAgZCA9IGYgPyBmLm5vZGVOYW1lLnRvVXBwZXJDYXNlKCkgOiAiIiwKICAgICAgICBtID0gISghdCB8fCAhdC5jdHJsS2V5KTsKICAgICJMSSIgIT09IGQgfHwgbSB8fCAobCA9IGYpLCBjICYmIDMgPT09IGMubm9kZVR5cGUgJiYgcyA+PSBjLm5vZGVWYWx1ZS5sZW5ndGggJiYgIWZ1bmN0aW9uIChlLCB0LCBuKSB7CiAgICAgIGZvciAodmFyIHIsIG8gPSBuZXcgWHIodCwgbiksIGkgPSBlLmdldE5vbkVtcHR5RWxlbWVudHMoKTsgciA9IG8ubmV4dCgpOykgewogICAgICAgIGlmIChpW3Iubm9kZU5hbWUudG9Mb3dlckNhc2UoKV0gfHwgMCA8IHIubGVuZ3RoKSByZXR1cm4gITA7CiAgICAgIH0KICAgIH0oZS5zY2hlbWEsIGMsIGwpICYmIChuID0gaS5jcmVhdGUoImJyIiksIGEuaW5zZXJ0Tm9kZShuKSwgYS5zZXRTdGFydEFmdGVyKG4pLCBhLnNldEVuZEFmdGVyKG4pLCByID0gITApLCBuID0gaS5jcmVhdGUoImJyIiksIEtzKGksIGEsIG4pLCBwUyhpLCBvLCBuKSwgZ1MoaSwgbywgbiwgciksIGUudW5kb01hbmFnZXIuYWRkKCk7CiAgfSwKICAgICAgdlMgPSBmdW5jdGlvbiB2UyhlLCB0KSB7CiAgICB2YXIgbiA9IEF0LmZyb21UYWcoImJyIik7CiAgICBzbihBdC5mcm9tRG9tKHQpLCBuKSwgZS51bmRvTWFuYWdlci5hZGQoKTsKICB9LAogICAgICB5UyA9IGZ1bmN0aW9uIHlTKGUsIHQpIHsKICAgIGJTKGUuZ2V0Qm9keSgpLCB0KSB8fCBjbihBdC5mcm9tRG9tKHQpLCBBdC5mcm9tVGFnKCJiciIpKTsKICAgIHZhciBuID0gQXQuZnJvbVRhZygiYnIiKTsKICAgIGNuKEF0LmZyb21Eb20odCksIG4pLCBwUyhlLmRvbSwgZS5zZWxlY3Rpb24sIG4uZG9tKSwgZ1MoZS5kb20sIGUuc2VsZWN0aW9uLCBuLmRvbSwgITEpLCBlLnVuZG9NYW5hZ2VyLmFkZCgpOwogIH0sCiAgICAgIGJTID0gZnVuY3Rpb24gYlMoZSwgdCkgewogICAgcmV0dXJuIG4gPSAkcy5hZnRlcih0KSwgISF6bihuLmdldE5vZGUoKSkgfHwgSWwoZSwgJHMuYWZ0ZXIodCkpLm1hcChmdW5jdGlvbiAoZSkgewogICAgICByZXR1cm4gem4oZS5nZXROb2RlKCkpOwogICAgfSkuZ2V0T3IoITEpOwogICAgdmFyIG47CiAgfSwKICAgICAgQ1MgPSBmdW5jdGlvbiBDUyhlKSB7CiAgICByZXR1cm4gZSAmJiAiQSIgPT09IGUubm9kZU5hbWUgJiYgImhyZWYiIGluIGU7CiAgfSwKICAgICAgd1MgPSBmdW5jdGlvbiB3UyhlKSB7CiAgICByZXR1cm4gZS5mb2xkKEMsIENTLCBDUywgQyk7CiAgfSwKICAgICAgeFMgPSBmdW5jdGlvbiB4UyhlLCB0KSB7CiAgICB0LmZvbGQoViwgTih2UywgZSksIE4oeVMsIGUpLCBWKTsKICB9LAogICAgICBTUyA9IGZ1bmN0aW9uIFNTKGUsIHQpIHsKICAgIHZhciBuLAogICAgICAgIHIsCiAgICAgICAgbywKICAgICAgICBpID0gKHIgPSBOKEliLCBuID0gZSksIG8gPSAkcy5mcm9tUmFuZ2VTdGFydChuLnNlbGVjdGlvbi5nZXRSbmcoKSksIFdDKHIsIG4uZ2V0Qm9keSgpLCBvKS5maWx0ZXIod1MpKTsKICAgIGkuaXNTb21lKCkgPyBpLmVhY2goTih4UywgZSkpIDogaFMoZSwgdCk7CiAgfSwKICAgICAgTlMgPSBmdW5jdGlvbiBOUyhlLCB0KSB7CiAgICByZXR1cm4gdFMoZSkuZmlsdGVyKGZ1bmN0aW9uIChlKSB7CiAgICAgIHJldHVybiAwIDwgdC5sZW5ndGggJiYgVHQoQXQuZnJvbURvbShlKSwgdCk7CiAgICB9KS5pc1NvbWUoKTsKICB9LAogICAgICBFUyA9IENyKFt7CiAgICBicjogW10KICB9LCB7CiAgICBibG9jazogW10KICB9LCB7CiAgICBub25lOiBbXQogIH1dKSwKICAgICAga1MgPSBmdW5jdGlvbiBrUyhlLCB0KSB7CiAgICByZXR1cm4gTlMobiA9IGUsIG4uZ2V0UGFyYW0oIm5vX25ld2xpbmVfc2VsZWN0b3IiLCAiIikpOwogICAgdmFyIG47CiAgfSwKICAgICAgX1MgPSBmdW5jdGlvbiBfUyhuKSB7CiAgICByZXR1cm4gZnVuY3Rpb24gKGUsIHQpIHsKICAgICAgcmV0dXJuICIiID09PSB2YyhlKSA9PT0gbjsKICAgIH07CiAgfSwKICAgICAgQVMgPSBmdW5jdGlvbiBBUyhuKSB7CiAgICByZXR1cm4gZnVuY3Rpb24gKGUsIHQpIHsKICAgICAgcmV0dXJuIHRTKGUpLmZpbHRlcihmdW5jdGlvbiAoZSkgewogICAgICAgIHJldHVybiBpbyhBdC5mcm9tRG9tKGUpKTsKICAgICAgfSkuaXNTb21lKCkgPT09IG47CiAgICB9OwogIH0sCiAgICAgIFJTID0gZnVuY3Rpb24gUlMobiwgcikgewogICAgcmV0dXJuIGZ1bmN0aW9uIChlLCB0KSB7CiAgICAgIHJldHVybiB0UyhlKS5mb2xkKEUoIiIpLCBmdW5jdGlvbiAoZSkgewogICAgICAgIHJldHVybiBlLm5vZGVOYW1lLnRvVXBwZXJDYXNlKCk7CiAgICAgIH0pID09PSBuLnRvVXBwZXJDYXNlKCkgPT09IHI7CiAgICB9OwogIH0sCiAgICAgIFRTID0gZnVuY3Rpb24gVFMoZSkgewogICAgcmV0dXJuIFJTKCJwcmUiLCBlKTsKICB9LAogICAgICBEUyA9IGZ1bmN0aW9uIERTKG4pIHsKICAgIHJldHVybiBmdW5jdGlvbiAoZSwgdCkgewogICAgICByZXR1cm4gZS5nZXRQYXJhbSgiYnJfaW5fcHJlIiwgITApID09PSBuOwogICAgfTsKICB9LAogICAgICBPUyA9IGZ1bmN0aW9uIE9TKGUsIHQpIHsKICAgIHJldHVybiBOUyhuID0gZSwgbi5nZXRQYXJhbSgiYnJfbmV3bGluZV9zZWxlY3RvciIsICIubWNlLXRvYyBoMixmaWdjYXB0aW9uLGNhcHRpb24iKSk7CiAgICB2YXIgbjsKICB9LAogICAgICBCUyA9IGZ1bmN0aW9uIEJTKGUsIHQpIHsKICAgIHJldHVybiB0OwogIH0sCiAgICAgIFBTID0gZnVuY3Rpb24gUFMoZSkgewogICAgdmFyIHQgPSB2YyhlKSwKICAgICAgICBuID0gZnVuY3Rpb24gKGUsIHQpIHsKICAgICAgZm9yICh2YXIgbiwgciA9IGUuZ2V0Um9vdCgpLCBvID0gdDsgbyAhPT0gciAmJiAiZmFsc2UiICE9PSBlLmdldENvbnRlbnRFZGl0YWJsZShvKTspIHsKICAgICAgICAidHJ1ZSIgPT09IGUuZ2V0Q29udGVudEVkaXRhYmxlKG8pICYmIChuID0gbyksIG8gPSBvLnBhcmVudE5vZGU7CiAgICAgIH0KCiAgICAgIHJldHVybiBvICE9PSByID8gbiA6IHI7CiAgICB9KGUuZG9tLCBlLnNlbGVjdGlvbi5nZXRTdGFydCgpKTsKCiAgICByZXR1cm4gbiAmJiBlLnNjaGVtYS5pc1ZhbGlkQ2hpbGQobi5ub2RlTmFtZSwgdCB8fCAiUCIpOwogIH0sCiAgICAgIExTID0gZnVuY3Rpb24gTFMoZSwgdCkgewogICAgcmV0dXJuIGZ1bmN0aW9uIChuLCByKSB7CiAgICAgIHJldHVybiBYKGUsIGZ1bmN0aW9uIChlLCB0KSB7CiAgICAgICAgcmV0dXJuIGUgJiYgdChuLCByKTsKICAgICAgfSwgITApID8gVS5zb21lKHQpIDogVS5ub25lKCk7CiAgICB9OwogIH0sCiAgICAgIElTID0gZnVuY3Rpb24gSVMoZSwgdCkgewogICAgcmV0dXJuIElDKFtMUyhba1NdLCBFUy5ub25lKCkpLCBMUyhbUlMoInN1bW1hcnkiLCAhMCldLCBFUy5icigpKSwgTFMoW1RTKCEwKSwgRFMoITEpLCBCU10sIEVTLmJyKCkpLCBMUyhbVFMoITApLCBEUyghMSldLCBFUy5ibG9jaygpKSwgTFMoW1RTKCEwKSwgRFMoITApLCBCU10sIEVTLmJsb2NrKCkpLCBMUyhbVFMoITApLCBEUyghMCldLCBFUy5icigpKSwgTFMoW0FTKCEwKSwgQlNdLCBFUy5icigpKSwgTFMoW0FTKCEwKV0sIEVTLmJsb2NrKCkpLCBMUyhbX1MoITApLCBCUywgUFNdLCBFUy5ibG9jaygpKSwgTFMoW19TKCEwKV0sIEVTLmJyKCkpLCBMUyhbT1NdLCBFUy5icigpKSwgTFMoW19TKCExKSwgQlNdLCBFUy5icigpKSwgTFMoW1BTXSwgRVMuYmxvY2soKSldLCBbZSwgISghdCB8fCAhdC5zaGlmdEtleSldKS5nZXRPcihFUy5ub25lKCkpOwogIH0sCiAgICAgIE1TID0gZnVuY3Rpb24gTVMoZSwgdCkgewogICAgSVMoZSwgdCkuZm9sZChmdW5jdGlvbiAoKSB7CiAgICAgIFNTKGUsIHQpOwogICAgfSwgZnVuY3Rpb24gKCkgewogICAgICBtUyhlLCB0KTsKICAgIH0sIFYpOwogIH0sCiAgICAgIEZTID0gZnVuY3Rpb24gRlMobykgewogICAgby5vbigia2V5ZG93biIsIGZ1bmN0aW9uIChlKSB7CiAgICAgIHZhciB0LCBuLCByOwogICAgICBlLmtleUNvZGUgPT09IHVkLkVOVEVSICYmICh0ID0gbywgKG4gPSBlKS5pc0RlZmF1bHRQcmV2ZW50ZWQoKSB8fCAobi5wcmV2ZW50RGVmYXVsdCgpLCAociA9IHQudW5kb01hbmFnZXIpLnR5cGluZyAmJiAoci50eXBpbmcgPSAhMSwgci5hZGQoKSksIHQudW5kb01hbmFnZXIudHJhbnNhY3QoZnVuY3Rpb24gKCkgewogICAgICAgICExID09PSB0LnNlbGVjdGlvbi5pc0NvbGxhcHNlZCgpICYmIHQuZXhlY0NvbW1hbmQoIkRlbGV0ZSIpLCBNUyh0LCBuKTsKICAgICAgfSkpKTsKICAgIH0pOwogIH0sCiAgICAgIFVTID0gZnVuY3Rpb24gVVMocikgewogICAgci5vbigia2V5ZG93biIsIGZ1bmN0aW9uIChlKSB7CiAgICAgIHZhciB0LCBuOwogICAgICAhMSA9PT0gZS5pc0RlZmF1bHRQcmV2ZW50ZWQoKSAmJiAodCA9IHIsIG4gPSBlLCBPeChbewogICAgICAgIGtleUNvZGU6IHVkLkVORCwKICAgICAgICBhY3Rpb246IER4KHh4LCB0LCAhMCkKICAgICAgfSwgewogICAgICAgIGtleUNvZGU6IHVkLkhPTUUsCiAgICAgICAgYWN0aW9uOiBEeCh4eCwgdCwgITEpCiAgICAgIH0sIHsKICAgICAgICBrZXlDb2RlOiB1ZC5FTkQsCiAgICAgICAgYWN0aW9uOiBEeChMeCwgdCwgITApCiAgICAgIH0sIHsKICAgICAgICBrZXlDb2RlOiB1ZC5IT01FLAogICAgICAgIGFjdGlvbjogRHgoTHgsIHQsICExKQogICAgICB9XSwgbikuZWFjaChmdW5jdGlvbiAoZSkgewogICAgICAgIG4ucHJldmVudERlZmF1bHQoKTsKICAgICAgfSkpOwogICAgfSk7CiAgfSwKICAgICAgelMgPSBkdCgpLmJyb3dzZXIsCiAgICAgIGpTID0gZnVuY3Rpb24galModCkgewogICAgdmFyIGUsIG47CiAgICBlID0gdCwgbiA9IHp1KGZ1bmN0aW9uICgpIHsKICAgICAgZS5jb21wb3NpbmcgfHwgaWcoZSk7CiAgICB9LCAwKSwgelMuaXNJRSgpICYmIChlLm9uKCJrZXlwcmVzcyIsIGZ1bmN0aW9uIChlKSB7CiAgICAgIG4udGhyb3R0bGUoKTsKICAgIH0pLCBlLm9uKCJyZW1vdmUiLCBmdW5jdGlvbiAoZSkgewogICAgICBuLmNhbmNlbCgpOwogICAgfSkpLCB0Lm9uKCJpbnB1dCIsIGZ1bmN0aW9uIChlKSB7CiAgICAgICExID09PSBlLmlzQ29tcG9zaW5nICYmIGlnKHQpOwogICAgfSk7CiAgfSwKICAgICAgSFMgPSBmdW5jdGlvbiBIUyhuLCByKSB7CiAgICB2YXIgZSA9IHIuY29udGFpbmVyKCksCiAgICAgICAgdCA9IHIub2Zmc2V0KCk7CiAgICByZXR1cm4gSW4oZSkgPyAoZS5pbnNlcnREYXRhKHQsIG4pLCBVLnNvbWUoSHMoZSwgdCArIG4ubGVuZ3RoKSkpIDogbWwocikubWFwKGZ1bmN0aW9uIChlKSB7CiAgICAgIHZhciB0ID0gQXQuZnJvbVRleHQobik7CiAgICAgIHJldHVybiAoci5pc0F0RW5kKCkgPyBjbiA6IHNuKShlLCB0KSwgSHModC5kb20sIG4ubGVuZ3RoKTsKICAgIH0pOwogIH0sCiAgICAgIFZTID0gTihIUywgbG8pLAogICAgICBxUyA9IE4oSFMsICIgIiksCiAgICAgICRTID0gZnVuY3Rpb24gJFMociwgbykgewogICAgcmV0dXJuIGZ1bmN0aW9uIChlKSB7CiAgICAgIHJldHVybiB0ID0gciwgKCFHcChuID0gZSkgJiYgKEpwKHQsIG4pIHx8IFhwKHQsIG4pIHx8IFlwKHQsIG4pKSA/IFZTIDogcVMpKG8pOwogICAgICB2YXIgdCwgbjsKICAgIH07CiAgfSwKICAgICAgV1MgPSBmdW5jdGlvbiBXUyhlKSB7CiAgICB2YXIgdCwKICAgICAgICBuLAogICAgICAgIHIgPSAkcy5mcm9tUmFuZ2VTdGFydChlLnNlbGVjdGlvbi5nZXRSbmcoKSksCiAgICAgICAgbyA9IEF0LmZyb21Eb20oZS5nZXRCb2R5KCkpOwoKICAgIGlmIChlLnNlbGVjdGlvbi5pc0NvbGxhcHNlZCgpKSB7CiAgICAgIHZhciBpID0gTihJYiwgZSksCiAgICAgICAgICBhID0gJHMuZnJvbVJhbmdlU3RhcnQoZS5zZWxlY3Rpb24uZ2V0Um5nKCkpOwogICAgICByZXR1cm4gV0MoaSwgZS5nZXRCb2R5KCksIGEpLmJpbmQoKG4gPSBvLCBmdW5jdGlvbiAoZSkgewogICAgICAgIHJldHVybiBlLmZvbGQoZnVuY3Rpb24gKGUpIHsKICAgICAgICAgIHJldHVybiBNbChuLmRvbSwgJHMuYmVmb3JlKGUpKTsKICAgICAgICB9LCBmdW5jdGlvbiAoZSkgewogICAgICAgICAgcmV0dXJuIEZsKGUpOwogICAgICAgIH0sIGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICByZXR1cm4gVWwoZSk7CiAgICAgICAgfSwgZnVuY3Rpb24gKGUpIHsKICAgICAgICAgIHJldHVybiBJbChuLmRvbSwgJHMuYWZ0ZXIoZSkpOwogICAgICAgIH0pOwogICAgICB9KSkuYmluZCgkUyhvLCByKSkuZXhpc3RzKCh0ID0gZSwgZnVuY3Rpb24gKGUpIHsKICAgICAgICByZXR1cm4gdC5zZWxlY3Rpb24uc2V0Um5nKGUudG9SYW5nZSgpKSwgdC5ub2RlQ2hhbmdlZCgpLCAhMDsKICAgICAgfSkpOwogICAgfQoKICAgIHJldHVybiAhMTsKICB9LAogICAgICBLUyA9IGZ1bmN0aW9uIEtTKHIpIHsKICAgIHIub24oImtleWRvd24iLCBmdW5jdGlvbiAoZSkgewogICAgICB2YXIgdCwgbjsKICAgICAgITEgPT09IGUuaXNEZWZhdWx0UHJldmVudGVkKCkgJiYgKHQgPSByLCBuID0gZSwgT3goW3sKICAgICAgICBrZXlDb2RlOiB1ZC5TUEFDRUJBUiwKICAgICAgICBhY3Rpb246IER4KFdTLCB0KQogICAgICB9XSwgbikuZWFjaChmdW5jdGlvbiAoZSkgewogICAgICAgIG4ucHJldmVudERlZmF1bHQoKTsKICAgICAgfSkpOwogICAgfSk7CiAgfSwKICAgICAgWFMgPSBmdW5jdGlvbiBYUyhlKSB7CiAgICB2YXIgdCwKICAgICAgICBuID0gY3coZSk7CiAgICByZXR1cm4gKHQgPSBlKS5vbigia2V5dXAgY29tcG9zaXRpb25zdGFydCIsIE4oSXcsIHQpKSwgUXgoZSwgbiksIFp4KGUsIG4pLCBGUyhlKSwgS1MoZSksIGpTKGUpLCBVUyhlKSwgbjsKICB9LAogICAgICBZUyA9IChHUy5wcm90b3R5cGUubm9kZUNoYW5nZWQgPSBmdW5jdGlvbiAoZSkgewogICAgdmFyIHQsCiAgICAgICAgbiwKICAgICAgICByLAogICAgICAgIG8gPSB0aGlzLmVkaXRvci5zZWxlY3Rpb247CiAgICB0aGlzLmVkaXRvci5pbml0aWFsaXplZCAmJiBvICYmICF0aGlzLmVkaXRvci5nZXRQYXJhbSgiZGlzYWJsZV9ub2RlY2hhbmdlIikgJiYgIXRoaXMuZWRpdG9yLm1vZGUuaXNSZWFkT25seSgpICYmIChyID0gdGhpcy5lZGl0b3IuZ2V0Qm9keSgpLCAodCA9IG8uZ2V0U3RhcnQoITApIHx8IHIpLm93bmVyRG9jdW1lbnQgPT09IHRoaXMuZWRpdG9yLmdldERvYygpICYmIHRoaXMuZWRpdG9yLmRvbS5pc0NoaWxkT2YodCwgcikgfHwgKHQgPSByKSwgbiA9IFtdLCB0aGlzLmVkaXRvci5kb20uZ2V0UGFyZW50KHQsIGZ1bmN0aW9uIChlKSB7CiAgICAgIHJldHVybiBlID09PSByIHx8IHZvaWQgbi5wdXNoKGUpOwogICAgfSksIChlID0gZSB8fCB7fSkuZWxlbWVudCA9IHQsIGUucGFyZW50cyA9IG4sIHRoaXMuZWRpdG9yLmZpcmUoIk5vZGVDaGFuZ2UiLCBlKSk7CiAgfSwgR1MucHJvdG90eXBlLmlzU2FtZUVsZW1lbnRQYXRoID0gZnVuY3Rpb24gKGUpIHsKICAgIHZhciB0LAogICAgICAgIG4gPSB0aGlzLmVkaXRvci4kKGUpLnBhcmVudHNVbnRpbCh0aGlzLmVkaXRvci5nZXRCb2R5KCkpLmFkZChlKTsKCiAgICBpZiAobi5sZW5ndGggPT09IHRoaXMubGFzdFBhdGgubGVuZ3RoKSB7CiAgICAgIGZvciAodCA9IG4ubGVuZ3RoOyAwIDw9IHQgJiYgblt0XSA9PT0gdGhpcy5sYXN0UGF0aFt0XTsgdC0tKSB7CiAgICAgICAgOwogICAgICB9CgogICAgICBpZiAoLTEgPT09IHQpIHJldHVybiB0aGlzLmxhc3RQYXRoID0gbiwgITA7CiAgICB9CgogICAgcmV0dXJuIHRoaXMubGFzdFBhdGggPSBuLCAhMTsKICB9LCBHUyk7CgogIGZ1bmN0aW9uIEdTKHIpIHsKICAgIHZhciBvOwogICAgdGhpcy5sYXN0UGF0aCA9IFtdLCB0aGlzLmVkaXRvciA9IHI7CiAgICB2YXIgdCA9IHRoaXM7CiAgICAib25zZWxlY3Rpb25jaGFuZ2UiIGluIHIuZ2V0RG9jKCkgfHwgci5vbigiTm9kZUNoYW5nZSBjbGljayBtb3VzZXVwIGtleXVwIGZvY3VzIiwgZnVuY3Rpb24gKGUpIHsKICAgICAgdmFyIHQgPSByLnNlbGVjdGlvbi5nZXRSbmcoKSwKICAgICAgICAgIG4gPSB7CiAgICAgICAgc3RhcnRDb250YWluZXI6IHQuc3RhcnRDb250YWluZXIsCiAgICAgICAgc3RhcnRPZmZzZXQ6IHQuc3RhcnRPZmZzZXQsCiAgICAgICAgZW5kQ29udGFpbmVyOiB0LmVuZENvbnRhaW5lciwKICAgICAgICBlbmRPZmZzZXQ6IHQuZW5kT2Zmc2V0CiAgICAgIH07CiAgICAgICJub2RlY2hhbmdlIiAhPT0gZS50eXBlICYmIGRkKG4sIG8pIHx8IHIuZmlyZSgiU2VsZWN0aW9uQ2hhbmdlIiksIG8gPSBuOwogICAgfSksIHIub24oImNvbnRleHRtZW51IiwgZnVuY3Rpb24gKCkgewogICAgICByLmZpcmUoIlNlbGVjdGlvbkNoYW5nZSIpOwogICAgfSksIHIub24oIlNlbGVjdGlvbkNoYW5nZSIsIGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIGUgPSByLnNlbGVjdGlvbi5nZXRTdGFydCghMCk7CiAgICAgICFlIHx8ICF3dC5yYW5nZSAmJiByLnNlbGVjdGlvbi5pc0NvbGxhcHNlZCgpIHx8IFZmKHIpICYmICF0LmlzU2FtZUVsZW1lbnRQYXRoKGUpICYmIHIuZG9tLmlzQ2hpbGRPZihlLCByLmdldEJvZHkoKSkgJiYgci5ub2RlQ2hhbmdlZCh7CiAgICAgICAgc2VsZWN0aW9uQ2hhbmdlOiAhMAogICAgICB9KTsKICAgIH0pLCByLm9uKCJtb3VzZXVwIiwgZnVuY3Rpb24gKGUpIHsKICAgICAgIWUuaXNEZWZhdWx0UHJldmVudGVkKCkgJiYgVmYocikgJiYgKCJJTUciID09PSByLnNlbGVjdGlvbi5nZXROb2RlKCkubm9kZU5hbWUgPyBxci5zZXRFZGl0b3JUaW1lb3V0KHIsIGZ1bmN0aW9uICgpIHsKICAgICAgICByLm5vZGVDaGFuZ2VkKCk7CiAgICAgIH0pIDogci5ub2RlQ2hhbmdlZCgpKTsKICAgIH0pOwogIH0KCiAgdmFyIEpTID0gZnVuY3Rpb24gSlMoZSkgewogICAgdmFyIHQsIG47CiAgICAodCA9IGUpLm9uKCJjbGljayIsIGZ1bmN0aW9uIChlKSB7CiAgICAgIHQuZG9tLmdldFBhcmVudChlLnRhcmdldCwgImRldGFpbHMiKSAmJiBlLnByZXZlbnREZWZhdWx0KCk7CiAgICB9KSwgKG4gPSBlKS5wYXJzZXIuYWRkTm9kZUZpbHRlcigiZGV0YWlscyIsIGZ1bmN0aW9uIChlKSB7CiAgICAgIFcoZSwgZnVuY3Rpb24gKGUpIHsKICAgICAgICBlLmF0dHIoImRhdGEtbWNlLW9wZW4iLCBlLmF0dHIoIm9wZW4iKSksIGUuYXR0cigib3BlbiIsICJvcGVuIik7CiAgICAgIH0pOwogICAgfSksIG4uc2VyaWFsaXplci5hZGROb2RlRmlsdGVyKCJkZXRhaWxzIiwgZnVuY3Rpb24gKGUpIHsKICAgICAgVyhlLCBmdW5jdGlvbiAoZSkgewogICAgICAgIHZhciB0ID0gZS5hdHRyKCJkYXRhLW1jZS1vcGVuIik7CiAgICAgICAgZS5hdHRyKCJvcGVuIiwgcSh0KSA/IHQgOiBudWxsKSwgZS5hdHRyKCJkYXRhLW1jZS1vcGVuIiwgbnVsbCk7CiAgICAgIH0pOwogICAgfSk7CiAgfSwKICAgICAgUVMgPSBmdW5jdGlvbiBRUyhlKSB7CiAgICByZXR1cm4gQW4oZSkgJiYgcm8oQXQuZnJvbURvbShlKSk7CiAgfSwKICAgICAgWlMgPSBmdW5jdGlvbiBaUyhhKSB7CiAgICBhLm9uKCJjbGljayIsIGZ1bmN0aW9uIChlKSB7CiAgICAgIHZhciB0LCBuLCByLCBvLCBpOwogICAgICAzIDw9IGUuZGV0YWlsICYmIChyID0gKHQgPSBhKS5zZWxlY3Rpb24uZ2V0Um5nKCksIG8gPSBIcy5mcm9tUmFuZ2VTdGFydChyKSwgaSA9IEhzLmZyb21SYW5nZUVuZChyKSwgSHMuaXNFbGVtZW50UG9zaXRpb24obykgJiYgKG4gPSBvLmNvbnRhaW5lcigpLCBRUyhuKSAmJiBGbChuKS5lYWNoKGZ1bmN0aW9uIChlKSB7CiAgICAgICAgcmV0dXJuIHIuc2V0U3RhcnQoZS5jb250YWluZXIoKSwgZS5vZmZzZXQoKSk7CiAgICAgIH0pKSwgSHMuaXNFbGVtZW50UG9zaXRpb24oaSkgJiYgKG4gPSBvLmNvbnRhaW5lcigpLCBRUyhuKSAmJiBVbChuKS5lYWNoKGZ1bmN0aW9uIChlKSB7CiAgICAgICAgcmV0dXJuIHIuc2V0RW5kKGUuY29udGFpbmVyKCksIGUub2Zmc2V0KCkpOwogICAgICB9KSksIHQuc2VsZWN0aW9uLnNldFJuZyhZZyhyKSkpOwogICAgfSk7CiAgfSwKICAgICAgZU4gPSBmdW5jdGlvbiBlTihlKSB7CiAgICB2YXIgdCA9IGUuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksCiAgICAgICAgbiA9IGUub3duZXJEb2N1bWVudCwKICAgICAgICByID0gbi5kb2N1bWVudEVsZW1lbnQsCiAgICAgICAgbyA9IG4uZGVmYXVsdFZpZXc7CiAgICByZXR1cm4gewogICAgICB0b3A6IHQudG9wICsgby5wYWdlWU9mZnNldCAtIHIuY2xpZW50VG9wLAogICAgICBsZWZ0OiB0LmxlZnQgKyBvLnBhZ2VYT2Zmc2V0IC0gci5jbGllbnRMZWZ0CiAgICB9OwogIH0sCiAgICAgIHROID0gZnVuY3Rpb24gdE4oZSwgdCkgewogICAgcmV0dXJuIG4gPSAodSA9IGUpLmlubGluZSA/IGVOKHUuZ2V0Qm9keSgpKSA6IHsKICAgICAgbGVmdDogMCwKICAgICAgdG9wOiAwCiAgICB9LCBhID0gKGkgPSBlKS5nZXRCb2R5KCksIHIgPSBpLmlubGluZSA/IHsKICAgICAgbGVmdDogYS5zY3JvbGxMZWZ0LAogICAgICB0b3A6IGEuc2Nyb2xsVG9wCiAgICB9IDogewogICAgICBsZWZ0OiAwLAogICAgICB0b3A6IDAKICAgIH0sIHsKICAgICAgcGFnZVg6IChvID0gZnVuY3Rpb24gKGUsIHQpIHsKICAgICAgICBpZiAodC50YXJnZXQub3duZXJEb2N1bWVudCA9PT0gZS5nZXREb2MoKSkgcmV0dXJuIHsKICAgICAgICAgIGxlZnQ6IHQucGFnZVgsCiAgICAgICAgICB0b3A6IHQucGFnZVkKICAgICAgICB9OwogICAgICAgIHZhciBuLAogICAgICAgICAgICByLAogICAgICAgICAgICBvLAogICAgICAgICAgICBpLAogICAgICAgICAgICBhLAogICAgICAgICAgICB1ID0gZU4oZS5nZXRDb250ZW50QXJlYUNvbnRhaW5lcigpKSwKICAgICAgICAgICAgcyA9IChyID0gKG4gPSBlKS5nZXRCb2R5KCksIG8gPSBuLmdldERvYygpLmRvY3VtZW50RWxlbWVudCwgaSA9IHsKICAgICAgICAgIGxlZnQ6IHIuc2Nyb2xsTGVmdCwKICAgICAgICAgIHRvcDogci5zY3JvbGxUb3AKICAgICAgICB9LCBhID0gewogICAgICAgICAgbGVmdDogci5zY3JvbGxMZWZ0IHx8IG8uc2Nyb2xsTGVmdCwKICAgICAgICAgIHRvcDogci5zY3JvbGxUb3AgfHwgby5zY3JvbGxUb3AKICAgICAgICB9LCBuLmlubGluZSA/IGkgOiBhKTsKICAgICAgICByZXR1cm4gewogICAgICAgICAgbGVmdDogdC5wYWdlWCAtIHUubGVmdCArIHMubGVmdCwKICAgICAgICAgIHRvcDogdC5wYWdlWSAtIHUudG9wICsgcy50b3AKICAgICAgICB9OwogICAgICB9KGUsIHQpKS5sZWZ0IC0gbi5sZWZ0ICsgci5sZWZ0LAogICAgICBwYWdlWTogby50b3AgLSBuLnRvcCArIHIudG9wCiAgICB9OwogICAgdmFyIG4sIHIsIG8sIGksIGEsIHU7CiAgfSwKICAgICAgbk4gPSBWbiwKICAgICAgck4gPSBIbiwKICAgICAgb04gPSBmdW5jdGlvbiBvTihlKSB7CiAgICBlICYmIGUucGFyZW50Tm9kZSAmJiBlLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoZSk7CiAgfSwKICAgICAgaU4gPSBmdW5jdGlvbiBpTih1LCBzKSB7CiAgICByZXR1cm4gZnVuY3Rpb24gKGUpIHsKICAgICAgdmFyIHQsIG4sIHIsIG8sIGksIGE7CiAgICAgIDAgPT09IGUuYnV0dG9uICYmICh0ID0gWShzLmRvbS5nZXRQYXJlbnRzKGUudGFyZ2V0KSwgZnVuY3Rpb24gKCkgewogICAgICAgIGZvciAodmFyIG4gPSBbXSwgZSA9IDA7IGUgPCBhcmd1bWVudHMubGVuZ3RoOyBlKyspIHsKICAgICAgICAgIG5bZV0gPSBhcmd1bWVudHNbZV07CiAgICAgICAgfQoKICAgICAgICByZXR1cm4gZnVuY3Rpb24gKGUpIHsKICAgICAgICAgIGZvciAodmFyIHQgPSAwOyB0IDwgbi5sZW5ndGg7IHQrKykgewogICAgICAgICAgICBpZiAoblt0XShlKSkgcmV0dXJuICEwOwogICAgICAgICAgfQoKICAgICAgICAgIHJldHVybiAhMTsKICAgICAgICB9OwogICAgICB9KG5OLCByTikpLmdldE9yKG51bGwpLCBpID0gcy5nZXRCb2R5KCksIG5OKGEgPSB0KSAmJiBhICE9PSBpICYmIChuID0gcy5kb20uZ2V0UG9zKHQpLCByID0gcy5nZXRCb2R5KCksIG8gPSBzLmdldERvYygpLmRvY3VtZW50RWxlbWVudCwgdS5zZXQoewogICAgICAgIGVsZW1lbnQ6IHQsCiAgICAgICAgZHJhZ2dpbmc6ICExLAogICAgICAgIHNjcmVlblg6IGUuc2NyZWVuWCwKICAgICAgICBzY3JlZW5ZOiBlLnNjcmVlblksCiAgICAgICAgbWF4WDogKHMuaW5saW5lID8gci5zY3JvbGxXaWR0aCA6IG8ub2Zmc2V0V2lkdGgpIC0gMiwKICAgICAgICBtYXhZOiAocy5pbmxpbmUgPyByLnNjcm9sbEhlaWdodCA6IG8ub2Zmc2V0SGVpZ2h0KSAtIDIsCiAgICAgICAgcmVsWDogZS5wYWdlWCAtIG4ueCwKICAgICAgICByZWxZOiBlLnBhZ2VZIC0gbi55LAogICAgICAgIHdpZHRoOiB0Lm9mZnNldFdpZHRoLAogICAgICAgIGhlaWdodDogdC5vZmZzZXRIZWlnaHQsCiAgICAgICAgZ2hvc3Q6IGZ1bmN0aW9uIChlLCB0LCBuLCByKSB7CiAgICAgICAgICB2YXIgbyA9IGUuZG9tLAogICAgICAgICAgICAgIGkgPSB0LmNsb25lTm9kZSghMCk7CiAgICAgICAgICBvLnNldFN0eWxlcyhpLCB7CiAgICAgICAgICAgIHdpZHRoOiBuLAogICAgICAgICAgICBoZWlnaHQ6IHIKICAgICAgICAgIH0pLCBvLnNldEF0dHJpYihpLCAiZGF0YS1tY2Utc2VsZWN0ZWQiLCBudWxsKTsKICAgICAgICAgIHZhciBhID0gby5jcmVhdGUoImRpdiIsIHsKICAgICAgICAgICAgImNsYXNzIjogIm1jZS1kcmFnLWNvbnRhaW5lciIsCiAgICAgICAgICAgICJkYXRhLW1jZS1ib2d1cyI6ICJhbGwiLAogICAgICAgICAgICB1bnNlbGVjdGFibGU6ICJvbiIsCiAgICAgICAgICAgIGNvbnRlbnRlZGl0YWJsZTogImZhbHNlIgogICAgICAgICAgfSk7CiAgICAgICAgICByZXR1cm4gby5zZXRTdHlsZXMoYSwgewogICAgICAgICAgICBwb3NpdGlvbjogImFic29sdXRlIiwKICAgICAgICAgICAgb3BhY2l0eTogLjUsCiAgICAgICAgICAgIG92ZXJmbG93OiAiaGlkZGVuIiwKICAgICAgICAgICAgYm9yZGVyOiAwLAogICAgICAgICAgICBwYWRkaW5nOiAwLAogICAgICAgICAgICBtYXJnaW46IDAsCiAgICAgICAgICAgIHdpZHRoOiBuLAogICAgICAgICAgICBoZWlnaHQ6IHIKICAgICAgICAgIH0pLCBvLnNldFN0eWxlcyhpLCB7CiAgICAgICAgICAgIG1hcmdpbjogMCwKICAgICAgICAgICAgYm94U2l6aW5nOiAiYm9yZGVyLWJveCIKICAgICAgICAgIH0pLCBhLmFwcGVuZENoaWxkKGkpLCBhOwogICAgICAgIH0ocywgdCwgdC5vZmZzZXRXaWR0aCwgdC5vZmZzZXRIZWlnaHQpCiAgICAgIH0pKSk7CiAgICB9OwogIH0sCiAgICAgIGFOID0gZnVuY3Rpb24gYU4oZSwgaCkgewogICAgdmFyIHYgPSBxci50aHJvdHRsZShmdW5jdGlvbiAoZSwgdCkgewogICAgICBoLl9zZWxlY3Rpb25PdmVycmlkZXMuaGlkZUZha2VDYXJldCgpLCBoLnNlbGVjdGlvbi5wbGFjZUNhcmV0QXQoZSwgdCk7CiAgICB9LCAwKTsKICAgIHJldHVybiBoLm9uKCJyZW1vdmUiLCB2LnN0b3ApLCBmdW5jdGlvbiAoZykgewogICAgICByZXR1cm4gZS5vbihmdW5jdGlvbiAoZSkgewogICAgICAgIHZhciB0LAogICAgICAgICAgICBuLAogICAgICAgICAgICByLAogICAgICAgICAgICBvLAogICAgICAgICAgICBpLAogICAgICAgICAgICBhLAogICAgICAgICAgICB1LAogICAgICAgICAgICBzLAogICAgICAgICAgICBjLAogICAgICAgICAgICBsLAogICAgICAgICAgICBmLAogICAgICAgICAgICBkLAogICAgICAgICAgICBtLAogICAgICAgICAgICBwID0gTWF0aC5tYXgoTWF0aC5hYnMoZy5zY3JlZW5YIC0gZS5zY3JlZW5YKSwgTWF0aC5hYnMoZy5zY3JlZW5ZIC0gZS5zY3JlZW5ZKSk7CgogICAgICAgIGlmICghZS5kcmFnZ2luZyAmJiAxMCA8IHApIHsKICAgICAgICAgIGlmIChoLmZpcmUoImRyYWdzdGFydCIsIHsKICAgICAgICAgICAgdGFyZ2V0OiBlLmVsZW1lbnQKICAgICAgICAgIH0pLmlzRGVmYXVsdFByZXZlbnRlZCgpKSByZXR1cm47CiAgICAgICAgICBlLmRyYWdnaW5nID0gITAsIGguZm9jdXMoKTsKICAgICAgICB9CgogICAgICAgIGUuZHJhZ2dpbmcgJiYgKGQgPSBlLCB0ID0gewogICAgICAgICAgcGFnZVg6IChtID0gdE4oaCwgZykpLnBhZ2VYIC0gZC5yZWxYLAogICAgICAgICAgcGFnZVk6IG0ucGFnZVkgKyA1CiAgICAgICAgfSwgbCA9IGUuZ2hvc3QsIGYgPSBoLmdldEJvZHkoKSwgbC5wYXJlbnROb2RlICE9PSBmICYmIGYuYXBwZW5kQ2hpbGQobCksIG4gPSBlLmdob3N0LCByID0gdCwgbyA9IGUud2lkdGgsIGkgPSBlLmhlaWdodCwgYSA9IGUubWF4WCwgdSA9IGUubWF4WSwgYyA9IHMgPSAwLCBuLnN0eWxlLmxlZnQgPSByLnBhZ2VYICsgInB4Iiwgbi5zdHlsZS50b3AgPSByLnBhZ2VZICsgInB4Iiwgci5wYWdlWCArIG8gPiBhICYmIChzID0gci5wYWdlWCArIG8gLSBhKSwgci5wYWdlWSArIGkgPiB1ICYmIChjID0gci5wYWdlWSArIGkgLSB1KSwgbi5zdHlsZS53aWR0aCA9IG8gLSBzICsgInB4Iiwgbi5zdHlsZS5oZWlnaHQgPSBpIC0gYyArICJweCIsIHYoZy5jbGllbnRYLCBnLmNsaWVudFkpKTsKICAgICAgfSk7CiAgICB9OwogIH0sCiAgICAgIHVOID0gZnVuY3Rpb24gdU4oZSwgbCkgewogICAgcmV0dXJuIGZ1bmN0aW9uIChjKSB7CiAgICAgIGUub24oZnVuY3Rpb24gKGUpIHsKICAgICAgICB2YXIgdCwgbiwgciwgbywgaSwgYSwgdSwgczsKICAgICAgICBlLmRyYWdnaW5nICYmICh1ID0gKG8gPSBsKS5zZWxlY3Rpb24sIHMgPSB1LmdldFNlbCgpLmdldFJhbmdlQXQoMCkuc3RhcnRDb250YWluZXIsIGkgPSAzID09PSBzLm5vZGVUeXBlID8gcy5wYXJlbnROb2RlIDogcywgYSA9IGUuZWxlbWVudCwgaSA9PT0gYSB8fCBvLmRvbS5pc0NoaWxkT2YoaSwgYSkgfHwgbk4oaSkgfHwgKG4gPSBlLmVsZW1lbnQsIChyID0gbi5jbG9uZU5vZGUoITApKS5yZW1vdmVBdHRyaWJ1dGUoImRhdGEtbWNlLXNlbGVjdGVkIiksIHQgPSByLCBsLmZpcmUoImRyb3AiLCB7CiAgICAgICAgICBjbGllbnRYOiBjLmNsaWVudFgsCiAgICAgICAgICBjbGllbnRZOiBjLmNsaWVudFkKICAgICAgICB9KS5pc0RlZmF1bHRQcmV2ZW50ZWQoKSB8fCBsLnVuZG9NYW5hZ2VyLnRyYW5zYWN0KGZ1bmN0aW9uICgpIHsKICAgICAgICAgIG9OKGUuZWxlbWVudCksIGwuaW5zZXJ0Q29udGVudChsLmRvbS5nZXRPdXRlckhUTUwodCkpLCBsLl9zZWxlY3Rpb25PdmVycmlkZXMuaGlkZUZha2VDYXJldCgpOwogICAgICAgIH0pKSk7CiAgICAgIH0pLCBzTihlKTsKICAgIH07CiAgfSwKICAgICAgc04gPSBmdW5jdGlvbiBzTihlKSB7CiAgICBlLm9uKGZ1bmN0aW9uIChlKSB7CiAgICAgIG9OKGUuZ2hvc3QpOwogICAgfSksIGUuY2xlYXIoKTsKICB9LAogICAgICBjTiA9IGZ1bmN0aW9uIGNOKGUpIHsKICAgIHZhciB0LAogICAgICAgIG4sCiAgICAgICAgciwKICAgICAgICBvID0gKHQgPSBPdShVLm5vbmUoKSksIHsKICAgICAgY2xlYXI6IGZ1bmN0aW9uIGNsZWFyKCkgewogICAgICAgIHJldHVybiB0LnNldChVLm5vbmUoKSk7CiAgICAgIH0sCiAgICAgIHNldDogZnVuY3Rpb24gc2V0KGUpIHsKICAgICAgICByZXR1cm4gdC5zZXQoVS5zb21lKGUpKTsKICAgICAgfSwKICAgICAgaXNTZXQ6IGZ1bmN0aW9uIGlzU2V0KCkgewogICAgICAgIHJldHVybiB0LmdldCgpLmlzU29tZSgpOwogICAgICB9LAogICAgICBvbjogZnVuY3Rpb24gb24oZSkgewogICAgICAgIHJldHVybiB0LmdldCgpLmVhY2goZSk7CiAgICAgIH0KICAgIH0pLAogICAgICAgIGkgPSBFdS5ET00sCiAgICAgICAgYSA9IGRvY3VtZW50LAogICAgICAgIHUgPSBpTihvLCBlKSwKICAgICAgICBzID0gYU4obywgZSksCiAgICAgICAgYyA9IHVOKG8sIGUpLAogICAgICAgIGwgPSAobiA9IG8sIGZ1bmN0aW9uICgpIHsKICAgICAgbi5vbihmdW5jdGlvbiAoZSkgewogICAgICAgIGUuZHJhZ2dpbmcgJiYgci5maXJlKCJkcmFnZW5kIik7CiAgICAgIH0pLCBzTihuKTsKICAgIH0pOwogICAgKHIgPSBlKS5vbigibW91c2Vkb3duIiwgdSksIGUub24oIm1vdXNlbW92ZSIsIHMpLCBlLm9uKCJtb3VzZXVwIiwgYyksIGkuYmluZChhLCAibW91c2Vtb3ZlIiwgcyksIGkuYmluZChhLCAibW91c2V1cCIsIGwpLCBlLm9uKCJyZW1vdmUiLCBmdW5jdGlvbiAoKSB7CiAgICAgIGkudW5iaW5kKGEsICJtb3VzZW1vdmUiLCBzKSwgaS51bmJpbmQoYSwgIm1vdXNldXAiLCBsKTsKICAgIH0pOwogIH0sCiAgICAgIGxOID0gZnVuY3Rpb24gbE4oZSkgewogICAgdmFyIG4sIGksIGEsIHUsIHQ7CiAgICBjTihlKSwgKG4gPSBlKS5vbigiZHJvcCIsIGZ1bmN0aW9uIChlKSB7CiAgICAgIHZhciB0ID0gInVuZGVmaW5lZCIgIT0gdHlwZW9mIGUuY2xpZW50WCA/IG4uZ2V0RG9jKCkuZWxlbWVudEZyb21Qb2ludChlLmNsaWVudFgsIGUuY2xpZW50WSkgOiBudWxsOwogICAgICAhbk4odCkgJiYgImZhbHNlIiAhPT0gbi5kb20uZ2V0Q29udGVudEVkaXRhYmxlUGFyZW50KHQpIHx8IGUucHJldmVudERlZmF1bHQoKTsKICAgIH0pLCBlLmdldFBhcmFtKCJibG9ja191bnN1cHBvcnRlZF9kcm9wIiwgITAsICJib29sZWFuIikgJiYgKGEgPSBmdW5jdGlvbiBhKGUpIHsKICAgICAgdmFyIHQ7CiAgICAgIGUuZGVmYXVsdFByZXZlbnRlZCB8fCAodCA9IGUuZGF0YVRyYW5zZmVyKSAmJiAoTSh0LnR5cGVzLCAiRmlsZXMiKSB8fCAwIDwgdC5maWxlcy5sZW5ndGgpICYmIChlLnByZXZlbnREZWZhdWx0KCksICJkcm9wIiA9PT0gZS50eXBlICYmIGNiKGksICJEcm9wcGVkIGZpbGUgdHlwZSBpcyBub3Qgc3VwcG9ydGVkIikpOwogICAgfSwgdSA9IGZ1bmN0aW9uIHUoZSkgewogICAgICB2bShpLCBlLnRhcmdldCkgJiYgYShlKTsKICAgIH0sIHQgPSBmdW5jdGlvbiB0KCkgewogICAgICB2YXIgdCA9IEV1LkRPTSwKICAgICAgICAgIG4gPSBpLmRvbSwKICAgICAgICAgIHIgPSBkb2N1bWVudCwKICAgICAgICAgIG8gPSBpLmlubGluZSA/IGkuZ2V0Qm9keSgpIDogaS5nZXREb2MoKSwKICAgICAgICAgIGUgPSBbImRyb3AiLCAiZHJhZ292ZXIiXTsKICAgICAgVyhlLCBmdW5jdGlvbiAoZSkgewogICAgICAgIHQuYmluZChyLCBlLCB1KSwgbi5iaW5kKG8sIGUsIGEpOwogICAgICB9KSwgaS5vbigicmVtb3ZlIiwgZnVuY3Rpb24gKCkgewogICAgICAgIFcoZSwgZnVuY3Rpb24gKGUpIHsKICAgICAgICAgIHQudW5iaW5kKHIsIGUsIHUpLCBuLnVuYmluZChvLCBlLCBhKTsKICAgICAgICB9KTsKICAgICAgfSk7CiAgICB9LCAoaSA9IGUpLm9uKCJpbml0IiwgZnVuY3Rpb24gKCkgewogICAgICBxci5zZXRFZGl0b3JUaW1lb3V0KGksIHQsIDApOwogICAgfSkpOwogIH0sCiAgICAgIGZOID0gSG4sCiAgICAgIGROID0gVm4sCiAgICAgIG1OID0gZnVuY3Rpb24gbU4oZSwgdCkgewogICAgcmV0dXJuIGlkKGUuZ2V0Qm9keSgpLCB0KTsKICB9LAogICAgICBwTiA9IGZ1bmN0aW9uIHBOKHUpIHsKICAgIHZhciBzLAogICAgICAgIGMgPSB1LnNlbGVjdGlvbiwKICAgICAgICBsID0gdS5kb20sCiAgICAgICAgZiA9IGwuaXNCbG9jaywKICAgICAgICBkID0gdS5nZXRCb2R5KCksCiAgICAgICAgbSA9IHFjKHUsIGQsIGYsIGZ1bmN0aW9uICgpIHsKICAgICAgcmV0dXJuIEVtKHUpOwogICAgfSksCiAgICAgICAgcCA9ICJzZWwtIiArIGwudW5pcXVlSWQoKSwKICAgICAgICBpID0gImRhdGEtbWNlLXNlbGVjdGVkIiwKICAgICAgICBnID0gZnVuY3Rpb24gZyhlKSB7CiAgICAgIHJldHVybiBlICE9PSBkICYmIChkTihlKSB8fCAkbihlKSkgJiYgbC5pc0NoaWxkT2YoZSwgZCk7CiAgICB9LAogICAgICAgIGggPSBmdW5jdGlvbiBoKGUpIHsKICAgICAgZSAmJiBjLnNldFJuZyhlKTsKICAgIH0sCiAgICAgICAgciA9IGMuZ2V0Um5nLAogICAgICAgIHYgPSBmdW5jdGlvbiB2KGUsIHQsIG4sIHIpIHsKICAgICAgcmV0dXJuIHZvaWQgMCA9PT0gciAmJiAociA9ICEwKSwgdS5maXJlKCJTaG93Q2FyZXQiLCB7CiAgICAgICAgdGFyZ2V0OiB0LAogICAgICAgIGRpcmVjdGlvbjogZSwKICAgICAgICBiZWZvcmU6IG4KICAgICAgfSkuaXNEZWZhdWx0UHJldmVudGVkKCkgPyBudWxsIDogKHIgJiYgYy5zY3JvbGxJbnRvVmlldyh0LCAtMSA9PT0gZSksIG0uc2hvdyhuLCB0KSk7CiAgICB9LAogICAgICAgIHQgPSBmdW5jdGlvbiB0KGUpIHsKICAgICAgcmV0dXJuIGJvKGUpIHx8IE5vKGUpIHx8IEVvKGUpOwogICAgfSwKICAgICAgICB5ID0gZnVuY3Rpb24geShlKSB7CiAgICAgIHJldHVybiB0KGUuc3RhcnRDb250YWluZXIpIHx8IHQoZS5lbmRDb250YWluZXIpOwogICAgfSwKICAgICAgICBiID0gZnVuY3Rpb24gYihlKSB7CiAgICAgIHZhciB0ID0gdS5zY2hlbWEuZ2V0U2hvcnRFbmRlZEVsZW1lbnRzKCksCiAgICAgICAgICBuID0gbC5jcmVhdGVSbmcoKSwKICAgICAgICAgIHIgPSBlLnN0YXJ0Q29udGFpbmVyLAogICAgICAgICAgbyA9IGUuc3RhcnRPZmZzZXQsCiAgICAgICAgICBpID0gZS5lbmRDb250YWluZXIsCiAgICAgICAgICBhID0gZS5lbmRPZmZzZXQ7CiAgICAgIHJldHVybiBoZSh0LCByLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkpID8gMCA9PT0gbyA/IG4uc2V0U3RhcnRCZWZvcmUocikgOiBuLnNldFN0YXJ0QWZ0ZXIocikgOiBuLnNldFN0YXJ0KHIsIG8pLCBoZSh0LCBpLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkpID8gMCA9PT0gYSA/IG4uc2V0RW5kQmVmb3JlKGkpIDogbi5zZXRFbmRBZnRlcihpKSA6IG4uc2V0RW5kKGksIGEpLCBuOwogICAgfSwKICAgICAgICBDID0gZnVuY3Rpb24gQyhlKSB7CiAgICAgIHZhciB0ID0gZS5jbG9uZU5vZGUoITApLAogICAgICAgICAgbiA9IHUuZmlyZSgiT2JqZWN0U2VsZWN0ZWQiLCB7CiAgICAgICAgdGFyZ2V0OiBlLAogICAgICAgIHRhcmdldENsb25lOiB0CiAgICAgIH0pOwogICAgICBpZiAobi5pc0RlZmF1bHRQcmV2ZW50ZWQoKSkgcmV0dXJuIG51bGw7CgogICAgICB2YXIgciA9IGZ1bmN0aW9uIChlLCB0LCBuKSB7CiAgICAgICAgdmFyIHIgPSB1LiQsCiAgICAgICAgICAgIG8gPSBEcihBdC5mcm9tRG9tKHUuZ2V0Qm9keSgpKSwgIiMiICsgcCkuZm9sZChmdW5jdGlvbiAoKSB7CiAgICAgICAgICByZXR1cm4gcihbXSk7CiAgICAgICAgfSwgZnVuY3Rpb24gKGUpIHsKICAgICAgICAgIHJldHVybiByKFtlLmRvbV0pOwogICAgICAgIH0pOwogICAgICAgIDAgPT09IG8ubGVuZ3RoICYmIChvID0gcignPGRpdiBkYXRhLW1jZS1ib2d1cz0iYWxsIiBjbGFzcz0ibWNlLW9mZnNjcmVlbi1zZWxlY3Rpb24iPjwvZGl2PicpLmF0dHIoImlkIiwgcCkpLmFwcGVuZFRvKHUuZ2V0Qm9keSgpKTsKICAgICAgICB2YXIgaSA9IGwuY3JlYXRlUm5nKCk7CiAgICAgICAgdCA9PT0gbiAmJiB3dC5pZSA/IChvLmVtcHR5KCkuYXBwZW5kKCc8cCBzdHlsZT0iZm9udC1zaXplOiAwIiBkYXRhLW1jZS1ib2d1cz0iYWxsIj5ceGEwPC9wPicpLmFwcGVuZCh0KSwgaS5zZXRTdGFydEFmdGVyKG9bMF0uZmlyc3RDaGlsZC5maXJzdENoaWxkKSwgaS5zZXRFbmRBZnRlcih0KSkgOiAoby5lbXB0eSgpLmFwcGVuZChsbykuYXBwZW5kKHQpLmFwcGVuZChsbyksIGkuc2V0U3RhcnQob1swXS5maXJzdENoaWxkLCAxKSwgaS5zZXRFbmQob1swXS5sYXN0Q2hpbGQsIDApKSwgby5jc3MoewogICAgICAgICAgdG9wOiBsLmdldFBvcyhlLCB1LmdldEJvZHkoKSkueQogICAgICAgIH0pLCBvWzBdLmZvY3VzKCk7CiAgICAgICAgdmFyIGEgPSBjLmdldFNlbCgpOwogICAgICAgIHJldHVybiBhLnJlbW92ZUFsbFJhbmdlcygpLCBhLmFkZFJhbmdlKGkpLCBpOwogICAgICB9KGUsIG4udGFyZ2V0Q2xvbmUsIHQpLAogICAgICAgICAgbyA9IEF0LmZyb21Eb20oZSk7CgogICAgICByZXR1cm4gVyhHdShBdC5mcm9tRG9tKHUuZ2V0Qm9keSgpKSwgIipbZGF0YS1tY2Utc2VsZWN0ZWRdIiksIGZ1bmN0aW9uIChlKSB7CiAgICAgICAgT3QobywgZSkgfHwgUW4oZSwgaSk7CiAgICAgIH0pLCBsLmdldEF0dHJpYihlLCBpKSB8fCBlLnNldEF0dHJpYnV0ZShpLCAiMSIpLCBzID0gZSwgUygpLCByOwogICAgfSwKICAgICAgICB3ID0gZnVuY3Rpb24gdyhlLCB0KSB7CiAgICAgIGlmICghZSkgcmV0dXJuIG51bGw7CgogICAgICBpZiAoZS5jb2xsYXBzZWQpIHsKICAgICAgICBpZiAoIXkoZSkpIHsKICAgICAgICAgIHZhciBuID0gdCA/IDEgOiAtMSwKICAgICAgICAgICAgICByID0gZGwobiwgZCwgZSksCiAgICAgICAgICAgICAgbyA9IHIuZ2V0Tm9kZSghdCk7CiAgICAgICAgICBpZiAoS2MobykpIHJldHVybiB2KG4sIG8sICEhdCAmJiAhci5pc0F0RW5kKCksICExKTsKICAgICAgICAgIHZhciBpID0gci5nZXROb2RlKHQpOwogICAgICAgICAgaWYgKEtjKGkpKSByZXR1cm4gdihuLCBpLCAhdCAmJiAhci5pc0F0RW5kKCksICExKTsKICAgICAgICB9CgogICAgICAgIHJldHVybiBudWxsOwogICAgICB9CgogICAgICB2YXIgYSA9IGUuc3RhcnRDb250YWluZXIsCiAgICAgICAgICB1ID0gZS5zdGFydE9mZnNldCwKICAgICAgICAgIHMgPSBlLmVuZE9mZnNldDsKICAgICAgaWYgKDMgPT09IGEubm9kZVR5cGUgJiYgMCA9PT0gdSAmJiBkTihhLnBhcmVudE5vZGUpICYmIChhID0gYS5wYXJlbnROb2RlLCB1ID0gbC5ub2RlSW5kZXgoYSksIGEgPSBhLnBhcmVudE5vZGUpLCAxICE9PSBhLm5vZGVUeXBlKSByZXR1cm4gbnVsbDsKCiAgICAgIGlmIChzID09PSB1ICsgMSAmJiBhID09PSBlLmVuZENvbnRhaW5lcikgewogICAgICAgIHZhciBjID0gYS5jaGlsZE5vZGVzW3VdOwogICAgICAgIGlmIChnKGMpKSByZXR1cm4gQyhjKTsKICAgICAgfQoKICAgICAgcmV0dXJuIG51bGw7CiAgICB9LAogICAgICAgIHggPSBmdW5jdGlvbiB4KCkgewogICAgICBzICYmIHMucmVtb3ZlQXR0cmlidXRlKGkpLCBEcihBdC5mcm9tRG9tKHUuZ2V0Qm9keSgpKSwgIiMiICsgcCkuZWFjaChwbiksIHMgPSBudWxsOwogICAgfSwKICAgICAgICBTID0gZnVuY3Rpb24gUygpIHsKICAgICAgbS5oaWRlKCk7CiAgICB9OwoKICAgIHJldHVybiB3dC5jZUZhbHNlICYmIGZ1bmN0aW9uICgpIHsKICAgICAgdS5vbigibW91c2V1cCIsIGZ1bmN0aW9uIChlKSB7CiAgICAgICAgdmFyIHQgPSByKCk7CiAgICAgICAgdC5jb2xsYXBzZWQgJiYgbmIodSwgZS5jbGllbnRYLCBlLmNsaWVudFkpICYmIGxDKHUsIHQsICExKS5lYWNoKGgpOwogICAgICB9KSwgdS5vbigiY2xpY2siLCBmdW5jdGlvbiAoZSkgewogICAgICAgIHZhciB0ID0gbU4odSwgZS50YXJnZXQpOwogICAgICAgIHQgJiYgKGROKHQpICYmIChlLnByZXZlbnREZWZhdWx0KCksIHUuZm9jdXMoKSksIGZOKHQpICYmIGwuaXNDaGlsZE9mKHQsIGMuZ2V0Tm9kZSgpKSAmJiB4KCkpOwogICAgICB9KSwgdS5vbigiYmx1ciBOZXdCbG9jayIsIHgpLCB1Lm9uKCJSZXNpemVXaW5kb3cgRnVsbHNjcmVlblN0YXRlQ2hhbmdlZCIsIG0ucmVwb3NpdGlvbik7CgogICAgICB2YXIgYSA9IGZ1bmN0aW9uIGEoZSkgewogICAgICAgIHZhciB0ID0gX2woZSk7CgogICAgICAgIGlmICghZS5maXJzdENoaWxkKSByZXR1cm4gITE7CiAgICAgICAgdmFyIG4sCiAgICAgICAgICAgIHIgPSAkcy5iZWZvcmUoZS5maXJzdENoaWxkKSwKICAgICAgICAgICAgbyA9IHQubmV4dChyKTsKICAgICAgICByZXR1cm4gbyAmJiAhKE5wKG4gPSBvKSB8fCBFcChuKSB8fCBDcChuKSB8fCB3cChuKSk7CiAgICAgIH0sCiAgICAgICAgICBpID0gZnVuY3Rpb24gaShlLCB0KSB7CiAgICAgICAgdmFyIG4sCiAgICAgICAgICAgIHIsCiAgICAgICAgICAgIG8gPSBsLmdldFBhcmVudChlLCBmKSwKICAgICAgICAgICAgaSA9IGwuZ2V0UGFyZW50KHQsIGYpOwogICAgICAgIHJldHVybiAhKCFvIHx8IGUgPT09IGkgfHwgIWwuaXNDaGlsZE9mKG8sIGkpIHx8ICExICE9PSBkTihtTih1LCBvKSkpIHx8IG8gJiYgKG4gPSBvLCByID0gaSwgIShsLmdldFBhcmVudChuLCBmKSA9PT0gbC5nZXRQYXJlbnQociwgZikpKSAmJiBhKG8pOwogICAgICB9OwoKICAgICAgdS5vbigidGFwIiwgZnVuY3Rpb24gKGUpIHsKICAgICAgICB2YXIgdCA9IGUudGFyZ2V0LAogICAgICAgICAgICBuID0gbU4odSwgdCk7CiAgICAgICAgZE4obikgPyAoZS5wcmV2ZW50RGVmYXVsdCgpLCBjQyh1LCBuKS5lYWNoKHcpKSA6IGcodCkgJiYgY0ModSwgdCkuZWFjaCh3KTsKICAgICAgfSwgITApLCB1Lm9uKCJtb3VzZWRvd24iLCBmdW5jdGlvbiAoZSkgewogICAgICAgIHZhciB0LAogICAgICAgICAgICBuLAogICAgICAgICAgICByLAogICAgICAgICAgICBvID0gZS50YXJnZXQ7CiAgICAgICAgbyAhPT0gZCAmJiAiSFRNTCIgIT09IG8ubm9kZU5hbWUgJiYgIWwuaXNDaGlsZE9mKG8sIGQpIHx8ICExID09PSBuYih1LCBlLmNsaWVudFgsIGUuY2xpZW50WSkgfHwgKCh0ID0gbU4odSwgbykpID8gZE4odCkgPyAoZS5wcmV2ZW50RGVmYXVsdCgpLCBjQyh1LCB0KS5lYWNoKHcpKSA6ICh4KCksIGZOKHQpICYmIGUuc2hpZnRLZXkgfHwgYWQoZS5jbGllbnRYLCBlLmNsaWVudFksIGMuZ2V0Um5nKCkpIHx8IChTKCksIGMucGxhY2VDYXJldEF0KGUuY2xpZW50WCwgZS5jbGllbnRZKSkpIDogZyhvKSA/IGNDKHUsIG8pLmVhY2godykgOiAhMSA9PT0gS2MobykgJiYgKHgoKSwgUygpLCAobiA9IGN4KGQsIGUuY2xpZW50WCwgZS5jbGllbnRZKSkgJiYgKGkobywgbi5ub2RlKSB8fCAoZS5wcmV2ZW50RGVmYXVsdCgpLCByID0gdigxLCBuLm5vZGUsIG4uYmVmb3JlLCAhMSksIHUuZ2V0Qm9keSgpLmZvY3VzKCksIGgocikpKSkpOwogICAgICB9KSwgdS5vbigia2V5cHJlc3MiLCBmdW5jdGlvbiAoZSkgewogICAgICAgIHVkLm1vZGlmaWVyUHJlc3NlZChlKSB8fCBkTihjLmdldE5vZGUoKSkgJiYgZS5wcmV2ZW50RGVmYXVsdCgpOwogICAgICB9KSwgdS5vbigiR2V0U2VsZWN0aW9uUmFuZ2UiLCBmdW5jdGlvbiAoZSkgewogICAgICAgIHZhciB0ID0gZS5yYW5nZTsKCiAgICAgICAgaWYgKHMpIHsKICAgICAgICAgIGlmICghcy5wYXJlbnROb2RlKSByZXR1cm4gdm9pZCAocyA9IG51bGwpOwogICAgICAgICAgKHQgPSB0LmNsb25lUmFuZ2UoKSkuc2VsZWN0Tm9kZShzKSwgZS5yYW5nZSA9IHQ7CiAgICAgICAgfQogICAgICB9KSwgdS5vbigiU2V0U2VsZWN0aW9uUmFuZ2UiLCBmdW5jdGlvbiAoZSkgewogICAgICAgIGUucmFuZ2UgPSBiKGUucmFuZ2UpOwogICAgICAgIHZhciB0ID0gdyhlLnJhbmdlLCBlLmZvcndhcmQpOwogICAgICAgIHQgJiYgKGUucmFuZ2UgPSB0KTsKICAgICAgfSk7CiAgICAgIHZhciBuLCBlLCBvOwogICAgICB1Lm9uKCJBZnRlclNldFNlbGVjdGlvblJhbmdlIiwgZnVuY3Rpb24gKGUpIHsKICAgICAgICB2YXIgdCwKICAgICAgICAgICAgbiA9IGUucmFuZ2UsCiAgICAgICAgICAgIHIgPSBuLnN0YXJ0Q29udGFpbmVyLnBhcmVudE5vZGU7CiAgICAgICAgeShuKSB8fCAibWNlcGFzdGViaW4iID09PSByLmlkIHx8IFMoKSwgdCA9IHIsIGwuaGFzQ2xhc3ModCwgIm1jZS1vZmZzY3JlZW4tc2VsZWN0aW9uIikgfHwgeCgpOwogICAgICB9KSwgdS5vbigiY29weSIsIGZ1bmN0aW9uIChlKSB7CiAgICAgICAgdmFyIHQsCiAgICAgICAgICAgIG4sCiAgICAgICAgICAgIHIgPSBlLmNsaXBib2FyZERhdGE7CiAgICAgICAgZS5pc0RlZmF1bHRQcmV2ZW50ZWQoKSB8fCAhZS5jbGlwYm9hcmREYXRhIHx8IHd0LmllIHx8ICh0ID0gKG4gPSBsLmdldChwKSkgPyBuLmdldEVsZW1lbnRzQnlUYWdOYW1lKCIqIilbMF0gOiBuKSAmJiAoZS5wcmV2ZW50RGVmYXVsdCgpLCByLmNsZWFyRGF0YSgpLCByLnNldERhdGEoInRleHQvaHRtbCIsIHQub3V0ZXJIVE1MKSwgci5zZXREYXRhKCJ0ZXh0L3BsYWluIiwgdC5vdXRlclRleHQgfHwgdC5pbm5lclRleHQpKTsKICAgICAgfSksIGxOKHUpLCBlID0genUoZnVuY3Rpb24gKCkgewogICAgICAgIHZhciBlLCB0OwogICAgICAgIG4ucmVtb3ZlZCB8fCAhbi5nZXRCb2R5KCkuY29udGFpbnMoZG9jdW1lbnQuYWN0aXZlRWxlbWVudCkgfHwgKGUgPSBuLnNlbGVjdGlvbi5nZXRSbmcoKSkuY29sbGFwc2VkICYmICh0ID0gZkMobiwgZSwgITEpLCBuLnNlbGVjdGlvbi5zZXRSbmcodCkpOwogICAgICB9LCAwKSwgKG4gPSB1KS5vbigiZm9jdXMiLCBmdW5jdGlvbiAoKSB7CiAgICAgICAgZS50aHJvdHRsZSgpOwogICAgICB9KSwgbi5vbigiYmx1ciIsIGZ1bmN0aW9uICgpIHsKICAgICAgICBlLmNhbmNlbCgpOwogICAgICB9KSwgKG8gPSB1KS5vbigiaW5pdCIsIGZ1bmN0aW9uICgpIHsKICAgICAgICBvLm9uKCJmb2N1c2luIiwgZnVuY3Rpb24gKGUpIHsKICAgICAgICAgIHZhciB0LAogICAgICAgICAgICAgIG4sCiAgICAgICAgICAgICAgciA9IGUudGFyZ2V0OwogICAgICAgICAgJG4ocikgJiYgKHQgPSBpZChvLmdldEJvZHkoKSwgciksIG4gPSBWbih0KSA/IHQgOiByLCBvLnNlbGVjdGlvbi5nZXROb2RlKCkgIT09IG4gJiYgY0MobywgbikuZWFjaChmdW5jdGlvbiAoZSkgewogICAgICAgICAgICByZXR1cm4gby5zZWxlY3Rpb24uc2V0Um5nKGUpOwogICAgICAgICAgfSkpOwogICAgICAgIH0pOwogICAgICB9KTsKICAgIH0oKSwgewogICAgICBzaG93Q2FyZXQ6IHYsCiAgICAgIHNob3dCbG9ja0NhcmV0Q29udGFpbmVyOiBmdW5jdGlvbiBzaG93QmxvY2tDYXJldENvbnRhaW5lcihlKSB7CiAgICAgICAgZS5oYXNBdHRyaWJ1dGUoImRhdGEtbWNlLWNhcmV0IikgJiYgKGtvKGUpLCBoKHIoKSksIGMuc2Nyb2xsSW50b1ZpZXcoZSkpOwogICAgICB9LAogICAgICBoaWRlRmFrZUNhcmV0OiBTLAogICAgICBkZXN0cm95OiBmdW5jdGlvbiBkZXN0cm95KCkgewogICAgICAgIG0uZGVzdHJveSgpLCBzID0gbnVsbDsKICAgICAgfQogICAgfTsKICB9LAogICAgICBnTiA9IGZ1bmN0aW9uIGdOKHUpIHsKICAgIHZhciBzLAogICAgICAgIG4sCiAgICAgICAgciwKICAgICAgICBvID0ga3QuZWFjaCwKICAgICAgICBjID0gdWQuQkFDS1NQQUNFLAogICAgICAgIGwgPSB1ZC5ERUxFVEUsCiAgICAgICAgZiA9IHUuZG9tLAogICAgICAgIGQgPSB1LnNlbGVjdGlvbiwKICAgICAgICBlID0gdS5wYXJzZXIsCiAgICAgICAgdCA9IHd0LmdlY2tvLAogICAgICAgIGkgPSB3dC5pZSwKICAgICAgICBhID0gd3Qud2Via2l0LAogICAgICAgIG0gPSAiZGF0YTp0ZXh0L21jZS1pbnRlcm5hbCwiLAogICAgICAgIHAgPSBpID8gIlRleHQiIDogIlVSTCIsCiAgICAgICAgZyA9IGZ1bmN0aW9uIGcoZSwgdCkgewogICAgICB0cnkgewogICAgICAgIHUuZ2V0RG9jKCkuZXhlY0NvbW1hbmQoZSwgITEsIHQpOwogICAgICB9IGNhdGNoIChuKSB7fQogICAgfSwKICAgICAgICBoID0gZnVuY3Rpb24gaChlKSB7CiAgICAgIHJldHVybiBlLmlzRGVmYXVsdFByZXZlbnRlZCgpOwogICAgfSwKICAgICAgICB2ID0gZnVuY3Rpb24gdigpIHsKICAgICAgdS5zaG9ydGN1dHMuYWRkKCJtZXRhK2EiLCBudWxsLCAiU2VsZWN0QWxsIik7CiAgICB9LAogICAgICAgIHkgPSBmdW5jdGlvbiB5KCkgewogICAgICB1Lm9uKCJrZXlkb3duIiwgZnVuY3Rpb24gKGUpIHsKICAgICAgICBpZiAoIWgoZSkgJiYgZS5rZXlDb2RlID09PSBjICYmIGQuaXNDb2xsYXBzZWQoKSAmJiAwID09PSBkLmdldFJuZygpLnN0YXJ0T2Zmc2V0KSB7CiAgICAgICAgICB2YXIgdCA9IGQuZ2V0Tm9kZSgpLnByZXZpb3VzU2libGluZzsKICAgICAgICAgIGlmICh0ICYmIHQubm9kZU5hbWUgJiYgInRhYmxlIiA9PT0gdC5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpKSByZXR1cm4gZS5wcmV2ZW50RGVmYXVsdCgpLCAhMTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgICAgICBiID0gZnVuY3Rpb24gYigpIHsKICAgICAgdS5pbmxpbmUgfHwgKHUuY29udGVudFN0eWxlcy5wdXNoKCJib2R5IHttaW4taGVpZ2h0OiAxNTBweH0iKSwgdS5vbigiY2xpY2siLCBmdW5jdGlvbiAoZSkgewogICAgICAgIHZhciB0OwoKICAgICAgICBpZiAoIkhUTUwiID09PSBlLnRhcmdldC5ub2RlTmFtZSkgewogICAgICAgICAgaWYgKDExIDwgd3QuaWUpIHJldHVybiB2b2lkIHUuZ2V0Qm9keSgpLmZvY3VzKCk7CiAgICAgICAgICB0ID0gdS5zZWxlY3Rpb24uZ2V0Um5nKCksIHUuZ2V0Qm9keSgpLmZvY3VzKCksIHUuc2VsZWN0aW9uLnNldFJuZyh0KSwgdS5zZWxlY3Rpb24ubm9ybWFsaXplKCksIHUubm9kZUNoYW5nZWQoKTsKICAgICAgICB9CiAgICAgIH0pKTsKICAgIH07CgogICAgcmV0dXJuIHUub24oImtleWRvd24iLCBmdW5jdGlvbiAoZSkgewogICAgICB2YXIgdDsKCiAgICAgIGlmICghaChlKSAmJiBlLmtleUNvZGUgPT09IHVkLkJBQ0tTUEFDRSkgewogICAgICAgIHZhciBuID0gKHQgPSBkLmdldFJuZygpKS5zdGFydENvbnRhaW5lciwKICAgICAgICAgICAgciA9IHQuc3RhcnRPZmZzZXQsCiAgICAgICAgICAgIG8gPSBmLmdldFJvb3QoKSwKICAgICAgICAgICAgaSA9IG47CgogICAgICAgIGlmICh0LmNvbGxhcHNlZCAmJiAwID09PSByKSB7CiAgICAgICAgICBmb3IgKDsgaSAmJiBpLnBhcmVudE5vZGUgJiYgaS5wYXJlbnROb2RlLmZpcnN0Q2hpbGQgPT09IGkgJiYgaS5wYXJlbnROb2RlICE9PSBvOykgewogICAgICAgICAgICBpID0gaS5wYXJlbnROb2RlOwogICAgICAgICAgfQoKICAgICAgICAgICJCTE9DS1FVT1RFIiA9PT0gaS50YWdOYW1lICYmICh1LmZvcm1hdHRlci50b2dnbGUoImJsb2NrcXVvdGUiLCBudWxsLCBpKSwgKHQgPSBmLmNyZWF0ZVJuZygpKS5zZXRTdGFydChuLCAwKSwgdC5zZXRFbmQobiwgMCksIGQuc2V0Um5nKHQpKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0pLCBzID0gZnVuY3Rpb24gcyhlKSB7CiAgICAgIHZhciB0ID0gZi5jcmVhdGUoImJvZHkiKSwKICAgICAgICAgIG4gPSBlLmNsb25lQ29udGVudHMoKTsKICAgICAgcmV0dXJuIHQuYXBwZW5kQ2hpbGQobiksIGQuc2VyaWFsaXplci5zZXJpYWxpemUodCwgewogICAgICAgIGZvcm1hdDogImh0bWwiCiAgICAgIH0pOwogICAgfSwgdS5vbigia2V5ZG93biIsIGZ1bmN0aW9uIChlKSB7CiAgICAgIHZhciB0LAogICAgICAgICAgbiwKICAgICAgICAgIHIsCiAgICAgICAgICBvLAogICAgICAgICAgaSwKICAgICAgICAgIGEgPSBlLmtleUNvZGU7CgogICAgICBpZiAoIWgoZSkgJiYgKGEgPT09IGwgfHwgYSA9PT0gYykpIHsKICAgICAgICBpZiAodCA9IHUuc2VsZWN0aW9uLmlzQ29sbGFwc2VkKCksIG4gPSB1LmdldEJvZHkoKSwgdCAmJiAhZi5pc0VtcHR5KG4pKSByZXR1cm47CiAgICAgICAgaWYgKCF0ICYmIChyID0gdS5zZWxlY3Rpb24uZ2V0Um5nKCksIG8gPSBzKHIpLCAoaSA9IGYuY3JlYXRlUm5nKCkpLnNlbGVjdE5vZGUodS5nZXRCb2R5KCkpLCBvICE9PSBzKGkpKSkgcmV0dXJuOwogICAgICAgIGUucHJldmVudERlZmF1bHQoKSwgdS5zZXRDb250ZW50KCIiKSwgbi5maXJzdENoaWxkICYmIGYuaXNCbG9jayhuLmZpcnN0Q2hpbGQpID8gdS5zZWxlY3Rpb24uc2V0Q3Vyc29yTG9jYXRpb24obi5maXJzdENoaWxkLCAwKSA6IHUuc2VsZWN0aW9uLnNldEN1cnNvckxvY2F0aW9uKG4sIDApLCB1Lm5vZGVDaGFuZ2VkKCk7CiAgICAgIH0KICAgIH0pLCB3dC53aW5kb3dzUGhvbmUgfHwgdS5vbigia2V5dXAgZm9jdXNpbiBtb3VzZXVwIiwgZnVuY3Rpb24gKGUpIHsKICAgICAgdWQubW9kaWZpZXJQcmVzc2VkKGUpIHx8IGQubm9ybWFsaXplKCk7CiAgICB9LCAhMCksIGEgJiYgKHUuaW5saW5lIHx8IGYuYmluZCh1LmdldERvYygpLCAibW91c2Vkb3duIG1vdXNldXAiLCBmdW5jdGlvbiAoZSkgewogICAgICB2YXIgdDsKICAgICAgaWYgKGUudGFyZ2V0ID09PSB1LmdldERvYygpLmRvY3VtZW50RWxlbWVudCkgaWYgKHQgPSBkLmdldFJuZygpLCB1LmdldEJvZHkoKS5mb2N1cygpLCAibW91c2Vkb3duIiA9PT0gZS50eXBlKSB7CiAgICAgICAgaWYgKGJvKHQuc3RhcnRDb250YWluZXIpKSByZXR1cm47CiAgICAgICAgZC5wbGFjZUNhcmV0QXQoZS5jbGllbnRYLCBlLmNsaWVudFkpOwogICAgICB9IGVsc2UgZC5zZXRSbmcodCk7CiAgICB9KSwgdS5vbigiY2xpY2siLCBmdW5jdGlvbiAoZSkgewogICAgICB2YXIgdCA9IGUudGFyZ2V0OwogICAgICAvXihJTUd8SFIpJC8udGVzdCh0Lm5vZGVOYW1lKSAmJiAiZmFsc2UiICE9PSBmLmdldENvbnRlbnRFZGl0YWJsZVBhcmVudCh0KSAmJiAoZS5wcmV2ZW50RGVmYXVsdCgpLCB1LnNlbGVjdGlvbi5zZWxlY3QodCksIHUubm9kZUNoYW5nZWQoKSksICJBIiA9PT0gdC5ub2RlTmFtZSAmJiBmLmhhc0NsYXNzKHQsICJtY2UtaXRlbS1hbmNob3IiKSAmJiAoZS5wcmV2ZW50RGVmYXVsdCgpLCBkLnNlbGVjdCh0KSk7CiAgICB9KSwgdmModSkgJiYgdS5vbigiaW5pdCIsIGZ1bmN0aW9uICgpIHsKICAgICAgZygiRGVmYXVsdFBhcmFncmFwaFNlcGFyYXRvciIsIHZjKHUpKTsKICAgIH0pLCB1Lm9uKCJpbml0IiwgZnVuY3Rpb24gKCkgewogICAgICB1LmRvbS5iaW5kKHUuZ2V0Qm9keSgpLCAic3VibWl0IiwgZnVuY3Rpb24gKGUpIHsKICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7CiAgICAgIH0pOwogICAgfSksIHkoKSwgZS5hZGROb2RlRmlsdGVyKCJiciIsIGZ1bmN0aW9uIChlKSB7CiAgICAgIGZvciAodmFyIHQgPSBlLmxlbmd0aDsgdC0tOykgewogICAgICAgICJBcHBsZS1pbnRlcmNoYW5nZS1uZXdsaW5lIiA9PT0gZVt0XS5hdHRyKCJjbGFzcyIpICYmIGVbdF0ucmVtb3ZlKCk7CiAgICAgIH0KICAgIH0pLCB3dC5pT1MgPyAodS5pbmxpbmUgfHwgdS5vbigia2V5ZG93biIsIGZ1bmN0aW9uICgpIHsKICAgICAgZG9jdW1lbnQuYWN0aXZlRWxlbWVudCA9PT0gZG9jdW1lbnQuYm9keSAmJiB1LmdldFdpbigpLmZvY3VzKCk7CiAgICB9KSwgYigpLCB1Lm9uKCJjbGljayIsIGZ1bmN0aW9uIChlKSB7CiAgICAgIHZhciB0ID0gZS50YXJnZXQ7CgogICAgICBkbyB7CiAgICAgICAgaWYgKCJBIiA9PT0gdC50YWdOYW1lKSByZXR1cm4gdm9pZCBlLnByZXZlbnREZWZhdWx0KCk7CiAgICAgIH0gd2hpbGUgKHQgPSB0LnBhcmVudE5vZGUpOwogICAgfSksIHUuY29udGVudFN0eWxlcy5wdXNoKCIubWNlLWNvbnRlbnQtYm9keSB7LXdlYmtpdC10b3VjaC1jYWxsb3V0OiBub25lfSIpKSA6IHYoKSksIDExIDw9IHd0LmllICYmIChiKCksIHkoKSksIHd0LmllICYmICh2KCksIGcoIkF1dG9VcmxEZXRlY3QiLCAhMSksIHUub24oImRyYWdzdGFydCIsIGZ1bmN0aW9uIChlKSB7CiAgICAgIHZhciB0LCBuLCByOwogICAgICAodCA9IGUpLmRhdGFUcmFuc2ZlciAmJiAodS5zZWxlY3Rpb24uaXNDb2xsYXBzZWQoKSAmJiAiSU1HIiA9PT0gdC50YXJnZXQudGFnTmFtZSAmJiBkLnNlbGVjdCh0LnRhcmdldCksIDAgPCAobiA9IHUuc2VsZWN0aW9uLmdldENvbnRlbnQoKSkubGVuZ3RoICYmIChyID0gbSArIGVzY2FwZSh1LmlkKSArICIsIiArIGVzY2FwZShuKSwgdC5kYXRhVHJhbnNmZXIuc2V0RGF0YShwLCByKSkpOwogICAgfSksIHUub24oImRyb3AiLCBmdW5jdGlvbiAoZSkgewogICAgICB2YXIgdCwgbiwgciwgbywgaSwgYTsKICAgICAgaChlKSB8fCAodCA9IChpID0gZSkuZGF0YVRyYW5zZmVyICYmIChhID0gaS5kYXRhVHJhbnNmZXIuZ2V0RGF0YShwKSkgJiYgMCA8PSBhLmluZGV4T2YobSkgPyAoYSA9IGEuc3Vic3RyKG0ubGVuZ3RoKS5zcGxpdCgiLCIpLCB7CiAgICAgICAgaWQ6IHVuZXNjYXBlKGFbMF0pLAogICAgICAgIGh0bWw6IHVuZXNjYXBlKGFbMV0pCiAgICAgIH0pIDogbnVsbCkgJiYgdC5pZCAhPT0gdS5pZCAmJiAoZS5wcmV2ZW50RGVmYXVsdCgpLCBuID0gZmQoZS54LCBlLnksIHUuZ2V0RG9jKCkpLCBkLnNldFJuZyhuKSwgciA9IHQuaHRtbCwgbyA9ICEwLCB1LnF1ZXJ5Q29tbWFuZFN1cHBvcnRlZCgibWNlSW5zZXJ0Q2xpcGJvYXJkQ29udGVudCIpID8gdS5leGVjQ29tbWFuZCgibWNlSW5zZXJ0Q2xpcGJvYXJkQ29udGVudCIsICExLCB7CiAgICAgICAgY29udGVudDogciwKICAgICAgICBpbnRlcm5hbDogbwogICAgICB9KSA6IHUuZXhlY0NvbW1hbmQoIm1jZUluc2VydENvbnRlbnQiLCAhMSwgcikpOwogICAgfSkpLCB0ICYmICh1Lm9uKCJrZXlkb3duIiwgZnVuY3Rpb24gKGUpIHsKICAgICAgaWYgKCFoKGUpICYmIGUua2V5Q29kZSA9PT0gYykgewogICAgICAgIGlmICghdS5nZXRCb2R5KCkuZ2V0RWxlbWVudHNCeVRhZ05hbWUoImhyIikubGVuZ3RoKSByZXR1cm47CgogICAgICAgIGlmIChkLmlzQ29sbGFwc2VkKCkgJiYgMCA9PT0gZC5nZXRSbmcoKS5zdGFydE9mZnNldCkgewogICAgICAgICAgdmFyIHQgPSBkLmdldE5vZGUoKSwKICAgICAgICAgICAgICBuID0gdC5wcmV2aW91c1NpYmxpbmc7CiAgICAgICAgICBpZiAoIkhSIiA9PT0gdC5ub2RlTmFtZSkgcmV0dXJuIGYucmVtb3ZlKHQpLCB2b2lkIGUucHJldmVudERlZmF1bHQoKTsKICAgICAgICAgIG4gJiYgbi5ub2RlTmFtZSAmJiAiaHIiID09PSBuLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkgJiYgKGYucmVtb3ZlKG4pLCBlLnByZXZlbnREZWZhdWx0KCkpOwogICAgICAgIH0KICAgICAgfQogICAgfSksIFJhbmdlLnByb3RvdHlwZS5nZXRDbGllbnRSZWN0cyB8fCB1Lm9uKCJtb3VzZWRvd24iLCBmdW5jdGlvbiAoZSkgewogICAgICB2YXIgdDsKICAgICAgaChlKSB8fCAiSFRNTCIgIT09IGUudGFyZ2V0Lm5vZGVOYW1lIHx8ICgodCA9IHUuZ2V0Qm9keSgpKS5ibHVyKCksIHFyLnNldEVkaXRvclRpbWVvdXQodSwgZnVuY3Rpb24gKCkgewogICAgICAgIHQuZm9jdXMoKTsKICAgICAgfSkpOwogICAgfSksIG4gPSBmdW5jdGlvbiBuKCkgewogICAgICB2YXIgZSA9IGYuZ2V0QXR0cmlicyhkLmdldFN0YXJ0KCkuY2xvbmVOb2RlKCExKSk7CiAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7CiAgICAgICAgdmFyIHQgPSBkLmdldFN0YXJ0KCk7CiAgICAgICAgdCAhPT0gdS5nZXRCb2R5KCkgJiYgKGYuc2V0QXR0cmliKHQsICJzdHlsZSIsIG51bGwpLCBvKGUsIGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICB0LnNldEF0dHJpYnV0ZU5vZGUoZS5jbG9uZU5vZGUoITApKTsKICAgICAgICB9KSk7CiAgICAgIH07CiAgICB9LCByID0gZnVuY3Rpb24gcigpIHsKICAgICAgcmV0dXJuICFkLmlzQ29sbGFwc2VkKCkgJiYgZi5nZXRQYXJlbnQoZC5nZXRTdGFydCgpLCBmLmlzQmxvY2spICE9PSBmLmdldFBhcmVudChkLmdldEVuZCgpLCBmLmlzQmxvY2spOwogICAgfSwgdS5vbigia2V5cHJlc3MiLCBmdW5jdGlvbiAoZSkgewogICAgICB2YXIgdDsKICAgICAgaWYgKCFoKGUpICYmICg4ID09PSBlLmtleUNvZGUgfHwgNDYgPT09IGUua2V5Q29kZSkgJiYgcigpKSByZXR1cm4gdCA9IG4oKSwgdS5nZXREb2MoKS5leGVjQ29tbWFuZCgiZGVsZXRlIiwgITEsIG51bGwpLCB0KCksIGUucHJldmVudERlZmF1bHQoKSwgITE7CiAgICB9KSwgZi5iaW5kKHUuZ2V0RG9jKCksICJjdXQiLCBmdW5jdGlvbiAoZSkgewogICAgICB2YXIgdDsKICAgICAgIWgoZSkgJiYgcigpICYmICh0ID0gbigpLCBxci5zZXRFZGl0b3JUaW1lb3V0KHUsIGZ1bmN0aW9uICgpIHsKICAgICAgICB0KCk7CiAgICAgIH0pKTsKICAgIH0pLCB1LmdldFBhcmFtKCJyZWFkb25seSIpIHx8IHUub24oIkJlZm9yZUV4ZWNDb21tYW5kIG1vdXNlZG93biIsIGZ1bmN0aW9uICgpIHsKICAgICAgZygiU3R5bGVXaXRoQ1NTIiwgITEpLCBnKCJlbmFibGVJbmxpbmVUYWJsZUVkaXRpbmciLCAhMSksIE5jKHUpIHx8IGcoImVuYWJsZU9iamVjdFJlc2l6aW5nIiwgITEpOwogICAgfSksIHUub24oIlNldENvbnRlbnQgRXhlY0NvbW1hbmQiLCBmdW5jdGlvbiAoZSkgewogICAgICAic2V0Y29udGVudCIgIT09IGUudHlwZSAmJiAibWNlSW5zZXJ0TGluayIgIT09IGUuY29tbWFuZCB8fCBvKGYuc2VsZWN0KCJhIiksIGZ1bmN0aW9uIChlKSB7CiAgICAgICAgdmFyIHQgPSBlLnBhcmVudE5vZGUsCiAgICAgICAgICAgIG4gPSBmLmdldFJvb3QoKTsKCiAgICAgICAgaWYgKHQubGFzdENoaWxkID09PSBlKSB7CiAgICAgICAgICBmb3IgKDsgdCAmJiAhZi5pc0Jsb2NrKHQpOykgewogICAgICAgICAgICBpZiAodC5wYXJlbnROb2RlLmxhc3RDaGlsZCAhPT0gdCB8fCB0ID09PSBuKSByZXR1cm47CiAgICAgICAgICAgIHQgPSB0LnBhcmVudE5vZGU7CiAgICAgICAgICB9CgogICAgICAgICAgZi5hZGQodCwgImJyIiwgewogICAgICAgICAgICAiZGF0YS1tY2UtYm9ndXMiOiAxCiAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSksIHUuY29udGVudFN0eWxlcy5wdXNoKCJpbWc6LW1vei1icm9rZW4gey1tb3otZm9yY2UtYnJva2VuLWltYWdlLWljb246MTttaW4td2lkdGg6MjRweDttaW4taGVpZ2h0OjI0cHh9IiksIHd0Lm1hYyAmJiB1Lm9uKCJrZXlkb3duIiwgZnVuY3Rpb24gKGUpIHsKICAgICAgIXVkLm1ldGFLZXlQcmVzc2VkKGUpIHx8IGUuc2hpZnRLZXkgfHwgMzcgIT09IGUua2V5Q29kZSAmJiAzOSAhPT0gZS5rZXlDb2RlIHx8IChlLnByZXZlbnREZWZhdWx0KCksIHUuc2VsZWN0aW9uLmdldFNlbCgpLm1vZGlmeSgibW92ZSIsIDM3ID09PSBlLmtleUNvZGUgPyAiYmFja3dhcmQiIDogImZvcndhcmQiLCAibGluZWJvdW5kYXJ5IikpOwogICAgfSksIHkoKSksIHsKICAgICAgcmVmcmVzaENvbnRlbnRFZGl0YWJsZTogZnVuY3Rpb24gcmVmcmVzaENvbnRlbnRFZGl0YWJsZSgpIHt9LAogICAgICBpc0hpZGRlbjogZnVuY3Rpb24gaXNIaWRkZW4oKSB7CiAgICAgICAgaWYgKCF0IHx8IHUucmVtb3ZlZCkgcmV0dXJuICExOwogICAgICAgIHZhciBlID0gdS5zZWxlY3Rpb24uZ2V0U2VsKCk7CiAgICAgICAgcmV0dXJuICFlIHx8ICFlLnJhbmdlQ291bnQgfHwgMCA9PT0gZS5yYW5nZUNvdW50OwogICAgICB9CiAgICB9OwogIH0sCiAgICAgIGhOID0gRXUuRE9NLAogICAgICB2TiA9IGZ1bmN0aW9uIHZOKGUpIHsKICAgIHJldHVybiBtZShlLCBmdW5jdGlvbiAoZSkgewogICAgICByZXR1cm4gITEgPT09IFIoZSk7CiAgICB9KTsKICB9LAogICAgICB5TiA9IGZ1bmN0aW9uIHlOKGUpIHsKICAgIHZhciB0LAogICAgICAgIG4gPSBlLnNldHRpbmdzLAogICAgICAgIHIgPSBlLmVkaXRvclVwbG9hZC5ibG9iQ2FjaGU7CiAgICByZXR1cm4gdk4oewogICAgICBhbGxvd19jb25kaXRpb25hbF9jb21tZW50czogbi5hbGxvd19jb25kaXRpb25hbF9jb21tZW50cywKICAgICAgYWxsb3dfaHRtbF9kYXRhX3VybHM6IG4uYWxsb3dfaHRtbF9kYXRhX3VybHMsCiAgICAgIGFsbG93X3N2Z19kYXRhX3VybHM6IG4uYWxsb3dfc3ZnX2RhdGFfdXJscywKICAgICAgYWxsb3dfaHRtbF9pbl9uYW1lZF9hbmNob3I6IG4uYWxsb3dfaHRtbF9pbl9uYW1lZF9hbmNob3IsCiAgICAgIGFsbG93X3NjcmlwdF91cmxzOiBuLmFsbG93X3NjcmlwdF91cmxzLAogICAgICBhbGxvd191bnNhZmVfbGlua190YXJnZXQ6IG4uYWxsb3dfdW5zYWZlX2xpbmtfdGFyZ2V0LAogICAgICBjb252ZXJ0X2ZvbnRzX3RvX3NwYW5zOiBuLmNvbnZlcnRfZm9udHNfdG9fc3BhbnMsCiAgICAgIGZpeF9saXN0X2VsZW1lbnRzOiBuLmZpeF9saXN0X2VsZW1lbnRzLAogICAgICBmb250X3NpemVfbGVnYWN5X3ZhbHVlczogbi5mb250X3NpemVfbGVnYWN5X3ZhbHVlcywKICAgICAgZm9yY2VkX3Jvb3RfYmxvY2s6IG4uZm9yY2VkX3Jvb3RfYmxvY2ssCiAgICAgIGZvcmNlZF9yb290X2Jsb2NrX2F0dHJzOiBuLmZvcmNlZF9yb290X2Jsb2NrX2F0dHJzLAogICAgICBwYWRkX2VtcHR5X3dpdGhfYnI6IG4ucGFkZF9lbXB0eV93aXRoX2JyLAogICAgICBwcmVzZXJ2ZV9jZGF0YTogbi5wcmVzZXJ2ZV9jZGF0YSwKICAgICAgcmVtb3ZlX3RyYWlsaW5nX2Jyczogbi5yZW1vdmVfdHJhaWxpbmdfYnJzLAogICAgICBpbmxpbmVfc3R5bGVzOiBuLmlubGluZV9zdHlsZXMsCiAgICAgIHJvb3RfbmFtZTogKHQgPSBlKS5pbmxpbmUgPyB0LmdldEVsZW1lbnQoKS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpIDogdW5kZWZpbmVkLAogICAgICB2YWxpZGF0ZTogITAsCiAgICAgIGJsb2JfY2FjaGU6IHIsCiAgICAgIGltYWdlc19kYXRhaW1nX2ZpbHRlcjogbi5pbWFnZXNfZGF0YWltZ19maWx0ZXIKICAgIH0pOwogIH0sCiAgICAgIGJOID0gZnVuY3Rpb24gYk4odSkgewogICAgdmFyIGUgPSB1LmRvbS5nZXRSb290KCk7CiAgICB1LmlubGluZSB8fCBWZih1KSAmJiB1LnNlbGVjdGlvbi5nZXRTdGFydCghMCkgIT09IGUgfHwgRmwoZSkuZWFjaChmdW5jdGlvbiAoZSkgewogICAgICB2YXIgdCwKICAgICAgICAgIG4sCiAgICAgICAgICByLAogICAgICAgICAgbywKICAgICAgICAgIGkgPSBlLmdldE5vZGUoKSwKICAgICAgICAgIGEgPSBCbihpKSA/IEZsKGkpLmdldE9yKGUpIDogZTsKICAgICAgd3QuYnJvd3Nlci5pc0lFKCkgPyAodCA9IHUsIG4gPSBhLnRvUmFuZ2UoKSwgciA9IEF0LmZyb21Eb20odC5nZXRCb2R5KCkpLCBvID0gKHVtKHQpID8gVS5mcm9tKG4pIDogVS5ub25lKCkpLm1hcChzbSkuZmlsdGVyKGFtKHIpKSwgdC5ib29rbWFyayA9IG8uaXNTb21lKCkgPyBvIDogdC5ib29rbWFyaykgOiB1LnNlbGVjdGlvbi5zZXRSbmcoYS50b1JhbmdlKCkpOwogICAgfSk7CiAgfSwKICAgICAgQ04gPSBmdW5jdGlvbiBDTihlKSB7CiAgICB2YXIgdDsKICAgIGUuYmluZFBlbmRpbmdFdmVudERlbGVnYXRlcygpLCBlLmluaXRpYWxpemVkID0gITAsIGUuZmlyZSgiSW5pdCIpLCBlLmZvY3VzKCEwKSwgYk4oZSksIGUubm9kZUNoYW5nZWQoewogICAgICBpbml0aWFsOiAhMAogICAgfSksIGUuZXhlY0NhbGxiYWNrKCJpbml0X2luc3RhbmNlX2NhbGxiYWNrIiwgZSksICh0ID0gZSkuc2V0dGluZ3MuYXV0b19mb2N1cyAmJiBxci5zZXRFZGl0b3JUaW1lb3V0KHQsIGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIGUgPSAhMCA9PT0gdC5zZXR0aW5ncy5hdXRvX2ZvY3VzID8gdCA6IHQuZWRpdG9yTWFuYWdlci5nZXQodC5zZXR0aW5ncy5hdXRvX2ZvY3VzKTsKICAgICAgZS5kZXN0cm95ZWQgfHwgZS5mb2N1cygpOwogICAgfSwgMTAwKTsKICB9LAogICAgICB3TiA9IGZ1bmN0aW9uIHdOKHQsIGUpIHsKICAgIHZhciBuID0gdC5zZXR0aW5ncywKICAgICAgICByID0gdC5nZXREb2MoKSwKICAgICAgICBvID0gdC5nZXRCb2R5KCk7CiAgICBuLmJyb3dzZXJfc3BlbGxjaGVjayB8fCBuLmdlY2tvX3NwZWxsY2hlY2sgfHwgKHIuYm9keS5zcGVsbGNoZWNrID0gITEsIGhOLnNldEF0dHJpYihvLCAic3BlbGxjaGVjayIsICJmYWxzZSIpKSwgdC5xdWlya3MgPSBnTih0KSwgdC5maXJlKCJQb3N0UmVuZGVyIik7CiAgICB2YXIgaSwKICAgICAgICBhLAogICAgICAgIHUsCiAgICAgICAgcywKICAgICAgICBjLAogICAgICAgIGwsCiAgICAgICAgZiwKICAgICAgICBkLAogICAgICAgIG0sCiAgICAgICAgcCwKICAgICAgICBnLAogICAgICAgIGggPSB0LmdldFBhcmFtKCJkaXJlY3Rpb25hbGl0eSIsIEl1LmlzUnRsKCkgPyAicnRsIiA6IHVuZGVmaW5lZCk7CiAgICBoICE9PSB1bmRlZmluZWQgJiYgKG8uZGlyID0gaCksIG4ucHJvdGVjdCAmJiB0Lm9uKCJCZWZvcmVTZXRDb250ZW50IiwgZnVuY3Rpb24gKHQpIHsKICAgICAga3QuZWFjaChuLnByb3RlY3QsIGZ1bmN0aW9uIChlKSB7CiAgICAgICAgdC5jb250ZW50ID0gdC5jb250ZW50LnJlcGxhY2UoZSwgZnVuY3Rpb24gKGUpIHsKICAgICAgICAgIHJldHVybiAiXHgzYyEtLW1jZTpwcm90ZWN0ZWQgIiArIGVzY2FwZShlKSArICItLVx4M2UiOwogICAgICAgIH0pOwogICAgICB9KTsKICAgIH0pLCB0Lm9uKCJTZXRDb250ZW50IiwgZnVuY3Rpb24gKCkgewogICAgICB0LmFkZFZpc3VhbCh0LmdldEJvZHkoKSk7CiAgICB9KSwgITEgPT09IGUgJiYgdC5sb2FkKHsKICAgICAgaW5pdGlhbDogITAsCiAgICAgIGZvcm1hdDogImh0bWwiCiAgICB9KSwgdC5zdGFydENvbnRlbnQgPSB0LmdldENvbnRlbnQoewogICAgICBmb3JtYXQ6ICJyYXciCiAgICB9KSwgdC5vbigiY29tcG9zaXRpb25zdGFydCBjb21wb3NpdGlvbmVuZCIsIGZ1bmN0aW9uIChlKSB7CiAgICAgIHQuY29tcG9zaW5nID0gImNvbXBvc2l0aW9uc3RhcnQiID09PSBlLnR5cGU7CiAgICB9KSwgMCA8IHQuY29udGVudFN0eWxlcy5sZW5ndGggJiYgKGkgPSAiIiwga3QuZWFjaCh0LmNvbnRlbnRTdHlsZXMsIGZ1bmN0aW9uIChlKSB7CiAgICAgIGkgKz0gZSArICJcclxuIjsKICAgIH0pLCB0LmRvbS5hZGRTdHlsZShpKSksIHUgPSAoYSA9IHQpLmNvbnRlbnRDU1MsIGMgPSAocyA9IGEpLmlubGluZSA/IHMudWkuc3R5bGVTaGVldExvYWRlciA6IHMuZG9tLnN0eWxlU2hlZXRMb2FkZXIsIGwgPSBmdW5jdGlvbiBsKCkgewogICAgICBhLm9uKCJyZW1vdmUiLCBmdW5jdGlvbiAoKSB7CiAgICAgICAgcmV0dXJuIGMudW5sb2FkQWxsKHUpOwogICAgICB9KSwgQ04oYSk7CiAgICB9LCBjLmxvYWRBbGwodSwgbCwgbCksIG4uY29udGVudF9zdHlsZSAmJiAoZiA9IHQsIGQgPSBuLmNvbnRlbnRfc3R5bGUsIG0gPSBBdC5mcm9tRG9tKGYuZ2V0Qm9keSgpKSwgcCA9IG9uKHJuKG0pKSwgZyA9IEF0LmZyb21UYWcoInN0eWxlIiksIFhuKGcsICJ0eXBlIiwgInRleHQvY3NzIiksIGZuKGcsIEF0LmZyb21UZXh0KGQpKSwgZm4ocCwgZyksIGYub24oInJlbW92ZSIsIGZ1bmN0aW9uICgpIHsKICAgICAgcG4oZyk7CiAgICB9KSk7CiAgfSwKICAgICAgeE4gPSBmdW5jdGlvbiB4Tih0LCBlKSB7CiAgICB2YXIgbiA9IHQuc2V0dGluZ3MsCiAgICAgICAgciA9IHQuZ2V0RWxlbWVudCgpLAogICAgICAgIG8gPSB0LmdldERvYygpOwogICAgbi5pbmxpbmUgfHwgKHQuZ2V0RWxlbWVudCgpLnN0eWxlLnZpc2liaWxpdHkgPSB0Lm9yZ1Zpc2liaWxpdHkpLCBlIHx8IHQuaW5saW5lIHx8IChvLm9wZW4oKSwgby53cml0ZSh0LmlmcmFtZUhUTUwpLCBvLmNsb3NlKCkpLCB0LmlubGluZSAmJiAoaE4uYWRkQ2xhc3MociwgIm1jZS1jb250ZW50LWJvZHkiKSwgdC5jb250ZW50RG9jdW1lbnQgPSBvID0gZG9jdW1lbnQsIHQuY29udGVudFdpbmRvdyA9IHdpbmRvdywgdC5ib2R5RWxlbWVudCA9IHIsIHQuY29udGVudEFyZWFDb250YWluZXIgPSByKTsKICAgIHZhciB1LAogICAgICAgIGksCiAgICAgICAgYSwKICAgICAgICBzLAogICAgICAgIGMgPSB0LmdldEJvZHkoKTsKICAgIGMuZGlzYWJsZWQgPSAhMCwgdC5yZWFkb25seSA9ICEhbi5yZWFkb25seSwgdC5yZWFkb25seSB8fCAodC5pbmxpbmUgJiYgInN0YXRpYyIgPT09IGhOLmdldFN0eWxlKGMsICJwb3NpdGlvbiIsICEwKSAmJiAoYy5zdHlsZS5wb3NpdGlvbiA9ICJyZWxhdGl2ZSIpLCBjLmNvbnRlbnRFZGl0YWJsZSA9IHQuZ2V0UGFyYW0oImNvbnRlbnRfZWRpdGFibGVfc3RhdGUiLCAhMCkpLCBjLmRpc2FibGVkID0gITEsIHQuZWRpdG9yVXBsb2FkID0geWIodCksIHQuc2NoZW1hID0gQ2kobiksIHQuZG9tID0gRXUobywgewogICAgICBrZWVwX3ZhbHVlczogITAsCiAgICAgIHVybF9jb252ZXJ0ZXI6IHQuY29udmVydFVSTCwKICAgICAgdXJsX2NvbnZlcnRlcl9zY29wZTogdCwKICAgICAgaGV4X2NvbG9yczogbi5mb3JjZV9oZXhfc3R5bGVfY29sb3JzLAogICAgICB1cGRhdGVfc3R5bGVzOiAhMCwKICAgICAgcm9vdF9lbGVtZW50OiB0LmlubGluZSA/IHQuZ2V0Qm9keSgpIDogbnVsbCwKICAgICAgY29sbGVjdDogZnVuY3Rpb24gY29sbGVjdCgpIHsKICAgICAgICByZXR1cm4gdC5pbmxpbmU7CiAgICAgIH0sCiAgICAgIHNjaGVtYTogdC5zY2hlbWEsCiAgICAgIGNvbnRlbnRDc3NDb3JzOiB0LmdldFBhcmFtKCJjb250ZW50X2Nzc19jb3JzIiwgITEsICJib29sZWFuIiksCiAgICAgIHJlZmVycmVyUG9saWN5OiB3Yyh0KSwKICAgICAgb25TZXRBdHRyaWI6IGZ1bmN0aW9uIG9uU2V0QXR0cmliKGUpIHsKICAgICAgICB0LmZpcmUoIlNldEF0dHJpYiIsIGUpOwogICAgICB9CiAgICB9KSwgdC5wYXJzZXIgPSAoKGkgPSBieSh5Tih1ID0gdCksIHUuc2NoZW1hKSkuYWRkQXR0cmlidXRlRmlsdGVyKCJzcmMsaHJlZixzdHlsZSx0YWJpbmRleCIsIGZ1bmN0aW9uIChlLCB0KSB7CiAgICAgIGZvciAodmFyIG4sIHIsIG8gPSBlLmxlbmd0aCwgaSA9IHUuZG9tLCBhID0gImRhdGEtbWNlLSIgKyB0OyBvLS07KSB7CiAgICAgICAgaWYgKChyID0gKG4gPSBlW29dKS5hdHRyKHQpKSAmJiAhbi5hdHRyKGEpKSB7CiAgICAgICAgICBpZiAoMCA9PT0gci5pbmRleE9mKCJkYXRhOiIpIHx8IDAgPT09IHIuaW5kZXhPZigiYmxvYjoiKSkgY29udGludWU7CiAgICAgICAgICAic3R5bGUiID09PSB0ID8gKChyID0gaS5zZXJpYWxpemVTdHlsZShpLnBhcnNlU3R5bGUociksIG4ubmFtZSkpLmxlbmd0aCB8fCAociA9IG51bGwpLCBuLmF0dHIoYSwgciksIG4uYXR0cih0LCByKSkgOiAidGFiaW5kZXgiID09PSB0ID8gKG4uYXR0cihhLCByKSwgbi5hdHRyKHQsIG51bGwpKSA6IG4uYXR0cihhLCB1LmNvbnZlcnRVUkwociwgdCwgbi5uYW1lKSk7CiAgICAgICAgfQogICAgICB9CiAgICB9KSwgaS5hZGROb2RlRmlsdGVyKCJzY3JpcHQiLCBmdW5jdGlvbiAoZSkgewogICAgICBmb3IgKHZhciB0ID0gZS5sZW5ndGg7IHQtLTspIHsKICAgICAgICB2YXIgbiA9IGVbdF0sCiAgICAgICAgICAgIHIgPSBuLmF0dHIoInR5cGUiKSB8fCAibm8vdHlwZSI7CiAgICAgICAgMCAhPT0gci5pbmRleE9mKCJtY2UtIikgJiYgbi5hdHRyKCJ0eXBlIiwgIm1jZS0iICsgcik7CiAgICAgIH0KICAgIH0pLCB1LnNldHRpbmdzLnByZXNlcnZlX2NkYXRhICYmIGkuYWRkTm9kZUZpbHRlcigiI2NkYXRhIiwgZnVuY3Rpb24gKGUpIHsKICAgICAgZm9yICh2YXIgdCA9IGUubGVuZ3RoOyB0LS07KSB7CiAgICAgICAgdmFyIG4gPSBlW3RdOwogICAgICAgIG4udHlwZSA9IDgsIG4ubmFtZSA9ICIjY29tbWVudCIsIG4udmFsdWUgPSAiW0NEQVRBWyIgKyB1LmRvbS5lbmNvZGUobi52YWx1ZSkgKyAiXV0iOwogICAgICB9CiAgICB9KSwgaS5hZGROb2RlRmlsdGVyKCJwLGgxLGgyLGgzLGg0LGg1LGg2LGRpdiIsIGZ1bmN0aW9uIChlKSB7CiAgICAgIGZvciAodmFyIHQgPSBlLmxlbmd0aCwgbiA9IHUuc2NoZW1hLmdldE5vbkVtcHR5RWxlbWVudHMoKTsgdC0tOykgewogICAgICAgIHZhciByID0gZVt0XTsKICAgICAgICByLmlzRW1wdHkobikgJiYgMCA9PT0gci5nZXRBbGwoImJyIikubGVuZ3RoICYmIChyLmFwcGVuZChuZXcgS20oImJyIiwgMSkpLnNob3J0RW5kZWQgPSAhMCk7CiAgICAgIH0KICAgIH0pLCBpKSwgdC5zZXJpYWxpemVyID0gTnkoKHMgPSAoYSA9IHQpLnNldHRpbmdzLCBfa2UoX2tlKHt9LCB5TihhKSksIHZOKHsKICAgICAgdXJsX2NvbnZlcnRlcjogcy51cmxfY29udmVydGVyLAogICAgICB1cmxfY29udmVydGVyX3Njb3BlOiBzLnVybF9jb252ZXJ0ZXJfc2NvcGUsCiAgICAgIGVsZW1lbnRfZm9ybWF0OiBzLmVsZW1lbnRfZm9ybWF0LAogICAgICBlbnRpdGllczogcy5lbnRpdGllcywKICAgICAgZW50aXR5X2VuY29kaW5nOiBzLmVudGl0eV9lbmNvZGluZywKICAgICAgaW5kZW50OiBzLmluZGVudCwKICAgICAgaW5kZW50X2FmdGVyOiBzLmluZGVudF9hZnRlciwKICAgICAgaW5kZW50X2JlZm9yZTogcy5pbmRlbnRfYmVmb3JlLAogICAgICBibG9ja19lbGVtZW50czogcy5ibG9ja19lbGVtZW50cywKICAgICAgYm9vbGVhbl9hdHRyaWJ1dGVzOiBzLmJvb2xlYW5fYXR0cmlidXRlcywKICAgICAgY3VzdG9tX2VsZW1lbnRzOiBzLmN1c3RvbV9lbGVtZW50cywKICAgICAgZXh0ZW5kZWRfdmFsaWRfZWxlbWVudHM6IHMuZXh0ZW5kZWRfdmFsaWRfZWxlbWVudHMsCiAgICAgIGludmFsaWRfZWxlbWVudHM6IHMuaW52YWxpZF9lbGVtZW50cywKICAgICAgaW52YWxpZF9zdHlsZXM6IHMuaW52YWxpZF9zdHlsZXMsCiAgICAgIG1vdmVfY2FyZXRfYmVmb3JlX29uX2VudGVyX2VsZW1lbnRzOiBzLm1vdmVfY2FyZXRfYmVmb3JlX29uX2VudGVyX2VsZW1lbnRzLAogICAgICBub25fZW1wdHlfZWxlbWVudHM6IHMubm9uX2VtcHR5X2VsZW1lbnRzLAogICAgICBzY2hlbWE6IHMuc2NoZW1hLAogICAgICBzZWxmX2Nsb3NpbmdfZWxlbWVudHM6IHMuc2VsZl9jbG9zaW5nX2VsZW1lbnRzLAogICAgICBzaG9ydF9lbmRlZF9lbGVtZW50czogcy5zaG9ydF9lbmRlZF9lbGVtZW50cywKICAgICAgc3BlY2lhbDogcy5zcGVjaWFsLAogICAgICB0ZXh0X2Jsb2NrX2VsZW1lbnRzOiBzLnRleHRfYmxvY2tfZWxlbWVudHMsCiAgICAgIHRleHRfaW5saW5lX2VsZW1lbnRzOiBzLnRleHRfaW5saW5lX2VsZW1lbnRzLAogICAgICB2YWxpZF9jaGlsZHJlbjogcy52YWxpZF9jaGlsZHJlbiwKICAgICAgdmFsaWRfY2xhc3Nlczogcy52YWxpZF9jbGFzc2VzLAogICAgICB2YWxpZF9lbGVtZW50czogcy52YWxpZF9lbGVtZW50cywKICAgICAgdmFsaWRfc3R5bGVzOiBzLnZhbGlkX3N0eWxlcywKICAgICAgdmVyaWZ5X2h0bWw6IHMudmVyaWZ5X2h0bWwsCiAgICAgIHdoaXRlc3BhY2VfZWxlbWVudHM6IHMud2hpdGVzcGFjZV9lbGVtZW50cwogICAgfSkpKSwgdCksIHQuc2VsZWN0aW9uID0gUXYodC5kb20sIHQuZ2V0V2luKCksIHQuc2VyaWFsaXplciwgdCksIHQuYW5ub3RhdG9yID0gdGQodCksIHQuZm9ybWF0dGVyID0gX2IodCksIHQudW5kb01hbmFnZXIgPSBSYih0KSwgdC5fbm9kZUNoYW5nZURpc3BhdGNoZXIgPSBuZXcgWVModCksIHQuX3NlbGVjdGlvbk92ZXJyaWRlcyA9IHBOKHQpLCBPdyh0KSwgSlModCksIEh2KHQpIHx8IFpTKHQpOwogICAgdmFyIGwsCiAgICAgICAgZiwKICAgICAgICBkLAogICAgICAgIG0sCiAgICAgICAgcCA9IEh2KGwgPSB0KSA/IE91KG51bGwpIDogWFMobCk7CiAgICBUdyh0LCBwKSwgdmMoZiA9IHQpICYmIGYub24oIk5vZGVDaGFuZ2UiLCBOKFB3LCBmKSksIFBiKHQpLCB0LmZpcmUoIlByZUluaXQiKSwgZ2UoKG0gPSBkID0gdCkucGx1Z2lucywgInJ0YyIpLmZvbGQoZnVuY3Rpb24gKCkgewogICAgICByZXR1cm4gbS5ydGNJbnN0YW5jZSA9IHp2KGQpLCBVLm5vbmUoKTsKICAgIH0sIGZ1bmN0aW9uIChlKSB7CiAgICAgIHJldHVybiBVLnNvbWUoZS5zZXR1cCgpLnRoZW4oZnVuY3Rpb24gKGUpIHsKICAgICAgICByZXR1cm4gbS5ydGNJbnN0YW5jZSA9IGp2KGQsIGUpLCBlLmlzUmVtb3RlOwogICAgICB9KSk7CiAgICB9KS5mb2xkKGZ1bmN0aW9uICgpIHsKICAgICAgd04odCwgITEpOwogICAgfSwgZnVuY3Rpb24gKGUpIHsKICAgICAgdC5zZXRQcm9ncmVzc1N0YXRlKCEwKSwgZS50aGVuKGZ1bmN0aW9uIChlKSB7CiAgICAgICAgdC5zZXRQcm9ncmVzc1N0YXRlKCExKSwgd04odCwgZSk7CiAgICAgIH0pOwogICAgfSk7CiAgfSwKICAgICAgU04gPSBFdS5ET00sCiAgICAgIE5OID0gZnVuY3Rpb24gTk4oZSkgewogICAgdmFyIHQgPSBlLmdldFBhcmFtKCJkb2N0eXBlIiwgIjwhRE9DVFlQRSBodG1sPiIpICsgIjxodG1sPjxoZWFkPiI7CiAgICBlLmdldFBhcmFtKCJkb2N1bWVudF9iYXNlX3VybCIsICIiKSAhPT0gZS5kb2N1bWVudEJhc2VVcmwgJiYgKHQgKz0gJzxiYXNlIGhyZWY9IicgKyBlLmRvY3VtZW50QmFzZVVSSS5nZXRVUkkoKSArICciIC8+JyksIHQgKz0gJzxtZXRhIGh0dHAtZXF1aXY9IkNvbnRlbnQtVHlwZSIgY29udGVudD0idGV4dC9odG1sOyBjaGFyc2V0PVVURi04IiAvPic7CiAgICB2YXIgbiA9IGdjKGUsICJib2R5X2lkIiwgInRpbnltY2UiKSwKICAgICAgICByID0gZ2MoZSwgImJvZHlfY2xhc3MiLCAiIik7CiAgICByZXR1cm4gaGMoZSkgJiYgKHQgKz0gJzxtZXRhIGh0dHAtZXF1aXY9IkNvbnRlbnQtU2VjdXJpdHktUG9saWN5IiBjb250ZW50PSInICsgaGMoZSkgKyAnIiAvPicpLCB0ICs9ICc8L2hlYWQ+PGJvZHkgaWQ9IicgKyBuICsgJyIgY2xhc3M9Im1jZS1jb250ZW50LWJvZHkgJyArIHIgKyAnIiBkYXRhLWlkPSInICsgZS5pZCArICciPjxicj48L2JvZHk+PC9odG1sPic7CiAgfSwKICAgICAgRU4gPSBmdW5jdGlvbiBFTihlLCB0KSB7CiAgICB2YXIgbiwKICAgICAgICByLAogICAgICAgIG8sCiAgICAgICAgaSwKICAgICAgICBhID0gZS5lZGl0b3JNYW5hZ2VyLnRyYW5zbGF0ZSgiUmljaCBUZXh0IEFyZWEuIFByZXNzIEFMVC0wIGZvciBoZWxwLiIpLAogICAgICAgIHUgPSAobiA9IGUuaWQsIHIgPSBhLCB0LmhlaWdodCwgbyA9IGUuZ2V0UGFyYW0oImlmcmFtZV9hdHRycyIsIHt9KSwgaSA9IEF0LmZyb21UYWcoImlmcmFtZSIpLCBZbihpLCBvKSwgWW4oaSwgewogICAgICBpZDogbiArICJfaWZyIiwKICAgICAgZnJhbWVCb3JkZXI6ICIwIiwKICAgICAgYWxsb3dUcmFuc3BhcmVuY3k6ICJ0cnVlIiwKICAgICAgdGl0bGU6IHIKICAgIH0pLCBXdShpLCAidG94LWVkaXQtYXJlYV9faWZyYW1lIiksIGkuZG9tKTsKCiAgICB1Lm9ubG9hZCA9IGZ1bmN0aW9uICgpIHsKICAgICAgdS5vbmxvYWQgPSBudWxsLCBlLmZpcmUoImxvYWQiKTsKICAgIH07CgogICAgdmFyIHMgPSBmdW5jdGlvbiAoZSwgdCkgewogICAgICBpZiAoZG9jdW1lbnQuZG9tYWluICE9PSB3aW5kb3cubG9jYXRpb24uaG9zdG5hbWUgJiYgd3QuYnJvd3Nlci5pc0lFKCkpIHsKICAgICAgICB2YXIgbiA9IHZiKCJtY2UiKTsKCiAgICAgICAgZVtuXSA9IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIHhOKGUpOwogICAgICAgIH07CgogICAgICAgIHZhciByID0gJ2phdmFzY3JpcHQ6KGZ1bmN0aW9uKCl7ZG9jdW1lbnQub3BlbigpO2RvY3VtZW50LmRvbWFpbj0iJyArIGRvY3VtZW50LmRvbWFpbiArICciO3ZhciBlZCA9IHdpbmRvdy5wYXJlbnQudGlueW1jZS5nZXQoIicgKyBlLmlkICsgJyIpO2RvY3VtZW50LndyaXRlKGVkLmlmcmFtZUhUTUwpO2RvY3VtZW50LmNsb3NlKCk7ZWQuJyArIG4gKyAiKHRydWUpO30pKCkiOwogICAgICAgIHJldHVybiBTTi5zZXRBdHRyaWIodCwgInNyYyIsIHIpLCAhMDsKICAgICAgfQoKICAgICAgcmV0dXJuICExOwogICAgfShlLCB1KTsKCiAgICByZXR1cm4gZS5jb250ZW50QXJlYUNvbnRhaW5lciA9IHQuaWZyYW1lQ29udGFpbmVyLCBlLmlmcmFtZUVsZW1lbnQgPSB1LCBlLmlmcmFtZUhUTUwgPSBOTihlKSwgU04uYWRkKHQuaWZyYW1lQ29udGFpbmVyLCB1KSwgczsKICB9LAogICAgICBrTiA9IEV1LkRPTSwKICAgICAgX04gPSBmdW5jdGlvbiBfTih0LCBuLCBlKSB7CiAgICB2YXIgciA9IGliLmdldChlKSwKICAgICAgICBvID0gaWIudXJsc1tlXSB8fCB0LmRvY3VtZW50QmFzZVVybC5yZXBsYWNlKC9cLyQvLCAiIik7CgogICAgaWYgKGUgPSBrdC50cmltKGUpLCByICYmIC0xID09PSBrdC5pbkFycmF5KG4sIGUpKSB7CiAgICAgIGlmIChrdC5lYWNoKGliLmRlcGVuZGVuY2llcyhlKSwgZnVuY3Rpb24gKGUpIHsKICAgICAgICBfTih0LCBuLCBlKTsKICAgICAgfSksIHQucGx1Z2luc1tlXSkgcmV0dXJuOwoKICAgICAgdHJ5IHsKICAgICAgICB2YXIgaSA9IG5ldyByKHQsIG8sIHQuJCk7CiAgICAgICAgKHQucGx1Z2luc1tlXSA9IGkpLmluaXQgJiYgKGkuaW5pdCh0LCBvKSwgbi5wdXNoKGUpKTsKICAgICAgfSBjYXRjaCAoT2spIHsKICAgICAgICAhZnVuY3Rpb24gKGUsIHQsIG4pIHsKICAgICAgICAgIHZhciByID0gSXUudHJhbnNsYXRlKFsiRmFpbGVkIHRvIGluaXRpYWxpemUgcGx1Z2luOiB7MH0iLCB0XSk7CiAgICAgICAgICBtYihyLCBuKSwgY2IoZSwgcik7CiAgICAgICAgfSh0LCBlLCBPayk7CiAgICAgIH0KICAgIH0KICB9LAogICAgICBBTiA9IGZ1bmN0aW9uIEFOKGUpIHsKICAgIHJldHVybiBlLnJlcGxhY2UoL15cLS8sICIiKTsKICB9LAogICAgICBSTiA9IGZ1bmN0aW9uIFJOKGUpIHsKICAgIHJldHVybiB7CiAgICAgIGVkaXRvckNvbnRhaW5lcjogZSwKICAgICAgaWZyYW1lQ29udGFpbmVyOiBlLAogICAgICBhcGk6IHt9CiAgICB9OwogIH0sCiAgICAgIFROID0gZnVuY3Rpb24gVE4oZSkgewogICAgdmFyIHQsCiAgICAgICAgbiwKICAgICAgICByID0gZS5nZXRFbGVtZW50KCk7CiAgICByZXR1cm4gZS5pbmxpbmUgPyBSTihudWxsKSA6ICh0ID0gciwgbiA9IGtOLmNyZWF0ZSgiZGl2IiksIGtOLmluc2VydEFmdGVyKG4sIHQpLCBSTihuKSk7CiAgfSwKICAgICAgRE4gPSBmdW5jdGlvbiBETihlKSB7CiAgICB2YXIgdCwKICAgICAgICBuLAogICAgICAgIHIsCiAgICAgICAgbyA9IGUuZ2V0RWxlbWVudCgpOwogICAgcmV0dXJuIGUub3JnRGlzcGxheSA9IG8uc3R5bGUuZGlzcGxheSwgcShrYyhlKSkgPyBlLnRoZW1lLnJlbmRlclVJKCkgOiBUKGtjKGUpKSA/IChuID0gKHQgPSBlKS5nZXRFbGVtZW50KCksIChyID0ga2ModCkodCwgbikpLmVkaXRvckNvbnRhaW5lci5ub2RlVHlwZSAmJiAoci5lZGl0b3JDb250YWluZXIuaWQgPSByLmVkaXRvckNvbnRhaW5lci5pZCB8fCB0LmlkICsgIl9wYXJlbnQiKSwgci5pZnJhbWVDb250YWluZXIgJiYgci5pZnJhbWVDb250YWluZXIubm9kZVR5cGUgJiYgKHIuaWZyYW1lQ29udGFpbmVyLmlkID0gci5pZnJhbWVDb250YWluZXIuaWQgfHwgdC5pZCArICJfaWZyYW1lY29udGFpbmVyIiksIHIuaGVpZ2h0ID0gci5pZnJhbWVIZWlnaHQgPyByLmlmcmFtZUhlaWdodCA6IG4ub2Zmc2V0SGVpZ2h0LCByKSA6IFROKGUpOwogIH0sCiAgICAgIE9OID0gZnVuY3Rpb24gT04oZSkgewogICAgdmFyIG4sIHQsIHIsIG8sIGksIGEsIHUsIHMsIGM7CiAgICBlLmZpcmUoIlNjcmlwdHNMb2FkZWQiKSwgbiA9IGUsIHQgPSBrdC50cmltKENjKG4pKSwgciA9IG4udWkucmVnaXN0cnkuZ2V0QWxsKCkuaWNvbnMsIG8gPSBfa2UoX2tlKHt9LCBZeS5nZXQoImRlZmF1bHQiKS5pY29ucyksIFl5LmdldCh0KS5pY29ucyksIHVlKG8sIGZ1bmN0aW9uIChlLCB0KSB7CiAgICAgIGhlKHIsIHQpIHx8IG4udWkucmVnaXN0cnkuYWRkSWNvbih0LCBlKTsKICAgIH0pLCB1ID0ga2MoaSA9IGUpLCBxKHUpID8gKGkuc2V0dGluZ3MudGhlbWUgPSBBTih1KSwgYSA9IGFiLmdldCh1KSwgaS50aGVtZSA9IG5ldyBhKGksIGFiLnVybHNbdV0pLCBpLnRoZW1lLmluaXQgJiYgaS50aGVtZS5pbml0KGksIGFiLnVybHNbdV0gfHwgaS5kb2N1bWVudEJhc2VVcmwucmVwbGFjZSgvXC8kLywgIiIpLCBpLiQpKSA6IGkudGhlbWUgPSB7fSwgcyA9IGUsIGMgPSBbXSwga3QuZWFjaChBYyhzKS5zcGxpdCgvWyAsXS8pLCBmdW5jdGlvbiAoZSkgewogICAgICBfTihzLCBjLCBBTihlKSk7CiAgICB9KTsKICAgIHZhciBsLAogICAgICAgIGYsCiAgICAgICAgZCwKICAgICAgICBtID0gRE4oZSk7CiAgICBsID0gZSwgZiA9IFUuZnJvbShtLmFwaSkuZ2V0T3Ioe30pLCBkID0gewogICAgICBzaG93OiBVLmZyb20oZi5zaG93KS5nZXRPcihWKSwKICAgICAgaGlkZTogVS5mcm9tKGYuaGlkZSkuZ2V0T3IoViksCiAgICAgIGRpc2FibGU6IFUuZnJvbShmLmRpc2FibGUpLmdldE9yKFYpLAogICAgICBpc0Rpc2FibGVkOiBVLmZyb20oZi5pc0Rpc2FibGVkKS5nZXRPcihDKSwKICAgICAgZW5hYmxlOiBmdW5jdGlvbiBlbmFibGUoKSB7CiAgICAgICAgbC5tb2RlLmlzUmVhZE9ubHkoKSB8fCBVLmZyb20oZi5lbmFibGUpLm1hcChiKTsKICAgICAgfQogICAgfSwgbC51aSA9IF9rZShfa2Uoe30sIGwudWkpLCBkKTsKICAgIHZhciBwLAogICAgICAgIGcsCiAgICAgICAgaCwKICAgICAgICB2LAogICAgICAgIHkgPSB7CiAgICAgIGVkaXRvckNvbnRhaW5lcjogbS5lZGl0b3JDb250YWluZXIsCiAgICAgIGlmcmFtZUNvbnRhaW5lcjogbS5pZnJhbWVDb250YWluZXIKICAgIH07CiAgICByZXR1cm4gZS5lZGl0b3JDb250YWluZXIgPSB5LmVkaXRvckNvbnRhaW5lciA/IHkuZWRpdG9yQ29udGFpbmVyIDogbnVsbCwgKHAgPSBlKS5jb250ZW50Q1NTID0gcC5jb250ZW50Q1NTLmNvbmNhdChwYihwKSksIGUuaW5saW5lID8geE4oZSkgOiAodiA9IEVOKGcgPSBlLCBoID0geSksIGguZWRpdG9yQ29udGFpbmVyICYmIChTTi5nZXQoaC5lZGl0b3JDb250YWluZXIpLnN0eWxlLmRpc3BsYXkgPSBnLm9yZ0Rpc3BsYXksIGcuaGlkZGVuID0gU04uaXNIaWRkZW4oaC5lZGl0b3JDb250YWluZXIpKSwgZy5nZXRFbGVtZW50KCkuc3R5bGUuZGlzcGxheSA9ICJub25lIiwgU04uc2V0QXR0cmliKGcuaWQsICJhcmlhLWhpZGRlbiIsICJ0cnVlIiksIHZvaWQgKHYgfHwgeE4oZykpKTsKICB9LAogICAgICBCTiA9IEV1LkRPTSwKICAgICAgUE4gPSBmdW5jdGlvbiBQTihlKSB7CiAgICByZXR1cm4gIi0iID09PSBlLmNoYXJBdCgwKTsKICB9LAogICAgICBMTiA9IGZ1bmN0aW9uIExOKGUsIHQpIHsKICAgIHZhciBuLAogICAgICAgIHIgPSB4Yyh0KSwKICAgICAgICBvID0gdC5nZXRQYXJhbSgibGFuZ3VhZ2VfdXJsIiwgIiIsICJzdHJpbmciKTsKICAgICExID09PSBJdS5oYXNDb2RlKHIpICYmICJlbiIgIT09IHIgJiYgKG4gPSAiIiAhPT0gbyA/IG8gOiB0LmVkaXRvck1hbmFnZXIuYmFzZVVSTCArICIvbGFuZ3MvIiArIHIgKyAiLmpzIiwgZS5hZGQobiwgViwgdW5kZWZpbmVkLCBmdW5jdGlvbiAoKSB7CiAgICAgIGxiKHQsICJMYW5ndWFnZUxvYWRFcnJvciIsIGZiKCJsYW5ndWFnZSIsIG4sIHIpKTsKICAgIH0pKTsKICB9LAogICAgICBJTiA9IGZ1bmN0aW9uIElOKHQsIGUsIG4pIHsKICAgIHJldHVybiBVLmZyb20oZSkuZmlsdGVyKGZ1bmN0aW9uIChlKSB7CiAgICAgIHJldHVybiAwIDwgZS5sZW5ndGggJiYgIVl5LmhhcyhlKTsKICAgIH0pLm1hcChmdW5jdGlvbiAoZSkgewogICAgICByZXR1cm4gewogICAgICAgIHVybDogdC5lZGl0b3JNYW5hZ2VyLmJhc2VVUkwgKyAiL2ljb25zLyIgKyBlICsgIi9pY29ucyIgKyBuICsgIi5qcyIsCiAgICAgICAgbmFtZTogVS5zb21lKGUpCiAgICAgIH07CiAgICB9KTsKICB9LAogICAgICBNTiA9IGZ1bmN0aW9uIE1OKGUsIG8sIHQpIHsKICAgIHZhciBuLAogICAgICAgIHIgPSBJTihvLCAiZGVmYXVsdCIsIHQpLAogICAgICAgIGkgPSAobiA9IG8sIFUuZnJvbShuLmdldFBhcmFtKCJpY29uc191cmwiLCAiIiwgInN0cmluZyIpKS5maWx0ZXIoZnVuY3Rpb24gKGUpIHsKICAgICAgcmV0dXJuIDAgPCBlLmxlbmd0aDsKICAgIH0pLm1hcChmdW5jdGlvbiAoZSkgewogICAgICByZXR1cm4gewogICAgICAgIHVybDogZSwKICAgICAgICBuYW1lOiBVLm5vbmUoKQogICAgICB9OwogICAgfSkub3JUaHVuayhmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiBJTihvLCBDYyhvKSwgIiIpOwogICAgfSkpOwogICAgVyhmdW5jdGlvbiAoZSkgewogICAgICBmb3IgKHZhciB0ID0gW10sIG4gPSBmdW5jdGlvbiBuKGUpIHsKICAgICAgICB0LnB1c2goZSk7CiAgICAgIH0sIHIgPSAwOyByIDwgZS5sZW5ndGg7IHIrKykgewogICAgICAgIGVbcl0uZWFjaChuKTsKICAgICAgfQoKICAgICAgcmV0dXJuIHQ7CiAgICB9KFtyLCBpXSksIGZ1bmN0aW9uIChyKSB7CiAgICAgIGUuYWRkKHIudXJsLCBWLCB1bmRlZmluZWQsIGZ1bmN0aW9uICgpIHsKICAgICAgICB2YXIgZSwgdCwgbjsKICAgICAgICBlID0gbywgdCA9IHIudXJsLCBuID0gci5uYW1lLmdldE9yVW5kZWZpbmVkKCksIGxiKGUsICJJY29uc0xvYWRFcnJvciIsIGZiKCJpY29ucyIsIHQsIG4pKTsKICAgICAgfSk7CiAgICB9KTsKICB9LAogICAgICBGTiA9IGZ1bmN0aW9uIEZOKGUsIHQpIHsKICAgIHZhciBuLAogICAgICAgIHIsCiAgICAgICAgbywKICAgICAgICBpLAogICAgICAgIGEsCiAgICAgICAgdSwKICAgICAgICBzID0gUnUuU2NyaXB0TG9hZGVyOwogICAgbiA9IHMsIG8gPSB0LCBpID0gZnVuY3Rpb24gaSgpIHsKICAgICAgdmFyIHIsIG87CiAgICAgIExOKHMsIGUpLCBNTihzLCBlLCB0KSwgciA9IGUsIG8gPSB0LCBrdC5lYWNoKHIuZ2V0UGFyYW0oImV4dGVybmFsX3BsdWdpbnMiKSwgZnVuY3Rpb24gKGUsIHQpIHsKICAgICAgICBpYi5sb2FkKHQsIGUsIFYsIHVuZGVmaW5lZCwgZnVuY3Rpb24gKCkgewogICAgICAgICAgZGIociwgZSwgdCk7CiAgICAgICAgfSksIHIuc2V0dGluZ3MucGx1Z2lucyArPSAiICIgKyB0OwogICAgICB9KSwga3QuZWFjaChBYyhyKS5zcGxpdCgvWyAsXS8pLCBmdW5jdGlvbiAoZSkgewogICAgICAgIHZhciB0LCBuOwogICAgICAgIChlID0ga3QudHJpbShlKSkgJiYgIWliLnVybHNbZV0gJiYgKFBOKGUpID8gKGUgPSBlLnN1YnN0cigxLCBlLmxlbmd0aCksIHQgPSBpYi5kZXBlbmRlbmNpZXMoZSksIGt0LmVhY2godCwgZnVuY3Rpb24gKGUpIHsKICAgICAgICAgIHZhciB0ID0gewogICAgICAgICAgICBwcmVmaXg6ICJwbHVnaW5zLyIsCiAgICAgICAgICAgIHJlc291cmNlOiBlLAogICAgICAgICAgICBzdWZmaXg6ICIvcGx1Z2luIiArIG8gKyAiLmpzIgogICAgICAgICAgfSwKICAgICAgICAgICAgICBuID0gaWIuY3JlYXRlVXJsKHQsIGUpOwogICAgICAgICAgaWIubG9hZChuLnJlc291cmNlLCBuLCBWLCB1bmRlZmluZWQsIGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgZGIociwgbi5wcmVmaXggKyBuLnJlc291cmNlICsgbi5zdWZmaXgsIG4ucmVzb3VyY2UpOwogICAgICAgICAgfSk7CiAgICAgICAgfSkpIDogKG4gPSB7CiAgICAgICAgICBwcmVmaXg6ICJwbHVnaW5zLyIsCiAgICAgICAgICByZXNvdXJjZTogZSwKICAgICAgICAgIHN1ZmZpeDogIi9wbHVnaW4iICsgbyArICIuanMiCiAgICAgICAgfSwgaWIubG9hZChlLCBuLCBWLCB1bmRlZmluZWQsIGZ1bmN0aW9uICgpIHsKICAgICAgICAgIGRiKHIsIG4ucHJlZml4ICsgbi5yZXNvdXJjZSArIG4uc3VmZml4LCBlKTsKICAgICAgICB9KSkpOwogICAgICB9KSwgcy5sb2FkUXVldWUoZnVuY3Rpb24gKCkgewogICAgICAgIGUucmVtb3ZlZCB8fCBPTihlKTsKICAgICAgfSwgZSwgZnVuY3Rpb24gKCkgewogICAgICAgIGUucmVtb3ZlZCB8fCBPTihlKTsKICAgICAgfSk7CiAgICB9LCB1ID0ga2MociA9IGUpLCBxKHUpID8gKFBOKHUpIHx8IGFiLnVybHMuaGFzT3duUHJvcGVydHkodSkgfHwgKChhID0gci5nZXRQYXJhbSgidGhlbWVfdXJsIikpID8gYWIubG9hZCh1LCByLmRvY3VtZW50QmFzZVVSSS50b0Fic29sdXRlKGEpKSA6IGFiLmxvYWQodSwgInRoZW1lcy8iICsgdSArICIvdGhlbWUiICsgbyArICIuanMiKSksIG4ubG9hZFF1ZXVlKGZ1bmN0aW9uICgpIHsKICAgICAgYWIud2FpdEZvcih1LCBpKTsKICAgIH0pKSA6IGkoKTsKICB9LAogICAgICBVTiA9IGZ1bmN0aW9uIFVOKHQpIHsKICAgIHZhciBlID0gdC5pZDsKICAgIEl1LnNldENvZGUoeGModCkpOwoKICAgIHZhciBuLAogICAgICAgIHIsCiAgICAgICAgbywKICAgICAgICBpLAogICAgICAgIGEsCiAgICAgICAgdSA9IGZ1bmN0aW9uIHUoKSB7CiAgICAgIEJOLnVuYmluZCh3aW5kb3csICJyZWFkeSIsIHUpLCB0LnJlbmRlcigpOwogICAgfTsKCiAgICBUaS5FdmVudC5kb21Mb2FkZWQgPyB0LmdldEVsZW1lbnQoKSAmJiB3dC5jb250ZW50RWRpdGFibGUgJiYgKG4gPSBBdC5mcm9tRG9tKHQuZ2V0RWxlbWVudCgpKSwgciA9IFgobi5kb20uYXR0cmlidXRlcywgZnVuY3Rpb24gKGUsIHQpIHsKICAgICAgcmV0dXJuIGVbdC5uYW1lXSA9IHQudmFsdWUsIGU7CiAgICB9LCB7fSksIHQub24oInJlbW92ZSIsIGZ1bmN0aW9uICgpIHsKICAgICAgaihuLmRvbS5hdHRyaWJ1dGVzLCBmdW5jdGlvbiAoZSkgewogICAgICAgIHJldHVybiBRbihuLCBlLm5hbWUpLCAwOwogICAgICB9KSwgWW4obiwgcik7CiAgICB9KSwgdC51aS5zdHlsZVNoZWV0TG9hZGVyID0gKG8gPSBuLCBpID0gdCwgS3IuZm9yRWxlbWVudChvLCB7CiAgICAgIGNvbnRlbnRDc3NDb3JzOiBpLmdldFBhcmFtKCJjb250ZW50X2Nzc19jb3JzIiksCiAgICAgIHJlZmVycmVyUG9saWN5OiB3YyhpKQogICAgfSkpLCB0LmdldFBhcmFtKCJpbmxpbmUiKSA/IHQuaW5saW5lID0gITAgOiAodC5vcmdWaXNpYmlsaXR5ID0gdC5nZXRFbGVtZW50KCkuc3R5bGUudmlzaWJpbGl0eSwgdC5nZXRFbGVtZW50KCkuc3R5bGUudmlzaWJpbGl0eSA9ICJoaWRkZW4iKSwgKGEgPSB0LmdldEVsZW1lbnQoKS5mb3JtIHx8IEJOLmdldFBhcmVudChlLCAiZm9ybSIpKSAmJiAodC5mb3JtRWxlbWVudCA9IGEsIHQuZ2V0UGFyYW0oImhpZGRlbl9pbnB1dCIpICYmICFMbih0LmdldEVsZW1lbnQoKSkgJiYgKEJOLmluc2VydEFmdGVyKEJOLmNyZWF0ZSgiaW5wdXQiLCB7CiAgICAgIHR5cGU6ICJoaWRkZW4iLAogICAgICBuYW1lOiBlCiAgICB9KSwgZSksIHQuaGFzSGlkZGVuSW5wdXQgPSAhMCksIHQuZm9ybUV2ZW50RGVsZWdhdGUgPSBmdW5jdGlvbiAoZSkgewogICAgICB0LmZpcmUoZS50eXBlLCBlKTsKICAgIH0sIEJOLmJpbmQoYSwgInN1Ym1pdCByZXNldCIsIHQuZm9ybUV2ZW50RGVsZWdhdGUpLCB0Lm9uKCJyZXNldCIsIGZ1bmN0aW9uICgpIHsKICAgICAgdC5yZXNldENvbnRlbnQoKTsKICAgIH0pLCAhdC5nZXRQYXJhbSgic3VibWl0X3BhdGNoIikgfHwgYS5zdWJtaXQubm9kZVR5cGUgfHwgYS5zdWJtaXQubGVuZ3RoIHx8IGEuX21jZU9sZFN1Ym1pdCB8fCAoYS5fbWNlT2xkU3VibWl0ID0gYS5zdWJtaXQsIGEuc3VibWl0ID0gZnVuY3Rpb24gKCkgewogICAgICByZXR1cm4gdC5lZGl0b3JNYW5hZ2VyLnRyaWdnZXJTYXZlKCksIHQuc2V0RGlydHkoITEpLCBhLl9tY2VPbGRTdWJtaXQoYSk7CiAgICB9KSksIHQud2luZG93TWFuYWdlciA9IHViKHQpLCB0Lm5vdGlmaWNhdGlvbk1hbmFnZXIgPSBvYih0KSwgInhtbCIgPT09IHQuZ2V0UGFyYW0oImVuY29kaW5nIikgJiYgdC5vbigiR2V0Q29udGVudCIsIGZ1bmN0aW9uIChlKSB7CiAgICAgIGUuc2F2ZSAmJiAoZS5jb250ZW50ID0gQk4uZW5jb2RlKGUuY29udGVudCkpOwogICAgfSksIHQuZ2V0UGFyYW0oImFkZF9mb3JtX3N1Ym1pdF90cmlnZ2VyIikgJiYgdC5vbigic3VibWl0IiwgZnVuY3Rpb24gKCkgewogICAgICB0LmluaXRpYWxpemVkICYmIHQuc2F2ZSgpOwogICAgfSksIHQuZ2V0UGFyYW0oImFkZF91bmxvYWRfdHJpZ2dlciIpICYmICh0Ll9iZWZvcmVVbmxvYWQgPSBmdW5jdGlvbiAoKSB7CiAgICAgICF0LmluaXRpYWxpemVkIHx8IHQuZGVzdHJveWVkIHx8IHQuaXNIaWRkZW4oKSB8fCB0LnNhdmUoewogICAgICAgIGZvcm1hdDogInJhdyIsCiAgICAgICAgbm9fZXZlbnRzOiAhMCwKICAgICAgICBzZXRfZGlydHk6ICExCiAgICAgIH0pOwogICAgfSwgdC5lZGl0b3JNYW5hZ2VyLm9uKCJCZWZvcmVVbmxvYWQiLCB0Ll9iZWZvcmVVbmxvYWQpKSwgdC5lZGl0b3JNYW5hZ2VyLmFkZCh0KSwgRk4odCwgdC5zdWZmaXgpKSA6IEJOLmJpbmQod2luZG93LCAicmVhZHkiLCB1KTsKICB9LAogICAgICB6TiA9IGZ1bmN0aW9uIHpOKGUsIHQpIHsKICAgIHJldHVybiBuID0gdCwgcXYoZSkuZWRpdG9yLmFkZFZpc3VhbChuKTsKICAgIHZhciBuOwogIH0sCiAgICAgIGpOID0gewogICAgImZvbnQtc2l6ZSI6ICJzaXplIiwKICAgICJmb250LWZhbWlseSI6ICJmYWNlIgogIH0sCiAgICAgIEhOID0gZnVuY3Rpb24gSE4obiwgdCwgZSkgewogICAgcmV0dXJuIFBtKEF0LmZyb21Eb20oZSksIGZ1bmN0aW9uIChlKSB7CiAgICAgIHJldHVybiBucih0ID0gZSwgbikub3JUaHVuayhmdW5jdGlvbiAoKSB7CiAgICAgICAgcmV0dXJuICJmb250IiA9PT0gTHQodCkgPyBnZShqTiwgbikuYmluZChmdW5jdGlvbiAoZSkgewogICAgICAgICAgcmV0dXJuIEpuKHQsIGUpOwogICAgICAgIH0pIDogVS5ub25lKCk7CiAgICAgIH0pOwogICAgICB2YXIgdDsKICAgIH0sIGZ1bmN0aW9uIChlKSB7CiAgICAgIHJldHVybiBPdChBdC5mcm9tRG9tKHQpLCBlKTsKICAgIH0pOwogIH0sCiAgICAgIFZOID0gZnVuY3Rpb24gVk4obykgewogICAgcmV0dXJuIGZ1bmN0aW9uIChyLCBlKSB7CiAgICAgIHJldHVybiBVLmZyb20oZSkubWFwKEF0LmZyb21Eb20pLmZpbHRlcihGdCkuYmluZChmdW5jdGlvbiAoZSkgewogICAgICAgIHJldHVybiBITihvLCByLCBlLmRvbSkub3IoKHQgPSBvLCBuID0gZS5kb20sIFUuZnJvbShFdS5ET00uZ2V0U3R5bGUobiwgdCwgITApKSkpOwogICAgICAgIHZhciB0LCBuOwogICAgICB9KS5nZXRPcigiIik7CiAgICB9OwogIH0sCiAgICAgIHFOID0gVk4oImZvbnQtc2l6ZSIpLAogICAgICAkTiA9IGEoZnVuY3Rpb24gKGUpIHsKICAgIHJldHVybiBlLnJlcGxhY2UoL1tcJ1wiXFxdL2csICIiKS5yZXBsYWNlKC8sXHMrL2csICIsIik7CiAgfSwgVk4oImZvbnQtZmFtaWx5IikpLAogICAgICBXTiA9IGZ1bmN0aW9uIFdOKGUpIHsKICAgIHJldHVybiBGbChlLmdldEJvZHkoKSkubWFwKGZ1bmN0aW9uIChlKSB7CiAgICAgIHZhciB0ID0gZS5jb250YWluZXIoKTsKICAgICAgcmV0dXJuIEluKHQpID8gdC5wYXJlbnROb2RlIDogdDsKICAgIH0pOwogIH0sCiAgICAgIEtOID0gZnVuY3Rpb24gS04oZSwgdCkgewogICAgcmV0dXJuIG4gPSBlLCBVLmZyb20obi5zZWxlY3Rpb24uZ2V0Um5nKCkpLmJpbmQoZnVuY3Rpb24gKGUpIHsKICAgICAgdmFyIHQgPSBuLmdldEJvZHkoKTsKICAgICAgcmV0dXJuIGUuc3RhcnRDb250YWluZXIgPT09IHQgJiYgMCA9PT0gZS5zdGFydE9mZnNldCA/IFUubm9uZSgpIDogVS5mcm9tKG4uc2VsZWN0aW9uLmdldFN0YXJ0KCEwKSk7CiAgICB9KS5vclRodW5rKE4oV04sIGUpKS5tYXAoQXQuZnJvbURvbSkuZmlsdGVyKEZ0KS5tYXAodCk7CiAgICB2YXIgbjsKICB9LAogICAgICBYTiA9IGZ1bmN0aW9uIFhOKGUsIHQpIHsKICAgIGlmICgvXlswLTkuXSskLy50ZXN0KHQpKSB7CiAgICAgIHZhciBuID0gcGFyc2VJbnQodCwgMTApOwoKICAgICAgaWYgKDEgPD0gbiAmJiBuIDw9IDcpIHsKICAgICAgICB2YXIgciA9IChhID0gZSwga3QuZXhwbG9kZShhLmdldFBhcmFtKCJmb250X3NpemVfc3R5bGVfdmFsdWVzIiwgInh4LXNtYWxsLHgtc21hbGwsc21hbGwsbWVkaXVtLGxhcmdlLHgtbGFyZ2UseHgtbGFyZ2UiKSkpLAogICAgICAgICAgICBvID0gKGkgPSBlLCBrdC5leHBsb2RlKGkuZ2V0UGFyYW0oImZvbnRfc2l6ZV9jbGFzc2VzIiwgIiIpKSk7CiAgICAgICAgcmV0dXJuIG8gPyBvW24gLSAxXSB8fCB0IDogcltuIC0gMV0gfHwgdDsKICAgICAgfQoKICAgICAgcmV0dXJuIHQ7CiAgICB9CgogICAgcmV0dXJuIHQ7CiAgICB2YXIgaSwgYTsKICB9LAogICAgICBZTiA9IGZ1bmN0aW9uIFlOKGUsIHQpIHsKICAgIHZhciBuLAogICAgICAgIHIgPSBYTihlLCB0KTsKICAgIGUuZm9ybWF0dGVyLnRvZ2dsZSgiZm9udG5hbWUiLCB7CiAgICAgIHZhbHVlOiAobiA9IHIuc3BsaXQoL1xzKixccyovKSwgeihuLCBmdW5jdGlvbiAoZSkgewogICAgICAgIHJldHVybiAtMSA9PT0gZS5pbmRleE9mKCIgIikgfHwgVmUoZSwgJyInKSB8fCBWZShlLCAiJyIpID8gZSA6ICInIiArIGUgKyAiJyI7CiAgICAgIH0pLmpvaW4oIiwiKSkKICAgIH0pLCBlLm5vZGVDaGFuZ2VkKCk7CiAgfSwKICAgICAgR04gPSBmdW5jdGlvbiBHTihlLCB0KSB7CiAgICB2YXIgbiwKICAgICAgICByLAogICAgICAgIG8sCiAgICAgICAgaSwKICAgICAgICBhID0gInN0cmluZyIgIT0gdHlwZW9mIChuID0gdCkgPyAociA9IGt0LmV4dGVuZCh7CiAgICAgIHBhc3RlOiBuLnBhc3RlLAogICAgICBkYXRhOiB7CiAgICAgICAgcGFzdGU6IG4ucGFzdGUKICAgICAgfQogICAgfSwgbiksIHsKICAgICAgY29udGVudDogbi5jb250ZW50LAogICAgICBkZXRhaWxzOiByCiAgICB9KSA6IHsKICAgICAgY29udGVudDogbiwKICAgICAgZGV0YWlsczoge30KICAgIH07CiAgICBvID0gYS5jb250ZW50LCBpID0gYS5kZXRhaWxzLCBWdihlKS5lZGl0b3IuaW5zZXJ0Q29udGVudChvLCBpKTsKICB9LAogICAgICBKTiA9IGt0LmVhY2gsCiAgICAgIFFOID0ga3QubWFwLAogICAgICBaTiA9IGt0LmluQXJyYXksCiAgICAgIGVFID0gKHRFLnByb3RvdHlwZS5leGVjQ29tbWFuZCA9IGZ1bmN0aW9uICh0LCBuLCByLCBlKSB7CiAgICB2YXIgbywKICAgICAgICBpLAogICAgICAgIGEgPSAhMSwKICAgICAgICB1ID0gdGhpczsKCiAgICBpZiAoIXUuZWRpdG9yLnJlbW92ZWQpIHsKICAgICAgaWYgKC9eKG1jZUFkZFVuZG9MZXZlbHxtY2VFbmRVbmRvTGV2ZWx8bWNlQmVnaW5VbmRvTGV2ZWx8bWNlUmVwYWludCkkLy50ZXN0KHQpIHx8IGUgJiYgZS5za2lwX2ZvY3VzID8gKGkgPSB1LmVkaXRvciwgZG0oaSkuZWFjaChmdW5jdGlvbiAoZSkgewogICAgICAgIHJldHVybiBpLnNlbGVjdGlvbi5zZXRSbmcoZSk7CiAgICAgIH0pKSA6IHUuZWRpdG9yLmZvY3VzKCksIChlID0gdS5lZGl0b3IuZmlyZSgiQmVmb3JlRXhlY0NvbW1hbmQiLCB7CiAgICAgICAgY29tbWFuZDogdCwKICAgICAgICB1aTogbiwKICAgICAgICB2YWx1ZTogcgogICAgICB9KSkuaXNEZWZhdWx0UHJldmVudGVkKCkpIHJldHVybiAhMTsKICAgICAgdmFyIHMgPSB0LnRvTG93ZXJDYXNlKCk7CiAgICAgIGlmIChvID0gdS5jb21tYW5kcy5leGVjW3NdKSByZXR1cm4gbyhzLCBuLCByKSwgdS5lZGl0b3IuZmlyZSgiRXhlY0NvbW1hbmQiLCB7CiAgICAgICAgY29tbWFuZDogdCwKICAgICAgICB1aTogbiwKICAgICAgICB2YWx1ZTogcgogICAgICB9KSwgITA7CiAgICAgIGlmIChKTih0aGlzLmVkaXRvci5wbHVnaW5zLCBmdW5jdGlvbiAoZSkgewogICAgICAgIGlmIChlLmV4ZWNDb21tYW5kICYmIGUuZXhlY0NvbW1hbmQodCwgbiwgcikpIHJldHVybiB1LmVkaXRvci5maXJlKCJFeGVjQ29tbWFuZCIsIHsKICAgICAgICAgIGNvbW1hbmQ6IHQsCiAgICAgICAgICB1aTogbiwKICAgICAgICAgIHZhbHVlOiByCiAgICAgICAgfSksICEoYSA9ICEwKTsKICAgICAgfSksIGEpIHJldHVybiBhOwogICAgICBpZiAodS5lZGl0b3IudGhlbWUgJiYgdS5lZGl0b3IudGhlbWUuZXhlY0NvbW1hbmQgJiYgdS5lZGl0b3IudGhlbWUuZXhlY0NvbW1hbmQodCwgbiwgcikpIHJldHVybiB1LmVkaXRvci5maXJlKCJFeGVjQ29tbWFuZCIsIHsKICAgICAgICBjb21tYW5kOiB0LAogICAgICAgIHVpOiBuLAogICAgICAgIHZhbHVlOiByCiAgICAgIH0pLCAhMDsKCiAgICAgIHRyeSB7CiAgICAgICAgYSA9IHUuZWRpdG9yLmdldERvYygpLmV4ZWNDb21tYW5kKHQsIG4sIHIpOwogICAgICB9IGNhdGNoIChjKSB7fQoKICAgICAgcmV0dXJuICEhYSAmJiAodS5lZGl0b3IuZmlyZSgiRXhlY0NvbW1hbmQiLCB7CiAgICAgICAgY29tbWFuZDogdCwKICAgICAgICB1aTogbiwKICAgICAgICB2YWx1ZTogcgogICAgICB9KSwgITApOwogICAgfQogIH0sIHRFLnByb3RvdHlwZS5xdWVyeUNvbW1hbmRTdGF0ZSA9IGZ1bmN0aW9uIChlKSB7CiAgICB2YXIgdDsKCiAgICBpZiAoIXRoaXMuZWRpdG9yLnF1aXJrcy5pc0hpZGRlbigpICYmICF0aGlzLmVkaXRvci5yZW1vdmVkKSB7CiAgICAgIGlmIChlID0gZS50b0xvd2VyQ2FzZSgpLCB0ID0gdGhpcy5jb21tYW5kcy5zdGF0ZVtlXSkgcmV0dXJuIHQoZSk7CgogICAgICB0cnkgewogICAgICAgIHJldHVybiB0aGlzLmVkaXRvci5nZXREb2MoKS5xdWVyeUNvbW1hbmRTdGF0ZShlKTsKICAgICAgfSBjYXRjaCAobikge30KCiAgICAgIHJldHVybiAhMTsKICAgIH0KICB9LCB0RS5wcm90b3R5cGUucXVlcnlDb21tYW5kVmFsdWUgPSBmdW5jdGlvbiAoZSkgewogICAgdmFyIHQ7CgogICAgaWYgKCF0aGlzLmVkaXRvci5xdWlya3MuaXNIaWRkZW4oKSAmJiAhdGhpcy5lZGl0b3IucmVtb3ZlZCkgewogICAgICBpZiAoZSA9IGUudG9Mb3dlckNhc2UoKSwgdCA9IHRoaXMuY29tbWFuZHMudmFsdWVbZV0pIHJldHVybiB0KGUpOwoKICAgICAgdHJ5IHsKICAgICAgICByZXR1cm4gdGhpcy5lZGl0b3IuZ2V0RG9jKCkucXVlcnlDb21tYW5kVmFsdWUoZSk7CiAgICAgIH0gY2F0Y2ggKG4pIHt9CiAgICB9CiAgfSwgdEUucHJvdG90eXBlLmFkZENvbW1hbmRzID0gZnVuY3Rpb24gKGUsIG4pIHsKICAgIHZvaWQgMCA9PT0gbiAmJiAobiA9ICJleGVjIik7CiAgICB2YXIgciA9IHRoaXM7CiAgICBKTihlLCBmdW5jdGlvbiAodCwgZSkgewogICAgICBKTihlLnRvTG93ZXJDYXNlKCkuc3BsaXQoIiwiKSwgZnVuY3Rpb24gKGUpIHsKICAgICAgICByLmNvbW1hbmRzW25dW2VdID0gdDsKICAgICAgfSk7CiAgICB9KTsKICB9LCB0RS5wcm90b3R5cGUuYWRkQ29tbWFuZCA9IGZ1bmN0aW9uIChlLCBvLCBpKSB7CiAgICB2YXIgYSA9IHRoaXM7CiAgICBlID0gZS50b0xvd2VyQ2FzZSgpLCB0aGlzLmNvbW1hbmRzLmV4ZWNbZV0gPSBmdW5jdGlvbiAoZSwgdCwgbiwgcikgewogICAgICByZXR1cm4gby5jYWxsKGkgfHwgYS5lZGl0b3IsIHQsIG4sIHIpOwogICAgfTsKICB9LCB0RS5wcm90b3R5cGUucXVlcnlDb21tYW5kU3VwcG9ydGVkID0gZnVuY3Rpb24gKGUpIHsKICAgIGlmIChlID0gZS50b0xvd2VyQ2FzZSgpLCB0aGlzLmNvbW1hbmRzLmV4ZWNbZV0pIHJldHVybiAhMDsKCiAgICB0cnkgewogICAgICByZXR1cm4gdGhpcy5lZGl0b3IuZ2V0RG9jKCkucXVlcnlDb21tYW5kU3VwcG9ydGVkKGUpOwogICAgfSBjYXRjaCAodCkge30KCiAgICByZXR1cm4gITE7CiAgfSwgdEUucHJvdG90eXBlLmFkZFF1ZXJ5U3RhdGVIYW5kbGVyID0gZnVuY3Rpb24gKGUsIHQsIG4pIHsKICAgIHZhciByID0gdGhpczsKICAgIGUgPSBlLnRvTG93ZXJDYXNlKCksIHRoaXMuY29tbWFuZHMuc3RhdGVbZV0gPSBmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiB0LmNhbGwobiB8fCByLmVkaXRvcik7CiAgICB9OwogIH0sIHRFLnByb3RvdHlwZS5hZGRRdWVyeVZhbHVlSGFuZGxlciA9IGZ1bmN0aW9uIChlLCB0LCBuKSB7CiAgICB2YXIgciA9IHRoaXM7CiAgICBlID0gZS50b0xvd2VyQ2FzZSgpLCB0aGlzLmNvbW1hbmRzLnZhbHVlW2VdID0gZnVuY3Rpb24gKCkgewogICAgICByZXR1cm4gdC5jYWxsKG4gfHwgci5lZGl0b3IpOwogICAgfTsKICB9LCB0RS5wcm90b3R5cGUuaGFzQ3VzdG9tQ29tbWFuZCA9IGZ1bmN0aW9uIChlKSB7CiAgICByZXR1cm4gZSA9IGUudG9Mb3dlckNhc2UoKSwgISF0aGlzLmNvbW1hbmRzLmV4ZWNbZV07CiAgfSwgdEUucHJvdG90eXBlLmV4ZWNOYXRpdmVDb21tYW5kID0gZnVuY3Rpb24gKGUsIHQsIG4pIHsKICAgIHJldHVybiB0ID09PSB1bmRlZmluZWQgJiYgKHQgPSAhMSksIG4gPT09IHVuZGVmaW5lZCAmJiAobiA9IG51bGwpLCB0aGlzLmVkaXRvci5nZXREb2MoKS5leGVjQ29tbWFuZChlLCB0LCBuKTsKICB9LCB0RS5wcm90b3R5cGUuaXNGb3JtYXRNYXRjaCA9IGZ1bmN0aW9uIChlKSB7CiAgICByZXR1cm4gdGhpcy5lZGl0b3IuZm9ybWF0dGVyLm1hdGNoKGUpOwogIH0sIHRFLnByb3RvdHlwZS50b2dnbGVGb3JtYXQgPSBmdW5jdGlvbiAoZSwgdCkgewogICAgdGhpcy5lZGl0b3IuZm9ybWF0dGVyLnRvZ2dsZShlLCB0ID8gewogICAgICB2YWx1ZTogdAogICAgfSA6IHVuZGVmaW5lZCksIHRoaXMuZWRpdG9yLm5vZGVDaGFuZ2VkKCk7CiAgfSwgdEUucHJvdG90eXBlLnN0b3JlU2VsZWN0aW9uID0gZnVuY3Rpb24gKGUpIHsKICAgIHRoaXMuc2VsZWN0aW9uQm9va21hcmsgPSB0aGlzLmVkaXRvci5zZWxlY3Rpb24uZ2V0Qm9va21hcmsoZSk7CiAgfSwgdEUucHJvdG90eXBlLnJlc3RvcmVTZWxlY3Rpb24gPSBmdW5jdGlvbiAoKSB7CiAgICB0aGlzLmVkaXRvci5zZWxlY3Rpb24ubW92ZVRvQm9va21hcmsodGhpcy5zZWxlY3Rpb25Cb29rbWFyayk7CiAgfSwgdEUucHJvdG90eXBlLnNldHVwQ29tbWFuZHMgPSBmdW5jdGlvbiAoaSkgewogICAgdmFyIGEgPSB0aGlzOwogICAgdGhpcy5hZGRDb21tYW5kcyh7CiAgICAgICJtY2VSZXNldERlc2lnbk1vZGUsbWNlQmVnaW5VbmRvTGV2ZWwiOiBmdW5jdGlvbiBtY2VSZXNldERlc2lnbk1vZGVNY2VCZWdpblVuZG9MZXZlbCgpIHt9LAogICAgICAibWNlRW5kVW5kb0xldmVsLG1jZUFkZFVuZG9MZXZlbCI6IGZ1bmN0aW9uIG1jZUVuZFVuZG9MZXZlbE1jZUFkZFVuZG9MZXZlbCgpIHsKICAgICAgICBpLnVuZG9NYW5hZ2VyLmFkZCgpOwogICAgICB9LAogICAgICAiQ3V0LENvcHksUGFzdGUiOiBmdW5jdGlvbiBDdXRDb3B5UGFzdGUoZSkgewogICAgICAgIHZhciB0LAogICAgICAgICAgICBuLAogICAgICAgICAgICByID0gaS5nZXREb2MoKTsKCiAgICAgICAgdHJ5IHsKICAgICAgICAgIGEuZXhlY05hdGl2ZUNvbW1hbmQoZSk7CiAgICAgICAgfSBjYXRjaCAobykgewogICAgICAgICAgdCA9ICEwOwogICAgICAgIH0KCiAgICAgICAgInBhc3RlIiAhPT0gZSB8fCByLnF1ZXJ5Q29tbWFuZEVuYWJsZWQoZSkgfHwgKHQgPSAhMCksICF0ICYmIHIucXVlcnlDb21tYW5kU3VwcG9ydGVkKGUpIHx8IChuID0gaS50cmFuc2xhdGUoIllvdXIgYnJvd3NlciBkb2Vzbid0IHN1cHBvcnQgZGlyZWN0IGFjY2VzcyB0byB0aGUgY2xpcGJvYXJkLiBQbGVhc2UgdXNlIHRoZSBDdHJsK1gvQy9WIGtleWJvYXJkIHNob3J0Y3V0cyBpbnN0ZWFkLiIpLCB3dC5tYWMgJiYgKG4gPSBuLnJlcGxhY2UoL0N0cmxcKy9nLCAiXHUyMzE4KyIpKSwgaS5ub3RpZmljYXRpb25NYW5hZ2VyLm9wZW4oewogICAgICAgICAgdGV4dDogbiwKICAgICAgICAgIHR5cGU6ICJlcnJvciIKICAgICAgICB9KSk7CiAgICAgIH0sCiAgICAgIHVubGluazogZnVuY3Rpb24gdW5saW5rKCkgewogICAgICAgIHZhciBlOwogICAgICAgIGkuc2VsZWN0aW9uLmlzQ29sbGFwc2VkKCkgPyAoZSA9IGkuZG9tLmdldFBhcmVudChpLnNlbGVjdGlvbi5nZXRTdGFydCgpLCAiYSIpKSAmJiBpLmRvbS5yZW1vdmUoZSwgITApIDogaS5mb3JtYXR0ZXIucmVtb3ZlKCJsaW5rIik7CiAgICAgIH0sCiAgICAgICJKdXN0aWZ5TGVmdCxKdXN0aWZ5Q2VudGVyLEp1c3RpZnlSaWdodCxKdXN0aWZ5RnVsbCxKdXN0aWZ5Tm9uZSI6IGZ1bmN0aW9uIEp1c3RpZnlMZWZ0SnVzdGlmeUNlbnRlckp1c3RpZnlSaWdodEp1c3RpZnlGdWxsSnVzdGlmeU5vbmUoZSkgewogICAgICAgIHZhciB0ID0gZS5zdWJzdHJpbmcoNyk7CiAgICAgICAgImZ1bGwiID09PSB0ICYmICh0ID0gImp1c3RpZnkiKSwgSk4oImxlZnQsY2VudGVyLHJpZ2h0LGp1c3RpZnkiLnNwbGl0KCIsIiksIGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICB0ICE9PSBlICYmIGkuZm9ybWF0dGVyLnJlbW92ZSgiYWxpZ24iICsgZSk7CiAgICAgICAgfSksICJub25lIiAhPT0gdCAmJiBhLnRvZ2dsZUZvcm1hdCgiYWxpZ24iICsgdCk7CiAgICAgIH0sCiAgICAgICJJbnNlcnRVbm9yZGVyZWRMaXN0LEluc2VydE9yZGVyZWRMaXN0IjogZnVuY3Rpb24gSW5zZXJ0VW5vcmRlcmVkTGlzdEluc2VydE9yZGVyZWRMaXN0KGUpIHsKICAgICAgICB2YXIgdDsKICAgICAgICBhLmV4ZWNOYXRpdmVDb21tYW5kKGUpOwogICAgICAgIHZhciBuID0gaS5kb20uZ2V0UGFyZW50KGkuc2VsZWN0aW9uLmdldE5vZGUoKSwgIm9sLHVsIik7CiAgICAgICAgbiAmJiAodCA9IG4ucGFyZW50Tm9kZSwgL14oSFsxLTZdfFB8QUREUkVTU3xQUkUpJC8udGVzdCh0Lm5vZGVOYW1lKSAmJiAoYS5zdG9yZVNlbGVjdGlvbigpLCBpLmRvbS5zcGxpdCh0LCBuKSwgYS5yZXN0b3JlU2VsZWN0aW9uKCkpKTsKICAgICAgfSwKICAgICAgIkJvbGQsSXRhbGljLFVuZGVybGluZSxTdHJpa2V0aHJvdWdoLFN1cGVyc2NyaXB0LFN1YnNjcmlwdCI6IGZ1bmN0aW9uIEJvbGRJdGFsaWNVbmRlcmxpbmVTdHJpa2V0aHJvdWdoU3VwZXJzY3JpcHRTdWJzY3JpcHQoZSkgewogICAgICAgIGEudG9nZ2xlRm9ybWF0KGUpOwogICAgICB9LAogICAgICAiRm9yZUNvbG9yLEhpbGl0ZUNvbG9yIjogZnVuY3Rpb24gRm9yZUNvbG9ySGlsaXRlQ29sb3IoZSwgdCwgbikgewogICAgICAgIGEudG9nZ2xlRm9ybWF0KGUsIG4pOwogICAgICB9LAogICAgICBGb250TmFtZTogZnVuY3Rpb24gRm9udE5hbWUoZSwgdCwgbikgewogICAgICAgIFlOKGksIG4pOwogICAgICB9LAogICAgICBGb250U2l6ZTogZnVuY3Rpb24gRm9udFNpemUoZSwgdCwgbikgewogICAgICAgIHZhciByLCBvOwogICAgICAgIG8gPSBuLCAociA9IGkpLmZvcm1hdHRlci50b2dnbGUoImZvbnRzaXplIiwgewogICAgICAgICAgdmFsdWU6IFhOKHIsIG8pCiAgICAgICAgfSksIHIubm9kZUNoYW5nZWQoKTsKICAgICAgfSwKICAgICAgTGluZUhlaWdodDogZnVuY3Rpb24gTGluZUhlaWdodChlLCB0LCBuKSB7CiAgICAgICAgdmFyIHIsIG87CiAgICAgICAgbyA9IG4sIChyID0gaSkudW5kb01hbmFnZXIudHJhbnNhY3QoZnVuY3Rpb24gKCkgewogICAgICAgICAgci5mb3JtYXR0ZXIudG9nZ2xlKCJsaW5laGVpZ2h0IiwgewogICAgICAgICAgICB2YWx1ZTogU3RyaW5nKG8pCiAgICAgICAgICB9KSwgci5ub2RlQ2hhbmdlZCgpOwogICAgICAgIH0pOwogICAgICB9LAogICAgICBSZW1vdmVGb3JtYXQ6IGZ1bmN0aW9uIFJlbW92ZUZvcm1hdChlKSB7CiAgICAgICAgaS5mb3JtYXR0ZXIucmVtb3ZlKGUpOwogICAgICB9LAogICAgICBtY2VCbG9ja1F1b3RlOiBmdW5jdGlvbiBtY2VCbG9ja1F1b3RlKCkgewogICAgICAgIGEudG9nZ2xlRm9ybWF0KCJibG9ja3F1b3RlIik7CiAgICAgIH0sCiAgICAgIEZvcm1hdEJsb2NrOiBmdW5jdGlvbiBGb3JtYXRCbG9jayhlLCB0LCBuKSB7CiAgICAgICAgcmV0dXJuIGEudG9nZ2xlRm9ybWF0KG4gfHwgInAiKTsKICAgICAgfSwKICAgICAgbWNlQ2xlYW51cDogZnVuY3Rpb24gbWNlQ2xlYW51cCgpIHsKICAgICAgICB2YXIgZSA9IGkuc2VsZWN0aW9uLmdldEJvb2ttYXJrKCk7CiAgICAgICAgaS5zZXRDb250ZW50KGkuZ2V0Q29udGVudCgpKSwgaS5zZWxlY3Rpb24ubW92ZVRvQm9va21hcmsoZSk7CiAgICAgIH0sCiAgICAgIG1jZVJlbW92ZU5vZGU6IGZ1bmN0aW9uIG1jZVJlbW92ZU5vZGUoZSwgdCwgbikgewogICAgICAgIHZhciByID0gbiB8fCBpLnNlbGVjdGlvbi5nZXROb2RlKCk7CiAgICAgICAgciAhPT0gaS5nZXRCb2R5KCkgJiYgKGEuc3RvcmVTZWxlY3Rpb24oKSwgaS5kb20ucmVtb3ZlKHIsICEwKSwgYS5yZXN0b3JlU2VsZWN0aW9uKCkpOwogICAgICB9LAogICAgICBtY2VTZWxlY3ROb2RlRGVwdGg6IGZ1bmN0aW9uIG1jZVNlbGVjdE5vZGVEZXB0aChlLCB0LCBuKSB7CiAgICAgICAgdmFyIHIgPSAwOwogICAgICAgIGkuZG9tLmdldFBhcmVudChpLnNlbGVjdGlvbi5nZXROb2RlKCksIGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICBpZiAoMSA9PT0gZS5ub2RlVHlwZSAmJiByKysgPT09IG4pIHJldHVybiBpLnNlbGVjdGlvbi5zZWxlY3QoZSksICExOwogICAgICAgIH0sIGkuZ2V0Qm9keSgpKTsKICAgICAgfSwKICAgICAgbWNlU2VsZWN0Tm9kZTogZnVuY3Rpb24gbWNlU2VsZWN0Tm9kZShlLCB0LCBuKSB7CiAgICAgICAgaS5zZWxlY3Rpb24uc2VsZWN0KG4pOwogICAgICB9LAogICAgICBtY2VJbnNlcnRDb250ZW50OiBmdW5jdGlvbiBtY2VJbnNlcnRDb250ZW50KGUsIHQsIG4pIHsKICAgICAgICBHTihpLCBuKTsKICAgICAgfSwKICAgICAgbWNlSW5zZXJ0UmF3SFRNTDogZnVuY3Rpb24gbWNlSW5zZXJ0UmF3SFRNTChlLCB0LCBuKSB7CiAgICAgICAgaS5zZWxlY3Rpb24uc2V0Q29udGVudCgidGlueV9tY2VfbWFya2VyIik7CiAgICAgICAgdmFyIHIgPSBpLmdldENvbnRlbnQoKTsKICAgICAgICBpLnNldENvbnRlbnQoci5yZXBsYWNlKC90aW55X21jZV9tYXJrZXIvZywgZnVuY3Rpb24gKCkgewogICAgICAgICAgcmV0dXJuIG47CiAgICAgICAgfSkpOwogICAgICB9LAogICAgICBtY2VJbnNlcnROZXdMaW5lOiBmdW5jdGlvbiBtY2VJbnNlcnROZXdMaW5lKGUsIHQsIG4pIHsKICAgICAgICBNUyhpLCBuKTsKICAgICAgfSwKICAgICAgbWNlVG9nZ2xlRm9ybWF0OiBmdW5jdGlvbiBtY2VUb2dnbGVGb3JtYXQoZSwgdCwgbikgewogICAgICAgIGEudG9nZ2xlRm9ybWF0KG4pOwogICAgICB9LAogICAgICBtY2VTZXRDb250ZW50OiBmdW5jdGlvbiBtY2VTZXRDb250ZW50KGUsIHQsIG4pIHsKICAgICAgICBpLnNldENvbnRlbnQobik7CiAgICAgIH0sCiAgICAgICJJbmRlbnQsT3V0ZGVudCI6IGZ1bmN0aW9uIEluZGVudE91dGRlbnQoZSkgewogICAgICAgIF93KGksIGUpOwogICAgICB9LAogICAgICBtY2VSZXBhaW50OiBmdW5jdGlvbiBtY2VSZXBhaW50KCkge30sCiAgICAgIEluc2VydEhvcml6b250YWxSdWxlOiBmdW5jdGlvbiBJbnNlcnRIb3Jpem9udGFsUnVsZSgpIHsKICAgICAgICBpLmV4ZWNDb21tYW5kKCJtY2VJbnNlcnRDb250ZW50IiwgITEsICI8aHIgLz4iKTsKICAgICAgfSwKICAgICAgbWNlVG9nZ2xlVmlzdWFsQWlkOiBmdW5jdGlvbiBtY2VUb2dnbGVWaXN1YWxBaWQoKSB7CiAgICAgICAgaS5oYXNWaXN1YWwgPSAhaS5oYXNWaXN1YWwsIGkuYWRkVmlzdWFsKCk7CiAgICAgIH0sCiAgICAgIG1jZVJlcGxhY2VDb250ZW50OiBmdW5jdGlvbiBtY2VSZXBsYWNlQ29udGVudChlLCB0LCBuKSB7CiAgICAgICAgaS5leGVjQ29tbWFuZCgibWNlSW5zZXJ0Q29udGVudCIsICExLCBuLnJlcGxhY2UoL1x7XCRzZWxlY3Rpb25cfS9nLCBpLnNlbGVjdGlvbi5nZXRDb250ZW50KHsKICAgICAgICAgIGZvcm1hdDogInRleHQiCiAgICAgICAgfSkpKTsKICAgICAgfSwKICAgICAgbWNlSW5zZXJ0TGluazogZnVuY3Rpb24gbWNlSW5zZXJ0TGluayhlLCB0LCBuKSB7CiAgICAgICAgInN0cmluZyIgPT0gdHlwZW9mIG4gJiYgKG4gPSB7CiAgICAgICAgICBocmVmOiBuCiAgICAgICAgfSk7CiAgICAgICAgdmFyIHIgPSBpLmRvbS5nZXRQYXJlbnQoaS5zZWxlY3Rpb24uZ2V0Tm9kZSgpLCAiYSIpOwogICAgICAgIG4uaHJlZiA9IG4uaHJlZi5yZXBsYWNlKC8gL2csICIlMjAiKSwgciAmJiBuLmhyZWYgfHwgaS5mb3JtYXR0ZXIucmVtb3ZlKCJsaW5rIiksIG4uaHJlZiAmJiBpLmZvcm1hdHRlci5hcHBseSgibGluayIsIG4sIHIpOwogICAgICB9LAogICAgICBzZWxlY3RBbGw6IGZ1bmN0aW9uIHNlbGVjdEFsbCgpIHsKICAgICAgICB2YXIgZSwKICAgICAgICAgICAgdCA9IGkuZG9tLmdldFBhcmVudChpLnNlbGVjdGlvbi5nZXRTdGFydCgpLCBIbik7CiAgICAgICAgdCAmJiAoKGUgPSBpLmRvbS5jcmVhdGVSbmcoKSkuc2VsZWN0Tm9kZUNvbnRlbnRzKHQpLCBpLnNlbGVjdGlvbi5zZXRSbmcoZSkpOwogICAgICB9LAogICAgICBtY2VOZXdEb2N1bWVudDogZnVuY3Rpb24gbWNlTmV3RG9jdW1lbnQoKSB7CiAgICAgICAgaS5zZXRDb250ZW50KCIiKTsKICAgICAgfSwKICAgICAgSW5zZXJ0TGluZUJyZWFrOiBmdW5jdGlvbiBJbnNlcnRMaW5lQnJlYWsoZSwgdCwgbikgewogICAgICAgIHJldHVybiBTUyhpLCBuKSwgITA7CiAgICAgIH0KICAgIH0pOwoKICAgIHZhciBlID0gZnVuY3Rpb24gZShyKSB7CiAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7CiAgICAgICAgdmFyIGUgPSBpLnNlbGVjdGlvbiwKICAgICAgICAgICAgdCA9IGUuaXNDb2xsYXBzZWQoKSA/IFtpLmRvbS5nZXRQYXJlbnQoZS5nZXROb2RlKCksIGkuZG9tLmlzQmxvY2spXSA6IGUuZ2V0U2VsZWN0ZWRCbG9ja3MoKSwKICAgICAgICAgICAgbiA9IFFOKHQsIGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICByZXR1cm4gISFpLmZvcm1hdHRlci5tYXRjaE5vZGUoZSwgcik7CiAgICAgICAgfSk7CiAgICAgICAgcmV0dXJuIC0xICE9PSBaTihuLCAhMCk7CiAgICAgIH07CiAgICB9OwoKICAgIGEuYWRkQ29tbWFuZHMoewogICAgICBKdXN0aWZ5TGVmdDogZSgiYWxpZ25sZWZ0IiksCiAgICAgIEp1c3RpZnlDZW50ZXI6IGUoImFsaWduY2VudGVyIiksCiAgICAgIEp1c3RpZnlSaWdodDogZSgiYWxpZ25yaWdodCIpLAogICAgICBKdXN0aWZ5RnVsbDogZSgiYWxpZ25qdXN0aWZ5IiksCiAgICAgICJCb2xkLEl0YWxpYyxVbmRlcmxpbmUsU3RyaWtldGhyb3VnaCxTdXBlcnNjcmlwdCxTdWJzY3JpcHQiOiBmdW5jdGlvbiBCb2xkSXRhbGljVW5kZXJsaW5lU3RyaWtldGhyb3VnaFN1cGVyc2NyaXB0U3Vic2NyaXB0KGUpIHsKICAgICAgICByZXR1cm4gYS5pc0Zvcm1hdE1hdGNoKGUpOwogICAgICB9LAogICAgICBtY2VCbG9ja1F1b3RlOiBmdW5jdGlvbiBtY2VCbG9ja1F1b3RlKCkgewogICAgICAgIHJldHVybiBhLmlzRm9ybWF0TWF0Y2goImJsb2NrcXVvdGUiKTsKICAgICAgfSwKICAgICAgT3V0ZGVudDogZnVuY3Rpb24gT3V0ZGVudCgpIHsKICAgICAgICByZXR1cm4gTncoaSk7CiAgICAgIH0sCiAgICAgICJJbnNlcnRVbm9yZGVyZWRMaXN0LEluc2VydE9yZGVyZWRMaXN0IjogZnVuY3Rpb24gSW5zZXJ0VW5vcmRlcmVkTGlzdEluc2VydE9yZGVyZWRMaXN0KGUpIHsKICAgICAgICB2YXIgdCA9IGkuZG9tLmdldFBhcmVudChpLnNlbGVjdGlvbi5nZXROb2RlKCksICJ1bCxvbCIpOwogICAgICAgIHJldHVybiB0ICYmICgiaW5zZXJ0dW5vcmRlcmVkbGlzdCIgPT09IGUgJiYgIlVMIiA9PT0gdC50YWdOYW1lIHx8ICJpbnNlcnRvcmRlcmVkbGlzdCIgPT09IGUgJiYgIk9MIiA9PT0gdC50YWdOYW1lKTsKICAgICAgfQogICAgfSwgInN0YXRlIiksIGEuYWRkQ29tbWFuZHMoewogICAgICBVbmRvOiBmdW5jdGlvbiBVbmRvKCkgewogICAgICAgIGkudW5kb01hbmFnZXIudW5kbygpOwogICAgICB9LAogICAgICBSZWRvOiBmdW5jdGlvbiBSZWRvKCkgewogICAgICAgIGkudW5kb01hbmFnZXIucmVkbygpOwogICAgICB9CiAgICB9KSwgYS5hZGRRdWVyeVZhbHVlSGFuZGxlcigiRm9udE5hbWUiLCBmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiBLTih0ID0gaSwgZnVuY3Rpb24gKGUpIHsKICAgICAgICByZXR1cm4gJE4odC5nZXRCb2R5KCksIGUuZG9tKTsKICAgICAgfSkuZ2V0T3IoIiIpOwogICAgICB2YXIgdDsKICAgIH0sIHRoaXMpLCBhLmFkZFF1ZXJ5VmFsdWVIYW5kbGVyKCJGb250U2l6ZSIsIGZ1bmN0aW9uICgpIHsKICAgICAgcmV0dXJuIEtOKHQgPSBpLCBmdW5jdGlvbiAoZSkgewogICAgICAgIHJldHVybiBxTih0LmdldEJvZHkoKSwgZS5kb20pOwogICAgICB9KS5nZXRPcigiIik7CiAgICAgIHZhciB0OwogICAgfSwgdGhpcyksIGEuYWRkUXVlcnlWYWx1ZUhhbmRsZXIoIkxpbmVIZWlnaHQiLCBmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiBLTih0ID0gaSwgZnVuY3Rpb24gKG4pIHsKICAgICAgICB2YXIgZSA9IEF0LmZyb21Eb20odC5nZXRCb2R5KCkpOwogICAgICAgIHJldHVybiBQbShuLCBmdW5jdGlvbiAoZSkgewogICAgICAgICAgcmV0dXJuIG5yKGUsICJsaW5lLWhlaWdodCIpOwogICAgICAgIH0sIE4oT3QsIGUpKS5nZXRPclRodW5rKGZ1bmN0aW9uICgpIHsKICAgICAgICAgIHZhciBlID0gcGFyc2VGbG9hdChlcihuLCAibGluZS1oZWlnaHQiKSksCiAgICAgICAgICAgICAgdCA9IHBhcnNlRmxvYXQoZXIobiwgImZvbnQtc2l6ZSIpKTsKICAgICAgICAgIHJldHVybiBTdHJpbmcoZSAvIHQpOwogICAgICAgIH0pOwogICAgICB9KS5nZXRPcigiIik7CiAgICAgIHZhciB0OwogICAgfSwgdGhpcyk7CiAgfSwgdEUpOwoKICBmdW5jdGlvbiB0RShlKSB7CiAgICB0aGlzLmNvbW1hbmRzID0gewogICAgICBzdGF0ZToge30sCiAgICAgIGV4ZWM6IHt9LAogICAgICB2YWx1ZToge30KICAgIH0sIHRoaXMuZWRpdG9yID0gZSwgdGhpcy5zZXR1cENvbW1hbmRzKGUpOwogIH0KCiAgdmFyIG5FID0gImRhdGEtbWNlLWNvbnRlbnRlZGl0YWJsZSIsCiAgICAgIHJFID0gZnVuY3Rpb24gckUoZSwgdCwgbikgewogICAgdmFyIHIsIG87CiAgICBYdShlLCB0KSAmJiAhMSA9PT0gbiA/IChvID0gdCwgVnUociA9IGUpID8gci5kb20uY2xhc3NMaXN0LnJlbW92ZShvKSA6ICR1KHIsIG8pLCBLdShyKSkgOiBuICYmIFd1KGUsIHQpOwogIH0sCiAgICAgIG9FID0gZnVuY3Rpb24gb0UoZSwgdCwgbikgewogICAgdHJ5IHsKICAgICAgZS5nZXREb2MoKS5leGVjQ29tbWFuZCh0LCAhMSwgU3RyaW5nKG4pKTsKICAgIH0gY2F0Y2ggKHIpIHt9CiAgfSwKICAgICAgaUUgPSBmdW5jdGlvbiBpRShlLCB0KSB7CiAgICBlLmRvbS5jb250ZW50RWRpdGFibGUgPSB0ID8gInRydWUiIDogImZhbHNlIjsKICB9LAogICAgICBhRSA9IGZ1bmN0aW9uIGFFKGUsIHQpIHsKICAgIHZhciBuLAogICAgICAgIHIsCiAgICAgICAgbywKICAgICAgICBpID0gQXQuZnJvbURvbShlLmdldEJvZHkoKSk7CiAgICByRShpLCAibWNlLWNvbnRlbnQtcmVhZG9ubHkiLCB0KSwgdCA/IChlLnNlbGVjdGlvbi5jb250cm9sU2VsZWN0aW9uLmhpZGVSZXNpemVSZWN0KCksIGUuX3NlbGVjdGlvbk92ZXJyaWRlcy5oaWRlRmFrZUNhcmV0KCksIG8gPSBlLCBVLmZyb20oby5zZWxlY3Rpb24uZ2V0Tm9kZSgpKS5lYWNoKGZ1bmN0aW9uIChlKSB7CiAgICAgIGUucmVtb3ZlQXR0cmlidXRlKCJkYXRhLW1jZS1zZWxlY3RlZCIpOwogICAgfSksIGUucmVhZG9ubHkgPSAhMCwgaUUoaSwgITEpLCBXKEd1KGksICcqW2NvbnRlbnRlZGl0YWJsZT0idHJ1ZSJdJyksIGZ1bmN0aW9uIChlKSB7CiAgICAgIFhuKGUsIG5FLCAidHJ1ZSIpLCBpRShlLCAhMSk7CiAgICB9KSkgOiAoZS5yZWFkb25seSA9ICExLCBpRShpLCAhMCksIFcoR3UoaSwgIipbIiArIG5FICsgJz0idHJ1ZSJdJyksIGZ1bmN0aW9uIChlKSB7CiAgICAgIFFuKGUsIG5FKSwgaUUoZSwgITApOwogICAgfSksIG9FKGUsICJTdHlsZVdpdGhDU1MiLCAhMSksIG9FKGUsICJlbmFibGVJbmxpbmVUYWJsZUVkaXRpbmciLCAhMSksIG9FKGUsICJlbmFibGVPYmplY3RSZXNpemluZyIsICExKSwgKEVtKHIgPSBlKSB8fCBObShyKSkgJiYgZS5mb2N1cygpLCAobiA9IGUpLnNlbGVjdGlvbi5zZXRSbmcobi5zZWxlY3Rpb24uZ2V0Um5nKCkpLCBlLm5vZGVDaGFuZ2VkKCkpOwogIH0sCiAgICAgIHVFID0gZnVuY3Rpb24gdUUoZSkgewogICAgcmV0dXJuIGUucmVhZG9ubHk7CiAgfSwKICAgICAgc0UgPSBmdW5jdGlvbiBzRSh0KSB7CiAgICB0LnBhcnNlci5hZGRBdHRyaWJ1dGVGaWx0ZXIoImNvbnRlbnRlZGl0YWJsZSIsIGZ1bmN0aW9uIChlKSB7CiAgICAgIHVFKHQpICYmIFcoZSwgZnVuY3Rpb24gKGUpIHsKICAgICAgICBlLmF0dHIobkUsIGUuYXR0cigiY29udGVudGVkaXRhYmxlIikpLCBlLmF0dHIoImNvbnRlbnRlZGl0YWJsZSIsICJmYWxzZSIpOwogICAgICB9KTsKICAgIH0pLCB0LnNlcmlhbGl6ZXIuYWRkQXR0cmlidXRlRmlsdGVyKG5FLCBmdW5jdGlvbiAoZSkgewogICAgICB1RSh0KSAmJiBXKGUsIGZ1bmN0aW9uIChlKSB7CiAgICAgICAgZS5hdHRyKCJjb250ZW50ZWRpdGFibGUiLCBlLmF0dHIobkUpKTsKICAgICAgfSk7CiAgICB9KSwgdC5zZXJpYWxpemVyLmFkZFRlbXBBdHRyKG5FKTsKICB9LAogICAgICBjRSA9IGZ1bmN0aW9uIGNFKGEsIHUpIHsKICAgIHZhciBlLCB0OwogICAgImNsaWNrIiAhPT0gdS50eXBlIHx8IHVkLm1ldGFLZXlQcmVzc2VkKHUpIHx8IChlID0gQXQuZnJvbURvbSh1LnRhcmdldCksIHQgPSBhLCBPcihlLCAiYSIsIGZ1bmN0aW9uIChlKSB7CiAgICAgIHJldHVybiBPdChlLCBBdC5mcm9tRG9tKHQuZ2V0Qm9keSgpKSk7CiAgICB9KS5iaW5kKGZ1bmN0aW9uIChlKSB7CiAgICAgIHJldHVybiBKbihlLCAiaHJlZiIpOwogICAgfSkuZWFjaChmdW5jdGlvbiAoZSkgewogICAgICB2YXIgdCwgbiwgciwgbywgaTsKICAgICAgdS5wcmV2ZW50RGVmYXVsdCgpLCAvXiMvLnRlc3QoZSkgPyAodCA9IGEuZG9tLnNlbGVjdChlICsgJyxbbmFtZT0iJyArIChWZShuID0gZSwgciA9ICIjIikgPyAobyA9IG4sIGkgPSByLmxlbmd0aCwgby5zdWJzdHJpbmcoaSkpIDogbikgKyAnIl0nKSkubGVuZ3RoICYmIGEuc2VsZWN0aW9uLnNjcm9sbEludG9WaWV3KHRbMF0sICEwKSA6IHdpbmRvdy5vcGVuKGUsICJfYmxhbmsiLCAicmVsPW5vb3BlbmVyIG5vcmVmZXJyZXIsbWVudWJhcj15ZXMsdG9vbGJhcj15ZXMsbG9jYXRpb249eWVzLHN0YXR1cz15ZXMscmVzaXphYmxlPXllcyxzY3JvbGxiYXJzPXllcyIpOwogICAgfSkpOwogIH0sCiAgICAgIGxFID0ga3QubWFrZU1hcCgiZm9jdXMgYmx1ciBmb2N1c2luIGZvY3Vzb3V0IGNsaWNrIGRibGNsaWNrIG1vdXNlZG93biBtb3VzZXVwIG1vdXNlbW92ZSBtb3VzZW92ZXIgYmVmb3JlcGFzdGUgcGFzdGUgY3V0IGNvcHkgc2VsZWN0aW9uY2hhbmdlIG1vdXNlb3V0IG1vdXNlZW50ZXIgbW91c2VsZWF2ZSB3aGVlbCBrZXlkb3duIGtleXByZXNzIGtleXVwIGlucHV0IGJlZm9yZWlucHV0IGNvbnRleHRtZW51IGRyYWdzdGFydCBkcmFnZW5kIGRyYWdvdmVyIGRyYWdnZXN0dXJlIGRyYWdkcm9wIGRyb3AgZHJhZyBzdWJtaXQgY29tcG9zaXRpb25zdGFydCBjb21wb3NpdGlvbmVuZCBjb21wb3NpdGlvbnVwZGF0ZSB0b3VjaHN0YXJ0IHRvdWNobW92ZSB0b3VjaGVuZCB0b3VjaGNhbmNlbCIsICIgIiksCiAgICAgIGZFID0gKGRFLmlzTmF0aXZlID0gZnVuY3Rpb24gKGUpIHsKICAgIHJldHVybiAhIWxFW2UudG9Mb3dlckNhc2UoKV07CiAgfSwgZEUucHJvdG90eXBlLmZpcmUgPSBmdW5jdGlvbiAoZSwgdCkgewogICAgdmFyIG4gPSBlLnRvTG93ZXJDYXNlKCksCiAgICAgICAgciA9IHQgfHwge307CiAgICByLnR5cGUgPSBuLCByLnRhcmdldCB8fCAoci50YXJnZXQgPSB0aGlzLnNjb3BlKSwgci5wcmV2ZW50RGVmYXVsdCB8fCAoci5wcmV2ZW50RGVmYXVsdCA9IGZ1bmN0aW9uICgpIHsKICAgICAgci5pc0RlZmF1bHRQcmV2ZW50ZWQgPSBrOwogICAgfSwgci5zdG9wUHJvcGFnYXRpb24gPSBmdW5jdGlvbiAoKSB7CiAgICAgIHIuaXNQcm9wYWdhdGlvblN0b3BwZWQgPSBrOwogICAgfSwgci5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24gPSBmdW5jdGlvbiAoKSB7CiAgICAgIHIuaXNJbW1lZGlhdGVQcm9wYWdhdGlvblN0b3BwZWQgPSBrOwogICAgfSwgci5pc0RlZmF1bHRQcmV2ZW50ZWQgPSBDLCByLmlzUHJvcGFnYXRpb25TdG9wcGVkID0gQywgci5pc0ltbWVkaWF0ZVByb3BhZ2F0aW9uU3RvcHBlZCA9IEMpLCB0aGlzLnNldHRpbmdzLmJlZm9yZUZpcmUgJiYgdGhpcy5zZXR0aW5ncy5iZWZvcmVGaXJlKHIpOwogICAgdmFyIG8gPSB0aGlzLmJpbmRpbmdzW25dOwogICAgaWYgKG8pIGZvciAodmFyIGkgPSAwLCBhID0gby5sZW5ndGg7IGkgPCBhOyBpKyspIHsKICAgICAgdmFyIHUgPSBvW2ldOwogICAgICBpZiAodS5vbmNlICYmIHRoaXMub2ZmKG4sIHUuZnVuYyksIHIuaXNJbW1lZGlhdGVQcm9wYWdhdGlvblN0b3BwZWQoKSkgcmV0dXJuIHIuc3RvcFByb3BhZ2F0aW9uKCksIHI7CiAgICAgIGlmICghMSA9PT0gdS5mdW5jLmNhbGwodGhpcy5zY29wZSwgcikpIHJldHVybiByLnByZXZlbnREZWZhdWx0KCksIHI7CiAgICB9CiAgICByZXR1cm4gcjsKICB9LCBkRS5wcm90b3R5cGUub24gPSBmdW5jdGlvbiAoZSwgdCwgbiwgcikgewogICAgaWYgKCExID09PSB0ICYmICh0ID0gQyksIHQpIHsKICAgICAgdmFyIG8gPSB7CiAgICAgICAgZnVuYzogdAogICAgICB9OwogICAgICByICYmIGt0LmV4dGVuZChvLCByKTsKCiAgICAgIGZvciAodmFyIGkgPSBlLnRvTG93ZXJDYXNlKCkuc3BsaXQoIiAiKSwgYSA9IGkubGVuZ3RoOyBhLS07KSB7CiAgICAgICAgdmFyIHUgPSBpW2FdLAogICAgICAgICAgICBzID0gdGhpcy5iaW5kaW5nc1t1XTsKICAgICAgICBzIHx8IChzID0gdGhpcy5iaW5kaW5nc1t1XSA9IFtdLCB0aGlzLnRvZ2dsZUV2ZW50KHUsICEwKSksIG4gPyBzLnVuc2hpZnQobykgOiBzLnB1c2gobyk7CiAgICAgIH0KICAgIH0KCiAgICByZXR1cm4gdGhpczsKICB9LCBkRS5wcm90b3R5cGUub2ZmID0gZnVuY3Rpb24gKGUsIHQpIHsKICAgIHZhciBuID0gdGhpczsKICAgIGlmIChlKSBmb3IgKHZhciByID0gZS50b0xvd2VyQ2FzZSgpLnNwbGl0KCIgIiksIG8gPSByLmxlbmd0aDsgby0tOykgewogICAgICB2YXIgaSA9IHJbb10sCiAgICAgICAgICBhID0gdGhpcy5iaW5kaW5nc1tpXTsKICAgICAgaWYgKCFpKSByZXR1cm4gdWUodGhpcy5iaW5kaW5ncywgZnVuY3Rpb24gKGUsIHQpIHsKICAgICAgICBuLnRvZ2dsZUV2ZW50KHQsICExKSwgZGVsZXRlIG4uYmluZGluZ3NbdF07CiAgICAgIH0pLCB0aGlzOwoKICAgICAgaWYgKGEpIHsKICAgICAgICBpZiAodCkgZm9yICh2YXIgdSA9IGEubGVuZ3RoOyB1LS07KSB7CiAgICAgICAgICBhW3VdLmZ1bmMgPT09IHQgJiYgKGEgPSBhLnNsaWNlKDAsIHUpLmNvbmNhdChhLnNsaWNlKHUgKyAxKSksIHRoaXMuYmluZGluZ3NbaV0gPSBhKTsKICAgICAgICB9IGVsc2UgYS5sZW5ndGggPSAwOwogICAgICAgIGEubGVuZ3RoIHx8ICh0aGlzLnRvZ2dsZUV2ZW50KGUsICExKSwgZGVsZXRlIHRoaXMuYmluZGluZ3NbaV0pOwogICAgICB9CiAgICB9IGVsc2UgdWUodGhpcy5iaW5kaW5ncywgZnVuY3Rpb24gKGUsIHQpIHsKICAgICAgbi50b2dnbGVFdmVudCh0LCAhMSk7CiAgICB9KSwgdGhpcy5iaW5kaW5ncyA9IHt9OwogICAgcmV0dXJuIHRoaXM7CiAgfSwgZEUucHJvdG90eXBlLm9uY2UgPSBmdW5jdGlvbiAoZSwgdCwgbikgewogICAgcmV0dXJuIHRoaXMub24oZSwgdCwgbiwgewogICAgICBvbmNlOiAhMAogICAgfSk7CiAgfSwgZEUucHJvdG90eXBlLmhhcyA9IGZ1bmN0aW9uIChlKSB7CiAgICByZXR1cm4gZSA9IGUudG9Mb3dlckNhc2UoKSwgISghdGhpcy5iaW5kaW5nc1tlXSB8fCAwID09PSB0aGlzLmJpbmRpbmdzW2VdLmxlbmd0aCk7CiAgfSwgZEUpOwoKICBmdW5jdGlvbiBkRShlKSB7CiAgICB0aGlzLmJpbmRpbmdzID0ge30sIHRoaXMuc2V0dGluZ3MgPSBlIHx8IHt9LCB0aGlzLnNjb3BlID0gdGhpcy5zZXR0aW5ncy5zY29wZSB8fCB0aGlzLCB0aGlzLnRvZ2dsZUV2ZW50ID0gdGhpcy5zZXR0aW5ncy50b2dnbGVFdmVudCB8fCBDOwogIH0KCiAgdmFyIG1FLAogICAgICBwRSA9IGZ1bmN0aW9uIHBFKG4pIHsKICAgIHJldHVybiBuLl9ldmVudERpc3BhdGNoZXIgfHwgKG4uX2V2ZW50RGlzcGF0Y2hlciA9IG5ldyBmRSh7CiAgICAgIHNjb3BlOiBuLAogICAgICB0b2dnbGVFdmVudDogZnVuY3Rpb24gdG9nZ2xlRXZlbnQoZSwgdCkgewogICAgICAgIGZFLmlzTmF0aXZlKGUpICYmIG4udG9nZ2xlTmF0aXZlRXZlbnQgJiYgbi50b2dnbGVOYXRpdmVFdmVudChlLCB0KTsKICAgICAgfQogICAgfSkpLCBuLl9ldmVudERpc3BhdGNoZXI7CiAgfSwKICAgICAgZ0UgPSB7CiAgICBmaXJlOiBmdW5jdGlvbiBmaXJlKGUsIHQsIG4pIHsKICAgICAgaWYgKHRoaXMucmVtb3ZlZCAmJiAicmVtb3ZlIiAhPT0gZSAmJiAiZGV0YWNoIiAhPT0gZSkgcmV0dXJuIHQ7CiAgICAgIHZhciByID0gcEUodGhpcykuZmlyZShlLCB0KTsKICAgICAgaWYgKCExICE9PSBuICYmIHRoaXMucGFyZW50KSBmb3IgKHZhciBvID0gdGhpcy5wYXJlbnQoKTsgbyAmJiAhci5pc1Byb3BhZ2F0aW9uU3RvcHBlZCgpOykgewogICAgICAgIG8uZmlyZShlLCByLCAhMSksIG8gPSBvLnBhcmVudCgpOwogICAgICB9CiAgICAgIHJldHVybiByOwogICAgfSwKICAgIG9uOiBmdW5jdGlvbiBvbihlLCB0LCBuKSB7CiAgICAgIHJldHVybiBwRSh0aGlzKS5vbihlLCB0LCBuKTsKICAgIH0sCiAgICBvZmY6IGZ1bmN0aW9uIG9mZihlLCB0KSB7CiAgICAgIHJldHVybiBwRSh0aGlzKS5vZmYoZSwgdCk7CiAgICB9LAogICAgb25jZTogZnVuY3Rpb24gb25jZShlLCB0KSB7CiAgICAgIHJldHVybiBwRSh0aGlzKS5vbmNlKGUsIHQpOwogICAgfSwKICAgIGhhc0V2ZW50TGlzdGVuZXJzOiBmdW5jdGlvbiBoYXNFdmVudExpc3RlbmVycyhlKSB7CiAgICAgIHJldHVybiBwRSh0aGlzKS5oYXMoZSk7CiAgICB9CiAgfSwKICAgICAgaEUgPSBFdS5ET00sCiAgICAgIHZFID0gZnVuY3Rpb24gdkUoZSwgdCkgewogICAgaWYgKCJzZWxlY3Rpb25jaGFuZ2UiID09PSB0KSByZXR1cm4gZS5nZXREb2MoKTsKICAgIGlmICghZS5pbmxpbmUgJiYgL15tb3VzZXx0b3VjaHxjbGlja3xjb250ZXh0bWVudXxkcm9wfGRyYWdvdmVyfGRyYWdlbmQvLnRlc3QodCkpIHJldHVybiBlLmdldERvYygpLmRvY3VtZW50RWxlbWVudDsKICAgIHZhciBuID0gRWMoZSk7CiAgICByZXR1cm4gbiA/IChlLmV2ZW50Um9vdCB8fCAoZS5ldmVudFJvb3QgPSBoRS5zZWxlY3QobilbMF0pLCBlLmV2ZW50Um9vdCkgOiBlLmdldEJvZHkoKTsKICB9LAogICAgICB5RSA9IGZ1bmN0aW9uIHlFKGUsIHQsIG4pIHsKICAgIHZhciByOwogICAgKHIgPSBlKS5oaWRkZW4gfHwgdUUocikgPyB1RShlKSAmJiBjRShlLCBuKSA6IGUuZmlyZSh0LCBuKTsKICB9LAogICAgICBiRSA9IGZ1bmN0aW9uIGJFKGksIGEpIHsKICAgIHZhciBlOwoKICAgIGlmIChpLmRlbGVnYXRlcyB8fCAoaS5kZWxlZ2F0ZXMgPSB7fSksICFpLmRlbGVnYXRlc1thXSAmJiAhaS5yZW1vdmVkKSB7CiAgICAgIHZhciB0ID0gdkUoaSwgYSk7CgogICAgICBpZiAoRWMoaSkpIHsKICAgICAgICBpZiAobUUgfHwgKG1FID0ge30sIGkuZWRpdG9yTWFuYWdlci5vbigicmVtb3ZlRWRpdG9yIiwgZnVuY3Rpb24gKCkgewogICAgICAgICAgaS5lZGl0b3JNYW5hZ2VyLmFjdGl2ZUVkaXRvciB8fCBtRSAmJiAodWUobUUsIGZ1bmN0aW9uIChlLCB0KSB7CiAgICAgICAgICAgIGkuZG9tLnVuYmluZCh2RShpLCB0KSk7CiAgICAgICAgICB9KSwgbUUgPSBudWxsKTsKICAgICAgICB9KSksIG1FW2FdKSByZXR1cm47CiAgICAgICAgZSA9IGZ1bmN0aW9uIGUoX2UxMCkgewogICAgICAgICAgZm9yICh2YXIgdCA9IF9lMTAudGFyZ2V0LCBuID0gaS5lZGl0b3JNYW5hZ2VyLmdldCgpLCByID0gbi5sZW5ndGg7IHItLTspIHsKICAgICAgICAgICAgdmFyIG8gPSBuW3JdLmdldEJvZHkoKTsKICAgICAgICAgICAgbyAhPT0gdCAmJiAhaEUuaXNDaGlsZE9mKHQsIG8pIHx8IHlFKG5bcl0sIGEsIF9lMTApOwogICAgICAgICAgfQogICAgICAgIH0sIG1FW2FdID0gZSwgaEUuYmluZCh0LCBhLCBlKTsKICAgICAgfSBlbHNlIGUgPSBmdW5jdGlvbiBlKF9lMTEpIHsKICAgICAgICB5RShpLCBhLCBfZTExKTsKICAgICAgfSwgaEUuYmluZCh0LCBhLCBlKSwgaS5kZWxlZ2F0ZXNbYV0gPSBlOwogICAgfQogIH0sCiAgICAgIENFID0gX2tlKF9rZSh7fSwgZ0UpLCB7CiAgICBiaW5kUGVuZGluZ0V2ZW50RGVsZWdhdGVzOiBmdW5jdGlvbiBiaW5kUGVuZGluZ0V2ZW50RGVsZWdhdGVzKCkgewogICAgICB2YXIgdCA9IHRoaXM7CiAgICAgIGt0LmVhY2godC5fcGVuZGluZ05hdGl2ZUV2ZW50cywgZnVuY3Rpb24gKGUpIHsKICAgICAgICBiRSh0LCBlKTsKICAgICAgfSk7CiAgICB9LAogICAgdG9nZ2xlTmF0aXZlRXZlbnQ6IGZ1bmN0aW9uIHRvZ2dsZU5hdGl2ZUV2ZW50KGUsIHQpIHsKICAgICAgdmFyIG4gPSB0aGlzOwogICAgICAiZm9jdXMiICE9PSBlICYmICJibHVyIiAhPT0gZSAmJiAodCA/IG4uaW5pdGlhbGl6ZWQgPyBiRShuLCBlKSA6IG4uX3BlbmRpbmdOYXRpdmVFdmVudHMgPyBuLl9wZW5kaW5nTmF0aXZlRXZlbnRzLnB1c2goZSkgOiBuLl9wZW5kaW5nTmF0aXZlRXZlbnRzID0gW2VdIDogbi5pbml0aWFsaXplZCAmJiAobi5kb20udW5iaW5kKHZFKG4sIGUpLCBlLCBuLmRlbGVnYXRlc1tlXSksIGRlbGV0ZSBuLmRlbGVnYXRlc1tlXSkpOwogICAgfSwKICAgIHVuYmluZEFsbE5hdGl2ZUV2ZW50czogZnVuY3Rpb24gdW5iaW5kQWxsTmF0aXZlRXZlbnRzKCkgewogICAgICB2YXIgbiA9IHRoaXMsCiAgICAgICAgICBlID0gbi5nZXRCb2R5KCksCiAgICAgICAgICB0ID0gbi5kb207CiAgICAgIG4uZGVsZWdhdGVzICYmICh1ZShuLmRlbGVnYXRlcywgZnVuY3Rpb24gKGUsIHQpIHsKICAgICAgICBuLmRvbS51bmJpbmQodkUobiwgdCksIHQsIGUpOwogICAgICB9KSwgZGVsZXRlIG4uZGVsZWdhdGVzKSwgIW4uaW5saW5lICYmIGUgJiYgdCAmJiAoZS5vbmxvYWQgPSBudWxsLCB0LnVuYmluZChuLmdldFdpbigpKSwgdC51bmJpbmQobi5nZXREb2MoKSkpLCB0ICYmICh0LnVuYmluZChlKSwgdC51bmJpbmQobi5nZXRDb250YWluZXIoKSkpOwogICAgfQogIH0pLAogICAgICB3RSA9IFsiZGVzaWduIiwgInJlYWRvbmx5Il0sCiAgICAgIHhFID0gZnVuY3Rpb24geEUoZSwgdCwgbiwgcikgewogICAgdmFyIG8sCiAgICAgICAgaSA9IG5bdC5nZXQoKV0sCiAgICAgICAgYSA9IG5bcl07CgogICAgdHJ5IHsKICAgICAgYS5hY3RpdmF0ZSgpOwogICAgfSBjYXRjaCAoT2spIHsKICAgICAgcmV0dXJuIHZvaWQgY29uc29sZS5lcnJvcigicHJvYmxlbSB3aGlsZSBhY3RpdmF0aW5nIGVkaXRvciBtb2RlICIgKyByICsgIjoiLCBPayk7CiAgICB9CgogICAgaS5kZWFjdGl2YXRlKCksIGkuZWRpdG9yUmVhZE9ubHkgIT09IGEuZWRpdG9yUmVhZE9ubHkgJiYgYUUoZSwgYS5lZGl0b3JSZWFkT25seSksIHQuc2V0KHIpLCBvID0gciwgZS5maXJlKCJTd2l0Y2hNb2RlIiwgewogICAgICBtb2RlOiBvCiAgICB9KTsKICB9LAogICAgICBTRSA9IGZ1bmN0aW9uIFNFKHQpIHsKICAgIHZhciBlLAogICAgICAgIG4sCiAgICAgICAgciA9IE91KCJkZXNpZ24iKSwKICAgICAgICBvID0gT3UoewogICAgICBkZXNpZ246IHsKICAgICAgICBhY3RpdmF0ZTogViwKICAgICAgICBkZWFjdGl2YXRlOiBWLAogICAgICAgIGVkaXRvclJlYWRPbmx5OiAhMQogICAgICB9LAogICAgICByZWFkb25seTogewogICAgICAgIGFjdGl2YXRlOiBWLAogICAgICAgIGRlYWN0aXZhdGU6IFYsCiAgICAgICAgZWRpdG9yUmVhZE9ubHk6ICEwCiAgICAgIH0KICAgIH0pOwogICAgcmV0dXJuIChlID0gdCkuc2VyaWFsaXplciA/IHNFKGUpIDogZS5vbigiUHJlSW5pdCIsIGZ1bmN0aW9uICgpIHsKICAgICAgc0UoZSk7CiAgICB9KSwgKG4gPSB0KS5vbigiU2hvd0NhcmV0IiwgZnVuY3Rpb24gKGUpIHsKICAgICAgdUUobikgJiYgZS5wcmV2ZW50RGVmYXVsdCgpOwogICAgfSksIG4ub24oIk9iamVjdFNlbGVjdGVkIiwgZnVuY3Rpb24gKGUpIHsKICAgICAgdUUobikgJiYgZS5wcmV2ZW50RGVmYXVsdCgpOwogICAgfSksIHsKICAgICAgaXNSZWFkT25seTogZnVuY3Rpb24gaXNSZWFkT25seSgpIHsKICAgICAgICByZXR1cm4gdUUodCk7CiAgICAgIH0sCiAgICAgIHNldDogZnVuY3Rpb24gc2V0KGUpIHsKICAgICAgICByZXR1cm4gZnVuY3Rpb24gKGUsIHQsIG4sIHIpIHsKICAgICAgICAgIGlmIChyICE9PSBuLmdldCgpKSB7CiAgICAgICAgICAgIGlmICghaGUodCwgcikpIHRocm93IG5ldyBFcnJvcigiRWRpdG9yIG1vZGUgJyIgKyByICsgIicgaXMgaW52YWxpZCIpOwogICAgICAgICAgICBlLmluaXRpYWxpemVkID8geEUoZSwgbiwgdCwgcikgOiBlLm9uKCJpbml0IiwgZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgIHJldHVybiB4RShlLCBuLCB0LCByKTsKICAgICAgICAgICAgfSk7CiAgICAgICAgICB9CiAgICAgICAgfSh0LCBvLmdldCgpLCByLCBlKTsKICAgICAgfSwKICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7CiAgICAgICAgcmV0dXJuIHIuZ2V0KCk7CiAgICAgIH0sCiAgICAgIHJlZ2lzdGVyOiBmdW5jdGlvbiByZWdpc3RlcihlLCB0KSB7CiAgICAgICAgby5zZXQoZnVuY3Rpb24gKGUsIHQsIG4pIHsKICAgICAgICAgIHZhciByOwogICAgICAgICAgaWYgKE0od0UsIHQpKSB0aHJvdyBuZXcgRXJyb3IoIkNhbm5vdCBvdmVycmlkZSBkZWZhdWx0IG1vZGUgIiArIHQpOwogICAgICAgICAgcmV0dXJuIF9rZShfa2Uoe30sIGUpLCAoKHIgPSB7fSlbdF0gPSBfa2UoX2tlKHt9LCBuKSwgewogICAgICAgICAgICBkZWFjdGl2YXRlOiBmdW5jdGlvbiBkZWFjdGl2YXRlKCkgewogICAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgICBuLmRlYWN0aXZhdGUoKTsKICAgICAgICAgICAgICB9IGNhdGNoIChPaykgewogICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcigicHJvYmxlbSB3aGlsZSBkZWFjdGl2YXRpbmcgZWRpdG9yIG1vZGUgIiArIHQgKyAiOiIsIE9rKTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgIH0pLCByKSk7CiAgICAgICAgfShvLmdldCgpLCBlLCB0KSk7CiAgICAgIH0KICAgIH07CiAgfSwKICAgICAgTkUgPSBrdC5lYWNoLAogICAgICBFRSA9IGt0LmV4cGxvZGUsCiAgICAgIGtFID0gewogICAgZjE6IDExMiwKICAgIGYyOiAxMTMsCiAgICBmMzogMTE0LAogICAgZjQ6IDExNSwKICAgIGY1OiAxMTYsCiAgICBmNjogMTE3LAogICAgZjc6IDExOCwKICAgIGY4OiAxMTksCiAgICBmOTogMTIwLAogICAgZjEwOiAxMjEsCiAgICBmMTE6IDEyMiwKICAgIGYxMjogMTIzCiAgfSwKICAgICAgX0UgPSBrdC5tYWtlTWFwKCJhbHQsY3RybCxzaGlmdCxtZXRhLGFjY2VzcyIpLAogICAgICBBRSA9IChSRS5wcm90b3R5cGUuYWRkID0gZnVuY3Rpb24gKGUsIG4sIHQsIHIpIHsKICAgIHZhciBvID0gdGhpcywKICAgICAgICBpID0gby5ub3JtYWxpemVDb21tYW5kRnVuYyh0KTsKICAgIHJldHVybiBORShFRShrdC50cmltKGUpKSwgZnVuY3Rpb24gKGUpIHsKICAgICAgdmFyIHQgPSBvLmNyZWF0ZVNob3J0Y3V0KGUsIG4sIGksIHIpOwogICAgICBvLnNob3J0Y3V0c1t0LmlkXSA9IHQ7CiAgICB9KSwgITA7CiAgfSwgUkUucHJvdG90eXBlLnJlbW92ZSA9IGZ1bmN0aW9uIChlKSB7CiAgICB2YXIgdCA9IHRoaXMuY3JlYXRlU2hvcnRjdXQoZSk7CiAgICByZXR1cm4gISF0aGlzLnNob3J0Y3V0c1t0LmlkXSAmJiAoZGVsZXRlIHRoaXMuc2hvcnRjdXRzW3QuaWRdLCAhMCk7CiAgfSwgUkUucHJvdG90eXBlLm5vcm1hbGl6ZUNvbW1hbmRGdW5jID0gZnVuY3Rpb24gKGUpIHsKICAgIHZhciB0ID0gdGhpcywKICAgICAgICBuID0gZTsKICAgIHJldHVybiAic3RyaW5nIiA9PSB0eXBlb2YgbiA/IGZ1bmN0aW9uICgpIHsKICAgICAgdC5lZGl0b3IuZXhlY0NvbW1hbmQobiwgITEsIG51bGwpOwogICAgfSA6IGt0LmlzQXJyYXkobikgPyBmdW5jdGlvbiAoKSB7CiAgICAgIHQuZWRpdG9yLmV4ZWNDb21tYW5kKG5bMF0sIG5bMV0sIG5bMl0pOwogICAgfSA6IG47CiAgfSwgUkUucHJvdG90eXBlLnBhcnNlU2hvcnRjdXQgPSBmdW5jdGlvbiAoZSkgewogICAgdmFyIHQsCiAgICAgICAgbiA9IHt9OwogICAgTkUoRUUoZS50b0xvd2VyQ2FzZSgpLCAiKyIpLCBmdW5jdGlvbiAoZSkgewogICAgICBlIGluIF9FID8gbltlXSA9ICEwIDogL15bMC05XXsyLH0kLy50ZXN0KGUpID8gbi5rZXlDb2RlID0gcGFyc2VJbnQoZSwgMTApIDogKG4uY2hhckNvZGUgPSBlLmNoYXJDb2RlQXQoMCksIG4ua2V5Q29kZSA9IGtFW2VdIHx8IGUudG9VcHBlckNhc2UoKS5jaGFyQ29kZUF0KDApKTsKICAgIH0pOwogICAgdmFyIHIgPSBbbi5rZXlDb2RlXTsKCiAgICBmb3IgKHQgaW4gX0UpIHsKICAgICAgblt0XSA/IHIucHVzaCh0KSA6IG5bdF0gPSAhMTsKICAgIH0KCiAgICByZXR1cm4gbi5pZCA9IHIuam9pbigiLCIpLCBuLmFjY2VzcyAmJiAobi5hbHQgPSAhMCwgd3QubWFjID8gbi5jdHJsID0gITAgOiBuLnNoaWZ0ID0gITApLCBuLm1ldGEgJiYgKHd0Lm1hYyA/IG4ubWV0YSA9ICEwIDogKG4uY3RybCA9ICEwLCBuLm1ldGEgPSAhMSkpLCBuOwogIH0sIFJFLnByb3RvdHlwZS5jcmVhdGVTaG9ydGN1dCA9IGZ1bmN0aW9uIChlLCB0LCBuLCByKSB7CiAgICB2YXIgbyA9IGt0Lm1hcChFRShlLCAiPiIpLCB0aGlzLnBhcnNlU2hvcnRjdXQpOwogICAgcmV0dXJuIG9bby5sZW5ndGggLSAxXSA9IGt0LmV4dGVuZChvW28ubGVuZ3RoIC0gMV0sIHsKICAgICAgZnVuYzogbiwKICAgICAgc2NvcGU6IHIgfHwgdGhpcy5lZGl0b3IKICAgIH0pLCBrdC5leHRlbmQob1swXSwgewogICAgICBkZXNjOiB0aGlzLmVkaXRvci50cmFuc2xhdGUodCksCiAgICAgIHN1YnBhdHRlcm5zOiBvLnNsaWNlKDEpCiAgICB9KTsKICB9LCBSRS5wcm90b3R5cGUuaGFzTW9kaWZpZXIgPSBmdW5jdGlvbiAoZSkgewogICAgcmV0dXJuIGUuYWx0S2V5IHx8IGUuY3RybEtleSB8fCBlLm1ldGFLZXk7CiAgfSwgUkUucHJvdG90eXBlLmlzRnVuY3Rpb25LZXkgPSBmdW5jdGlvbiAoZSkgewogICAgcmV0dXJuICJrZXlkb3duIiA9PT0gZS50eXBlICYmIDExMiA8PSBlLmtleUNvZGUgJiYgZS5rZXlDb2RlIDw9IDEyMzsKICB9LCBSRS5wcm90b3R5cGUubWF0Y2hTaG9ydGN1dCA9IGZ1bmN0aW9uIChlLCB0KSB7CiAgICByZXR1cm4gISF0ICYmIHQuY3RybCA9PT0gZS5jdHJsS2V5ICYmIHQubWV0YSA9PT0gZS5tZXRhS2V5ICYmIHQuYWx0ID09PSBlLmFsdEtleSAmJiB0LnNoaWZ0ID09PSBlLnNoaWZ0S2V5ICYmICEhKGUua2V5Q29kZSA9PT0gdC5rZXlDb2RlIHx8IGUuY2hhckNvZGUgJiYgZS5jaGFyQ29kZSA9PT0gdC5jaGFyQ29kZSkgJiYgKGUucHJldmVudERlZmF1bHQoKSwgITApOwogIH0sIFJFLnByb3RvdHlwZS5leGVjdXRlU2hvcnRjdXRBY3Rpb24gPSBmdW5jdGlvbiAoZSkgewogICAgcmV0dXJuIGUuZnVuYyA/IGUuZnVuYy5jYWxsKGUuc2NvcGUpIDogbnVsbDsKICB9LCBSRSk7CgogIGZ1bmN0aW9uIFJFKGUpIHsKICAgIHRoaXMuc2hvcnRjdXRzID0ge30sIHRoaXMucGVuZGluZ1BhdHRlcm5zID0gW10sIHRoaXMuZWRpdG9yID0gZTsKICAgIHZhciBuID0gdGhpczsKICAgIGUub24oImtleXVwIGtleXByZXNzIGtleWRvd24iLCBmdW5jdGlvbiAodCkgewogICAgICAhbi5oYXNNb2RpZmllcih0KSAmJiAhbi5pc0Z1bmN0aW9uS2V5KHQpIHx8IHQuaXNEZWZhdWx0UHJldmVudGVkKCkgfHwgKE5FKG4uc2hvcnRjdXRzLCBmdW5jdGlvbiAoZSkgewogICAgICAgIGlmIChuLm1hdGNoU2hvcnRjdXQodCwgZSkpIHJldHVybiBuLnBlbmRpbmdQYXR0ZXJucyA9IGUuc3VicGF0dGVybnMuc2xpY2UoMCksICJrZXlkb3duIiA9PT0gdC50eXBlICYmIG4uZXhlY3V0ZVNob3J0Y3V0QWN0aW9uKGUpLCAhMDsKICAgICAgfSksIG4ubWF0Y2hTaG9ydGN1dCh0LCBuLnBlbmRpbmdQYXR0ZXJuc1swXSkgJiYgKDEgPT09IG4ucGVuZGluZ1BhdHRlcm5zLmxlbmd0aCAmJiAia2V5ZG93biIgPT09IHQudHlwZSAmJiBuLmV4ZWN1dGVTaG9ydGN1dEFjdGlvbihuLnBlbmRpbmdQYXR0ZXJuc1swXSksIG4ucGVuZGluZ1BhdHRlcm5zLnNoaWZ0KCkpKTsKICAgIH0pOwogIH0KCiAgdmFyIFRFID0gZnVuY3Rpb24gVEUoKSB7CiAgICB2YXIgZSwKICAgICAgICB0LAogICAgICAgIG4sCiAgICAgICAgciwKICAgICAgICBvLAogICAgICAgIGksCiAgICAgICAgYSwKICAgICAgICB1LAogICAgICAgIHMgPSAodCA9IHt9LCBuID0ge30sIHIgPSB7fSwgbyA9IHt9LCBpID0ge30sIGEgPSB7fSwgewogICAgICBhZGRCdXR0b246ICh1ID0gZnVuY3Rpb24gdShuLCByKSB7CiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChlLCB0KSB7CiAgICAgICAgICByZXR1cm4gbltlLnRvTG93ZXJDYXNlKCldID0gX2tlKF9rZSh7fSwgdCksIHsKICAgICAgICAgICAgdHlwZTogcgogICAgICAgICAgfSk7CiAgICAgICAgfTsKICAgICAgfSkoZSA9IHt9LCAiYnV0dG9uIiksCiAgICAgIGFkZEdyb3VwVG9vbGJhckJ1dHRvbjogdShlLCAiZ3JvdXB0b29sYmFyYnV0dG9uIiksCiAgICAgIGFkZFRvZ2dsZUJ1dHRvbjogdShlLCAidG9nZ2xlYnV0dG9uIiksCiAgICAgIGFkZE1lbnVCdXR0b246IHUoZSwgIm1lbnVidXR0b24iKSwKICAgICAgYWRkU3BsaXRCdXR0b246IHUoZSwgInNwbGl0YnV0dG9uIiksCiAgICAgIGFkZE1lbnVJdGVtOiB1KHQsICJtZW51aXRlbSIpLAogICAgICBhZGROZXN0ZWRNZW51SXRlbTogdSh0LCAibmVzdGVkbWVudWl0ZW0iKSwKICAgICAgYWRkVG9nZ2xlTWVudUl0ZW06IHUodCwgInRvZ2dsZW1lbnVpdGVtIiksCiAgICAgIGFkZEF1dG9jb21wbGV0ZXI6IHUobiwgImF1dG9jb21wbGV0ZXIiKSwKICAgICAgYWRkQ29udGV4dE1lbnU6IHUobywgImNvbnRleHRtZW51IiksCiAgICAgIGFkZENvbnRleHRUb29sYmFyOiB1KGksICJjb250ZXh0dG9vbGJhciIpLAogICAgICBhZGRDb250ZXh0Rm9ybTogdShpLCAiY29udGV4dGZvcm0iKSwKICAgICAgYWRkU2lkZWJhcjogdShhLCAic2lkZWJhciIpLAogICAgICBhZGRJY29uOiBmdW5jdGlvbiBhZGRJY29uKGUsIHQpIHsKICAgICAgICByZXR1cm4gcltlLnRvTG93ZXJDYXNlKCldID0gdDsKICAgICAgfSwKICAgICAgZ2V0QWxsOiBmdW5jdGlvbiBnZXRBbGwoKSB7CiAgICAgICAgcmV0dXJuIHsKICAgICAgICAgIGJ1dHRvbnM6IGUsCiAgICAgICAgICBtZW51SXRlbXM6IHQsCiAgICAgICAgICBpY29uczogciwKICAgICAgICAgIHBvcHVwczogbiwKICAgICAgICAgIGNvbnRleHRNZW51czogbywKICAgICAgICAgIGNvbnRleHRUb29sYmFyczogaSwKICAgICAgICAgIHNpZGViYXJzOiBhCiAgICAgICAgfTsKICAgICAgfQogICAgfSk7CiAgICByZXR1cm4gewogICAgICBhZGRBdXRvY29tcGxldGVyOiBzLmFkZEF1dG9jb21wbGV0ZXIsCiAgICAgIGFkZEJ1dHRvbjogcy5hZGRCdXR0b24sCiAgICAgIGFkZENvbnRleHRGb3JtOiBzLmFkZENvbnRleHRGb3JtLAogICAgICBhZGRDb250ZXh0TWVudTogcy5hZGRDb250ZXh0TWVudSwKICAgICAgYWRkQ29udGV4dFRvb2xiYXI6IHMuYWRkQ29udGV4dFRvb2xiYXIsCiAgICAgIGFkZEljb246IHMuYWRkSWNvbiwKICAgICAgYWRkTWVudUJ1dHRvbjogcy5hZGRNZW51QnV0dG9uLAogICAgICBhZGRNZW51SXRlbTogcy5hZGRNZW51SXRlbSwKICAgICAgYWRkTmVzdGVkTWVudUl0ZW06IHMuYWRkTmVzdGVkTWVudUl0ZW0sCiAgICAgIGFkZFNpZGViYXI6IHMuYWRkU2lkZWJhciwKICAgICAgYWRkU3BsaXRCdXR0b246IHMuYWRkU3BsaXRCdXR0b24sCiAgICAgIGFkZFRvZ2dsZUJ1dHRvbjogcy5hZGRUb2dnbGVCdXR0b24sCiAgICAgIGFkZEdyb3VwVG9vbGJhckJ1dHRvbjogcy5hZGRHcm91cFRvb2xiYXJCdXR0b24sCiAgICAgIGFkZFRvZ2dsZU1lbnVJdGVtOiBzLmFkZFRvZ2dsZU1lbnVJdGVtLAogICAgICBnZXRBbGw6IHMuZ2V0QWxsCiAgICB9OwogIH0sCiAgICAgIERFID0ga3QuZWFjaCwKICAgICAgT0UgPSBrdC50cmltLAogICAgICBCRSA9ICJzb3VyY2UgcHJvdG9jb2wgYXV0aG9yaXR5IHVzZXJJbmZvIHVzZXIgcGFzc3dvcmQgaG9zdCBwb3J0IHJlbGF0aXZlIHBhdGggZGlyZWN0b3J5IGZpbGUgcXVlcnkgYW5jaG9yIi5zcGxpdCgiICIpLAogICAgICBQRSA9IHsKICAgIGZ0cDogMjEsCiAgICBodHRwOiA4MCwKICAgIGh0dHBzOiA0NDMsCiAgICBtYWlsdG86IDI1CiAgfSwKICAgICAgTEUgPSAoSUUucGFyc2VEYXRhVXJpID0gZnVuY3Rpb24gKGUpIHsKICAgIHZhciB0LAogICAgICAgIG4gPSBkZWNvZGVVUklDb21wb25lbnQoZSkuc3BsaXQoIiwiKSwKICAgICAgICByID0gL2RhdGE6KFteO10rKS8uZXhlYyhuWzBdKTsKICAgIHJldHVybiByICYmICh0ID0gclsxXSksIHsKICAgICAgdHlwZTogdCwKICAgICAgZGF0YTogblsxXQogICAgfTsKICB9LCBJRS5nZXREb2N1bWVudEJhc2VVcmwgPSBmdW5jdGlvbiAoZSkgewogICAgdmFyIHQgPSAwICE9PSBlLnByb3RvY29sLmluZGV4T2YoImh0dHAiKSAmJiAiZmlsZToiICE9PSBlLnByb3RvY29sID8gZS5ocmVmIDogZS5wcm90b2NvbCArICIvLyIgKyBlLmhvc3QgKyBlLnBhdGhuYW1lOwogICAgcmV0dXJuIC9eW146XSs6XC9cL1wvP1teXC9dK1wvLy50ZXN0KHQpICYmICh0ID0gdC5yZXBsYWNlKC9bXD8jXS4qJC8sICIiKS5yZXBsYWNlKC9bXC9cXF1bXlwvXSskLywgIiIpLCAvW1wvXFxdJC8udGVzdCh0KSB8fCAodCArPSAiLyIpKSwgdDsKICB9LCBJRS5wcm90b3R5cGUuc2V0UGF0aCA9IGZ1bmN0aW9uIChlKSB7CiAgICB2YXIgdCA9IC9eKC4qPylcLz8oXHcrKT8kLy5leGVjKGUpOwogICAgdGhpcy5wYXRoID0gdFswXSwgdGhpcy5kaXJlY3RvcnkgPSB0WzFdLCB0aGlzLmZpbGUgPSB0WzJdLCB0aGlzLnNvdXJjZSA9ICIiLCB0aGlzLmdldFVSSSgpOwogIH0sIElFLnByb3RvdHlwZS50b1JlbGF0aXZlID0gZnVuY3Rpb24gKGUpIHsKICAgIHZhciB0OwogICAgaWYgKCIuLyIgPT09IGUpIHJldHVybiBlOwogICAgdmFyIG4gPSBuZXcgSUUoZSwgewogICAgICBiYXNlX3VyaTogdGhpcwogICAgfSk7CiAgICBpZiAoIm1jZV9ob3N0IiAhPT0gbi5ob3N0ICYmIHRoaXMuaG9zdCAhPT0gbi5ob3N0ICYmIG4uaG9zdCB8fCB0aGlzLnBvcnQgIT09IG4ucG9ydCB8fCB0aGlzLnByb3RvY29sICE9PSBuLnByb3RvY29sICYmICIiICE9PSBuLnByb3RvY29sKSByZXR1cm4gbi5nZXRVUkkoKTsKICAgIHZhciByID0gdGhpcy5nZXRVUkkoKSwKICAgICAgICBvID0gbi5nZXRVUkkoKTsKICAgIHJldHVybiByID09PSBvIHx8ICIvIiA9PT0gci5jaGFyQXQoci5sZW5ndGggLSAxKSAmJiByLnN1YnN0cigwLCByLmxlbmd0aCAtIDEpID09PSBvID8gciA6ICh0ID0gdGhpcy50b1JlbFBhdGgodGhpcy5wYXRoLCBuLnBhdGgpLCBuLnF1ZXJ5ICYmICh0ICs9ICI/IiArIG4ucXVlcnkpLCBuLmFuY2hvciAmJiAodCArPSAiIyIgKyBuLmFuY2hvciksIHQpOwogIH0sIElFLnByb3RvdHlwZS50b0Fic29sdXRlID0gZnVuY3Rpb24gKGUsIHQpIHsKICAgIHZhciBuID0gbmV3IElFKGUsIHsKICAgICAgYmFzZV91cmk6IHRoaXMKICAgIH0pOwogICAgcmV0dXJuIG4uZ2V0VVJJKHQgJiYgdGhpcy5pc1NhbWVPcmlnaW4obikpOwogIH0sIElFLnByb3RvdHlwZS5pc1NhbWVPcmlnaW4gPSBmdW5jdGlvbiAoZSkgewogICAgaWYgKHRoaXMuaG9zdCA9PSBlLmhvc3QgJiYgdGhpcy5wcm90b2NvbCA9PSBlLnByb3RvY29sKSB7CiAgICAgIGlmICh0aGlzLnBvcnQgPT0gZS5wb3J0KSByZXR1cm4gITA7CiAgICAgIHZhciB0ID0gUEVbdGhpcy5wcm90b2NvbF07CiAgICAgIGlmICh0ICYmICh0aGlzLnBvcnQgfHwgdCkgPT0gKGUucG9ydCB8fCB0KSkgcmV0dXJuICEwOwogICAgfQoKICAgIHJldHVybiAhMTsKICB9LCBJRS5wcm90b3R5cGUudG9SZWxQYXRoID0gZnVuY3Rpb24gKGUsIHQpIHsKICAgIHZhciBuLAogICAgICAgIHIsCiAgICAgICAgbyA9IDAsCiAgICAgICAgaSA9ICIiLAogICAgICAgIGEgPSBlLnN1YnN0cmluZygwLCBlLmxhc3RJbmRleE9mKCIvIikpLnNwbGl0KCIvIiksCiAgICAgICAgdSA9IHQuc3BsaXQoIi8iKTsKICAgIGlmIChhLmxlbmd0aCA+PSB1Lmxlbmd0aCkgZm9yIChuID0gMCwgciA9IGEubGVuZ3RoOyBuIDwgcjsgbisrKSB7CiAgICAgIGlmIChuID49IHUubGVuZ3RoIHx8IGFbbl0gIT09IHVbbl0pIHsKICAgICAgICBvID0gbiArIDE7CiAgICAgICAgYnJlYWs7CiAgICAgIH0KICAgIH0KICAgIGlmIChhLmxlbmd0aCA8IHUubGVuZ3RoKSBmb3IgKG4gPSAwLCByID0gdS5sZW5ndGg7IG4gPCByOyBuKyspIHsKICAgICAgaWYgKG4gPj0gYS5sZW5ndGggfHwgYVtuXSAhPT0gdVtuXSkgewogICAgICAgIG8gPSBuICsgMTsKICAgICAgICBicmVhazsKICAgICAgfQogICAgfQogICAgaWYgKDEgPT09IG8pIHJldHVybiB0OwoKICAgIGZvciAobiA9IDAsIHIgPSBhLmxlbmd0aCAtIChvIC0gMSk7IG4gPCByOyBuKyspIHsKICAgICAgaSArPSAiLi4vIjsKICAgIH0KCiAgICBmb3IgKG4gPSBvIC0gMSwgciA9IHUubGVuZ3RoOyBuIDwgcjsgbisrKSB7CiAgICAgIGkgKz0gbiAhPT0gbyAtIDEgPyAiLyIgKyB1W25dIDogdVtuXTsKICAgIH0KCiAgICByZXR1cm4gaTsKICB9LCBJRS5wcm90b3R5cGUudG9BYnNQYXRoID0gZnVuY3Rpb24gKGUsIHQpIHsKICAgIHZhciBuLAogICAgICAgIHIsCiAgICAgICAgbyA9IDAsCiAgICAgICAgaSA9IFtdLAogICAgICAgIGEgPSAvXC8kLy50ZXN0KHQpID8gIi8iIDogIiIsCiAgICAgICAgdSA9IGUuc3BsaXQoIi8iKSwKICAgICAgICBzID0gdC5zcGxpdCgiLyIpOwoKICAgIGZvciAoREUodSwgZnVuY3Rpb24gKGUpIHsKICAgICAgZSAmJiBpLnB1c2goZSk7CiAgICB9KSwgdSA9IGksIG4gPSBzLmxlbmd0aCAtIDEsIGkgPSBbXTsgMCA8PSBuOyBuLS0pIHsKICAgICAgMCAhPT0gc1tuXS5sZW5ndGggJiYgIi4iICE9PSBzW25dICYmICgiLi4iICE9PSBzW25dID8gMCA8IG8gPyBvLS0gOiBpLnB1c2goc1tuXSkgOiBvKyspOwogICAgfQoKICAgIHJldHVybiAwICE9PSAociA9IChuID0gdS5sZW5ndGggLSBvKSA8PSAwID8gWihpKS5qb2luKCIvIikgOiB1LnNsaWNlKDAsIG4pLmpvaW4oIi8iKSArICIvIiArIFooaSkuam9pbigiLyIpKS5pbmRleE9mKCIvIikgJiYgKHIgPSAiLyIgKyByKSwgYSAmJiByLmxhc3RJbmRleE9mKCIvIikgIT09IHIubGVuZ3RoIC0gMSAmJiAociArPSBhKSwgcjsKICB9LCBJRS5wcm90b3R5cGUuZ2V0VVJJID0gZnVuY3Rpb24gKGUpIHsKICAgIHZhciB0OwogICAgcmV0dXJuIHZvaWQgMCA9PT0gZSAmJiAoZSA9ICExKSwgdGhpcy5zb3VyY2UgJiYgIWUgfHwgKHQgPSAiIiwgZSB8fCAodGhpcy5wcm90b2NvbCA/IHQgKz0gdGhpcy5wcm90b2NvbCArICI6Ly8iIDogdCArPSAiLy8iLCB0aGlzLnVzZXJJbmZvICYmICh0ICs9IHRoaXMudXNlckluZm8gKyAiQCIpLCB0aGlzLmhvc3QgJiYgKHQgKz0gdGhpcy5ob3N0KSwgdGhpcy5wb3J0ICYmICh0ICs9ICI6IiArIHRoaXMucG9ydCkpLCB0aGlzLnBhdGggJiYgKHQgKz0gdGhpcy5wYXRoKSwgdGhpcy5xdWVyeSAmJiAodCArPSAiPyIgKyB0aGlzLnF1ZXJ5KSwgdGhpcy5hbmNob3IgJiYgKHQgKz0gIiMiICsgdGhpcy5hbmNob3IpLCB0aGlzLnNvdXJjZSA9IHQpLCB0aGlzLnNvdXJjZTsKICB9LCBJRSk7CgogIGZ1bmN0aW9uIElFKGUsIHQpIHsKICAgIGUgPSBPRShlKSwgdGhpcy5zZXR0aW5ncyA9IHQgfHwge307CiAgICB2YXIgbiwKICAgICAgICByLAogICAgICAgIG8sCiAgICAgICAgaSwKICAgICAgICBhID0gdGhpcy5zZXR0aW5ncy5iYXNlX3VyaSwKICAgICAgICB1ID0gdGhpczsKICAgIC9eKFtcd1wtXSspOihbXlwvXXsyfSkvaS50ZXN0KGUpIHx8IC9eXHMqIy8udGVzdChlKSA/IHUuc291cmNlID0gZSA6IChuID0gMCA9PT0gZS5pbmRleE9mKCIvLyIpLCAwICE9PSBlLmluZGV4T2YoIi8iKSB8fCBuIHx8IChlID0gKGEgJiYgYS5wcm90b2NvbCB8fCAiaHR0cCIpICsgIjovL21jZV9ob3N0IiArIGUpLCAvXltcd1wtXSo6P1wvXC8vLnRlc3QoZSkgfHwgKHIgPSB0aGlzLnNldHRpbmdzLmJhc2VfdXJpID8gdGhpcy5zZXR0aW5ncy5iYXNlX3VyaS5wYXRoIDogbmV3IElFKGRvY3VtZW50LmxvY2F0aW9uLmhyZWYpLmRpcmVjdG9yeSwgZSA9IHRoaXMuc2V0dGluZ3MuYmFzZV91cmkgJiYgIiIgPT0gdGhpcy5zZXR0aW5ncy5iYXNlX3VyaS5wcm90b2NvbCA/ICIvL21jZV9ob3N0IiArIHUudG9BYnNQYXRoKHIsIGUpIDogKG8gPSAvKFteIz9dKikoWyM/XT8uKikvLmV4ZWMoZSksIChhICYmIGEucHJvdG9jb2wgfHwgImh0dHAiKSArICI6Ly9tY2VfaG9zdCIgKyB1LnRvQWJzUGF0aChyLCBvWzFdKSArIG9bMl0pKSwgZSA9IGUucmVwbGFjZSgvQEAvZywgIihtY2VfYXQpIiksIGkgPSAvXig/Oig/IVteOkBdKzpbXjpAXC9dKkApKFteOlwvPyMuXSspOik/KD86XC9cLyk/KCg/OigoW146QFwvXSopOj8oW146QFwvXSopKT9AKT8oW146XC8/I10qKSg/OjooXGQqKSk/KSgoKFwvKD86W14/I10oPyFbXj8jXC9dKlwuW14/I1wvLl0rKD86Wz8jXXwkKSkpKlwvPyk/KFtePyNcL10qKSkoPzpcPyhbXiNdKikpPyg/OiMoLiopKT8pLy5leGVjKGUpLCBERShCRSwgZnVuY3Rpb24gKGUsIHQpIHsKICAgICAgdmFyIG4gPSAobiA9IGlbdF0pICYmIG4ucmVwbGFjZSgvXChtY2VfYXRcKS9nLCAiQEAiKTsKICAgICAgdVtlXSA9IG47CiAgICB9KSwgYSAmJiAodS5wcm90b2NvbCB8fCAodS5wcm90b2NvbCA9IGEucHJvdG9jb2wpLCB1LnVzZXJJbmZvIHx8ICh1LnVzZXJJbmZvID0gYS51c2VySW5mbyksIHUucG9ydCB8fCAibWNlX2hvc3QiICE9PSB1Lmhvc3QgfHwgKHUucG9ydCA9IGEucG9ydCksIHUuaG9zdCAmJiAibWNlX2hvc3QiICE9PSB1Lmhvc3QgfHwgKHUuaG9zdCA9IGEuaG9zdCksIHUuc291cmNlID0gIiIpLCBuICYmICh1LnByb3RvY29sID0gIiIpKTsKICB9CgogIHZhciBNRSA9IEV1LkRPTSwKICAgICAgRkUgPSBrdC5leHRlbmQsCiAgICAgIFVFID0ga3QuZWFjaCwKICAgICAgekUgPSBrdC5yZXNvbHZlLAogICAgICBqRSA9IHd0LmllLAogICAgICBIRSA9IChWRS5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24gKCkgewogICAgVU4odGhpcyk7CiAgfSwgVkUucHJvdG90eXBlLmZvY3VzID0gZnVuY3Rpb24gKGUpIHsKICAgIHZhciB0LCBuOwogICAgbiA9IGUsICh0ID0gdGhpcykucmVtb3ZlZCB8fCAobiA/IF9tIDoga20pKHQpOwogIH0sIFZFLnByb3RvdHlwZS5oYXNGb2N1cyA9IGZ1bmN0aW9uICgpIHsKICAgIHJldHVybiBFbSh0aGlzKTsKICB9LCBWRS5wcm90b3R5cGUuZXhlY0NhbGxiYWNrID0gZnVuY3Rpb24gKGUpIHsKICAgIGZvciAodmFyIHQgPSBbXSwgbiA9IDE7IG4gPCBhcmd1bWVudHMubGVuZ3RoOyBuKyspIHsKICAgICAgdFtuIC0gMV0gPSBhcmd1bWVudHNbbl07CiAgICB9CgogICAgdmFyIHIsCiAgICAgICAgbyA9IHRoaXMuc2V0dGluZ3NbZV07CiAgICBpZiAobykgcmV0dXJuIHRoaXMuY2FsbGJhY2tMb29rdXAgJiYgKHIgPSB0aGlzLmNhbGxiYWNrTG9va3VwW2VdKSAmJiAobyA9IHIuZnVuYywgciA9IHIuc2NvcGUpLCAic3RyaW5nIiA9PSB0eXBlb2YgbyAmJiAociA9IChyID0gby5yZXBsYWNlKC9cLlx3KyQvLCAiIikpID8gekUocikgOiAwLCBvID0gekUobyksIHRoaXMuY2FsbGJhY2tMb29rdXAgPSB0aGlzLmNhbGxiYWNrTG9va3VwIHx8IHt9LCB0aGlzLmNhbGxiYWNrTG9va3VwW2VdID0gewogICAgICBmdW5jOiBvLAogICAgICBzY29wZTogcgogICAgfSksIG8uYXBwbHkociB8fCB0aGlzLCB0KTsKICB9LCBWRS5wcm90b3R5cGUudHJhbnNsYXRlID0gZnVuY3Rpb24gKGUpIHsKICAgIHJldHVybiBJdS50cmFuc2xhdGUoZSk7CiAgfSwgVkUucHJvdG90eXBlLmdldFBhcmFtID0gZnVuY3Rpb24gKGUsIHQsIG4pIHsKICAgIHJldHVybiBYeSh0aGlzLCBlLCB0LCBuKTsKICB9LCBWRS5wcm90b3R5cGUuaGFzUGx1Z2luID0gZnVuY3Rpb24gKGUsIHQpIHsKICAgIHJldHVybiAhKCFNKEFjKHRoaXMpLnNwbGl0KC9bICxdLyksIGUpIHx8IHQgJiYgaWIuZ2V0KGUpID09PSB1bmRlZmluZWQpOwogIH0sIFZFLnByb3RvdHlwZS5ub2RlQ2hhbmdlZCA9IGZ1bmN0aW9uIChlKSB7CiAgICB0aGlzLl9ub2RlQ2hhbmdlRGlzcGF0Y2hlci5ub2RlQ2hhbmdlZChlKTsKICB9LCBWRS5wcm90b3R5cGUuYWRkQ29tbWFuZCA9IGZ1bmN0aW9uIChlLCB0LCBuKSB7CiAgICB0aGlzLmVkaXRvckNvbW1hbmRzLmFkZENvbW1hbmQoZSwgdCwgbik7CiAgfSwgVkUucHJvdG90eXBlLmFkZFF1ZXJ5U3RhdGVIYW5kbGVyID0gZnVuY3Rpb24gKGUsIHQsIG4pIHsKICAgIHRoaXMuZWRpdG9yQ29tbWFuZHMuYWRkUXVlcnlTdGF0ZUhhbmRsZXIoZSwgdCwgbik7CiAgfSwgVkUucHJvdG90eXBlLmFkZFF1ZXJ5VmFsdWVIYW5kbGVyID0gZnVuY3Rpb24gKGUsIHQsIG4pIHsKICAgIHRoaXMuZWRpdG9yQ29tbWFuZHMuYWRkUXVlcnlWYWx1ZUhhbmRsZXIoZSwgdCwgbik7CiAgfSwgVkUucHJvdG90eXBlLmFkZFNob3J0Y3V0ID0gZnVuY3Rpb24gKGUsIHQsIG4sIHIpIHsKICAgIHRoaXMuc2hvcnRjdXRzLmFkZChlLCB0LCBuLCByKTsKICB9LCBWRS5wcm90b3R5cGUuZXhlY0NvbW1hbmQgPSBmdW5jdGlvbiAoZSwgdCwgbiwgcikgewogICAgcmV0dXJuIHRoaXMuZWRpdG9yQ29tbWFuZHMuZXhlY0NvbW1hbmQoZSwgdCwgbiwgcik7CiAgfSwgVkUucHJvdG90eXBlLnF1ZXJ5Q29tbWFuZFN0YXRlID0gZnVuY3Rpb24gKGUpIHsKICAgIHJldHVybiB0aGlzLmVkaXRvckNvbW1hbmRzLnF1ZXJ5Q29tbWFuZFN0YXRlKGUpOwogIH0sIFZFLnByb3RvdHlwZS5xdWVyeUNvbW1hbmRWYWx1ZSA9IGZ1bmN0aW9uIChlKSB7CiAgICByZXR1cm4gdGhpcy5lZGl0b3JDb21tYW5kcy5xdWVyeUNvbW1hbmRWYWx1ZShlKTsKICB9LCBWRS5wcm90b3R5cGUucXVlcnlDb21tYW5kU3VwcG9ydGVkID0gZnVuY3Rpb24gKGUpIHsKICAgIHJldHVybiB0aGlzLmVkaXRvckNvbW1hbmRzLnF1ZXJ5Q29tbWFuZFN1cHBvcnRlZChlKTsKICB9LCBWRS5wcm90b3R5cGUuc2hvdyA9IGZ1bmN0aW9uICgpIHsKICAgIHRoaXMuaGlkZGVuICYmICh0aGlzLmhpZGRlbiA9ICExLCB0aGlzLmlubGluZSA/IHRoaXMuZ2V0Qm9keSgpLmNvbnRlbnRFZGl0YWJsZSA9ICJ0cnVlIiA6IChNRS5zaG93KHRoaXMuZ2V0Q29udGFpbmVyKCkpLCBNRS5oaWRlKHRoaXMuaWQpKSwgdGhpcy5sb2FkKCksIHRoaXMuZmlyZSgic2hvdyIpKTsKICB9LCBWRS5wcm90b3R5cGUuaGlkZSA9IGZ1bmN0aW9uICgpIHsKICAgIHZhciBlID0gdGhpcywKICAgICAgICB0ID0gZS5nZXREb2MoKTsKICAgIGUuaGlkZGVuIHx8IChqRSAmJiB0ICYmICFlLmlubGluZSAmJiB0LmV4ZWNDb21tYW5kKCJTZWxlY3RBbGwiKSwgZS5zYXZlKCksIGUuaW5saW5lID8gKGUuZ2V0Qm9keSgpLmNvbnRlbnRFZGl0YWJsZSA9ICJmYWxzZSIsIGUgPT09IGUuZWRpdG9yTWFuYWdlci5mb2N1c2VkRWRpdG9yICYmIChlLmVkaXRvck1hbmFnZXIuZm9jdXNlZEVkaXRvciA9IG51bGwpKSA6IChNRS5oaWRlKGUuZ2V0Q29udGFpbmVyKCkpLCBNRS5zZXRTdHlsZShlLmlkLCAiZGlzcGxheSIsIGUub3JnRGlzcGxheSkpLCBlLmhpZGRlbiA9ICEwLCBlLmZpcmUoImhpZGUiKSk7CiAgfSwgVkUucHJvdG90eXBlLmlzSGlkZGVuID0gZnVuY3Rpb24gKCkgewogICAgcmV0dXJuICEhdGhpcy5oaWRkZW47CiAgfSwgVkUucHJvdG90eXBlLnNldFByb2dyZXNzU3RhdGUgPSBmdW5jdGlvbiAoZSwgdCkgewogICAgdGhpcy5maXJlKCJQcm9ncmVzc1N0YXRlIiwgewogICAgICBzdGF0ZTogZSwKICAgICAgdGltZTogdAogICAgfSk7CiAgfSwgVkUucHJvdG90eXBlLmxvYWQgPSBmdW5jdGlvbiAoZSkgewogICAgdmFyIHQgPSB0aGlzLmdldEVsZW1lbnQoKTsKICAgIGlmICh0aGlzLnJlbW92ZWQpIHJldHVybiAiIjsKCiAgICBpZiAodCkgewogICAgICAoZSA9IGUgfHwge30pLmxvYWQgPSAhMDsKICAgICAgdmFyIG4gPSBMbih0KSA/IHQudmFsdWUgOiB0LmlubmVySFRNTCwKICAgICAgICAgIHIgPSB0aGlzLnNldENvbnRlbnQobiwgZSk7CiAgICAgIHJldHVybiBlLmVsZW1lbnQgPSB0LCBlLm5vX2V2ZW50cyB8fCB0aGlzLmZpcmUoIkxvYWRDb250ZW50IiwgZSksIGUuZWxlbWVudCA9IHQgPSBudWxsLCByOwogICAgfQogIH0sIFZFLnByb3RvdHlwZS5zYXZlID0gZnVuY3Rpb24gKGUpIHsKICAgIHZhciB0LAogICAgICAgIG4sCiAgICAgICAgciA9IHRoaXMsCiAgICAgICAgbyA9IHIuZ2V0RWxlbWVudCgpOwogICAgaWYgKG8gJiYgci5pbml0aWFsaXplZCAmJiAhci5yZW1vdmVkKSByZXR1cm4gKGUgPSBlIHx8IHt9KS5zYXZlID0gITAsIGUuZWxlbWVudCA9IG8sIGUuY29udGVudCA9IHIuZ2V0Q29udGVudChlKSwgZS5ub19ldmVudHMgfHwgci5maXJlKCJTYXZlQ29udGVudCIsIGUpLCAicmF3IiA9PT0gZS5mb3JtYXQgJiYgci5maXJlKCJSYXdTYXZlQ29udGVudCIsIGUpLCB0ID0gZS5jb250ZW50LCBMbihvKSA/IG8udmFsdWUgPSB0IDogKCFlLmlzX3JlbW92aW5nICYmIHIuaW5saW5lIHx8IChvLmlubmVySFRNTCA9IHQpLCAobiA9IE1FLmdldFBhcmVudChyLmlkLCAiZm9ybSIpKSAmJiBVRShuLmVsZW1lbnRzLCBmdW5jdGlvbiAoZSkgewogICAgICBpZiAoZS5uYW1lID09PSByLmlkKSByZXR1cm4gZS52YWx1ZSA9IHQsICExOwogICAgfSkpLCBlLmVsZW1lbnQgPSBvID0gbnVsbCwgITEgIT09IGUuc2V0X2RpcnR5ICYmIHIuc2V0RGlydHkoITEpLCB0OwogIH0sIFZFLnByb3RvdHlwZS5zZXRDb250ZW50ID0gZnVuY3Rpb24gKGUsIHQpIHsKICAgIHJldHVybiBreSh0aGlzLCBlLCB0KTsKICB9LCBWRS5wcm90b3R5cGUuZ2V0Q29udGVudCA9IGZ1bmN0aW9uIChlKSB7CiAgICByZXR1cm4gRXkodGhpcywgZSk7CiAgfSwgVkUucHJvdG90eXBlLmluc2VydENvbnRlbnQgPSBmdW5jdGlvbiAoZSwgdCkgewogICAgdCAmJiAoZSA9IEZFKHsKICAgICAgY29udGVudDogZQogICAgfSwgdCkpLCB0aGlzLmV4ZWNDb21tYW5kKCJtY2VJbnNlcnRDb250ZW50IiwgITEsIGUpOwogIH0sIFZFLnByb3RvdHlwZS5yZXNldENvbnRlbnQgPSBmdW5jdGlvbiAoZSkgewogICAgZSA9PT0gdW5kZWZpbmVkID8ga3kodGhpcywgdGhpcy5zdGFydENvbnRlbnQsIHsKICAgICAgZm9ybWF0OiAicmF3IgogICAgfSkgOiBreSh0aGlzLCBlKSwgdGhpcy51bmRvTWFuYWdlci5yZXNldCgpLCB0aGlzLnNldERpcnR5KCExKSwgdGhpcy5ub2RlQ2hhbmdlZCgpOwogIH0sIFZFLnByb3RvdHlwZS5pc0RpcnR5ID0gZnVuY3Rpb24gKCkgewogICAgcmV0dXJuICF0aGlzLmlzTm90RGlydHk7CiAgfSwgVkUucHJvdG90eXBlLnNldERpcnR5ID0gZnVuY3Rpb24gKGUpIHsKICAgIHZhciB0ID0gIXRoaXMuaXNOb3REaXJ0eTsKICAgIHRoaXMuaXNOb3REaXJ0eSA9ICFlLCBlICYmIGUgIT09IHQgJiYgdGhpcy5maXJlKCJkaXJ0eSIpOwogIH0sIFZFLnByb3RvdHlwZS5nZXRDb250YWluZXIgPSBmdW5jdGlvbiAoKSB7CiAgICByZXR1cm4gdGhpcy5jb250YWluZXIgfHwgKHRoaXMuY29udGFpbmVyID0gTUUuZ2V0KHRoaXMuZWRpdG9yQ29udGFpbmVyIHx8IHRoaXMuaWQgKyAiX3BhcmVudCIpKSwgdGhpcy5jb250YWluZXI7CiAgfSwgVkUucHJvdG90eXBlLmdldENvbnRlbnRBcmVhQ29udGFpbmVyID0gZnVuY3Rpb24gKCkgewogICAgcmV0dXJuIHRoaXMuY29udGVudEFyZWFDb250YWluZXI7CiAgfSwgVkUucHJvdG90eXBlLmdldEVsZW1lbnQgPSBmdW5jdGlvbiAoKSB7CiAgICByZXR1cm4gdGhpcy50YXJnZXRFbG0gfHwgKHRoaXMudGFyZ2V0RWxtID0gTUUuZ2V0KHRoaXMuaWQpKSwgdGhpcy50YXJnZXRFbG07CiAgfSwgVkUucHJvdG90eXBlLmdldFdpbiA9IGZ1bmN0aW9uICgpIHsKICAgIHZhciBlOwogICAgcmV0dXJuIHRoaXMuY29udGVudFdpbmRvdyB8fCAoZSA9IHRoaXMuaWZyYW1lRWxlbWVudCkgJiYgKHRoaXMuY29udGVudFdpbmRvdyA9IGUuY29udGVudFdpbmRvdyksIHRoaXMuY29udGVudFdpbmRvdzsKICB9LCBWRS5wcm90b3R5cGUuZ2V0RG9jID0gZnVuY3Rpb24gKCkgewogICAgdmFyIGU7CiAgICByZXR1cm4gdGhpcy5jb250ZW50RG9jdW1lbnQgfHwgKGUgPSB0aGlzLmdldFdpbigpKSAmJiAodGhpcy5jb250ZW50RG9jdW1lbnQgPSBlLmRvY3VtZW50KSwgdGhpcy5jb250ZW50RG9jdW1lbnQ7CiAgfSwgVkUucHJvdG90eXBlLmdldEJvZHkgPSBmdW5jdGlvbiAoKSB7CiAgICB2YXIgZSA9IHRoaXMuZ2V0RG9jKCk7CiAgICByZXR1cm4gdGhpcy5ib2R5RWxlbWVudCB8fCAoZSA/IGUuYm9keSA6IG51bGwpOwogIH0sIFZFLnByb3RvdHlwZS5jb252ZXJ0VVJMID0gZnVuY3Rpb24gKGUsIHQsIG4pIHsKICAgIHZhciByID0gdGhpcy5zZXR0aW5nczsKICAgIHJldHVybiByLnVybGNvbnZlcnRlcl9jYWxsYmFjayA/IHRoaXMuZXhlY0NhbGxiYWNrKCJ1cmxjb252ZXJ0ZXJfY2FsbGJhY2siLCBlLCBuLCAhMCwgdCkgOiAhci5jb252ZXJ0X3VybHMgfHwgbiAmJiAiTElOSyIgPT09IG4ubm9kZU5hbWUgfHwgMCA9PT0gZS5pbmRleE9mKCJmaWxlOiIpIHx8IDAgPT09IGUubGVuZ3RoID8gZSA6IHIucmVsYXRpdmVfdXJscyA/IHRoaXMuZG9jdW1lbnRCYXNlVVJJLnRvUmVsYXRpdmUoZSkgOiBlID0gdGhpcy5kb2N1bWVudEJhc2VVUkkudG9BYnNvbHV0ZShlLCByLnJlbW92ZV9zY3JpcHRfaG9zdCk7CiAgfSwgVkUucHJvdG90eXBlLmFkZFZpc3VhbCA9IGZ1bmN0aW9uIChlKSB7CiAgICB6Tih0aGlzLCBlKTsKICB9LCBWRS5wcm90b3R5cGUucmVtb3ZlID0gZnVuY3Rpb24gKCkgewogICAgUnkodGhpcyk7CiAgfSwgVkUucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiAoZSkgewogICAgVHkodGhpcywgZSk7CiAgfSwgVkUucHJvdG90eXBlLnVwbG9hZEltYWdlcyA9IGZ1bmN0aW9uIChlKSB7CiAgICByZXR1cm4gdGhpcy5lZGl0b3JVcGxvYWQudXBsb2FkSW1hZ2VzKGUpOwogIH0sIFZFLnByb3RvdHlwZS5fc2NhbkZvckltYWdlcyA9IGZ1bmN0aW9uICgpIHsKICAgIHJldHVybiB0aGlzLmVkaXRvclVwbG9hZC5zY2FuRm9ySW1hZ2VzKCk7CiAgfSwgVkUucHJvdG90eXBlLmFkZEJ1dHRvbiA9IGZ1bmN0aW9uICgpIHsKICAgIHRocm93IG5ldyBFcnJvcigiZWRpdG9yLmFkZEJ1dHRvbiBoYXMgYmVlbiByZW1vdmVkIGluIHRpbnltY2UgNXgsIHVzZSBlZGl0b3IudWkucmVnaXN0cnkuYWRkQnV0dG9uIG9yIGVkaXRvci51aS5yZWdpc3RyeS5hZGRUb2dnbGVCdXR0b24gb3IgZWRpdG9yLnVpLnJlZ2lzdHJ5LmFkZFNwbGl0QnV0dG9uIGluc3RlYWQiKTsKICB9LCBWRS5wcm90b3R5cGUuYWRkU2lkZWJhciA9IGZ1bmN0aW9uICgpIHsKICAgIHRocm93IG5ldyBFcnJvcigiZWRpdG9yLmFkZFNpZGViYXIgaGFzIGJlZW4gcmVtb3ZlZCBpbiB0aW55bWNlIDV4LCB1c2UgZWRpdG9yLnVpLnJlZ2lzdHJ5LmFkZFNpZGViYXIgaW5zdGVhZCIpOwogIH0sIFZFLnByb3RvdHlwZS5hZGRNZW51SXRlbSA9IGZ1bmN0aW9uICgpIHsKICAgIHRocm93IG5ldyBFcnJvcigiZWRpdG9yLmFkZE1lbnVJdGVtIGhhcyBiZWVuIHJlbW92ZWQgaW4gdGlueW1jZSA1eCwgdXNlIGVkaXRvci51aS5yZWdpc3RyeS5hZGRNZW51SXRlbSBpbnN0ZWFkIik7CiAgfSwgVkUucHJvdG90eXBlLmFkZENvbnRleHRUb29sYmFyID0gZnVuY3Rpb24gKCkgewogICAgdGhyb3cgbmV3IEVycm9yKCJlZGl0b3IuYWRkQ29udGV4dFRvb2xiYXIgaGFzIGJlZW4gcmVtb3ZlZCBpbiB0aW55bWNlIDV4LCB1c2UgZWRpdG9yLnVpLnJlZ2lzdHJ5LmFkZENvbnRleHRUb29sYmFyIGluc3RlYWQiKTsKICB9LCBWRSk7CgogIGZ1bmN0aW9uIFZFKGUsIHQsIG4pIHsKICAgIHZhciByID0gdGhpczsKICAgIHRoaXMucGx1Z2lucyA9IHt9LCB0aGlzLmNvbnRlbnRDU1MgPSBbXSwgdGhpcy5jb250ZW50U3R5bGVzID0gW10sIHRoaXMubG9hZGVkQ1NTID0ge30sIHRoaXMuaXNOb3REaXJ0eSA9ICExLCB0aGlzLmVkaXRvck1hbmFnZXIgPSBuLCB0aGlzLmRvY3VtZW50QmFzZVVybCA9IG4uZG9jdW1lbnRCYXNlVVJMLCBGRSh0aGlzLCBDRSksIHRoaXMuc2V0dGluZ3MgPSBXeSh0aGlzLCBlLCB0aGlzLmRvY3VtZW50QmFzZVVybCwgbi5kZWZhdWx0U2V0dGluZ3MsIHQpLCB0aGlzLnNldHRpbmdzLnN1ZmZpeCAmJiAobi5zdWZmaXggPSB0aGlzLnNldHRpbmdzLnN1ZmZpeCksIHRoaXMuc3VmZml4ID0gbi5zdWZmaXgsIHRoaXMuc2V0dGluZ3MuYmFzZV91cmwgJiYgbi5fc2V0QmFzZVVybCh0aGlzLnNldHRpbmdzLmJhc2VfdXJsKSwgdGhpcy5iYXNlVXJpID0gbi5iYXNlVVJJLCB0aGlzLnNldHRpbmdzLnJlZmVycmVyX3BvbGljeSAmJiAoUnUuU2NyaXB0TG9hZGVyLl9zZXRSZWZlcnJlclBvbGljeSh0aGlzLnNldHRpbmdzLnJlZmVycmVyX3BvbGljeSksIEV1LkRPTS5zdHlsZVNoZWV0TG9hZGVyLl9zZXRSZWZlcnJlclBvbGljeSh0aGlzLnNldHRpbmdzLnJlZmVycmVyX3BvbGljeSkpLCBVdS5sYW5ndWFnZUxvYWQgPSB0aGlzLnNldHRpbmdzLmxhbmd1YWdlX2xvYWQsIFV1LmJhc2VVUkwgPSBuLmJhc2VVUkwsIHRoaXMuaWQgPSBlLCB0aGlzLnNldERpcnR5KCExKSwgdGhpcy5kb2N1bWVudEJhc2VVUkkgPSBuZXcgTEUodGhpcy5zZXR0aW5ncy5kb2N1bWVudF9iYXNlX3VybCwgewogICAgICBiYXNlX3VyaTogdGhpcy5iYXNlVXJpCiAgICB9KSwgdGhpcy5iYXNlVVJJID0gdGhpcy5iYXNlVXJpLCB0aGlzLmlubGluZSA9ICEhdGhpcy5zZXR0aW5ncy5pbmxpbmUsIHRoaXMuc2hvcnRjdXRzID0gbmV3IEFFKHRoaXMpLCB0aGlzLmVkaXRvckNvbW1hbmRzID0gbmV3IGVFKHRoaXMpLCB0aGlzLnNldHRpbmdzLmNhY2hlX3N1ZmZpeCAmJiAod3QuY2FjaGVTdWZmaXggPSB0aGlzLnNldHRpbmdzLmNhY2hlX3N1ZmZpeC5yZXBsYWNlKC9eW1w/XCZdKy8sICIiKSksIHRoaXMudWkgPSB7CiAgICAgIHJlZ2lzdHJ5OiBURSgpLAogICAgICBzdHlsZVNoZWV0TG9hZGVyOiB1bmRlZmluZWQsCiAgICAgIHNob3c6IFYsCiAgICAgIGhpZGU6IFYsCiAgICAgIGVuYWJsZTogViwKICAgICAgZGlzYWJsZTogViwKICAgICAgaXNEaXNhYmxlZDogQwogICAgfTsKICAgIHZhciBvID0gU0UodGhpcyk7CiAgICB0aGlzLm1vZGUgPSBvLCB0aGlzLnNldE1vZGUgPSBvLnNldCwgbi5maXJlKCJTZXR1cEVkaXRvciIsIHsKICAgICAgZWRpdG9yOiB0aGlzCiAgICB9KSwgdGhpcy5leGVjQ2FsbGJhY2soInNldHVwIiwgdGhpcyksIHRoaXMuJCA9IGh1Lm92ZXJyaWRlRGVmYXVsdHMoZnVuY3Rpb24gKCkgewogICAgICByZXR1cm4gewogICAgICAgIGNvbnRleHQ6IHIuaW5saW5lID8gci5nZXRCb2R5KCkgOiByLmdldERvYygpLAogICAgICAgIGVsZW1lbnQ6IHIuZ2V0Qm9keSgpCiAgICAgIH07CiAgICB9KTsKICB9CgogIHZhciBxRSwKICAgICAgJEUgPSBFdS5ET00sCiAgICAgIFdFID0ga3QuZXhwbG9kZSwKICAgICAgS0UgPSBrdC5lYWNoLAogICAgICBYRSA9IGt0LmV4dGVuZCwKICAgICAgWUUgPSAwLAogICAgICBHRSA9ICExLAogICAgICBKRSA9IFtdLAogICAgICBRRSA9IFtdLAogICAgICBaRSA9IGZ1bmN0aW9uIFpFKHQpIHsKICAgIHZhciBuID0gdC50eXBlOwogICAgS0UocmsuZ2V0KCksIGZ1bmN0aW9uIChlKSB7CiAgICAgIHN3aXRjaCAobikgewogICAgICAgIGNhc2UgInNjcm9sbCI6CiAgICAgICAgICBlLmZpcmUoIlNjcm9sbFdpbmRvdyIsIHQpOwogICAgICAgICAgYnJlYWs7CgogICAgICAgIGNhc2UgInJlc2l6ZSI6CiAgICAgICAgICBlLmZpcmUoIlJlc2l6ZVdpbmRvdyIsIHQpOwogICAgICB9CiAgICB9KTsKICB9LAogICAgICBlayA9IGZ1bmN0aW9uIGVrKGUpIHsKICAgIGUgIT09IEdFICYmIChlID8gaHUod2luZG93KS5vbigicmVzaXplIHNjcm9sbCIsIFpFKSA6IGh1KHdpbmRvdykub2ZmKCJyZXNpemUgc2Nyb2xsIiwgWkUpLCBHRSA9IGUpOwogIH0sCiAgICAgIHRrID0gZnVuY3Rpb24gdGsodCkgewogICAgdmFyIGUgPSBRRTsKICAgIGRlbGV0ZSBKRVt0LmlkXTsKCiAgICBmb3IgKHZhciBuID0gMDsgbiA8IEpFLmxlbmd0aDsgbisrKSB7CiAgICAgIGlmIChKRVtuXSA9PT0gdCkgewogICAgICAgIEpFLnNwbGljZShuLCAxKTsKICAgICAgICBicmVhazsKICAgICAgfQogICAgfQoKICAgIHJldHVybiBRRSA9IEgoUUUsIGZ1bmN0aW9uIChlKSB7CiAgICAgIHJldHVybiB0ICE9PSBlOwogICAgfSksIHJrLmFjdGl2ZUVkaXRvciA9PT0gdCAmJiAocmsuYWN0aXZlRWRpdG9yID0gMCA8IFFFLmxlbmd0aCA/IFFFWzBdIDogbnVsbCksIHJrLmZvY3VzZWRFZGl0b3IgPT09IHQgJiYgKHJrLmZvY3VzZWRFZGl0b3IgPSBudWxsKSwgZS5sZW5ndGggIT09IFFFLmxlbmd0aDsKICB9LAogICAgICBuayA9ICJDU1MxQ29tcGF0IiAhPT0gZG9jdW1lbnQuY29tcGF0TW9kZSwKICAgICAgcmsgPSBfa2UoX2tlKHt9LCBnRSksIHsKICAgIGJhc2VVUkk6IG51bGwsCiAgICBiYXNlVVJMOiBudWxsLAogICAgZGVmYXVsdFNldHRpbmdzOiB7fSwKICAgIGRvY3VtZW50QmFzZVVSTDogbnVsbCwKICAgIHN1ZmZpeDogbnVsbCwKICAgICQ6IGh1LAogICAgbWFqb3JWZXJzaW9uOiAiNSIsCiAgICBtaW5vclZlcnNpb246ICI2LjIiLAogICAgcmVsZWFzZURhdGU6ICIyMDIwLTEyLTA4IiwKICAgIGVkaXRvcnM6IEpFLAogICAgaTE4bjogSXUsCiAgICBhY3RpdmVFZGl0b3I6IG51bGwsCiAgICBmb2N1c2VkRWRpdG9yOiBudWxsLAogICAgc2V0dGluZ3M6IHt9LAogICAgc2V0dXA6IGZ1bmN0aW9uIHNldHVwKCkgewogICAgICB2YXIgZSwKICAgICAgICAgIHQgPSAiIiwKICAgICAgICAgIG4gPSBMRS5nZXREb2N1bWVudEJhc2VVcmwoZG9jdW1lbnQubG9jYXRpb24pOwogICAgICAvXlteOl0rOlwvXC9cLz9bXlwvXStcLy8udGVzdChuKSAmJiAobiA9IG4ucmVwbGFjZSgvW1w/I10uKiQvLCAiIikucmVwbGFjZSgvW1wvXFxdW15cL10rJC8sICIiKSwgL1tcL1xcXSQvLnRlc3QobikgfHwgKG4gKz0gIi8iKSk7CiAgICAgIHZhciByLAogICAgICAgICAgbyA9IHdpbmRvdy50aW55bWNlIHx8IHdpbmRvdy50aW55TUNFUHJlSW5pdDsKICAgICAgaWYgKG8pIGUgPSBvLmJhc2UgfHwgby5iYXNlVVJMLCB0ID0gby5zdWZmaXg7ZWxzZSB7CiAgICAgICAgZm9yICh2YXIgaSwgYSA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCJzY3JpcHQiKSwgdSA9IDA7IHUgPCBhLmxlbmd0aDsgdSsrKSB7CiAgICAgICAgICBpZiAoIiIgIT09IChpID0gYVt1XS5zcmMgfHwgIiIpKSB7CiAgICAgICAgICAgIHZhciBzID0gaS5zdWJzdHJpbmcoaS5sYXN0SW5kZXhPZigiLyIpKTsKCiAgICAgICAgICAgIGlmICgvdGlueW1jZShcLmZ1bGx8XC5qcXVlcnl8KShcLm1pbnxcLmRldnwpXC5qcy8udGVzdChpKSkgewogICAgICAgICAgICAgIC0xICE9PSBzLmluZGV4T2YoIi5taW4iKSAmJiAodCA9ICIubWluIiksIGUgPSBpLnN1YnN0cmluZygwLCBpLmxhc3RJbmRleE9mKCIvIikpOwogICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICAhZSAmJiBkb2N1bWVudC5jdXJyZW50U2NyaXB0ICYmICgtMSAhPT0gKGkgPSBkb2N1bWVudC5jdXJyZW50U2NyaXB0LnNyYykuaW5kZXhPZigiLm1pbiIpICYmICh0ID0gIi5taW4iKSwgZSA9IGkuc3Vic3RyaW5nKDAsIGkubGFzdEluZGV4T2YoIi8iKSkpOwogICAgICB9CiAgICAgIHRoaXMuYmFzZVVSTCA9IG5ldyBMRShuKS50b0Fic29sdXRlKGUpLCB0aGlzLmRvY3VtZW50QmFzZVVSTCA9IG4sIHRoaXMuYmFzZVVSSSA9IG5ldyBMRSh0aGlzLmJhc2VVUkwpLCB0aGlzLnN1ZmZpeCA9IHQsIChyID0gdGhpcykub24oIkFkZEVkaXRvciIsIE4oeW0sIHIpKSwgci5vbigiUmVtb3ZlRWRpdG9yIiwgTihibSwgcikpOwogICAgfSwKICAgIG92ZXJyaWRlRGVmYXVsdHM6IGZ1bmN0aW9uIG92ZXJyaWRlRGVmYXVsdHMoZSkgewogICAgICB2YXIgdCA9IGUuYmFzZV91cmw7CiAgICAgIHQgJiYgdGhpcy5fc2V0QmFzZVVybCh0KTsKICAgICAgdmFyIG4gPSBlLnN1ZmZpeDsKICAgICAgZS5zdWZmaXggJiYgKHRoaXMuc3VmZml4ID0gbik7CiAgICAgIHZhciByID0gKHRoaXMuZGVmYXVsdFNldHRpbmdzID0gZSkucGx1Z2luX2Jhc2VfdXJsczsKICAgICAgciAhPT0gdW5kZWZpbmVkICYmIHVlKHIsIGZ1bmN0aW9uIChlLCB0KSB7CiAgICAgICAgVXUuUGx1Z2luTWFuYWdlci51cmxzW3RdID0gZTsKICAgICAgfSk7CiAgICB9LAogICAgaW5pdDogZnVuY3Rpb24gaW5pdChyKSB7CiAgICAgIHZhciBuLAogICAgICAgICAgdSA9IHRoaXMsCiAgICAgICAgICBzID0ga3QubWFrZU1hcCgiYXJlYSBiYXNlIGJhc2Vmb250IGJyIGNvbCBmcmFtZSBociBpbWcgaW5wdXQgaXNpbmRleCBsaW5rIG1ldGEgcGFyYW0gZW1iZWQgc291cmNlIHdiciB0cmFjayBjb2xncm91cCBvcHRpb24gdGFibGUgdGJvZHkgdGZvb3QgdGhlYWQgdHIgdGggdGQgc2NyaXB0IG5vc2NyaXB0IHN0eWxlIHRleHRhcmVhIHZpZGVvIGF1ZGlvIGlmcmFtZSBvYmplY3QgbWVudSIsICIgIiksCiAgICAgICAgICBjID0gZnVuY3Rpb24gYyhlKSB7CiAgICAgICAgdmFyIHQgPSBlLmlkOwogICAgICAgIHJldHVybiB0IHx8ICh0ID0gZ2UoZSwgIm5hbWUiKS5maWx0ZXIoZnVuY3Rpb24gKGUpIHsKICAgICAgICAgIHJldHVybiAhJEUuZ2V0KGUpOwogICAgICAgIH0pLmdldE9yVGh1bmsoJEUudW5pcXVlSWQpLCBlLnNldEF0dHJpYnV0ZSgiaWQiLCB0KSksIHQ7CiAgICAgIH0sCiAgICAgICAgICBsID0gZnVuY3Rpb24gbChlLCB0KSB7CiAgICAgICAgcmV0dXJuIHQuY29uc3RydWN0b3IgPT09IFJlZ0V4cCA/IHQudGVzdChlLmNsYXNzTmFtZSkgOiAkRS5oYXNDbGFzcyhlLCB0KTsKICAgICAgfSwKICAgICAgICAgIGYgPSBmdW5jdGlvbiBmKGUpIHsKICAgICAgICBuID0gZTsKICAgICAgfSwKICAgICAgICAgIGUgPSBmdW5jdGlvbiBlKCkgewogICAgICAgIHZhciBvLAogICAgICAgICAgICBpID0gMCwKICAgICAgICAgICAgYSA9IFtdLAogICAgICAgICAgICBuID0gZnVuY3Rpb24gbihlLCB0LCBfbjQpIHsKICAgICAgICAgIHZhciByID0gbmV3IEhFKGUsIHQsIHUpOwogICAgICAgICAgYS5wdXNoKHIpLCByLm9uKCJpbml0IiwgZnVuY3Rpb24gKCkgewogICAgICAgICAgICArK2kgPT09IG8ubGVuZ3RoICYmIGYoYSk7CiAgICAgICAgICB9KSwgci50YXJnZXRFbG0gPSByLnRhcmdldEVsbSB8fCBfbjQsIHIucmVuZGVyKCk7CiAgICAgICAgfTsKCiAgICAgICAgJEUudW5iaW5kKHdpbmRvdywgInJlYWR5IiwgZSksIGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICB2YXIgdCA9IHJbZV07CiAgICAgICAgICBpZiAodCkgdC5hcHBseSh1LCBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsIDIpKTsKICAgICAgICB9KCJvbnBhZ2Vsb2FkIiksIG8gPSBodS51bmlxdWUoZnVuY3Rpb24gKHQpIHsKICAgICAgICAgIHZhciBuID0gW107CiAgICAgICAgICBpZiAod3QuYnJvd3Nlci5pc0lFKCkgJiYgd3QuYnJvd3Nlci52ZXJzaW9uLm1ham9yIDwgMTEpIHJldHVybiBtYigiVGlueU1DRSBkb2VzIG5vdCBzdXBwb3J0IHRoZSBicm93c2VyIHlvdSBhcmUgdXNpbmcuIEZvciBhIGxpc3Qgb2Ygc3VwcG9ydGVkIGJyb3dzZXJzIHBsZWFzZSBzZWU6IGh0dHBzOi8vd3d3LnRpbnltY2UuY29tL2RvY3MvZ2V0LXN0YXJ0ZWQvc3lzdGVtLXJlcXVpcmVtZW50cy8iKSwgW107CiAgICAgICAgICBpZiAobmspIHJldHVybiBtYigiRmFpbGVkIHRvIGluaXRpYWxpemUgdGhlIGVkaXRvciBhcyB0aGUgZG9jdW1lbnQgaXMgbm90IGluIHN0YW5kYXJkcyBtb2RlLiBUaW55TUNFIHJlcXVpcmVzIHN0YW5kYXJkcyBtb2RlLiIpLCBbXTsKICAgICAgICAgIGlmICh0LnR5cGVzKSByZXR1cm4gS0UodC50eXBlcywgZnVuY3Rpb24gKGUpIHsKICAgICAgICAgICAgbiA9IG4uY29uY2F0KCRFLnNlbGVjdChlLnNlbGVjdG9yKSk7CiAgICAgICAgICB9KSwgbjsKICAgICAgICAgIGlmICh0LnNlbGVjdG9yKSByZXR1cm4gJEUuc2VsZWN0KHQuc2VsZWN0b3IpOwogICAgICAgICAgaWYgKHQudGFyZ2V0KSByZXR1cm4gW3QudGFyZ2V0XTsKCiAgICAgICAgICBzd2l0Y2ggKHQubW9kZSkgewogICAgICAgICAgICBjYXNlICJleGFjdCI6CiAgICAgICAgICAgICAgdmFyIGUgPSB0LmVsZW1lbnRzIHx8ICIiOwogICAgICAgICAgICAgIDAgPCBlLmxlbmd0aCAmJiBLRShXRShlKSwgZnVuY3Rpb24gKHQpIHsKICAgICAgICAgICAgICAgIHZhciBlID0gJEUuZ2V0KHQpOwogICAgICAgICAgICAgICAgZSA/IG4ucHVzaChlKSA6IEtFKGRvY3VtZW50LmZvcm1zLCBmdW5jdGlvbiAoZSkgewogICAgICAgICAgICAgICAgICBLRShlLmVsZW1lbnRzLCBmdW5jdGlvbiAoZSkgewogICAgICAgICAgICAgICAgICAgIGUubmFtZSA9PT0gdCAmJiAodCA9ICJtY2VfZWRpdG9yXyIgKyBZRSsrLCAkRS5zZXRBdHRyaWIoZSwgImlkIiwgdCksIG4ucHVzaChlKSk7CiAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICBjYXNlICJ0ZXh0YXJlYXMiOgogICAgICAgICAgICBjYXNlICJzcGVjaWZpY190ZXh0YXJlYXMiOgogICAgICAgICAgICAgIEtFKCRFLnNlbGVjdCgidGV4dGFyZWEiKSwgZnVuY3Rpb24gKGUpIHsKICAgICAgICAgICAgICAgIHQuZWRpdG9yX2Rlc2VsZWN0b3IgJiYgbChlLCB0LmVkaXRvcl9kZXNlbGVjdG9yKSB8fCB0LmVkaXRvcl9zZWxlY3RvciAmJiAhbChlLCB0LmVkaXRvcl9zZWxlY3RvcikgfHwgbi5wdXNoKGUpOwogICAgICAgICAgICAgIH0pOwogICAgICAgICAgfQoKICAgICAgICAgIHJldHVybiBuOwogICAgICAgIH0ocikpLCByLnR5cGVzID8gS0Uoci50eXBlcywgZnVuY3Rpb24gKHQpIHsKICAgICAgICAgIGt0LmVhY2gobywgZnVuY3Rpb24gKGUpIHsKICAgICAgICAgICAgcmV0dXJuICEkRS5pcyhlLCB0LnNlbGVjdG9yKSB8fCAobihjKGUpLCBYRSh7fSwgciwgdCksIGUpLCAhMSk7CiAgICAgICAgICB9KTsKICAgICAgICB9KSA6IChrdC5lYWNoKG8sIGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICB2YXIgdDsKICAgICAgICAgICh0ID0gdS5nZXQoZS5pZCkpICYmIHQuaW5pdGlhbGl6ZWQgJiYgISh0LmdldENvbnRhaW5lcigpIHx8IHQuZ2V0Qm9keSgpKS5wYXJlbnROb2RlICYmICh0ayh0KSwgdC51bmJpbmRBbGxOYXRpdmVFdmVudHMoKSwgdC5kZXN0cm95KCEwKSwgdC5yZW1vdmVkID0gITAsIHQgPSBudWxsKTsKICAgICAgICB9KSwgMCA9PT0gKG8gPSBrdC5ncmVwKG8sIGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICByZXR1cm4gIXUuZ2V0KGUuaWQpOwogICAgICAgIH0pKS5sZW5ndGggPyBmKFtdKSA6IEtFKG8sIGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICB2YXIgdDsKICAgICAgICAgIHQgPSBlLCByLmlubGluZSAmJiB0LnRhZ05hbWUudG9Mb3dlckNhc2UoKSBpbiBzID8gbWIoIkNvdWxkIG5vdCBpbml0aWFsaXplIGlubGluZSBlZGl0b3Igb24gaW52YWxpZCBpbmxpbmUgdGFyZ2V0IGVsZW1lbnQiLCBlKSA6IG4oYyhlKSwgciwgZSk7CiAgICAgICAgfSkpOwogICAgICB9OwoKICAgICAgcmV0dXJuIHUuc2V0dGluZ3MgPSByLCAkRS5iaW5kKHdpbmRvdywgInJlYWR5IiwgZSksIG5ldyBCcihmdW5jdGlvbiAodCkgewogICAgICAgIG4gPyB0KG4pIDogZiA9IGZ1bmN0aW9uIGYoZSkgewogICAgICAgICAgdChlKTsKICAgICAgICB9OwogICAgICB9KTsKICAgIH0sCiAgICBnZXQ6IGZ1bmN0aW9uIGdldCh0KSB7CiAgICAgIHJldHVybiAwID09PSBhcmd1bWVudHMubGVuZ3RoID8gUUUuc2xpY2UoMCkgOiBxKHQpID8gWShRRSwgZnVuY3Rpb24gKGUpIHsKICAgICAgICByZXR1cm4gZS5pZCA9PT0gdDsKICAgICAgfSkuZ2V0T3IobnVsbCkgOiBPKHQpICYmIFFFW3RdID8gUUVbdF0gOiBudWxsOwogICAgfSwKICAgIGFkZDogZnVuY3Rpb24gYWRkKGUpIHsKICAgICAgdmFyIG4gPSB0aGlzOwogICAgICByZXR1cm4gSkVbZS5pZF0gPT09IGUgfHwgKG51bGwgPT09IG4uZ2V0KGUuaWQpICYmICgibGVuZ3RoIiAhPT0gZS5pZCAmJiAoSkVbZS5pZF0gPSBlKSwgSkUucHVzaChlKSwgUUUucHVzaChlKSksIGVrKCEwKSwgbi5hY3RpdmVFZGl0b3IgPSBlLCBuLmZpcmUoIkFkZEVkaXRvciIsIHsKICAgICAgICBlZGl0b3I6IGUKICAgICAgfSksIHFFIHx8IChxRSA9IGZ1bmN0aW9uIHFFKGUpIHsKICAgICAgICB2YXIgdCA9IG4uZmlyZSgiQmVmb3JlVW5sb2FkIik7CiAgICAgICAgaWYgKHQucmV0dXJuVmFsdWUpIHJldHVybiBlLnByZXZlbnREZWZhdWx0KCksIGUucmV0dXJuVmFsdWUgPSB0LnJldHVyblZhbHVlLCB0LnJldHVyblZhbHVlOwogICAgICB9LCB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigiYmVmb3JldW5sb2FkIiwgcUUpKSksIGU7CiAgICB9LAogICAgY3JlYXRlRWRpdG9yOiBmdW5jdGlvbiBjcmVhdGVFZGl0b3IoZSwgdCkgewogICAgICByZXR1cm4gdGhpcy5hZGQobmV3IEhFKGUsIHQsIHRoaXMpKTsKICAgIH0sCiAgICByZW1vdmU6IGZ1bmN0aW9uIHJlbW92ZShlKSB7CiAgICAgIHZhciB0LAogICAgICAgICAgbiwKICAgICAgICAgIHIgPSB0aGlzOwoKICAgICAgaWYgKGUpIHsKICAgICAgICBpZiAoIXEoZSkpIHJldHVybiBuID0gZSwgeChyLmdldChuLmlkKSkgPyBudWxsIDogKHRrKG4pICYmIHIuZmlyZSgiUmVtb3ZlRWRpdG9yIiwgewogICAgICAgICAgZWRpdG9yOiBuCiAgICAgICAgfSksIDAgPT09IFFFLmxlbmd0aCAmJiB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigiYmVmb3JldW5sb2FkIiwgcUUpLCBuLnJlbW92ZSgpLCBlaygwIDwgUUUubGVuZ3RoKSwgbik7CiAgICAgICAgS0UoJEUuc2VsZWN0KGUpLCBmdW5jdGlvbiAoZSkgewogICAgICAgICAgKG4gPSByLmdldChlLmlkKSkgJiYgci5yZW1vdmUobik7CiAgICAgICAgfSk7CiAgICAgIH0gZWxzZSBmb3IgKHQgPSBRRS5sZW5ndGggLSAxOyAwIDw9IHQ7IHQtLSkgewogICAgICAgIHIucmVtb3ZlKFFFW3RdKTsKICAgICAgfQogICAgfSwKICAgIGV4ZWNDb21tYW5kOiBmdW5jdGlvbiBleGVjQ29tbWFuZChlLCB0LCBuKSB7CiAgICAgIHZhciByID0gdGhpcy5nZXQobik7CgogICAgICBzd2l0Y2ggKGUpIHsKICAgICAgICBjYXNlICJtY2VBZGRFZGl0b3IiOgogICAgICAgICAgcmV0dXJuIHRoaXMuZ2V0KG4pIHx8IG5ldyBIRShuLCB0aGlzLnNldHRpbmdzLCB0aGlzKS5yZW5kZXIoKSwgITA7CgogICAgICAgIGNhc2UgIm1jZVJlbW92ZUVkaXRvciI6CiAgICAgICAgICByZXR1cm4gciAmJiByLnJlbW92ZSgpLCAhMDsKCiAgICAgICAgY2FzZSAibWNlVG9nZ2xlRWRpdG9yIjoKICAgICAgICAgIHJldHVybiByID8gKHIuaXNIaWRkZW4oKSA/IHIuc2hvdygpIDogci5oaWRlKCksICEwKSA6ICh0aGlzLmV4ZWNDb21tYW5kKCJtY2VBZGRFZGl0b3IiLCAwLCBuKSwgITApOwogICAgICB9CgogICAgICByZXR1cm4gISF0aGlzLmFjdGl2ZUVkaXRvciAmJiB0aGlzLmFjdGl2ZUVkaXRvci5leGVjQ29tbWFuZChlLCB0LCBuKTsKICAgIH0sCiAgICB0cmlnZ2VyU2F2ZTogZnVuY3Rpb24gdHJpZ2dlclNhdmUoKSB7CiAgICAgIEtFKFFFLCBmdW5jdGlvbiAoZSkgewogICAgICAgIGUuc2F2ZSgpOwogICAgICB9KTsKICAgIH0sCiAgICBhZGRJMThuOiBmdW5jdGlvbiBhZGRJMThuKGUsIHQpIHsKICAgICAgSXUuYWRkKGUsIHQpOwogICAgfSwKICAgIHRyYW5zbGF0ZTogZnVuY3Rpb24gdHJhbnNsYXRlKGUpIHsKICAgICAgcmV0dXJuIEl1LnRyYW5zbGF0ZShlKTsKICAgIH0sCiAgICBzZXRBY3RpdmU6IGZ1bmN0aW9uIHNldEFjdGl2ZShlKSB7CiAgICAgIHZhciB0ID0gdGhpcy5hY3RpdmVFZGl0b3I7CiAgICAgIHRoaXMuYWN0aXZlRWRpdG9yICE9PSBlICYmICh0ICYmIHQuZmlyZSgiZGVhY3RpdmF0ZSIsIHsKICAgICAgICByZWxhdGVkVGFyZ2V0OiBlCiAgICAgIH0pLCBlLmZpcmUoImFjdGl2YXRlIiwgewogICAgICAgIHJlbGF0ZWRUYXJnZXQ6IHQKICAgICAgfSkpLCB0aGlzLmFjdGl2ZUVkaXRvciA9IGU7CiAgICB9LAogICAgX3NldEJhc2VVcmw6IGZ1bmN0aW9uIF9zZXRCYXNlVXJsKGUpIHsKICAgICAgdGhpcy5iYXNlVVJMID0gbmV3IExFKHRoaXMuZG9jdW1lbnRCYXNlVVJMKS50b0Fic29sdXRlKGUucmVwbGFjZSgvXC8rJC8sICIiKSksIHRoaXMuYmFzZVVSSSA9IG5ldyBMRSh0aGlzLmJhc2VVUkwpOwogICAgfQogIH0pOwoKICByay5zZXR1cCgpOwoKICB2YXIgb2ssCiAgICAgIGlrLAogICAgICBfYWssCiAgICAgIHVrLAogICAgICBzayA9IE1hdGgubWluLAogICAgICBjayA9IE1hdGgubWF4LAogICAgICBsayA9IE1hdGgucm91bmQsCiAgICAgIGZrID0gZnVuY3Rpb24gZmsoZSwgdCwgbikgewogICAgdmFyIHIgPSB0LngsCiAgICAgICAgbyA9IHQueSwKICAgICAgICBpID0gZS53LAogICAgICAgIGEgPSBlLmgsCiAgICAgICAgdSA9IHQudywKICAgICAgICBzID0gdC5oLAogICAgICAgIGMgPSAobiB8fCAiIikuc3BsaXQoIiIpOwogICAgcmV0dXJuICJiIiA9PT0gY1swXSAmJiAobyArPSBzKSwgInIiID09PSBjWzFdICYmIChyICs9IHUpLCAiYyIgPT09IGNbMF0gJiYgKG8gKz0gbGsocyAvIDIpKSwgImMiID09PSBjWzFdICYmIChyICs9IGxrKHUgLyAyKSksICJiIiA9PT0gY1szXSAmJiAobyAtPSBhKSwgInIiID09PSBjWzRdICYmIChyIC09IGkpLCAiYyIgPT09IGNbM10gJiYgKG8gLT0gbGsoYSAvIDIpKSwgImMiID09PSBjWzRdICYmIChyIC09IGxrKGkgLyAyKSksIGRrKHIsIG8sIGksIGEpOwogIH0sCiAgICAgIGRrID0gZnVuY3Rpb24gZGsoZSwgdCwgbiwgcikgewogICAgcmV0dXJuIHsKICAgICAgeDogZSwKICAgICAgeTogdCwKICAgICAgdzogbiwKICAgICAgaDogcgogICAgfTsKICB9LAogICAgICBtayA9IHsKICAgIGluZmxhdGU6IGZ1bmN0aW9uIGluZmxhdGUoZSwgdCwgbikgewogICAgICByZXR1cm4gZGsoZS54IC0gdCwgZS55IC0gbiwgZS53ICsgMiAqIHQsIGUuaCArIDIgKiBuKTsKICAgIH0sCiAgICByZWxhdGl2ZVBvc2l0aW9uOiBmaywKICAgIGZpbmRCZXN0UmVsYXRpdmVQb3NpdGlvbjogZnVuY3Rpb24gZmluZEJlc3RSZWxhdGl2ZVBvc2l0aW9uKGUsIHQsIG4sIHIpIHsKICAgICAgZm9yICh2YXIgbywgaSA9IDA7IGkgPCByLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgaWYgKChvID0gZmsoZSwgdCwgcltpXSkpLnggPj0gbi54ICYmIG8ueCArIG8udyA8PSBuLncgKyBuLnggJiYgby55ID49IG4ueSAmJiBvLnkgKyBvLmggPD0gbi5oICsgbi55KSByZXR1cm4gcltpXTsKICAgICAgfQoKICAgICAgcmV0dXJuIG51bGw7CiAgICB9LAogICAgaW50ZXJzZWN0OiBmdW5jdGlvbiBpbnRlcnNlY3QoZSwgdCkgewogICAgICB2YXIgbiA9IGNrKGUueCwgdC54KSwKICAgICAgICAgIHIgPSBjayhlLnksIHQueSksCiAgICAgICAgICBvID0gc2soZS54ICsgZS53LCB0LnggKyB0LncpLAogICAgICAgICAgaSA9IHNrKGUueSArIGUuaCwgdC55ICsgdC5oKTsKICAgICAgcmV0dXJuIG8gLSBuIDwgMCB8fCBpIC0gciA8IDAgPyBudWxsIDogZGsobiwgciwgbyAtIG4sIGkgLSByKTsKICAgIH0sCiAgICBjbGFtcDogZnVuY3Rpb24gY2xhbXAoZSwgdCwgbikgewogICAgICB2YXIgciA9IGUueCwKICAgICAgICAgIG8gPSBlLnksCiAgICAgICAgICBpID0gZS54ICsgZS53LAogICAgICAgICAgYSA9IGUueSArIGUuaCwKICAgICAgICAgIHUgPSB0LnggKyB0LncsCiAgICAgICAgICBzID0gdC55ICsgdC5oLAogICAgICAgICAgYyA9IGNrKDAsIHQueCAtIHIpLAogICAgICAgICAgbCA9IGNrKDAsIHQueSAtIG8pLAogICAgICAgICAgZiA9IGNrKDAsIGkgLSB1KSwKICAgICAgICAgIGQgPSBjaygwLCBhIC0gcyk7CiAgICAgIHJldHVybiByICs9IGMsIG8gKz0gbCwgbiAmJiAoaSArPSBjLCBhICs9IGwsIHIgLT0gZiwgbyAtPSBkKSwgZGsociwgbywgKGkgLT0gZikgLSByLCAoYSAtPSBkKSAtIG8pOwogICAgfSwKICAgIGNyZWF0ZTogZGssCiAgICBmcm9tQ2xpZW50UmVjdDogZnVuY3Rpb24gZnJvbUNsaWVudFJlY3QoZSkgewogICAgICByZXR1cm4gZGsoZS5sZWZ0LCBlLnRvcCwgZS53aWR0aCwgZS5oZWlnaHQpOwogICAgfQogIH0sCiAgICAgIHBrID0gKG9rID0ge30sIGlrID0ge30sIHsKICAgIGxvYWQ6IGZ1bmN0aW9uIGxvYWQociwgbykgewogICAgICB2YXIgaSA9ICdTY3JpcHQgYXQgVVJMICInICsgbyArICciIGZhaWxlZCB0byBsb2FkJywKICAgICAgICAgIGEgPSAnU2NyaXB0IGF0IFVSTCAiJyArIG8gKyAiXCIgZGlkIG5vdCBjYWxsIGB0aW55bWNlLlJlc291cmNlLmFkZCgnIiArIHIgKyAiJywgZGF0YSlgIHdpdGhpbiAxIHNlY29uZCI7CiAgICAgIGlmIChva1tyXSAhPT0gdW5kZWZpbmVkKSByZXR1cm4gb2tbcl07CiAgICAgIHZhciBlID0gbmV3IEJyKGZ1bmN0aW9uIChlLCB0KSB7CiAgICAgICAgdmFyIG4gPSBmdW5jdGlvbiAoZSwgdCwgbikgewogICAgICAgICAgdm9pZCAwID09PSBuICYmIChuID0gMWUzKTsKCiAgICAgICAgICB2YXIgciA9ICExLAogICAgICAgICAgICAgIG8gPSBudWxsLAogICAgICAgICAgICAgIGkgPSBmdW5jdGlvbiBpKG4pIHsKICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICBmb3IgKHZhciBlID0gW10sIHQgPSAwOyB0IDwgYXJndW1lbnRzLmxlbmd0aDsgdCsrKSB7CiAgICAgICAgICAgICAgICBlW3RdID0gYXJndW1lbnRzW3RdOwogICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgciB8fCAociA9ICEwLCBudWxsICE9PSBvICYmIChjbGVhclRpbWVvdXQobyksIG8gPSBudWxsKSwgbi5hcHBseShudWxsLCBlKSk7CiAgICAgICAgICAgIH07CiAgICAgICAgICB9LAogICAgICAgICAgICAgIGEgPSBpKGUpLAogICAgICAgICAgICAgIHUgPSBpKHQpOwoKICAgICAgICAgIHJldHVybiB7CiAgICAgICAgICAgIHN0YXJ0OiBmdW5jdGlvbiBzdGFydCgpIHsKICAgICAgICAgICAgICBmb3IgKHZhciBlID0gW10sIHQgPSAwOyB0IDwgYXJndW1lbnRzLmxlbmd0aDsgdCsrKSB7CiAgICAgICAgICAgICAgICBlW3RdID0gYXJndW1lbnRzW3RdOwogICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgciB8fCBudWxsICE9PSBvIHx8IChvID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gdS5hcHBseShudWxsLCBlKTsKICAgICAgICAgICAgICB9LCBuKSk7CiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIHJlc29sdmU6IGEsCiAgICAgICAgICAgIHJlamVjdDogdQogICAgICAgICAgfTsKICAgICAgICB9KGUsIHQpOwoKICAgICAgICBpa1tyXSA9IG4ucmVzb2x2ZSwgUnUuU2NyaXB0TG9hZGVyLmxvYWRTY3JpcHQobywgZnVuY3Rpb24gKCkgewogICAgICAgICAgcmV0dXJuIG4uc3RhcnQoYSk7CiAgICAgICAgfSwgZnVuY3Rpb24gKCkgewogICAgICAgICAgcmV0dXJuIG4ucmVqZWN0KGkpOwogICAgICAgIH0pOwogICAgICB9KTsKICAgICAgcmV0dXJuIG9rW3JdID0gZTsKICAgIH0sCiAgICBhZGQ6IGZ1bmN0aW9uIGFkZChlLCB0KSB7CiAgICAgIGlrW2VdICE9PSB1bmRlZmluZWQgJiYgKGlrW2VdKHQpLCBkZWxldGUgaWtbZV0pLCBva1tlXSA9IEJyLnJlc29sdmUodCk7CiAgICB9CiAgfSksCiAgICAgIGdrID0ga3QuZWFjaCwKICAgICAgaGsgPSBrdC5leHRlbmQsCiAgICAgIHZrID0gZnVuY3Rpb24gdmsoKSB7fTsKCiAgdmsuZXh0ZW5kID0gX2FrID0gZnVuY3Rpb24gYWsobikgewogICAgdmFyIG8gPSB0aGlzLnByb3RvdHlwZSwKICAgICAgICByID0gZnVuY3Rpb24gcigpIHsKICAgICAgdmFyIGUsIHQsIG47CiAgICAgIGlmICghdWsgJiYgKHRoaXMuaW5pdCAmJiB0aGlzLmluaXQuYXBwbHkodGhpcywgYXJndW1lbnRzKSwgdCA9IHRoaXMuTWl4aW5zKSkgZm9yIChlID0gdC5sZW5ndGg7IGUtLTspIHsKICAgICAgICAobiA9IHRbZV0pLmluaXQgJiYgbi5pbml0LmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgIH0KICAgIH0sCiAgICAgICAgdCA9IGZ1bmN0aW9uIHQoKSB7CiAgICAgIHJldHVybiB0aGlzOwogICAgfTsKCiAgICB1ayA9ICEwOwogICAgdmFyIGkgPSBuZXcgdGhpcygpOwogICAgcmV0dXJuIHVrID0gITEsIG4uTWl4aW5zICYmIChnayhuLk1peGlucywgZnVuY3Rpb24gKGUpIHsKICAgICAgZm9yICh2YXIgdCBpbiBlKSB7CiAgICAgICAgImluaXQiICE9PSB0ICYmIChuW3RdID0gZVt0XSk7CiAgICAgIH0KICAgIH0pLCBvLk1peGlucyAmJiAobi5NaXhpbnMgPSBvLk1peGlucy5jb25jYXQobi5NaXhpbnMpKSksIG4uTWV0aG9kcyAmJiBnayhuLk1ldGhvZHMuc3BsaXQoIiwiKSwgZnVuY3Rpb24gKGUpIHsKICAgICAgbltlXSA9IHQ7CiAgICB9KSwgbi5Qcm9wZXJ0aWVzICYmIGdrKG4uUHJvcGVydGllcy5zcGxpdCgiLCIpLCBmdW5jdGlvbiAoZSkgewogICAgICB2YXIgdCA9ICJfIiArIGU7CgogICAgICBuW2VdID0gZnVuY3Rpb24gKGUpIHsKICAgICAgICByZXR1cm4gZSAhPT0gdW5kZWZpbmVkID8gKHRoaXNbdF0gPSBlLCB0aGlzKSA6IHRoaXNbdF07CiAgICAgIH07CiAgICB9KSwgbi5TdGF0aWNzICYmIGdrKG4uU3RhdGljcywgZnVuY3Rpb24gKGUsIHQpIHsKICAgICAgclt0XSA9IGU7CiAgICB9KSwgbi5EZWZhdWx0cyAmJiBvLkRlZmF1bHRzICYmIChuLkRlZmF1bHRzID0gaGsoe30sIG8uRGVmYXVsdHMsIG4uRGVmYXVsdHMpKSwgdWUobiwgZnVuY3Rpb24gKGUsIHQpIHsKICAgICAgdmFyIG4sIHI7CiAgICAgICJmdW5jdGlvbiIgPT0gdHlwZW9mIGUgJiYgb1t0XSA/IGlbdF0gPSAobiA9IHQsIHIgPSBlLCBmdW5jdGlvbiAoKSB7CiAgICAgICAgdmFyIGUgPSB0aGlzLl9zdXBlcjsKICAgICAgICB0aGlzLl9zdXBlciA9IG9bbl07CiAgICAgICAgdmFyIHQgPSByLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgICAgcmV0dXJuIHRoaXMuX3N1cGVyID0gZSwgdDsKICAgICAgfSkgOiBpW3RdID0gZTsKICAgIH0pLCByLnByb3RvdHlwZSA9IGksIChyLmNvbnN0cnVjdG9yID0gcikuZXh0ZW5kID0gX2FrLCByOwogIH07CgogIHZhciB5ayA9IE1hdGgubWluLAogICAgICBiayA9IE1hdGgubWF4LAogICAgICBDayA9IE1hdGgucm91bmQsCiAgICAgIHdrID0gewogICAgc2VyaWFsaXplOiBmdW5jdGlvbiBzZXJpYWxpemUoZSkgewogICAgICB2YXIgdCA9IEpTT04uc3RyaW5naWZ5KGUpOwogICAgICByZXR1cm4gcSh0KSA/IHQucmVwbGFjZSgvW1x1MDA4MC1cdUZGRkZdL2csIGZ1bmN0aW9uIChlKSB7CiAgICAgICAgdmFyIHQgPSBlLmNoYXJDb2RlQXQoMCkudG9TdHJpbmcoMTYpOwogICAgICAgIHJldHVybiAiXFx1IiArICIwMDAwIi5zdWJzdHJpbmcodC5sZW5ndGgpICsgdDsKICAgICAgfSkgOiB0OwogICAgfSwKICAgIHBhcnNlOiBmdW5jdGlvbiBwYXJzZShlKSB7CiAgICAgIHRyeSB7CiAgICAgICAgcmV0dXJuIEpTT04ucGFyc2UoZSk7CiAgICAgIH0gY2F0Y2ggKHQpIHt9CiAgICB9CiAgfSwKICAgICAgeGsgPSB7CiAgICBjYWxsYmFja3M6IHt9LAogICAgY291bnQ6IDAsCiAgICBzZW5kOiBmdW5jdGlvbiBzZW5kKHQpIHsKICAgICAgdmFyIG4gPSB0aGlzLAogICAgICAgICAgciA9IEV1LkRPTSwKICAgICAgICAgIG8gPSB0LmNvdW50ICE9PSB1bmRlZmluZWQgPyB0LmNvdW50IDogbi5jb3VudCwKICAgICAgICAgIGkgPSAidGlueW1jZV9qc29ucF8iICsgbzsKICAgICAgbi5jYWxsYmFja3Nbb10gPSBmdW5jdGlvbiAoZSkgewogICAgICAgIHIucmVtb3ZlKGkpLCBkZWxldGUgbi5jYWxsYmFja3Nbb10sIHQuY2FsbGJhY2soZSk7CiAgICAgIH0sIHIuYWRkKHIuZG9jLmJvZHksICJzY3JpcHQiLCB7CiAgICAgICAgaWQ6IGksCiAgICAgICAgc3JjOiB0LnVybCwKICAgICAgICB0eXBlOiAidGV4dC9qYXZhc2NyaXB0IgogICAgICB9KSwgbi5jb3VudCsrOwogICAgfQogIH0sCiAgICAgIFNrID0gX2tlKF9rZSh7fSwgZ0UpLCB7CiAgICBzZW5kOiBmdW5jdGlvbiBzZW5kKGUpIHsKICAgICAgdmFyIHQsCiAgICAgICAgICBuID0gMCwKICAgICAgICAgIHIgPSBmdW5jdGlvbiByKCkgewogICAgICAgICFlLmFzeW5jIHx8IDQgPT09IHQucmVhZHlTdGF0ZSB8fCAxZTQgPCBuKysgPyAoZS5zdWNjZXNzICYmIG4gPCAxZTQgJiYgMjAwID09PSB0LnN0YXR1cyA/IGUuc3VjY2Vzcy5jYWxsKGUuc3VjY2Vzc19zY29wZSwgIiIgKyB0LnJlc3BvbnNlVGV4dCwgdCwgZSkgOiBlLmVycm9yICYmIGUuZXJyb3IuY2FsbChlLmVycm9yX3Njb3BlLCAxZTQgPCBuID8gIlRJTUVEX09VVCIgOiAiR0VORVJBTCIsIHQsIGUpLCB0ID0gbnVsbCkgOiBxci5zZXRUaW1lb3V0KHIsIDEwKTsKICAgICAgfTsKCiAgICAgIGlmIChlLnNjb3BlID0gZS5zY29wZSB8fCB0aGlzLCBlLnN1Y2Nlc3Nfc2NvcGUgPSBlLnN1Y2Nlc3Nfc2NvcGUgfHwgZS5zY29wZSwgZS5lcnJvcl9zY29wZSA9IGUuZXJyb3Jfc2NvcGUgfHwgZS5zY29wZSwgZS5hc3luYyA9ICExICE9PSBlLmFzeW5jLCBlLmRhdGEgPSBlLmRhdGEgfHwgIiIsIFNrLmZpcmUoImJlZm9yZUluaXRpYWxpemUiLCB7CiAgICAgICAgc2V0dGluZ3M6IGUKICAgICAgfSksICh0ID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCkpLm92ZXJyaWRlTWltZVR5cGUgJiYgdC5vdmVycmlkZU1pbWVUeXBlKGUuY29udGVudF90eXBlKSwgdC5vcGVuKGUudHlwZSB8fCAoZS5kYXRhID8gIlBPU1QiIDogIkdFVCIpLCBlLnVybCwgZS5hc3luYyksIGUuY3Jvc3NEb21haW4gJiYgKHQud2l0aENyZWRlbnRpYWxzID0gITApLCBlLmNvbnRlbnRfdHlwZSAmJiB0LnNldFJlcXVlc3RIZWFkZXIoIkNvbnRlbnQtVHlwZSIsIGUuY29udGVudF90eXBlKSwgZS5yZXF1ZXN0aGVhZGVycyAmJiBrdC5lYWNoKGUucmVxdWVzdGhlYWRlcnMsIGZ1bmN0aW9uIChlKSB7CiAgICAgICAgdC5zZXRSZXF1ZXN0SGVhZGVyKGUua2V5LCBlLnZhbHVlKTsKICAgICAgfSksIHQuc2V0UmVxdWVzdEhlYWRlcigiWC1SZXF1ZXN0ZWQtV2l0aCIsICJYTUxIdHRwUmVxdWVzdCIpLCAodCA9IFNrLmZpcmUoImJlZm9yZVNlbmQiLCB7CiAgICAgICAgeGhyOiB0LAogICAgICAgIHNldHRpbmdzOiBlCiAgICAgIH0pLnhocikuc2VuZChlLmRhdGEpLCAhZS5hc3luYykgcmV0dXJuIHIoKTsKICAgICAgcXIuc2V0VGltZW91dChyLCAxMCk7CiAgICB9CiAgfSksCiAgICAgIE5rID0ga3QuZXh0ZW5kLAogICAgICBFayA9IChray5zZW5kUlBDID0gZnVuY3Rpb24gKGUpIHsKICAgIHJldHVybiBuZXcga2soKS5zZW5kKGUpOwogIH0sIGtrLnByb3RvdHlwZS5zZW5kID0gZnVuY3Rpb24gKGUpIHsKICAgIHZhciBuID0gZS5lcnJvciwKICAgICAgICByID0gZS5zdWNjZXNzLAogICAgICAgIG8gPSBOayh0aGlzLnNldHRpbmdzLCBlKTsKICAgIG8uc3VjY2VzcyA9IGZ1bmN0aW9uIChlLCB0KSB7CiAgICAgIHZvaWQgMCA9PT0gKGUgPSB3ay5wYXJzZShlKSkgJiYgKGUgPSB7CiAgICAgICAgZXJyb3I6ICJKU09OIFBhcnNlIGVycm9yLiIKICAgICAgfSksIGUuZXJyb3IgPyBuLmNhbGwoby5lcnJvcl9zY29wZSB8fCBvLnNjb3BlLCBlLmVycm9yLCB0KSA6IHIuY2FsbChvLnN1Y2Nlc3Nfc2NvcGUgfHwgby5zY29wZSwgZS5yZXN1bHQpOwogICAgfSwgby5lcnJvciA9IGZ1bmN0aW9uIChlLCB0KSB7CiAgICAgIG4gJiYgbi5jYWxsKG8uZXJyb3Jfc2NvcGUgfHwgby5zY29wZSwgZSwgdCk7CiAgICB9LCBvLmRhdGEgPSB3ay5zZXJpYWxpemUoewogICAgICBpZDogZS5pZCB8fCAiYyIgKyB0aGlzLmNvdW50KyssCiAgICAgIG1ldGhvZDogZS5tZXRob2QsCiAgICAgIHBhcmFtczogZS5wYXJhbXMKICAgIH0pLCBvLmNvbnRlbnRfdHlwZSA9ICJhcHBsaWNhdGlvbi9qc29uIiwgU2suc2VuZChvKTsKICB9LCBrayk7CgogIGZ1bmN0aW9uIGtrKGUpIHsKICAgIHRoaXMuc2V0dGluZ3MgPSBOayh7fSwgZSksIHRoaXMuY291bnQgPSAwOwogIH0KCiAgdHJ5IHsKICAgIHZhciBfaywKICAgICAgICBBayA9ICJfX3N0b3JhZ2VfdGVzdF9fIjsKCiAgICAoX2sgPSB3aW5kb3cubG9jYWxTdG9yYWdlKS5zZXRJdGVtKEFrLCBBayksIF9rLnJlbW92ZUl0ZW0oQWspOwogIH0gY2F0Y2ggKE9rKSB7CiAgICBfayA9IGZ1bmN0aW9uICgpIHsKICAgICAgcmV0dXJuIG4gPSB7fSwgciA9IFtdLCBlID0gewogICAgICAgIGdldEl0ZW06IGZ1bmN0aW9uIGdldEl0ZW0oZSkgewogICAgICAgICAgdmFyIHQgPSBuW2VdOwogICAgICAgICAgcmV0dXJuIHQgfHwgbnVsbDsKICAgICAgICB9LAogICAgICAgIHNldEl0ZW06IGZ1bmN0aW9uIHNldEl0ZW0oZSwgdCkgewogICAgICAgICAgci5wdXNoKGUpLCBuW2VdID0gU3RyaW5nKHQpOwogICAgICAgIH0sCiAgICAgICAga2V5OiBmdW5jdGlvbiBrZXkoZSkgewogICAgICAgICAgcmV0dXJuIHJbZV07CiAgICAgICAgfSwKICAgICAgICByZW1vdmVJdGVtOiBmdW5jdGlvbiByZW1vdmVJdGVtKHQpIHsKICAgICAgICAgIHIgPSByLmZpbHRlcihmdW5jdGlvbiAoZSkgewogICAgICAgICAgICByZXR1cm4gZSA9PT0gdDsKICAgICAgICAgIH0pLCBkZWxldGUgblt0XTsKICAgICAgICB9LAogICAgICAgIGNsZWFyOiBmdW5jdGlvbiBjbGVhcigpIHsKICAgICAgICAgIHIgPSBbXSwgbiA9IHt9OwogICAgICAgIH0sCiAgICAgICAgbGVuZ3RoOiAwCiAgICAgIH0sIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCAibGVuZ3RoIiwgewogICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkgewogICAgICAgICAgcmV0dXJuIHIubGVuZ3RoOwogICAgICAgIH0sCiAgICAgICAgY29uZmlndXJhYmxlOiAhMSwKICAgICAgICBlbnVtZXJhYmxlOiAhMQogICAgICB9KSwgZTsKICAgICAgdmFyIG4sIHIsIGU7CiAgICB9KCk7CiAgfQoKICB2YXIgUmssCiAgICAgIFRrID0gewogICAgZ2VvbTogewogICAgICBSZWN0OiBtawogICAgfSwKICAgIHV0aWw6IHsKICAgICAgUHJvbWlzZTogQnIsCiAgICAgIERlbGF5OiBxciwKICAgICAgVG9vbHM6IGt0LAogICAgICBWSzogdWQsCiAgICAgIFVSSTogTEUsCiAgICAgIENsYXNzOiB2aywKICAgICAgRXZlbnREaXNwYXRjaGVyOiBmRSwKICAgICAgT2JzZXJ2YWJsZTogZ0UsCiAgICAgIEkxOG46IEl1LAogICAgICBYSFI6IFNrLAogICAgICBKU09OOiB3aywKICAgICAgSlNPTlJlcXVlc3Q6IEVrLAogICAgICBKU09OUDogeGssCiAgICAgIExvY2FsU3RvcmFnZTogX2ssCiAgICAgIENvbG9yOiBmdW5jdGlvbiBDb2xvcihlKSB7CiAgICAgICAgdmFyIG4gPSB7fSwKICAgICAgICAgICAgdSA9IDAsCiAgICAgICAgICAgIHMgPSAwLAogICAgICAgICAgICBjID0gMCwKICAgICAgICAgICAgdCA9IGZ1bmN0aW9uIHQoZSkgewogICAgICAgICAgdmFyIHQ7CiAgICAgICAgICByZXR1cm4gIm9iamVjdCIgPT0gX3R5cGVvZihlKSA/ICJyIiBpbiBlID8gKHUgPSBlLnIsIHMgPSBlLmcsIGMgPSBlLmIpIDogInYiIGluIGUgJiYgZnVuY3Rpb24gKGUsIHQsIG4pIHsKICAgICAgICAgICAgaWYgKGUgPSAocGFyc2VJbnQoZSwgMTApIHx8IDApICUgMzYwLCB0ID0gcGFyc2VJbnQodCwgMTApIC8gMTAwLCBuID0gcGFyc2VJbnQobiwgMTApIC8gMTAwLCB0ID0gYmsoMCwgeWsodCwgMSkpLCBuID0gYmsoMCwgeWsobiwgMSkpLCAwICE9PSB0KSB7CiAgICAgICAgICAgICAgdmFyIHIgPSBlIC8gNjAsCiAgICAgICAgICAgICAgICAgIG8gPSBuICogdCwKICAgICAgICAgICAgICAgICAgaSA9IG8gKiAoMSAtIE1hdGguYWJzKHIgJSAyIC0gMSkpLAogICAgICAgICAgICAgICAgICBhID0gbiAtIG87CgogICAgICAgICAgICAgIHN3aXRjaCAoTWF0aC5mbG9vcihyKSkgewogICAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgICB1ID0gbywgcyA9IGksIGMgPSAwOwogICAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgICBjYXNlIDE6CiAgICAgICAgICAgICAgICAgIHUgPSBpLCBzID0gbywgYyA9IDA7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICAgICAgdSA9IDAsIHMgPSBvLCBjID0gaTsKICAgICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgICAgICB1ID0gMCwgcyA9IGksIGMgPSBvOwogICAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgICAgICAgIHUgPSBpLCBzID0gMCwgYyA9IG87CiAgICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgICAgICAgdSA9IG8sIHMgPSAwLCBjID0gaTsKICAgICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgICAgZGVmYXVsdDoKICAgICAgICAgICAgICAgICAgdSA9IHMgPSBjID0gMDsKICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIHUgPSBDaygyNTUgKiAodSArIGEpKSwgcyA9IENrKDI1NSAqIChzICsgYSkpLCBjID0gQ2soMjU1ICogKGMgKyBhKSk7CiAgICAgICAgICAgIH0gZWxzZSB1ID0gcyA9IGMgPSBDaygyNTUgKiBuKTsKICAgICAgICAgIH0oZS5oLCBlLnMsIGUudikgOiAodCA9IC9yZ2JccypcKFxzKihbMC05XSspXHMqLFxzKihbMC05XSspXHMqLFxzKihbMC05XSspW15cKV0qXCkvZ2kuZXhlYyhlKSkgPyAodSA9IHBhcnNlSW50KHRbMV0sIDEwKSwgcyA9IHBhcnNlSW50KHRbMl0sIDEwKSwgYyA9IHBhcnNlSW50KHRbM10sIDEwKSkgOiAodCA9IC8jKFswLUZdezJ9KShbMC1GXXsyfSkoWzAtRl17Mn0pL2dpLmV4ZWMoZSkpID8gKHUgPSBwYXJzZUludCh0WzFdLCAxNiksIHMgPSBwYXJzZUludCh0WzJdLCAxNiksIGMgPSBwYXJzZUludCh0WzNdLCAxNikpIDogKHQgPSAvIyhbMC1GXSkoWzAtRl0pKFswLUZdKS9naS5leGVjKGUpKSAmJiAodSA9IHBhcnNlSW50KHRbMV0gKyB0WzFdLCAxNiksIHMgPSBwYXJzZUludCh0WzJdICsgdFsyXSwgMTYpLCBjID0gcGFyc2VJbnQodFszXSArIHRbM10sIDE2KSksIHUgPSB1IDwgMCA/IDAgOiAyNTUgPCB1ID8gMjU1IDogdSwgcyA9IHMgPCAwID8gMCA6IDI1NSA8IHMgPyAyNTUgOiBzLCBjID0gYyA8IDAgPyAwIDogMjU1IDwgYyA/IDI1NSA6IGMsIG47CiAgICAgICAgfTsKCiAgICAgICAgcmV0dXJuIGUgJiYgdChlKSwgbi50b1JnYiA9IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIHJldHVybiB7CiAgICAgICAgICAgIHI6IHUsCiAgICAgICAgICAgIGc6IHMsCiAgICAgICAgICAgIGI6IGMKICAgICAgICAgIH07CiAgICAgICAgfSwgbi50b0hzdiA9IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIHJldHVybiBlID0gdSwgdCA9IHMsIG4gPSBjLCBvID0gMCwgaSA9IHlrKGUgLz0gMjU1LCB5ayh0IC89IDI1NSwgbiAvPSAyNTUpKSwgYSA9IGJrKGUsIGJrKHQsIG4pKSwgaSA9PT0gYSA/IHsKICAgICAgICAgICAgaDogMCwKICAgICAgICAgICAgczogMCwKICAgICAgICAgICAgdjogMTAwICogKG8gPSBpKQogICAgICAgICAgfSA6IChyID0gKGEgLSBpKSAvIGEsIHsKICAgICAgICAgICAgaDogQ2soNjAgKiAoKGUgPT09IGkgPyAzIDogbiA9PT0gaSA/IDEgOiA1KSAtIChlID09PSBpID8gdCAtIG4gOiBuID09PSBpID8gZSAtIHQgOiBuIC0gZSkgLyAoKG8gPSBhKSAtIGkpKSksCiAgICAgICAgICAgIHM6IENrKDEwMCAqIHIpLAogICAgICAgICAgICB2OiBDaygxMDAgKiBvKQogICAgICAgICAgfSk7CiAgICAgICAgICB2YXIgZSwgdCwgbiwgciwgbywgaSwgYTsKICAgICAgICB9LCBuLnRvSGV4ID0gZnVuY3Rpb24gKCkgewogICAgICAgICAgdmFyIGUgPSBmdW5jdGlvbiBlKF9lMTIpIHsKICAgICAgICAgICAgcmV0dXJuIDEgPCAoX2UxMiA9IHBhcnNlSW50KF9lMTIsIDEwKS50b1N0cmluZygxNikpLmxlbmd0aCA/IF9lMTIgOiAiMCIgKyBfZTEyOwogICAgICAgICAgfTsKCiAgICAgICAgICByZXR1cm4gIiMiICsgZSh1KSArIGUocykgKyBlKGMpOwogICAgICAgIH0sIG4ucGFyc2UgPSB0LCBuOwogICAgICB9CiAgICB9LAogICAgZG9tOiB7CiAgICAgIEV2ZW50VXRpbHM6IFRpLAogICAgICBTaXp6bGU6IFRhLAogICAgICBEb21RdWVyeTogaHUsCiAgICAgIFRyZWVXYWxrZXI6IFhyLAogICAgICBUZXh0U2Vla2VyOiBmcywKICAgICAgRE9NVXRpbHM6IEV1LAogICAgICBTY3JpcHRMb2FkZXI6IFJ1LAogICAgICBSYW5nZVV0aWxzOiB4ZCwKICAgICAgU2VyaWFsaXplcjogTnksCiAgICAgIFN0eWxlU2hlZXRMb2FkZXI6ICRyLAogICAgICBDb250cm9sU2VsZWN0aW9uOiBjZCwKICAgICAgQm9va21hcmtNYW5hZ2VyOiBvZCwKICAgICAgU2VsZWN0aW9uOiBRdiwKICAgICAgRXZlbnQ6IFRpLkV2ZW50CiAgICB9LAogICAgaHRtbDogewogICAgICBTdHlsZXM6IHhpLAogICAgICBFbnRpdGllczogY2ksCiAgICAgIE5vZGU6IEttLAogICAgICBTY2hlbWE6IENpLAogICAgICBTYXhQYXJzZXI6IGlwLAogICAgICBEb21QYXJzZXI6IGJ5LAogICAgICBXcml0ZXI6IEdtLAogICAgICBTZXJpYWxpemVyOiBKbQogICAgfSwKICAgIEVudjogd3QsCiAgICBBZGRPbk1hbmFnZXI6IFV1LAogICAgQW5ub3RhdG9yOiB0ZCwKICAgIEZvcm1hdHRlcjogX2IsCiAgICBVbmRvTWFuYWdlcjogUmIsCiAgICBFZGl0b3JDb21tYW5kczogZUUsCiAgICBXaW5kb3dNYW5hZ2VyOiB1YiwKICAgIE5vdGlmaWNhdGlvbk1hbmFnZXI6IG9iLAogICAgRWRpdG9yT2JzZXJ2YWJsZTogQ0UsCiAgICBTaG9ydGN1dHM6IEFFLAogICAgRWRpdG9yOiBIRSwKICAgIEZvY3VzTWFuYWdlcjogbW0sCiAgICBFZGl0b3JNYW5hZ2VyOiByaywKICAgIERPTTogRXUuRE9NLAogICAgU2NyaXB0TG9hZGVyOiBSdS5TY3JpcHRMb2FkZXIsCiAgICBQbHVnaW5NYW5hZ2VyOiBpYiwKICAgIFRoZW1lTWFuYWdlcjogYWIsCiAgICBJY29uTWFuYWdlcjogWXksCiAgICBSZXNvdXJjZTogcGssCiAgICB0cmltOiBrdC50cmltLAogICAgaXNBcnJheToga3QuaXNBcnJheSwKICAgIGlzOiBrdC5pcywKICAgIHRvQXJyYXk6IGt0LnRvQXJyYXksCiAgICBtYWtlTWFwOiBrdC5tYWtlTWFwLAogICAgZWFjaDoga3QuZWFjaCwKICAgIG1hcDoga3QubWFwLAogICAgZ3JlcDoga3QuZ3JlcCwKICAgIGluQXJyYXk6IGt0LmluQXJyYXksCiAgICBleHRlbmQ6IGt0LmV4dGVuZCwKICAgIGNyZWF0ZToga3QuY3JlYXRlLAogICAgd2Fsazoga3Qud2FsaywKICAgIGNyZWF0ZU5TOiBrdC5jcmVhdGVOUywKICAgIHJlc29sdmU6IGt0LnJlc29sdmUsCiAgICBleHBsb2RlOiBrdC5leHBsb2RlLAogICAgX2FkZENhY2hlU3VmZml4OiBrdC5fYWRkQ2FjaGVTdWZmaXgsCiAgICBpc09wZXJhOiB3dC5vcGVyYSwKICAgIGlzV2ViS2l0OiB3dC53ZWJraXQsCiAgICBpc0lFOiB3dC5pZSwKICAgIGlzR2Vja286IHd0LmdlY2tvLAogICAgaXNNYWM6IHd0Lm1hYwogIH0sCiAgICAgIERrID0ga3QuZXh0ZW5kKHJrLCBUayk7CiAgUmsgPSBEaywgd2luZG93LnRpbnltY2UgPSBSaywgd2luZG93LnRpbnlNQ0UgPSBSaywgZnVuY3Rpb24gKGUpIHsKICAgIGlmICgib2JqZWN0IiA9PSAodHlwZW9mIG1vZHVsZSA9PT0gInVuZGVmaW5lZCIgPyAidW5kZWZpbmVkIiA6IF90eXBlb2YobW9kdWxlKSkpIHRyeSB7CiAgICAgIG1vZHVsZS5leHBvcnRzID0gZTsKICAgIH0gY2F0Y2ggKHQpIHt9CiAgfShEayk7Cn0oKTs="},{"version":3,"sources":["C:/Users/wakk/GolandProjects/GinBlog/web/admin/src/components/editor/tinymce.min.js"],"names":["r","e","undefined","t","Array","prototype","isPrototypeOf","constructor","name","String","eq","s","i","o","length","n","c","slice","call","sort","u","Object","keys","a","l","indexOf","V","arguments","apply","E","N","concat","f","d","m","Error","b","C","k","p","g","isNone","fold","is","isSome","getOr","getOrThunk","getOrDie","getOrNull","getOrUndefined","or","orThunk","map","each","bind","exists","forall","filter","equals","equals_","toArray","toString","h","U","some","none","from","v","y","w","q","_","S","x","A","R","$","D","T","O","B","P","L","push","I","M","F","z","W","j","H","K","X","Y","G","J","Q","Z","reverse","ee","te","ne","re","oe","ie","ae","hasOwnProperty","ue","se","ce","le","fe","de","me","pe","ge","he","ve","ye","isArray","be","Ce","we","xe","Se","Ne","Ee","ke","assign","_e","Ae","Re","Te","De","Oe","Be","Pe","Le","test","major","minor","Number","replace","Me","Ie","Fe","nu","detect","toLowerCase","unknown","Ue","search","ze","versionRegexes","current","version","je","He","Ve","substr","qe","$e","We","Ke","Xe","Ye","Ge","Je","Qe","browsers","oses","Ze","et","isEdge","isChrome","isIE","isOpera","isFirefox","isSafari","tt","edge","chrome","opera","firefox","safari","nt","rt","ot","it","at","ut","isWindows","isiOS","isAndroid","isOSX","isLinux","isSolaris","isFreeBSD","isChromeOS","st","windows","ios","android","linux","osx","solaris","freebsd","chromeos","ct","browser","os","deviceType","isiPad","isiPhone","isTablet","isPhone","isTouch","isWebView","isDesktop","lt","window","matchMedia","matches","ft","navigator","userAgent","dt","mt","pt","gt","ht","vt","yt","bt","URL","createObjectURL","Ct","wt","webkit","gecko","mac","iOS","contentEditable","transparentSrc","caretAfter","range","getSelection","documentMode","document","fileApi","ceFalse","cacheSuffix","container","experimentalShadowDom","canHaveCSP","desktop","windowsPhone","xt","St","Nt","Et","kt","trim","makeMap","split","grep","inArray","hasOwn","extend","create","exec","match","createNS","onCreate","resolve","parent","walk","explode","_addCacheSuffix","_t","dom","At","fromHtml","createElement","innerHTML","hasChildNodes","childNodes","console","error","fromTag","fromText","createTextNode","fromDom","fromPoint","elementFromPoint","Rt","Tt","nodeType","msMatchesSelector","webkitMatchesSelector","mozMatchesSelector","Dt","childElementCount","Ot","Bt","Node","DOCUMENT_POSITION_CONTAINED_BY","compareDocumentPosition","Pt","contains","Lt","Function","nodeName","It","Mt","Ft","Ut","zt","jt","Ht","ownerDocument","Vt","qt","defaultView","$t","parentNode","Wt","previousSibling","Kt","nextSibling","Xt","Yt","Gt","Jt","Qt","Zt","en","tn","Element","attachShadow","getRootNode","nn","rn","on","head","an","host","un","shadowRoot","sn","insertBefore","cn","fn","ln","appendChild","dn","mn","textContent","pn","removeChild","gn","hn","body","vn","left","top","translate","yn","bn","Cn","offsetLeft","offsetTop","getBoundingClientRect","wn","scrollLeft","documentElement","scrollTop","xn","scrollTo","Sn","scrollIntoViewIfNeeded","scrollIntoView","Nn","width","height","right","bottom","En","visualViewport","clientWidth","clientHeight","Math","max","pageLeft","pageTop","kn","_n","getPrototypeOf","An","Rn","Tn","getComputedStyle","getPropertyValue","Dn","hasAttribute","On","Bn","tagName","Pn","getAttribute","Ln","In","Mn","Fn","Un","zn","jn","Hn","Vn","qn","$n","Wn","style","Kn","setAttribute","Xn","Yn","Gn","Jn","Qn","removeAttribute","Zn","setProperty","er","tr","nr","rr","item","ir","ar","children","ur","clientLeft","clientTop","offsetParent","offsetHeight","sr","cr","exports","amd","global","self","EphoxContactWrapper","code","setTimeout","clearTimeout","run","fun","array","nextTick","title","env","argv","versions","addListener","once","off","removeListener","removeAllListeners","emit","prependListener","prependOnceListener","listeners","binding","cwd","chdir","umask","TypeError","_state","_handled","_value","_deferreds","_immediateFn","onFulfilled","onRejected","promise","then","_unhandledRejectionFn","all","reject","race","warn","_setImmediateFn","_setUnhandledRejectionFn","Promise","setImmediate","timers","_id","_clearFn","setInterval","clearInterval","close","unref","ref","enroll","_idleTimeoutId","_idleTimeout","unenroll","_unrefActive","active","_onTimeout","clearImmediate","boltExport","lr","fr","get","isReady","dr","pure","mr","pr","toPromise","anonBind","toLazy","toCached","gr","hr","vr","isValue","isError","mapError","toOptional","yr","br","value","fromOption","Cr","join","log","constructors","params","wr","bothErrors","firstError","secondError","bothValues","xr","Sr","Nr","Er","kr","_r","Ar","Rr","Tr","Dr","querySelector","Or","Br","zr","Pr","Ir","Mr","immediateFn","Lr","Ur","Fr","jr","Hr","Vr","stop","qr","requestAnimationFrame","setEditorTimeout","removed","setEditorInterval","debounce","throttle","$r","maxLoadTime","id","passed","failed","count","status","onload","onerror","styleSheets","ownerNode","Date","now","rel","type","contentCssCors","referrerPolicy","load","loadAll","pass","fail","unload","unloadAll","_setReferrerPolicy","Wr","Kr","WeakMap","forElement","set","Xr","Yr","node","next","findSibling","prev","prev2","findPreviousNode","rootNode","Gr","Jr","Qr","Zr","eo","to","no","ro","oo","io","ao","uo","so","co","lo","fo","mo","po","go","ho","vo","yo","data","bo","Co","firstChild","lastChild","wo","charAt","offset","isAtStart","xo","isAtEnd","So","No","Eo","ko","getElementsByTagName","_o","Ao","Ro","To","Do","Oo","Bo","Po","Lo","Io","Mo","Fo","Uo","zo","jo","Ho","Vo","qo","$o","Wo","Ko","Xo","Yo","remove","Go","Jo","Qo","Zo","ei","ti","ni","ri","oi","fromCharCode","parseInt","ii","ai","ui","charCodeAt","si","ci","encodeRaw","encodeAllRaw","encodeNumeric","encodeNamed","getEncodeFunc","named","numeric","decode","innerText","li","fi","di","mi","pi","gi","hi","vi","yi","attributes","attributesOrder","caption","table","script","bi","toUpperCase","Ci","schema","verify_html","valid_elements","valid_styles","invalid_styles","valid_classes","special","RegExp","paddEmpty","removeEmpty","removeEmptyAttrs","attributesRequired","required","splice","attributesDefault","defaultValue","attributesForced","forcedValue","validValues","attributePatterns","pattern","outputName","text_block_elements","block_elements","custom_elements","valid_children","extended_valid_elements","dd","td","th","tbody","thead","tfoot","legend","area","param","parentsRequired","invalid_elements","elements","getValidStyles","getValidClasses","getBlockElements","getInvalidStyles","getShortEndedElements","getTextBlockElements","getTextInlineElements","getBoolAttrs","getElementRule","getSelfClosingElements","getNonEmptyElements","getMoveCaretBeforeOnEnterElements","getWhiteSpaceElements","getSpecialElements","isValidChild","isValid","getCustomElements","addValidElements","setValidElements","addCustomElements","addValidChildren","wi","xi","toHex","parse","url_converter","url_converter_scope","allow_script_urls","allow_svg_data_urls","lastIndex","index","border","serialize","Si","Ni","keyLocation","layerX","layerY","returnValue","webkitMovementX","webkitMovementY","keyIdentifier","mozPressure","Ei","ki","_i","addEventListener","attachEvent","Ai","removeEventListener","detachEvent","Ri","target","srcElement","composedPath","pageX","clientX","pageY","clientY","preventDefault","isDefaultPrevented","stopPropagation","isPropagationStopped","cancelBubble","stopImmediatePropagation","isImmediatePropagationStopped","metaKey","Ti","Di","executeHandlers","event","expando","events","domLoaded","readyState","hasMouseEnterLeave","mouseEnterLeave","currentTarget","relatedTarget","hasFocusIn","func","scope","fakeName","capture","nativeHandler","unbind","fire","parentWindow","clean","destroy","cancel","Event","Oi","Bi","Pi","Li","Ii","Mi","Fi","Ui","zi","ji","Hi","Vi","qi","$i","Wi","Ki","Xi","Yi","Gi","Ji","Qi","Zi","Da","ea","ta","na","ra","oa","ia","aa","pop","ua","sa","ca","la","fa","da","ma","pa","ga","ha","va","ya","ba","Ca","wa","ID","CLASS","TAG","ATTR","PSEUDO","CHILD","bool","needsContext","xa","Sa","Na","Ea","ka","_a","Aa","Ra","Ok","Ta","getElementById","getElementsByClassName","qsa","Ma","La","querySelectorAll","cacheLength","shift","Oa","Ba","sourceIndex","Pa","Ia","Fa","dir","first","Ua","za","ja","support","isXML","setDocument","getById","find","disconnectedMatch","sortDetached","unshift","matchesSelector","attr","attrHandle","getAttributeNode","specified","uniqueSort","detectDuplicates","sortStable","getText","nodeValue","selectors","createPseudo","relative","preFilter","className","pseudos","setFilters","not","has","lang","location","hash","root","focus","activeElement","hasFocus","href","tabIndex","enabled","disabled","checked","selected","selectedIndex","empty","header","input","button","text","last","even","odd","nth","filters","tokenize","compile","random","selector","select","Ha","Va","qa","$a","Wa","Ka","Xa","Ya","Ga","createDocumentFragment","Ja","fu","hu","makeArray","Qa","Za","cloneNode","eu","tu","readonly","ru","ou","iu","au","init","uu","su","cu","lu","context","add","unique","prop","removeAttr","css","removeProperty","currentStyle","html","append","prepend","before","after","appendTo","prependTo","replaceWith","wrap","wrapAll","wrapInner","contents","unwrap","clone","addClass","toggleClass","removeClass","hasClass","trigger","show","hide","closest","expr","du","mu","pu","parents","contentDocument","contentWindow","parentsUntil","nextUntil","prevUntil","overrideDefaults","element","attrHooks","cssHooks","gu","vu","yu","bu","Cu","wu","keep_values","src","xu","Su","Nu","ownEvents","getRoot","onSetAttrib","attrElm","attrName","attrValue","root_element","offsetWidth","canHaveHTML","replaceChild","createRange","collect","doc","settings","win","files","stdMode","boxModel","styleSheetLoader","boundEvents","styles","isBlock","$$","getViewPort","getRect","getSize","getParent","getParents","getNext","getPrev","createHTML","createFragment","setStyle","update_styles","getStyle","setStyles","removeAllAttribs","removeAttributeNode","setAttrib","setAttribs","getAttrib","getPos","parseStyle","serializeStyle","addStyle","DOM","styleSheet","cssText","loadCSS","isHidden","uniqueId","setHTML","getOuterHTML","outerHTML","setOuterHTML","encode","insertAfter","rename","findCommonAncestor","getAttribs","isEmpty","createRng","nodeIndex","setStart","setEnd","extractContents","getContentEditable","getContentEditableParent","isChildOf","dumpRng","startContainer","startOffset","endContainer","endOffset","Eu","ku","_u","Au","Ru","Tu","loadScript","isDone","states","markDone","queue","scriptLoadedCallbacks","success","failure","loadQueue","loadScripts","queueLoadedCallbacks","loading","ScriptLoader","Du","Ou","Bu","Pu","Lu","Iu","getData","setCode","getCode","raw","isRtl","hasCode","Mu","state","callback","dependencies","prefix","resource","suffix","baseURL","substring","lastIndexOf","items","urls","lookup","_listeners","instance","requireLangPack","languageLoad","createUrl","addComponents","waitFor","PluginManager","ThemeManager","Fu","Uu","zu","ju","Hu","Vu","classList","qu","$u","Wu","Ku","Xu","Yu","Gu","Ju","Qu","Zu","es","selection","getRng","getBody","ts","uid","ns","previous","nodes","rs","serializer","addNodeFilter","persistent","getTime","floor","as","us","ss","cs","ls","fs","backwards","forwards","ds","ms","round","ps","gs","hs","min","vs","ys","bs","Cs","ws","xs","Ss","Ns","Es","ks","_s","As","Rs","Ts","Ds","Os","Bs","Ps","Ls","Is","Ms","Fs","Us","getClientRects","cloneRange","setEndAfter","zs","js","Hs","toRange","isVisible","isEqual","getNode","fromRangeStart","fromRangeEnd","isAbove","isBelow","isTextPosition","isElementPosition","Vs","qs","$s","Ws","Ks","insertNode","Xs","Ys","Gs","Js","Qs","Zs","ec","tc","nc","rc","oc","ic","ac","uc","sc","cc","start","isCollapsed","end","lc","fc","collapse","moveToBookmark","keep","dc","rng","mc","pc","gc","getParam","hc","vc","yc","bc","Cc","wc","xc","Sc","Nc","Ec","kc","_c","Ac","Rc","Tc","Dc","Oc","Bc","deleteData","Pc","Fc","Lc","Ic","Mc","Uc","zc","jc","Hc","Vc","qc","caret","splitText","Wc","getCss","reposition","$c","Kc","Xc","Yc","Gc","Jc","Qc","Zc","el","tl","nl","rl","ol","il","al","setStartBefore","setEndBefore","setStartAfter","ul","sl","cl","ll","collapsed","fl","dl","ml","pl","gl","Backwards","Forwards","hl","vl","yl","bl","Cl","wl","xl","Sl","Nl","El","kl","_l","Al","Rl","Tl","Dl","Ol","Bl","Pl","Ll","Il","Ml","Fl","Ul","zl","jl","Hl","Vl","ql","$l","Wl","Kl","appendData","Xl","selectNode","Yl","Gl","setRng","Jl","Ql","Zl","ef","tf","nf","uf","rf","of","af","sf","cf","lf","ff","df","mf","pf","formatter","gf","hf","vf","yf","bf","Cf","wf","xf","Sf","Nf","Ef","kf","_f","Af","wrapper","block","Rf","Tf","block_expand","Df","Of","inline","expand","Bf","Pf","Lf","rangeCount","getRangeAt","If","Mf","Ff","getSel","Uf","zf","jf","Hf","Vf","qf","$f","Wf","Kf","Xf","Yf","getOption","Gf","Jf","Qf","getOwnPropertySymbols","propertyIsEnumerable","classes","Zf","getDoc","ed","undoManager","transact","decorate","register","annotate","annotationChanged","getAll","nd","getBookmark","isBookmarkNode","rd","od","ad","ud","BACKSPACE","DELETE","DOWN","ENTER","LEFT","RIGHT","SPACEBAR","TAB","UP","END","HOME","modifierPressed","shiftKey","ctrlKey","altKey","metaKeyPressed","sd","cd","abs","nw","sw","touches","screenX","screenY","startPos","display","scrollWidth","scrollHeight","origin","nodeChanged","unselectable","unSelectabe","margin","elm","getStart","getEnd","execCommand","composing","isResizable","showResizeRect","hideResizeRect","updateResizeRect","ld","fd","caretPositionFromPoint","offsetNode","caretRangeFromPoint","createTextRange","moveToPoint","moveToElementText","parentElement","md","pd","gd","hd","vd","yd","bd","Cd","wd","normalize","compareRanges","getCaretRangeFromPoint","getSelectedNode","xd","Sd","Nd","Ed","kd","_d","Ad","parseFloat","getOuter","aggregate","isNaN","Rd","view","owner","Td","freeze","__proto__","frameElement","Dd","Od","Bd","pageYOffset","pageXOffset","pos","cleanup","Pd","Ld","Ud","Md","Id","alignToTop","Fd","zd","jd","Hd","innerHeight","Vd","qd","$d","Wd","Kd","Xd","Yd","Gd","Jd","soffset","finish","foffset","Qd","Zd","em","domRange","exact","tm","exactFromRange","getWin","nm","rm","om","im","am","um","sm","cm","lm","fm","bookmark","dm","mm","isEditorUIElement","pm","selectionChange","gm","hm","vm","ym","editor","focusedEditor","setActive","blurredEditor","getElement","activeEditor","composed","bm","Cm","wm","xm","Sm","Nm","Em","iframeElement","km","quirks","refreshContentEditable","_m","editorManager","Am","Rm","Tm","Dm","Om","Bm","Pm","Lm","Im","inherit","Mm","zm","Fm","Um","onmatch","jm","Hm","Vm","matchNode","qm","$m","Wm","Km","Xm","insert","shortEnded","Ym","Gm","indent","indent_before","indent_after","entity_encoding","entities","element_format","cdata","comment","doctype","reset","getContent","Jm","validate","inner","Qm","uris","Zm","ep","allow_html_data_urls","tp","np","fix_self_closing","valid","allow_conditional_comments","decodeURIComponent","unescape","self_closing_elements","remove_internals","preserve_cdata","findEndTag","rp","op","ip","ap","getTempAttrs","up","sp","format","getInner","no_events","content","cp","lp","compare","fp","dp","mp","pp","gp","hp","vp","yp","bp","Cp","wp","xp","Sp","Np","Ep","kp","_p","Ap","Rp","Tp","Dp","Op","Bp","Pp","Lp","Ip","Mp","Fp","Up","zp","jp","Hp","Vp","qp","$p","Wp","Kp","Xp","Yp","Gp","Jp","Qp","Zp","eg","tg","ng","rg","og","ig","ag","replaceData","previousCharIsSpace","str","ug","sg","cg","insertData","lg","fg","dg","mg","pg","gg","hg","vg","yg","bg","Cg","setContent","setCursorLocation","wg","xg","removeTable","emptyCells","deleteCellSelection","Sg","Ng","Eg","kg","_g","Ag","Rg","Tg","cells","Dg","Og","rows","Bg","Pg","Lg","Ig","Mg","deleteContents","Fg","Ug","jg","Hg","zg","Vg","qg","$g","Wg","Kg","Xg","commonAncestorContainer","Yg","Gg","Jg","Qg","Zg","eh","nh","rh","cloneContents","oh","ih","ah","parser","merge","paste","_selectionOverrides","showBlockCaretContainer","invalid","addVisual","uh","sh","callbacks","ch","lh","fh","getNodeFilters","getAttributeFilters","isRootContent","dh","mh","ph","gh","hh","vh","yh","bh","Ch","wh","xh","Sh","keyCode","Nh","Eh","kh","_h","getSelectedBlocks","Ah","Rh","Th","Dh","Oh","merge_siblings","Bh","Ph","Lh","Ih","Mh","Fh","Uh","zh","jh","Hh","Vh","qh","$h","Wh","links","preserve_attributes","remove_similar","list_block","forced_root_block_attrs","Kh","Xh","mixed","Yh","deep","textDecoration","ceFalseOverride","Gh","Jh","clear_child_styles","Qh","Zh","ev","onformat","figcaption","details","summary","merge_with_parents","backgroundColor","color","importNode","forced_root_block","defaultBlock","tv","similar","nv","rv","ov","iv","av","uv","sv","cv","lv","fv","dv","mv","pv","gv","hv","vv","yv","bv","Cv","wv","xv","Sv","contextual","Nv","Ev","kv","_v","diag","Av","Rv","fragments","beforeBookmark","Tv","Dv","Ov","implementation","createHTMLDocument","Bv","Pv","Lv","typing","Iv","Mv","Fv","Uv","zv","beforeChange","addUndoLevel","level","lastLevel","originalEvent","setDirty","undo","redo","clear","hasUndo","hasRedo","ignore","extra","matchAll","canApply","toggle","formatChanged","insertContent","hasVisual","getModel","jv","matchFormat","canApplyFormat","closestFormat","applyFormat","removeFormat","toggleFormat","getSelectedContent","getRawModel","Hv","plugins","Vv","rtcInstance","qv","$v","Wv","Kv","Xv","createContextualFragment","Yv","Gv","Jv","Qv","compareBoundaryPoints","anchorNode","START_TO_START","END_TO_END","forward","removeAllRanges","addRange","setBaseAndExtent","focusNode","anchorOffset","focusOffset","bookmarkManager","controlSelection","compareEndPoints","isForward","setNode","selectorChanged","selectorChangedWithUnbind","getScrollContainer","placeCaretAt","Zv","ey","convert_fonts_to_spans","font_size_legacy_values","ty","ny","atob","Uint8Array","Blob","ry","XMLHttpRequest","open","responseType","response","send","oy","iy","ay","getByData","image","blobInfo","getByUri","FileReader","onloadend","result","readAsDataURL","uy","findAll","isUploaded","sy","cy","ly","padd_empty_with_br","fy","dy","my","blob_cache","images_dataimg_filter","Image","blobUri","addAttributeFilter","py","remove_trailing_brs","allow_unsafe_link_target","allow_html_in_named_anchor","fix_list_elements","gy","hy","vy","yy","by","root_name","filterNode","fixed","inline_styles","Cy","hasEventListeners","wy","xy","Sy","addRules","setRules","addTempAttr","Ny","Ey","ky","_y","Ay","Ry","editorUpload","save","is_removing","unbindAllNativeEvents","hasHiddenInput","orgDisplay","getContainer","Ty","destroyed","_beforeUnload","theme","formElement","_mceOldSubmit","submit","formEventDelegate","contentAreaContainer","editorContainer","bodyElement","targetElm","Dy","Oy","By","Py","Ly","Iy","My","Fy","table_grid","object_resizing","resize","Uy","zy","sections","jy","Hy","Vy","qy","forced_plugins","$y","mobile","toolbar_mode","toolbar_sticky","menubar","external_plugins","Wy","document_base_url","add_form_submit_trigger","submit_patch","add_unload_trigger","convert_urls","relative_urls","remove_script_host","visual","hidden_input","convertURL","Ky","Xy","Yy","icons","Gy","Jy","Qy","Zy","eb","tb","nb","rb","getContentAreaContainer","ob","getNotificationManagerImpl","getArgs","notification","progressBar","timeout","getEl","getNotifications","ib","ab","ub","getWindowManagerImpl","openUrl","alert","confirm","getParams","setParams","dialog","sb","notificationManager","cb","_skinLoaded","lb","message","fb","db","mb","pb","documentBaseURI","toAbsolute","gb","url","withCredentials","credentials","upload","onprogress","loaded","total","JSON","responseText","basePath","FormData","blob","filename","options","isPending","handler","markPending","markUploaded","removeFailed","hb","vb","yb","base64","uri","findFirst","removeByUri","revokeObjectURL","resultUri","hasBlobUri","getResultUri","fireIfChanged","uploadUri","blobCache","source_view","addFilter","uploadImages","uploadImagesAuto","scanForImages","bb","valigntop","verticalAlign","valignmiddle","valignbottom","alignleft","preview","textAlign","aligncenter","marginLeft","marginRight","alignright","alignjustify","bold","fontWeight","italic","fontStyle","underline","strikethrough","forecolor","hilitecolor","fontname","fontFamily","fontsize","fontSize","lineheight","lineHeight","fontsize_class","blockquote","subscript","superscript","link","removeformat","unregister","Cb","wb","xb","Sb","Nb","attrs","siblings","Eb","kb","position","_b","addShortcut","getCssText","Ab","command","isDirty","inputType","Rb","Tb","Db","Ob","Bb","Pb","firstElementChild","Lb","Ib","Mb","Fb","Ub","zb","jb","Hb","Vb","qb","$b","Wb","Kb","Xb","Yb","Gb","Jb","Qb","Zb","eC","tC","nC","rC","oC","iC","aC","uC","sC","showCaret","cC","lC","fC","dC","mC","pC","gC","hC","moveToElement","moveToPosition","vC","yC","bC","CC","wC","hideFakeCaret","xC","SC","NC","EC","kC","_C","AC","RC","TC","DC","OC","BC","PC","LC","IC","MC","FC","UC","zC","jC","HC","VC","qC","$C","KC","WC","XC","YC","GC","JC","QC","ZC","ew","tw","modify","rw","ow","iw","aw","uw","cw","initial","lw","fw","dw","mw","pw","gw","hw","vw","yw","bw","Cw","ww","xw","Sw","Nw","kw","mode","isReadOnly","Ew","_w","queryCommandState","Aw","Rw","Tw","addCommand","Dw","Ow","isEqualNode","Bw","Pw","Lw","Iw","Block","Wrap","Eol","Mw","Fw","Uw","zw","positions","breakType","breakAt","jw","Hw","Vw","qw","$w","Ww","Kw","Xw","Yw","Down","Gw","line","Jw","Qw","Zw","ex","tx","nx","rx","ox","ix","ax","ux","sx","cx","lx","fx","dx","mx","px","gx","hx","vx","yx","bx","Cx","wx","xx","Sx","Nx","Ex","kx","_x","Ax","Rx","Tx","action","Dx","Ox","Bx","Px","Lx","Ix","cell","Mx","sqrt","Fx","Ux","zx","jx","Hx","Vx","qx","$x","Wx","Kx","Xx","Yx","Gx","Jx","Qx","Zx","eS","tS","nS","rS","oS","iS","aS","uS","sS","cS","lS","fS","dS","mS","newBlock","pS","gS","hS","vS","yS","bS","CS","wS","xS","SS","NS","ES","kS","_S","AS","RS","TS","DS","OS","BS","PS","LS","IS","MS","FS","US","zS","jS","isComposing","HS","VS","qS","$S","WS","KS","XS","YS","GS","initialized","isSameElementPath","lastPath","JS","QS","ZS","detail","eN","tN","nN","rN","oN","iN","dragging","maxX","maxY","relX","relY","ghost","contenteditable","opacity","overflow","padding","boxSizing","aN","uN","sN","cN","isSet","lN","defaultPrevented","dataTransfer","types","fN","dN","mN","pN","direction","targetClone","clipboardData","clearData","setData","outerText","gN","shortcuts","contentStyles","escape","queryCommandSupported","internal","Range","blur","setAttributeNode","hN","vN","yN","bN","CN","bindPendingEventDelegates","execCallback","auto_focus","wN","browser_spellcheck","gecko_spellcheck","spellcheck","protect","startContent","contentCSS","content_style","xN","visibility","orgVisibility","write","iframeHTML","hex_colors","force_hex_style_colors","boolean_attributes","move_caret_before_on_enter_elements","non_empty_elements","short_ended_elements","text_inline_elements","whitespace_elements","annotator","_nodeChangeDispatcher","setup","isRemote","setProgressState","SN","NN","documentBaseUrl","getURI","EN","frameBorder","allowTransparency","domain","hostname","iframeContainer","kN","_N","AN","RN","api","TN","DN","renderUI","iframeHeight","ON","registry","addIcon","disable","isDisabled","enable","hidden","BN","PN","LN","IN","MN","FN","UN","render","form","resetContent","triggerSave","windowManager","set_dirty","zN","jN","HN","VN","qN","$N","WN","KN","XN","YN","GN","JN","QN","ZN","eE","tE","skip_focus","commands","queryCommandValue","addCommands","addQueryStateHandler","addQueryValueHandler","hasCustomCommand","execNativeCommand","isFormatMatch","storeSelection","selectionBookmark","restoreSelection","setupCommands","queryCommandEnabled","unlink","FontName","FontSize","LineHeight","RemoveFormat","mceBlockQuote","FormatBlock","mceCleanup","mceRemoveNode","mceSelectNodeDepth","mceSelectNode","mceInsertContent","mceInsertRawHTML","mceInsertNewLine","mceToggleFormat","mceSetContent","mceRepaint","InsertHorizontalRule","mceToggleVisualAid","mceReplaceContent","mceInsertLink","selectAll","selectNodeContents","mceNewDocument","InsertLineBreak","JustifyLeft","JustifyCenter","JustifyRight","JustifyFull","Outdent","Undo","Redo","nE","rE","oE","iE","aE","uE","sE","cE","lE","fE","dE","isNative","beforeFire","bindings","toggleEvent","mE","pE","_eventDispatcher","toggleNativeEvent","gE","hE","vE","eventRoot","yE","bE","delegates","CE","_pendingNativeEvents","wE","xE","activate","deactivate","editorReadOnly","SE","design","NE","EE","kE","f1","f2","f3","f4","f5","f6","f7","f8","f9","f10","f11","f12","_E","AE","RE","normalizeCommandFunc","createShortcut","parseShortcut","charCode","access","alt","ctrl","meta","desc","subpatterns","hasModifier","isFunctionKey","matchShortcut","executeShortcutAction","pendingPatterns","TE","addButton","addGroupToolbarButton","addToggleButton","addMenuButton","addSplitButton","addMenuItem","addNestedMenuItem","addToggleMenuItem","addAutocompleter","addContextMenu","addContextToolbar","addContextForm","addSidebar","buttons","menuItems","popups","contextMenus","contextToolbars","sidebars","DE","OE","BE","PE","ftp","http","https","mailto","LE","IE","parseDataUri","getDocumentBaseUrl","protocol","pathname","setPath","path","directory","file","source","toRelative","base_uri","port","toRelPath","query","anchor","isSameOrigin","toAbsPath","userInfo","ME","FE","UE","zE","jE","HE","VE","callbackLookup","hasPlugin","editorCommands","time","isNotDirty","urlconverter_callback","_scanForImages","loadedCSS","documentBaseURL","defaultSettings","base_url","_setBaseUrl","baseUri","baseURI","referrer_policy","language_load","cache_suffix","setMode","qE","$E","WE","KE","XE","YE","GE","JE","QE","ZE","rk","ek","tk","nk","compatMode","majorVersion","minorVersion","releaseDate","editors","i18n","tinymce","tinyMCEPreInit","base","currentScript","plugin_base_urls","forms","editor_deselector","editor_selector","createEditor","addI18n","ok","ik","ak","uk","sk","ck","lk","fk","dk","mk","inflate","relativePosition","findBestRelativePosition","intersect","clamp","fromClientRect","pk","gk","hk","vk","Mixins","Methods","Properties","Statics","Defaults","_super","yk","bk","Ck","wk","stringify","xk","Sk","async","success_scope","error_scope","overrideMimeType","content_type","crossDomain","setRequestHeader","requestheaders","key","xhr","Nk","Ek","kk","sendRPC","method","_k","Ak","localStorage","setItem","removeItem","getItem","defineProperty","configurable","enumerable","Rk","Tk","geom","Rect","util","Delay","Tools","VK","URI","Class","EventDispatcher","Observable","I18n","XHR","JSONRequest","JSONP","LocalStorage","Color","toRgb","toHsv","EventUtils","Sizzle","DomQuery","TreeWalker","TextSeeker","DOMUtils","RangeUtils","Serializer","StyleSheetLoader","ControlSelection","BookmarkManager","Selection","Styles","Entities","Schema","SaxParser","DomParser","Writer","Env","AddOnManager","Annotator","Formatter","UndoManager","EditorCommands","WindowManager","NotificationManager","EditorObservable","Shortcuts","Editor","FocusManager","EditorManager","IconManager","Resource","isWebKit","isGecko","isMac","Dk","tinyMCE","module"],"mappings":"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","sourcesContent":["/**\n * Copyright (c) Tiny Technologies, Inc. All rights reserved.\n * Licensed under the LGPL or a commercial license.\n * For LGPL see License.txt in the project root for license information.\n * For commercial licenses see https://www.tiny.cloud/\n *\n * Version: 5.6.2 (2020-12-08)\n */\n!function(){\"use strict\";var r=function(e){if(null===e)return\"null\";if(e===undefined)return\"undefined\";var t=typeof e;return\"object\"==t&&(Array.prototype.isPrototypeOf(e)||e.constructor&&\"Array\"===e.constructor.name)?\"array\":\"object\"==t&&(String.prototype.isPrototypeOf(e)||e.constructor&&\"String\"===e.constructor.name)?\"string\":t},t=function(e){return{eq:e}},s=t(function(e,t){return e===t}),i=function(o){return t(function(e,t){if(e.length!==t.length)return!1;for(var n=e.length,r=0;r<n;r++)if(!o.eq(e[r],t[r]))return!1;return!0})},c=function(e,r){return n=i(e),o=function(e){return t=e,n=r,Array.prototype.slice.call(t).sort(n);var t,n},t(function(e,t){return n.eq(o(e),o(t))});var n,o},u=function(u){return t(function(e,t){var n=Object.keys(e),r=Object.keys(t);if(!c(s).eq(n,r))return!1;for(var o=n.length,i=0;i<o;i++){var a=n[i];if(!u.eq(e[a],t[a]))return!1}return!0})},l=t(function(e,t){if(e===t)return!0;var n=r(e);return n===r(t)&&(-1!==[\"undefined\",\"boolean\",\"number\",\"string\",\"function\",\"xml\",\"null\"].indexOf(n)?e===t:\"array\"===n?i(l).eq(e,t):\"object\"===n&&u(l).eq(e,t))}),V=function(){},a=function(n,r){return function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return n(r.apply(null,e))}},E=function(e){return function(){return e}},o=function(e){return e};function N(r){for(var o=[],e=1;e<arguments.length;e++)o[e-1]=arguments[e];return function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=o.concat(e);return r.apply(null,n)}}var e,n,f,d=function(t){return function(e){return!t(e)}},m=function(e){return function(){throw new Error(e)}},b=function(e){e()},C=E(!1),k=E(!0),p=function(){return g},g=(e=function(e){return e.isNone()},{fold:function(e,t){return e()},is:C,isSome:C,isNone:k,getOr:f=function(e){return e},getOrThunk:n=function(e){return e()},getOrDie:function(e){throw new Error(e||\"error: getOrDie called on none.\")},getOrNull:E(null),getOrUndefined:E(undefined),or:f,orThunk:n,map:p,each:V,bind:p,exists:C,forall:k,filter:p,equals:e,equals_:e,toArray:function(){return[]},toString:E(\"none()\")}),h=function(n){var e=E(n),t=function(){return o},r=function(e){return e(n)},o={fold:function(e,t){return t(n)},is:function(e){return n===e},isSome:k,isNone:C,getOr:e,getOrThunk:e,getOrDie:e,getOrNull:e,getOrUndefined:e,or:t,orThunk:t,map:function(e){return h(e(n))},each:function(e){e(n)},bind:r,exists:r,forall:r,filter:function(e){return e(n)?o:g},toArray:function(){return[n]},toString:function(){return\"some(\"+n+\")\"},equals:function(e){return e.is(n)},equals_:function(e,t){return e.fold(C,function(e){return t(n,e)})}};return o},U={some:h,none:p,from:function(e){return null===e||e===undefined?g:h(e)}},v=function(r){return function(e){return n=typeof(t=e),(null===t?\"null\":\"object\"==n&&(Array.prototype.isPrototypeOf(t)||t.constructor&&\"Array\"===t.constructor.name)?\"array\":\"object\"==n&&(String.prototype.isPrototypeOf(t)||t.constructor&&\"String\"===t.constructor.name)?\"string\":n)===r;var t,n}},y=function(t){return function(e){return typeof e===t}},w=function(t){return function(e){return t===e}},q=v(\"string\"),_=v(\"object\"),S=v(\"array\"),x=w(null),A=y(\"boolean\"),R=w(undefined),$=function(e){return null===e||e===undefined},D=function(e){return!$(e)},T=y(\"function\"),O=y(\"number\"),B=Array.prototype.slice,P=Array.prototype.indexOf,L=Array.prototype.push,I=function(e,t){return P.call(e,t)},M=function(e,t){return-1<I(e,t)},F=function(e,t){for(var n=0,r=e.length;n<r;n++){if(t(e[n],n))return!0}return!1},z=function(e,t){for(var n=e.length,r=new Array(n),o=0;o<n;o++){var i=e[o];r[o]=t(i,o)}return r},W=function(e,t){for(var n=0,r=e.length;n<r;n++){t(e[n],n)}},j=function(e,t){for(var n=e.length-1;0<=n;n--){t(e[n],n)}},H=function(e,t){for(var n=[],r=0,o=e.length;r<o;r++){var i=e[r];t(i,r)&&n.push(i)}return n},K=function(e,t,n){return j(e,function(e){n=t(n,e)}),n},X=function(e,t,n){return W(e,function(e){n=t(n,e)}),n},Y=function(e,t){return function(e,t,n){for(var r=0,o=e.length;r<o;r++){var i=e[r];if(t(i,r))return U.some(i);if(n(i,r))break}return U.none()}(e,t,C)},G=function(e,t){for(var n=0,r=e.length;n<r;n++){if(t(e[n],n))return U.some(n)}return U.none()},J=function(e,t){return function(e){for(var t=[],n=0,r=e.length;n<r;++n){if(!S(e[n]))throw new Error(\"Arr.flatten item \"+n+\" was not an array, input: \"+e);L.apply(t,e[n])}return t}(z(e,t))},Q=function(e,t){for(var n=0,r=e.length;n<r;++n){if(!0!==t(e[n],n))return!1}return!0},Z=function(e){var t=B.call(e,0);return t.reverse(),t},ee=function(e,t){return H(e,function(e){return!M(t,e)})},te=function(e,t){return 0<=t&&t<e.length?U.some(e[t]):U.none()},ne=function(e){return te(e,0)},re=function(e){return te(e,e.length-1)},oe=T(Array.from)?Array.from:function(e){return B.call(e)},ie=Object.keys,ae=Object.hasOwnProperty,ue=function(e,t){for(var n=ie(e),r=0,o=n.length;r<o;r++){var i=n[r];t(e[i],i)}},se=function(e,n){return ce(e,function(e,t){return{k:t,v:n(e,t)}})},ce=function(e,r){var o={};return ue(e,function(e,t){var n=r(e,t);o[n.k]=n.v}),o},le=function(n){return function(e,t){n[t]=e}},fe=function(e,n,r,o){return ue(e,function(e,t){(n(e,t)?r:o)(e,t)}),{}},de=function(e,t){var n={},r={};return fe(e,t,le(n),le(r)),{t:n,f:r}},me=function(e,t){var n={};return fe(e,t,le(n),V),n},pe=function(e){return n=function(e){return e},r=[],ue(e,function(e,t){r.push(n(e,t))}),r;var n,r},ge=function(e,t){return he(e,t)?U.from(e[t]):U.none()},he=function(e,t){return ae.call(e,t)},ve=function(e,t){return he(e,t)&&e[t]!==undefined&&null!==e[t]},ye=Array.isArray,be=function(e,t,n){var r,o;if(!e)return!1;if(n=n||e,e.length!==undefined){for(r=0,o=e.length;r<o;r++)if(!1===t.call(n,e[r],r,e))return!1}else for(r in e)if(e.hasOwnProperty(r)&&!1===t.call(n,e[r],r,e))return!1;return!0},Ce=function(n,r){var o=[];return be(n,function(e,t){o.push(r(e,t,n))}),o},we=function(n,r){var o=[];return be(n,function(e,t){r&&!r(e,t,n)||o.push(e)}),o},xe=function(e,t){if(e)for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1},Se=function(e,t,n,r){for(var o=R(n)?e[0]:n,i=0;i<e.length;i++)o=t.call(r,o,e[i],i);return o},Ne=function(e,t,n){for(var r=0,o=e.length;r<o;r++)if(t.call(n,e[r],r,e))return r;return-1},Ee=function(e){return e[e.length-1]},ke=function(){return(ke=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function _e(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;for(var r=Array(e),o=0,t=0;t<n;t++)for(var i=arguments[t],a=0,u=i.length;a<u;a++,o++)r[o]=i[a];return r}var Ae,Re,Te,De,Oe,Be,Pe,Le=function(e,t){var n=function(e,t){for(var n=0;n<e.length;n++){var r=e[n];if(r.test(t))return r}return undefined}(e,t);if(!n)return{major:0,minor:0};var r=function(e){return Number(t.replace(n,\"$\"+e))};return Me(r(1),r(2))},Ie=function(){return Me(0,0)},Me=function(e,t){return{major:e,minor:t}},Fe={nu:Me,detect:function(e,t){var n=String(t).toLowerCase();return 0===e.length?Ie():Le(e,n)},unknown:Ie},Ue=function(e,t){var n=String(t).toLowerCase();return Y(e,function(e){return e.search(n)})},ze=function(e,n){return Ue(e,n).map(function(e){var t=Fe.detect(e.versionRegexes,n);return{current:e.name,version:t}})},je=function(e,n){return Ue(e,n).map(function(e){var t=Fe.detect(e.versionRegexes,n);return{current:e.name,version:t}})},He=function(e,t){return-1!==e.indexOf(t)},Ve=function(e,t){return n=e,o=0,\"\"===(r=t)||n.length>=r.length&&n.substr(o,o+r.length)===r;var n,r,o},qe=function(t){return function(e){return e.replace(t,\"\")}},$e=qe(/^\\s+|\\s+$/g),We=qe(/^\\s+/g),Ke=qe(/\\s+$/g),Xe=/.*?version\\/\\ ?([0-9]+)\\.([0-9]+).*/,Ye=function(t){return function(e){return He(e,t)}},Ge=[{name:\"Edge\",versionRegexes:[/.*?edge\\/ ?([0-9]+)\\.([0-9]+)$/],search:function(e){return He(e,\"edge/\")&&He(e,\"chrome\")&&He(e,\"safari\")&&He(e,\"applewebkit\")}},{name:\"Chrome\",versionRegexes:[/.*?chrome\\/([0-9]+)\\.([0-9]+).*/,Xe],search:function(e){return He(e,\"chrome\")&&!He(e,\"chromeframe\")}},{name:\"IE\",versionRegexes:[/.*?msie\\ ?([0-9]+)\\.([0-9]+).*/,/.*?rv:([0-9]+)\\.([0-9]+).*/],search:function(e){return He(e,\"msie\")||He(e,\"trident\")}},{name:\"Opera\",versionRegexes:[Xe,/.*?opera\\/([0-9]+)\\.([0-9]+).*/],search:Ye(\"opera\")},{name:\"Firefox\",versionRegexes:[/.*?firefox\\/\\ ?([0-9]+)\\.([0-9]+).*/],search:Ye(\"firefox\")},{name:\"Safari\",versionRegexes:[Xe,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:function(e){return(He(e,\"safari\")||He(e,\"mobile/\"))&&He(e,\"applewebkit\")}}],Je=[{name:\"Windows\",search:Ye(\"win\"),versionRegexes:[/.*?windows\\ nt\\ ?([0-9]+)\\.([0-9]+).*/]},{name:\"iOS\",search:function(e){return He(e,\"iphone\")||He(e,\"ipad\")},versionRegexes:[/.*?version\\/\\ ?([0-9]+)\\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:\"Android\",search:Ye(\"android\"),versionRegexes:[/.*?android\\ ?([0-9]+)\\.([0-9]+).*/]},{name:\"OSX\",search:Ye(\"mac os x\"),versionRegexes:[/.*?mac\\ os\\ x\\ ?([0-9]+)_([0-9]+).*/]},{name:\"Linux\",search:Ye(\"linux\"),versionRegexes:[]},{name:\"Solaris\",search:Ye(\"sunos\"),versionRegexes:[]},{name:\"FreeBSD\",search:Ye(\"freebsd\"),versionRegexes:[]},{name:\"ChromeOS\",search:Ye(\"cros\"),versionRegexes:[/.*?chrome\\/([0-9]+)\\.([0-9]+).*/]}],Qe={browsers:E(Ge),oses:E(Je)},Ze=\"Firefox\",et=function(e){var t=e.current,n=e.version,r=function(e){return function(){return t===e}};return{current:t,version:n,isEdge:r(\"Edge\"),isChrome:r(\"Chrome\"),isIE:r(\"IE\"),isOpera:r(\"Opera\"),isFirefox:r(Ze),isSafari:r(\"Safari\")}},tt={unknown:function(){return et({current:undefined,version:Fe.unknown()})},nu:et,edge:E(\"Edge\"),chrome:E(\"Chrome\"),ie:E(\"IE\"),opera:E(\"Opera\"),firefox:E(Ze),safari:E(\"Safari\")},nt=\"Windows\",rt=\"Android\",ot=\"Solaris\",it=\"FreeBSD\",at=\"ChromeOS\",ut=function(e){var t=e.current,n=e.version,r=function(e){return function(){return t===e}};return{current:t,version:n,isWindows:r(nt),isiOS:r(\"iOS\"),isAndroid:r(rt),isOSX:r(\"OSX\"),isLinux:r(\"Linux\"),isSolaris:r(ot),isFreeBSD:r(it),isChromeOS:r(at)}},st={unknown:function(){return ut({current:undefined,version:Fe.unknown()})},nu:ut,windows:E(nt),ios:E(\"iOS\"),android:E(rt),linux:E(\"Linux\"),osx:E(\"OSX\"),solaris:E(ot),freebsd:E(it),chromeos:E(at)},ct=function(e,t){var n,r,o,i,a,u,s,c,l,f,d,m,p=Qe.browsers(),g=Qe.oses(),h=ze(p,e).fold(tt.unknown,tt.nu),v=je(g,e).fold(st.unknown,st.nu);return{browser:h,os:v,deviceType:(r=h,o=e,i=t,a=(n=v).isiOS()&&!0===/ipad/i.test(o),u=n.isiOS()&&!a,s=n.isiOS()||n.isAndroid(),c=s||i(\"(pointer:coarse)\"),l=a||!u&&s&&i(\"(min-device-width:768px)\"),f=u||s&&!l,d=r.isSafari()&&n.isiOS()&&!1===/safari/i.test(o),m=!f&&!l&&!d,{isiPad:E(a),isiPhone:E(u),isTablet:E(l),isPhone:E(f),isTouch:E(c),isAndroid:n.isAndroid,isiOS:n.isiOS,isWebView:E(d),isDesktop:E(m)})}},lt=function(e){return window.matchMedia(e).matches},ft=(Te=!(Ae=function(){return ct(navigator.userAgent,lt)}),function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Te||(Te=!0,Re=Ae.apply(null,e)),Re}),dt=function(){return ft()},mt=navigator.userAgent,pt=dt(),gt=pt.browser,ht=pt.os,vt=pt.deviceType,yt=/WebKit/.test(mt)&&!gt.isEdge(),bt=\"FormData\"in window&&\"FileReader\"in window&&\"URL\"in window&&!!URL.createObjectURL,Ct=-1!==mt.indexOf(\"Windows Phone\"),wt={opera:gt.isOpera(),webkit:yt,ie:!(!gt.isIE()&&!gt.isEdge())&&gt.version.major,gecko:gt.isFirefox(),mac:ht.isOSX()||ht.isiOS(),iOS:vt.isiPad()||vt.isiPhone(),android:ht.isAndroid(),contentEditable:!0,transparentSrc:\"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7\",caretAfter:!0,range:window.getSelection&&\"Range\"in window,documentMode:gt.isIE()?document.documentMode||7:10,fileApi:bt,ceFalse:!0,cacheSuffix:null,container:null,experimentalShadowDom:!1,canHaveCSP:!gt.isIE(),desktop:vt.isDesktop(),windowsPhone:Ct,browser:{current:gt.current,version:gt.version,isChrome:gt.isChrome,isEdge:gt.isEdge,isFirefox:gt.isFirefox,isIE:gt.isIE,isOpera:gt.isOpera,isSafari:gt.isSafari},os:{current:ht.current,version:ht.version,isAndroid:ht.isAndroid,isChromeOS:ht.isChromeOS,isFreeBSD:ht.isFreeBSD,isiOS:ht.isiOS,isLinux:ht.isLinux,isOSX:ht.isOSX,isSolaris:ht.isSolaris,isWindows:ht.isWindows},deviceType:{isDesktop:vt.isDesktop,isiPad:vt.isiPad,isiPhone:vt.isiPhone,isPhone:vt.isPhone,isTablet:vt.isTablet,isTouch:vt.isTouch,isWebView:vt.isWebView}},xt=/^\\s*|\\s*$/g,St=function(e){return null===e||e===undefined?\"\":(\"\"+e).replace(xt,\"\")},Nt=function(e,t){return t?!(\"array\"!==t||!ye(e))||typeof e===t:e!==undefined},Et=function(e,n,r,o){o=o||this,e&&(r&&(e=e[r]),be(e,function(e,t){return!1!==n.call(o,e,t,r)&&void Et(e,n,r,o)}))},kt={trim:St,isArray:ye,is:Nt,toArray:function(e){if(ye(e))return e;for(var t=[],n=0,r=e.length;n<r;n++)t[n]=e[n];return t},makeMap:function(e,t,n){var r;for(t=t||\",\",\"string\"==typeof(e=e||[])&&(e=e.split(t)),n=n||{},r=e.length;r--;)n[e[r]]={};return n},each:be,map:Ce,grep:we,inArray:xe,hasOwn:function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},extend:function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var r=0;r<t.length;r++){var o,i=t[r];for(var a in i){!i.hasOwnProperty(a)||(o=i[a])!==undefined&&(e[a]=o)}}return e},create:function(e,t,n){var r,o,i,a=this,u=0,s=(e=/^((static) )?([\\w.]+)(:([\\w.]+))?/.exec(e))[3].match(/(^|\\.)(\\w+)$/i)[2],c=a.createNS(e[3].replace(/\\.\\w+$/,\"\"),n);if(!c[s]){if(\"static\"===e[2])return c[s]=t,void(this.onCreate&&this.onCreate(e[2],e[3],c[s]));t[s]||(t[s]=function(){},u=1),c[s]=t[s],a.extend(c[s].prototype,t),e[5]&&(r=a.resolve(e[5]).prototype,o=e[5].match(/\\.(\\w+)$/i)[1],i=c[s],c[s]=u?function(){return r[o].apply(this,arguments)}:function(){return this.parent=r[o],i.apply(this,arguments)},c[s].prototype[s]=c[s],a.each(r,function(e,t){c[s].prototype[t]=r[t]}),a.each(t,function(e,t){r[t]?c[s].prototype[t]=function(){return this.parent=r[t],e.apply(this,arguments)}:t!==s&&(c[s].prototype[t]=e)})),a.each(t[\"static\"],function(e,t){c[s][t]=e})}},walk:Et,createNS:function(e,t){var n,r;for(t=t||window,e=e.split(\".\"),n=0;n<e.length;n++)t[r=e[n]]||(t[r]={}),t=t[r];return t},resolve:function(e,t){var n,r;for(t=t||window,n=0,r=(e=e.split(\".\")).length;n<r&&(t=t[e[n]]);n++);return t},explode:function(e,t){return!e||Nt(e,\"array\")?e:Ce(e.split(t||\",\"),St)},_addCacheSuffix:function(e){var t=wt.cacheSuffix;return t&&(e+=(-1===e.indexOf(\"?\")?\"?\":\"&\")+t),e}},_t=function(e){if(null===e||e===undefined)throw new Error(\"Node cannot be null or undefined\");return{dom:e}},At={fromHtml:function(e,t){var n=(t||document).createElement(\"div\");if(n.innerHTML=e,!n.hasChildNodes()||1<n.childNodes.length)throw console.error(\"HTML does not have a single root node\",e),new Error(\"HTML must have a single root node\");return _t(n.childNodes[0])},fromTag:function(e,t){var n=(t||document).createElement(e);return _t(n)},fromText:function(e,t){var n=(t||document).createTextNode(e);return _t(n)},fromDom:_t,fromPoint:function(e,t,n){return U.from(e.dom.elementFromPoint(t,n)).map(_t)}},Rt=function(e,t){for(var n=[],r=function(e){return n.push(e),t(e)},o=t(e);(o=o.bind(r)).isSome(););return n},Tt=function(e,t){var n=e.dom;if(1!==n.nodeType)return!1;var r=n;if(r.matches!==undefined)return r.matches(t);if(r.msMatchesSelector!==undefined)return r.msMatchesSelector(t);if(r.webkitMatchesSelector!==undefined)return r.webkitMatchesSelector(t);if(r.mozMatchesSelector!==undefined)return r.mozMatchesSelector(t);throw new Error(\"Browser lacks native selectors\")},Dt=function(e){return 1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType||0===e.childElementCount},Ot=function(e,t){return e.dom===t.dom},Bt=function(e,t){return n=e.dom,r=t.dom,o=n,i=r,a=Node.DOCUMENT_POSITION_CONTAINED_BY,0!=(o.compareDocumentPosition(i)&a);var n,r,o,i,a},Pt=function(e,t){return dt().browser.isIE()?Bt(e,t):(n=t,r=e.dom,o=n.dom,r!==o&&r.contains(o));var n,r,o},Lt=(\"undefined\"!=typeof window||Function(\"return this;\")(),function(e){return e.dom.nodeName.toLowerCase()}),It=function(e){return e.dom.nodeType},Mt=function(t){return function(e){return It(e)===t}},Ft=Mt(1),Ut=Mt(3),zt=Mt(9),jt=Mt(11),Ht=function(e){return At.fromDom(e.dom.ownerDocument)},Vt=function(e){return zt(e)?e:Ht(e)},qt=function(e){return At.fromDom(Vt(e).dom.defaultView)},$t=function(e){return U.from(e.dom.parentNode).map(At.fromDom)},Wt=function(e){return U.from(e.dom.previousSibling).map(At.fromDom)},Kt=function(e){return U.from(e.dom.nextSibling).map(At.fromDom)},Xt=function(e){return Z(Rt(e,Wt))},Yt=function(e){return Rt(e,Kt)},Gt=function(e){return z(e.dom.childNodes,At.fromDom)},Jt=function(e,t){var n=e.dom.childNodes;return U.from(n[t]).map(At.fromDom)},Qt=function(e){return Jt(e,0)},Zt=function(e){return Jt(e,e.dom.childNodes.length-1)},en=function(e){return jt(e)},tn=T(Element.prototype.attachShadow)&&T(Node.prototype.getRootNode),nn=E(tn),rn=tn?function(e){return At.fromDom(e.dom.getRootNode())}:Vt,on=function(e){return en(e)?e:function(e){var t=e.dom.head;if(null===t||t===undefined)throw new Error(\"Head is not available yet\");return At.fromDom(t)}(Vt(e))},an=function(e){return At.fromDom(e.dom.host)},un=function(e){return D(e.dom.shadowRoot)},sn=function(t,n){$t(t).each(function(e){e.dom.insertBefore(n.dom,t.dom)})},cn=function(e,t){Kt(e).fold(function(){$t(e).each(function(e){fn(e,t)})},function(e){sn(e,t)})},ln=function(t,n){Qt(t).fold(function(){fn(t,n)},function(e){t.dom.insertBefore(n.dom,e.dom)})},fn=function(e,t){e.dom.appendChild(t.dom)},dn=function(t,e){W(e,function(e){fn(t,e)})},mn=function(e){e.dom.textContent=\"\",W(Gt(e),function(e){pn(e)})},pn=function(e){var t=e.dom;null!==t.parentNode&&t.parentNode.removeChild(t)},gn=function(e){var t,n=Gt(e);0<n.length&&(t=e,W(n,function(e){sn(t,e)})),pn(e)},hn=function(e){var t=Ut(e)?e.dom.parentNode:e.dom;if(t===undefined||null===t||null===t.ownerDocument)return!1;var n,r,o,i,a=t.ownerDocument;return o=At.fromDom(t),i=rn(o),(en(i)?U.some(i):U.none()).fold(function(){return a.body.contains(t)},(n=hn,r=an,function(e){return n(r(e))}))},vn=function(n,r){return{left:n,top:r,translate:function(e,t){return vn(n+e,r+t)}}},yn=vn,bn=function(e,t){return e!==undefined?e:t!==undefined?t:0},Cn=function(e){var t,n=e.dom,r=n.ownerDocument.body;return r===n?yn(r.offsetLeft,r.offsetTop):hn(e)?(t=n.getBoundingClientRect(),yn(t.left,t.top)):yn(0,0)},wn=function(e){var t=e!==undefined?e.dom:document,n=t.body.scrollLeft||t.documentElement.scrollLeft,r=t.body.scrollTop||t.documentElement.scrollTop;return yn(n,r)},xn=function(e,t,n){var r=(n!==undefined?n.dom:document).defaultView;r&&r.scrollTo(e,t)},Sn=function(e,t){dt().browser.isSafari()&&T(e.dom.scrollIntoViewIfNeeded)?e.dom.scrollIntoViewIfNeeded(!1):e.dom.scrollIntoView(t)},Nn=function(e,t,n,r){return{x:e,y:t,width:n,height:r,right:e+n,bottom:t+r}},En=function(e){var t,n,r=e===undefined?window:e,o=r.document,i=wn(At.fromDom(o));return n=(t=r)===undefined?window:t,U.from(n.visualViewport).fold(function(){var e=r.document.documentElement,t=e.clientWidth,n=e.clientHeight;return Nn(i.left,i.top,t,n)},function(e){return Nn(Math.max(e.pageLeft,i.left),Math.max(e.pageTop,i.top),e.width,e.height)})},kn=function(t){return function(e){return!!e&&e.nodeType===t}},_n=function(e){return!!e&&!Object.getPrototypeOf(e)},An=kn(1),Rn=function(e){var n=e.map(function(e){return e.toLowerCase()});return function(e){if(e&&e.nodeName){var t=e.nodeName.toLowerCase();return M(n,t)}return!1}},Tn=function(r,e){var o=e.toLowerCase().split(\" \");return function(e){var t;if(An(e))for(t=0;t<o.length;t++){var n=e.ownerDocument.defaultView.getComputedStyle(e,null);if((n?n.getPropertyValue(r):null)===o[t])return!0}return!1}},Dn=function(t){return function(e){return An(e)&&e.hasAttribute(t)}},On=function(e){return An(e)&&e.hasAttribute(\"data-mce-bogus\")},Bn=function(e){return An(e)&&\"TABLE\"===e.tagName},Pn=function(t){return function(e){if(An(e)){if(e.contentEditable===t)return!0;if(e.getAttribute(\"data-mce-contenteditable\")===t)return!0}return!1}},Ln=Rn([\"textarea\",\"input\"]),In=kn(3),Mn=kn(8),Fn=kn(9),Un=kn(11),zn=Rn([\"br\"]),jn=Rn([\"img\"]),Hn=Pn(\"true\"),Vn=Pn(\"false\"),qn=Rn([\"td\",\"th\"]),$n=Rn([\"video\",\"audio\",\"object\",\"embed\"]),Wn=function(e){return e.style!==undefined&&T(e.style.getPropertyValue)},Kn=function(e,t,n){if(!(q(n)||A(n)||O(n)))throw console.error(\"Invalid call to Attribute.set. Key \",t,\":: Value \",n,\":: Element \",e),new Error(\"Attribute value was not simple\");e.setAttribute(t,n+\"\")},Xn=function(e,t,n){Kn(e.dom,t,n)},Yn=function(e,t){var n=e.dom;ue(t,function(e,t){Kn(n,t,e)})},Gn=function(e,t){var n=e.dom.getAttribute(t);return null===n?undefined:n},Jn=function(e,t){return U.from(Gn(e,t))},Qn=function(e,t){e.dom.removeAttribute(t)},Zn=function(e,t){var n=e.dom;ue(t,function(e,t){!function(e,t,n){if(!q(n))throw console.error(\"Invalid call to CSS.set. Property \",t,\":: Value \",n,\":: Element \",e),new Error(\"CSS value must be a string: \"+n);Wn(e)&&e.style.setProperty(t,n)}(n,t,e)})},er=function(e,t){var n=e.dom,r=window.getComputedStyle(n).getPropertyValue(t);return\"\"!==r||hn(e)?r:tr(n,t)},tr=function(e,t){return Wn(e)?e.style.getPropertyValue(t):\"\"},nr=function(e,t){var n=e.dom,r=tr(n,t);return U.from(r).filter(function(e){return 0<e.length})},rr=function(e){var t={},n=e.dom;if(Wn(n))for(var r=0;r<n.style.length;r++){var o=n.style.item(r);t[o]=n.style[o]}return t},or=dt().browser,ir=function(e){return Y(e,Ft)},ar=function(e,t){return e.children&&M(e.children,t)},ur=function(e,t,n){var r,o,i,a=0,u=0,s=e.ownerDocument;if(n=n||e,t){if(n===e&&t.getBoundingClientRect&&\"static\"===er(At.fromDom(e),\"position\"))return{x:a=(o=t.getBoundingClientRect()).left+(s.documentElement.scrollLeft||e.scrollLeft)-s.documentElement.clientLeft,y:u=o.top+(s.documentElement.scrollTop||e.scrollTop)-s.documentElement.clientTop};for(r=t;r&&r!==n&&r.nodeType&&!ar(r,n);)a+=r.offsetLeft||0,u+=r.offsetTop||0,r=r.offsetParent;for(r=t.parentNode;r&&r!==n&&r.nodeType&&!ar(r,n);)a-=r.scrollLeft||0,u-=r.scrollTop||0,r=r.parentNode;u+=(i=At.fromDom(t),or.isFirefox()&&\"table\"===Lt(i)?ir(Gt(i)).filter(function(e){return\"caption\"===Lt(e)}).bind(function(o){return ir(Yt(o)).map(function(e){var t=e.dom.offsetTop,n=o.dom.offsetTop,r=o.dom.offsetHeight;return t<=n?-r:0})}).getOr(0):0)}return{x:a,y:u}},sr={},cr={exports:sr};De=undefined,Oe=sr,Be=cr,Pe=undefined,function(e){\"object\"==typeof Oe&&void 0!==Be?Be.exports=e():\"function\"==typeof De&&De.amd?De([],e):(\"undefined\"!=typeof window?window:\"undefined\"!=typeof global?global:\"undefined\"!=typeof self?self:this).EphoxContactWrapper=e()}(function(){return function l(i,a,u){function s(t,e){if(!a[t]){if(!i[t]){var n=\"function\"==typeof Pe&&Pe;if(!e&&n)return n(t,!0);if(c)return c(t,!0);var r=new Error(\"Cannot find module '\"+t+\"'\");throw r.code=\"MODULE_NOT_FOUND\",r}var o=a[t]={exports:{}};i[t][0].call(o.exports,function(e){return s(i[t][1][e]||e)},o,o.exports,l,i,a,u)}return a[t].exports}for(var c=\"function\"==typeof Pe&&Pe,e=0;e<u.length;e++)s(u[e]);return s}({1:[function(e,t,n){var r,o,i=t.exports={};function a(){throw new Error(\"setTimeout has not been defined\")}function u(){throw new Error(\"clearTimeout has not been defined\")}function s(e){if(r===setTimeout)return setTimeout(e,0);if((r===a||!r)&&setTimeout)return r=setTimeout,setTimeout(e,0);try{return r(e,0)}catch(t){try{return r.call(null,e,0)}catch(t){return r.call(this,e,0)}}}!function(){try{r=\"function\"==typeof setTimeout?setTimeout:a}catch(e){r=a}try{o=\"function\"==typeof clearTimeout?clearTimeout:u}catch(e){o=u}}();var c,l=[],f=!1,d=-1;function m(){f&&c&&(f=!1,c.length?l=c.concat(l):d=-1,l.length&&p())}function p(){if(!f){var e=s(m);f=!0;for(var t=l.length;t;){for(c=l,l=[];++d<t;)c&&c[d].run();d=-1,t=l.length}c=null,f=!1,function(e){if(o===clearTimeout)return clearTimeout(e);if((o===u||!o)&&clearTimeout)return o=clearTimeout,clearTimeout(e);try{o(e)}catch(t){try{return o.call(null,e)}catch(t){return o.call(this,e)}}}(e)}}function g(e,t){this.fun=e,this.array=t}function h(){}i.nextTick=function(e){var t=new Array(arguments.length-1);if(1<arguments.length)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];l.push(new g(e,t)),1!==l.length||f||s(p)},g.prototype.run=function(){this.fun.apply(null,this.array)},i.title=\"browser\",i.browser=!0,i.env={},i.argv=[],i.version=\"\",i.versions={},i.on=h,i.addListener=h,i.once=h,i.off=h,i.removeListener=h,i.removeAllListeners=h,i.emit=h,i.prependListener=h,i.prependOnceListener=h,i.listeners=function(e){return[]},i.binding=function(e){throw new Error(\"process.binding is not supported\")},i.cwd=function(){return\"/\"},i.chdir=function(e){throw new Error(\"process.chdir is not supported\")},i.umask=function(){return 0}},{}],2:[function(e,f,t){(function(t){function r(){}function a(e){if(\"object\"!=typeof this)throw new TypeError(\"Promises must be constructed via new\");if(\"function\"!=typeof e)throw new TypeError(\"not a function\");this._state=0,this._handled=!1,this._value=undefined,this._deferreds=[],l(e,this)}function o(r,o){for(;3===r._state;)r=r._value;0!==r._state?(r._handled=!0,a._immediateFn(function(){var e,t=1===r._state?o.onFulfilled:o.onRejected;if(null!==t){try{e=t(r._value)}catch(n){return void u(o.promise,n)}i(o.promise,e)}else(1===r._state?i:u)(o.promise,r._value)})):r._deferreds.push(o)}function i(e,t){try{if(t===e)throw new TypeError(\"A promise cannot be resolved with itself.\");if(t&&(\"object\"==typeof t||\"function\"==typeof t)){var n=t.then;if(t instanceof a)return e._state=3,e._value=t,void s(e);if(\"function\"==typeof n)return void l((r=n,o=t,function(){r.apply(o,arguments)}),e)}e._state=1,e._value=t,s(e)}catch(i){u(e,i)}var r,o}function u(e,t){e._state=2,e._value=t,s(e)}function s(e){2===e._state&&0===e._deferreds.length&&a._immediateFn(function(){e._handled||a._unhandledRejectionFn(e._value)});for(var t=0,n=e._deferreds.length;t<n;t++)o(e,e._deferreds[t]);e._deferreds=null}function c(e,t,n){this.onFulfilled=\"function\"==typeof e?e:null,this.onRejected=\"function\"==typeof t?t:null,this.promise=n}function l(e,t){var n=!1;try{e(function(e){n||(n=!0,i(t,e))},function(e){n||(n=!0,u(t,e))})}catch(r){if(n)return;n=!0,u(t,r)}}var e,n;e=this,n=setTimeout,a.prototype[\"catch\"]=function(e){return this.then(null,e)},a.prototype.then=function(e,t){var n=new this.constructor(r);return o(this,new c(e,t,n)),n},a.all=function(e){var s=Array.prototype.slice.call(e);return new a(function(o,i){if(0===s.length)return o([]);var a=s.length;for(var e=0;e<s.length;e++)!function u(t,e){try{if(e&&(\"object\"==typeof e||\"function\"==typeof e)){var n=e.then;if(\"function\"==typeof n)return void n.call(e,function(e){u(t,e)},i)}s[t]=e,0==--a&&o(s)}catch(r){i(r)}}(e,s[e])})},a.resolve=function(t){return t&&\"object\"==typeof t&&t.constructor===a?t:new a(function(e){e(t)})},a.reject=function(n){return new a(function(e,t){t(n)})},a.race=function(o){return new a(function(e,t){for(var n=0,r=o.length;n<r;n++)o[n].then(e,t)})},a._immediateFn=\"function\"==typeof t?function(e){t(e)}:function(e){n(e,0)},a._unhandledRejectionFn=function(e){\"undefined\"!=typeof console&&console&&console.warn(\"Possible Unhandled Promise Rejection:\",e)},a._setImmediateFn=function(e){a._immediateFn=e},a._setUnhandledRejectionFn=function(e){a._unhandledRejectionFn=e},void 0!==f&&f.exports?f.exports=a:e.Promise||(e.Promise=a)}).call(this,e(\"timers\").setImmediate)},{timers:3}],3:[function(s,e,c){(function(e,t){var r=s(\"process/browser.js\").nextTick,n=Function.prototype.apply,o=Array.prototype.slice,i={},a=0;function u(e,t){this._id=e,this._clearFn=t}c.setTimeout=function(){return new u(n.call(setTimeout,window,arguments),clearTimeout)},c.setInterval=function(){return new u(n.call(setInterval,window,arguments),clearInterval)},c.clearTimeout=c.clearInterval=function(e){e.close()},u.prototype.unref=u.prototype.ref=function(){},u.prototype.close=function(){this._clearFn.call(window,this._id)},c.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},c.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},c._unrefActive=c.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;0<=t&&(e._idleTimeoutId=setTimeout(function(){e._onTimeout&&e._onTimeout()},t))},c.setImmediate=\"function\"==typeof e?e:function(e){var t=a++,n=!(arguments.length<2)&&o.call(arguments,1);return i[t]=!0,r(function(){i[t]&&(n?e.apply(null,n):e.call(null),c.clearImmediate(t))}),t},c.clearImmediate=\"function\"==typeof t?t:function(e){delete i[e]}}).call(this,s(\"timers\").setImmediate,s(\"timers\").clearImmediate)},{\"process/browser.js\":1,timers:3}],4:[function(e,t,n){var r=e(\"promise-polyfill\"),o=\"undefined\"!=typeof window?window:Function(\"return this;\")();t.exports={boltExport:o.Promise||r}},{\"promise-polyfill\":2}]},{},[4])(4)});var lr=cr.exports.boltExport,fr=function(e){var n=U.none(),t=[],r=function(e){o()?a(e):t.push(e)},o=function(){return n.isSome()},i=function(e){W(e,a)},a=function(t){n.each(function(e){setTimeout(function(){t(e)},0)})};return e(function(e){o()||(n=U.some(e),i(t),t=[])}),{get:r,map:function(n){return fr(function(t){r(function(e){t(n(e))})})},isReady:o}},dr={nu:fr,pure:function(t){return fr(function(e){e(t)})}},mr=function(e){setTimeout(function(){throw e},0)},pr=function(n){var e=function(e){n().then(e,mr)};return{map:function(e){return pr(function(){return n().then(e)})},bind:function(t){return pr(function(){return n().then(function(e){return t(e).toPromise()})})},anonBind:function(e){return pr(function(){return n().then(function(){return e.toPromise()})})},toLazy:function(){return dr.nu(e)},toCached:function(){var e=null;return pr(function(){return null===e&&(e=n()),e})},toPromise:n,get:e}},gr=function(e){return pr(function(){return new lr(e)})},hr=function(a,e){return e(function(r){var o=[],i=0;0===a.length?r([]):W(a,function(e,t){var n;e.get((n=t,function(e){o[n]=e,++i>=a.length&&r(o)}))})})},vr=function(n){return{is:function(e){return n===e},isValue:k,isError:C,getOr:E(n),getOrThunk:E(n),getOrDie:E(n),or:function(e){return vr(n)},orThunk:function(e){return vr(n)},fold:function(e,t){return t(n)},map:function(e){return vr(e(n))},mapError:function(e){return vr(n)},each:function(e){e(n)},bind:function(e){return e(n)},exists:function(e){return e(n)},forall:function(e){return e(n)},toOptional:function(){return U.some(n)}}},yr=function(n){return{is:C,isValue:C,isError:k,getOr:o,getOrThunk:function(e){return e()},getOrDie:function(){return m(String(n))()},or:function(e){return e},orThunk:function(e){return e()},fold:function(e,t){return e(n)},map:function(e){return yr(n)},mapError:function(e){return yr(e(n))},each:V,bind:function(e){return yr(n)},exists:C,forall:k,toOptional:U.none}},br={value:vr,error:yr,fromOption:function(e,t){return e.fold(function(){return yr(t)},vr)}},Cr=function(a){if(!S(a))throw new Error(\"cases must be an array\");if(0===a.length)throw new Error(\"there must be at least one case\");var u=[],n={};return W(a,function(e,r){var t=ie(e);if(1!==t.length)throw new Error(\"one and only one name per case\");var o=t[0],i=e[o];if(n[o]!==undefined)throw new Error(\"duplicate key detected:\"+o);if(\"cata\"===o)throw new Error(\"cannot have a case named cata (sorry)\");if(!S(i))throw new Error(\"case arguments must be an array\");u.push(o),n[o]=function(){var e=arguments.length;if(e!==i.length)throw new Error(\"Wrong number of arguments to case \"+o+\". Expected \"+i.length+\" (\"+i+\"), got \"+e);for(var n=new Array(e),t=0;t<n.length;t++)n[t]=arguments[t];return{fold:function(){if(arguments.length!==a.length)throw new Error(\"Wrong number of arguments to fold. Expected \"+a.length+\", got \"+arguments.length);return arguments[r].apply(null,n)},match:function(e){var t=ie(e);if(u.length!==t.length)throw new Error(\"Wrong number of arguments to match. Expected: \"+u.join(\",\")+\"\\nActual: \"+t.join(\",\"));if(!Q(u,function(e){return M(t,e)}))throw new Error(\"Not all branches were specified when using match. Specified: \"+t.join(\", \")+\"\\nRequired: \"+u.join(\", \"));return e[o].apply(null,n)},log:function(e){console.log(e,{constructors:u,constructor:o,params:n})}}}}),n},wr=(Cr([{bothErrors:[\"error1\",\"error2\"]},{firstError:[\"error1\",\"value2\"]},{secondError:[\"value1\",\"error2\"]},{bothValues:[\"value1\",\"value2\"]}]),function(e){return e.fold(o,o)});function xr(e,t,n,r,o){return e(n,r)?U.some(n):T(o)&&o(n)?U.none():t(n,r,o)}var Sr,Nr,Er,kr,_r=function(e,t,n){for(var r=e.dom,o=T(n)?n:C;r.parentNode;){r=r.parentNode;var i=At.fromDom(r);if(t(i))return U.some(i);if(o(i))break}return U.none()},Ar=function(e,t,n){return xr(function(e,t){return t(e)},_r,e,t,n)},Rr=function(e,t){return Y(e.dom.childNodes,function(e){return t(At.fromDom(e))}).map(At.fromDom)},Tr=function(e,t,n){return _r(e,function(e){return Tt(e,t)},n)},Dr=function(e,t){return n=t,o=(r=e)===undefined?document:r.dom,Dt(o)?U.none():U.from(o.querySelector(n)).map(At.fromDom);var n,r,o},Or=function(e,t,n){return xr(Tt,Tr,e,t,n)},Br=window.Promise?window.Promise:(Sr=Array.isArray||function(e){return\"[object Array]\"===Object.prototype.toString.call(e)},Er=(Nr=function(e){if(\"object\"!=typeof this)throw new TypeError(\"Promises must be constructed via new\");if(\"function\"!=typeof e)throw new TypeError(\"not a function\");this._state=null,this._value=null,this._deferreds=[],zr(e,Pr(Ir,this),Pr(Mr,this))}).immediateFn||\"function\"==typeof setImmediate&&setImmediate||function(e){setTimeout(e,1)},Nr.prototype[\"catch\"]=function(e){return this.then(null,e)},Nr.prototype.then=function(n,r){var o=this;return new Nr(function(e,t){Lr.call(o,new Ur(n,r,e,t))})},Nr.all=function(){var s=Array.prototype.slice.call(1===arguments.length&&Sr(arguments[0])?arguments[0]:arguments);return new Nr(function(o,i){if(0===s.length)return o([]);for(var a=s.length,e=0;e<s.length;e++)!function u(t,e){try{if(e&&(\"object\"==typeof e||\"function\"==typeof e)){var n=e.then;if(\"function\"==typeof n)return void n.call(e,function(e){u(t,e)},i)}s[t]=e,0==--a&&o(s)}catch(r){i(r)}}(e,s[e])})},Nr.resolve=function(t){return t&&\"object\"==typeof t&&t.constructor===Nr?t:new Nr(function(e){e(t)})},Nr.reject=function(n){return new Nr(function(e,t){t(n)})},Nr.race=function(o){return new Nr(function(e,t){for(var n=0,r=o.length;n<r;n++)o[n].then(e,t)})},Nr);function Pr(e,t){return function(){e.apply(t,arguments)}}function Lr(r){var o=this;null!==this._state?Er(function(){var e,t=o._state?r.onFulfilled:r.onRejected;if(null!==t){try{e=t(o._value)}catch(n){return void r.reject(n)}r.resolve(e)}else(o._state?r.resolve:r.reject)(o._value)}):this._deferreds.push(r)}function Ir(e){try{if(e===this)throw new TypeError(\"A promise cannot be resolved with itself.\");if(e&&(\"object\"==typeof e||\"function\"==typeof e)){var t=e.then;if(\"function\"==typeof t)return void zr(Pr(t,e),Pr(Ir,this),Pr(Mr,this))}this._state=!0,this._value=e,Fr.call(this)}catch(n){Mr.call(this,n)}}function Mr(e){this._state=!1,this._value=e,Fr.call(this)}function Fr(){for(var e=0,t=this._deferreds.length;e<t;e++)Lr.call(this,this._deferreds[e]);this._deferreds=null}function Ur(e,t,n,r){this.onFulfilled=\"function\"==typeof e?e:null,this.onRejected=\"function\"==typeof t?t:null,this.resolve=n,this.reject=r}function zr(e,t,n){var r=!1;try{e(function(e){r||(r=!0,t(e))},function(e){r||(r=!0,n(e))})}catch(o){if(r)return;r=!0,n(o)}}var jr=function(e,t){return\"number\"!=typeof t&&(t=0),setTimeout(e,t)},Hr=function(e,t){return\"number\"!=typeof t&&(t=1),setInterval(e,t)},Vr=function(n,r){var o,e=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];clearTimeout(o),o=jr(function(){n.apply(this,e)},r)};return e.stop=function(){clearTimeout(o)},e},qr={requestAnimationFrame:function(e,t){kr?kr.then(e):kr=new Br(function(e){!function(e,t){for(var n=window.requestAnimationFrame,r=[\"ms\",\"moz\",\"webkit\"],o=0;o<r.length&&!n;o++)n=window[r[o]+\"RequestAnimationFrame\"];(n=n||function(e){window.setTimeout(e,0)})(e,t)}(e,t=t||document.body)}).then(e)},setTimeout:jr,setInterval:Hr,setEditorTimeout:function(e,t,n){return jr(function(){e.removed||t()},n)},setEditorInterval:function(e,t,n){var r=Hr(function(){e.removed?clearInterval(r):t()},n);return r},debounce:Vr,throttle:Vr,clearInterval:function(e){return clearInterval(e)},clearTimeout:function(e){return clearTimeout(e)}};function $r(m,p){void 0===p&&(p={});var g=0,h={},v=At.fromDom(m),y=Vt(v),b=p.maxLoadTime||5e3,n=function(e,t,n){var r,o=kt._addCacheSuffix(e),i=ge(h,o).getOrThunk(function(){return{id:\"mce-u\"+g++,passed:[],failed:[],count:0}});(h[o]=i).count++;var a,u,s,c=function(e,t){for(var n=e.length;n--;)e[n]();i.status=t,i.passed=[],i.failed=[],r&&(r.onload=null,r.onerror=null,r=null)},l=function(){return c(i.passed,2)},f=function(){return c(i.failed,3)},d=function(){var e;e=d,function(){for(var e=m.styleSheets,t=e.length;t--;){var n=e[t].ownerNode;if(n&&n.id===r.id)return l(),1}}()||(Date.now()-u<b?qr.setTimeout(e):f())};t&&i.passed.push(t),n&&i.failed.push(n),1!==i.status&&(2!==i.status?3!==i.status?(i.status=1,a=At.fromTag(\"link\",y.dom),Yn(a,{rel:\"stylesheet\",type:\"text/css\",id:i.id}),u=Date.now(),p.contentCssCors&&Xn(a,\"crossOrigin\",\"anonymous\"),p.referrerPolicy&&Xn(a,\"referrerpolicy\",p.referrerPolicy),(r=a.dom).onload=d,r.onerror=f,s=a,fn(on(v),s),Xn(a,\"href\",o)):f():l())},o=function(t){return gr(function(e){n(t,a(e,E(br.value(t))),a(e,E(br.error(t))))})},t=function(e){var r=kt._addCacheSuffix(e);ge(h,r).each(function(e){var t,n;0==--e.count&&(delete h[r],t=e.id,n=on(v),Dr(n,\"#\"+t).each(pn))})};return{load:n,loadAll:function(e,n,r){var t;t=z(e,o),hr(t,gr).get(function(e){var t=function(e,t){for(var n=[],r=[],o=0,i=e.length;o<i;o++){var a=e[o];(t(a,o)?n:r).push(a)}return{pass:n,fail:r}}(e,function(e){return e.isValue()});0<t.fail.length?r(t.fail.map(wr)):n(t.pass.map(wr))})},unload:t,unloadAll:function(e){W(e,function(e){t(e)})},_setReferrerPolicy:function(e){p.referrerPolicy=e}}}var Wr,Kr=(Wr=new WeakMap,{forElement:function(e,t){var n=rn(e).dom;return U.from(Wr.get(n)).getOrThunk(function(){var e=$r(n,t);return Wr.set(n,e),e})}}),Xr=(Yr.prototype.current=function(){return this.node},Yr.prototype.next=function(e){return this.node=this.findSibling(this.node,\"firstChild\",\"nextSibling\",e),this.node},Yr.prototype.prev=function(e){return this.node=this.findSibling(this.node,\"lastChild\",\"previousSibling\",e),this.node},Yr.prototype.prev2=function(e){return this.node=this.findPreviousNode(this.node,\"lastChild\",\"previousSibling\",e),this.node},Yr.prototype.findSibling=function(e,t,n,r){var o,i;if(e){if(!r&&e[t])return e[t];if(e!==this.rootNode){if(o=e[n])return o;for(i=e.parentNode;i&&i!==this.rootNode;i=i.parentNode)if(o=i[n])return o}}},Yr.prototype.findPreviousNode=function(e,t,n,r){var o,i,a;if(e){if(o=e[n],this.rootNode&&o===this.rootNode)return;if(o){if(!r)for(a=o[t];a;a=a[t])if(!a[t])return a;return o}if((i=e.parentNode)&&i!==this.rootNode)return i}},Yr);function Yr(e,t){this.node=e,this.rootNode=t,this.current=this.current.bind(this),this.next=this.next.bind(this),this.prev=this.prev.bind(this),this.prev2=this.prev2.bind(this)}var Gr,Jr,Qr=function(t){var n;return function(e){return(n=n||function(e,t){for(var n={},r=0,o=e.length;r<o;r++){var i=e[r];n[String(i)]=t(i,r)}return n}(t,k)).hasOwnProperty(Lt(e))}},Zr=Qr([\"h1\",\"h2\",\"h3\",\"h4\",\"h5\",\"h6\"]),eo=Qr([\"article\",\"aside\",\"details\",\"div\",\"dt\",\"figcaption\",\"footer\",\"form\",\"fieldset\",\"header\",\"hgroup\",\"html\",\"main\",\"nav\",\"section\",\"summary\",\"body\",\"p\",\"dl\",\"multicol\",\"dd\",\"figure\",\"address\",\"center\",\"blockquote\",\"h1\",\"h2\",\"h3\",\"h4\",\"h5\",\"h6\",\"listing\",\"xmp\",\"pre\",\"plaintext\",\"menu\",\"dir\",\"ul\",\"ol\",\"li\",\"hr\",\"table\",\"tbody\",\"thead\",\"tfoot\",\"th\",\"tr\",\"td\",\"caption\"]),to=function(e){return Ft(e)&&!eo(e)},no=function(e){return Ft(e)&&\"br\"===Lt(e)},ro=Qr([\"h1\",\"h2\",\"h3\",\"h4\",\"h5\",\"h6\",\"p\",\"div\",\"address\",\"pre\",\"form\",\"blockquote\",\"center\",\"dir\",\"fieldset\",\"header\",\"footer\",\"article\",\"section\",\"hgroup\",\"aside\",\"nav\",\"figure\"]),oo=Qr([\"ul\",\"ol\",\"dl\"]),io=Qr([\"li\",\"dd\",\"dt\"]),ao=Qr([\"thead\",\"tbody\",\"tfoot\"]),uo=Qr([\"td\",\"th\"]),so=Qr([\"pre\",\"script\",\"textarea\",\"style\"]),co=\"\\ufeff\",lo=\"\\xa0\",fo=co,mo=function(e){return e===co},po=function(e){return e.replace(/\\uFEFF/g,\"\")},go=An,ho=In,vo=function(e){return ho(e)&&(e=e.parentNode),go(e)&&e.hasAttribute(\"data-mce-caret\")},yo=function(e){return ho(e)&&mo(e.data)},bo=function(e){return vo(e)||yo(e)},Co=function(e){return e.firstChild!==e.lastChild||!zn(e.firstChild)},wo=function(e){var t=e.container();return!!In(t)&&(t.data.charAt(e.offset())===fo||e.isAtStart()&&yo(t.previousSibling))},xo=function(e){var t=e.container();return!!In(t)&&(t.data.charAt(e.offset()-1)===fo||e.isAtEnd()&&yo(t.nextSibling))},So=function(e,t,n){var r,o=t.ownerDocument.createElement(e);o.setAttribute(\"data-mce-caret\",n?\"before\":\"after\"),o.setAttribute(\"data-mce-bogus\",\"all\"),o.appendChild(((r=document.createElement(\"br\")).setAttribute(\"data-mce-bogus\",\"1\"),r));var i=t.parentNode;return n?i.insertBefore(o,t):t.nextSibling?i.insertBefore(o,t.nextSibling):i.appendChild(o),o},No=function(e){return ho(e)&&e.data[0]===fo},Eo=function(e){return ho(e)&&e.data[e.data.length-1]===fo},ko=function(e){return e&&e.hasAttribute(\"data-mce-caret\")?(t=e.getElementsByTagName(\"br\"),n=t[t.length-1],On(n)&&n.parentNode.removeChild(n),e.removeAttribute(\"data-mce-caret\"),e.removeAttribute(\"data-mce-bogus\"),e.removeAttribute(\"style\"),e.removeAttribute(\"_moz_abspos\"),e):null;var t,n},_o=Hn,Ao=Vn,Ro=zn,To=In,Do=Rn([\"script\",\"style\",\"textarea\"]),Oo=Rn([\"img\",\"input\",\"textarea\",\"hr\",\"iframe\",\"video\",\"audio\",\"object\",\"embed\"]),Bo=Rn([\"table\"]),Po=bo,Lo=function(e){return!Po(e)&&(To(e)?!Do(e.parentNode):Oo(e)||Ro(e)||Bo(e)||Io(e))},Io=function(e){return!1===(An(t=e)&&\"true\"===t.getAttribute(\"unselectable\"))&&Ao(e);var t},Mo=function(e,t){return Lo(e)&&function(e,t){for(e=e.parentNode;e&&e!==t;e=e.parentNode){if(Io(e))return!1;if(_o(e))return!0}return!0}(e,t)},Fo=/^[ \\t\\r\\n]*$/,Uo=function(e){return Fo.test(e)},zo=function(e,t){var n,r,o,i=At.fromDom(t),a=At.fromDom(e);return n=a,r=\"pre,code\",o=N(Ot,i),Tr(n,r,o).isSome()},jo=function(e,t){return Lo(e)&&!1===(o=t,In(r=e)&&Uo(r.data)&&!1===zo(r,o))||An(n=e)&&\"A\"===n.nodeName&&!n.hasAttribute(\"href\")&&(n.hasAttribute(\"name\")||n.hasAttribute(\"id\"))||Ho(e);var n,r,o},Ho=Dn(\"data-mce-bookmark\"),Vo=Dn(\"data-mce-bogus\"),qo=(Gr=\"data-mce-bogus\",Jr=\"all\",function(e){return An(e)&&e.getAttribute(Gr)===Jr}),$o=function(e,t){return void 0===t&&(t=!0),function(e,t){var n,r=0;if(jo(e,e))return!1;if(!(n=e.firstChild))return!0;var o=new Xr(n,e);do{if(t){if(qo(n)){n=o.next(!0);continue}if(Vo(n)){n=o.next();continue}}if(zn(n))r++,n=o.next();else{if(jo(n,e))return!1;n=o.next()}}while(n);return r<=1}(e.dom,t)},Wo=function(e,t){return D(e)&&(jo(e,t)||to(At.fromDom(e)))},Ko=function(e){return\"span\"===e.nodeName.toLowerCase()&&\"bookmark\"===e.getAttribute(\"data-mce-type\")},Xo=function(e,t){return In(e)&&0<e.data.length&&(o=new Xr(n=e,r=t).prev(!1),i=new Xr(n,r).next(!1),a=R(o)||Wo(o,r),u=R(i)||Wo(i,r),a&&u);var n,r,o,i,a,u},Yo=function(e,t,n){var r=n||t;if(An(t)&&Ko(t))return t;for(var o,i,a,u=t.childNodes,s=u.length-1;0<=s;s--)Yo(e,u[s],r);return!An(t)||1===(o=t.childNodes).length&&Ko(o[0])&&t.parentNode.insertBefore(o[0],t),Un(a=t)||Fn(a)||jo(t,r)||An(i=t)&&0<i.childNodes.length||Xo(t,r)||e.remove(t),t},Go=kt.makeMap,Jo=/[&<>\\\"\\u0060\\u007E-\\uD7FF\\uE000-\\uFFEF]|[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]/g,Qo=/[<>&\\u007E-\\uD7FF\\uE000-\\uFFEF]|[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]/g,Zo=/[<>&\\\"\\']/g,ei=/&#([a-z0-9]+);?|&([a-z0-9]+);/gi,ti={128:\"\\u20ac\",130:\"\\u201a\",131:\"\\u0192\",132:\"\\u201e\",133:\"\\u2026\",134:\"\\u2020\",135:\"\\u2021\",136:\"\\u02c6\",137:\"\\u2030\",138:\"\\u0160\",139:\"\\u2039\",140:\"\\u0152\",142:\"\\u017d\",145:\"\\u2018\",146:\"\\u2019\",147:\"\\u201c\",148:\"\\u201d\",149:\"\\u2022\",150:\"\\u2013\",151:\"\\u2014\",152:\"\\u02dc\",153:\"\\u2122\",154:\"\\u0161\",155:\"\\u203a\",156:\"\\u0153\",158:\"\\u017e\",159:\"\\u0178\"},ni={'\"':\"&quot;\",\"'\":\"&#39;\",\"<\":\"&lt;\",\">\":\"&gt;\",\"&\":\"&amp;\",\"`\":\"&#96;\"},ri={\"&lt;\":\"<\",\"&gt;\":\">\",\"&amp;\":\"&\",\"&quot;\":'\"',\"&apos;\":\"'\"},oi=function(e,t){var n,r,o,i={};if(e){for(e=e.split(\",\"),t=t||10,n=0;n<e.length;n+=2)r=String.fromCharCode(parseInt(e[n],t)),ni[r]||(o=\"&\"+e[n+1]+\";\",i[r]=o,i[o]=r);return i}},ii=oi(\"50,nbsp,51,iexcl,52,cent,53,pound,54,curren,55,yen,56,brvbar,57,sect,58,uml,59,copy,5a,ordf,5b,laquo,5c,not,5d,shy,5e,reg,5f,macr,5g,deg,5h,plusmn,5i,sup2,5j,sup3,5k,acute,5l,micro,5m,para,5n,middot,5o,cedil,5p,sup1,5q,ordm,5r,raquo,5s,frac14,5t,frac12,5u,frac34,5v,iquest,60,Agrave,61,Aacute,62,Acirc,63,Atilde,64,Auml,65,Aring,66,AElig,67,Ccedil,68,Egrave,69,Eacute,6a,Ecirc,6b,Euml,6c,Igrave,6d,Iacute,6e,Icirc,6f,Iuml,6g,ETH,6h,Ntilde,6i,Ograve,6j,Oacute,6k,Ocirc,6l,Otilde,6m,Ouml,6n,times,6o,Oslash,6p,Ugrave,6q,Uacute,6r,Ucirc,6s,Uuml,6t,Yacute,6u,THORN,6v,szlig,70,agrave,71,aacute,72,acirc,73,atilde,74,auml,75,aring,76,aelig,77,ccedil,78,egrave,79,eacute,7a,ecirc,7b,euml,7c,igrave,7d,iacute,7e,icirc,7f,iuml,7g,eth,7h,ntilde,7i,ograve,7j,oacute,7k,ocirc,7l,otilde,7m,ouml,7n,divide,7o,oslash,7p,ugrave,7q,uacute,7r,ucirc,7s,uuml,7t,yacute,7u,thorn,7v,yuml,ci,fnof,sh,Alpha,si,Beta,sj,Gamma,sk,Delta,sl,Epsilon,sm,Zeta,sn,Eta,so,Theta,sp,Iota,sq,Kappa,sr,Lambda,ss,Mu,st,Nu,su,Xi,sv,Omicron,t0,Pi,t1,Rho,t3,Sigma,t4,Tau,t5,Upsilon,t6,Phi,t7,Chi,t8,Psi,t9,Omega,th,alpha,ti,beta,tj,gamma,tk,delta,tl,epsilon,tm,zeta,tn,eta,to,theta,tp,iota,tq,kappa,tr,lambda,ts,mu,tt,nu,tu,xi,tv,omicron,u0,pi,u1,rho,u2,sigmaf,u3,sigma,u4,tau,u5,upsilon,u6,phi,u7,chi,u8,psi,u9,omega,uh,thetasym,ui,upsih,um,piv,812,bull,816,hellip,81i,prime,81j,Prime,81u,oline,824,frasl,88o,weierp,88h,image,88s,real,892,trade,89l,alefsym,8cg,larr,8ch,uarr,8ci,rarr,8cj,darr,8ck,harr,8dl,crarr,8eg,lArr,8eh,uArr,8ei,rArr,8ej,dArr,8ek,hArr,8g0,forall,8g2,part,8g3,exist,8g5,empty,8g7,nabla,8g8,isin,8g9,notin,8gb,ni,8gf,prod,8gh,sum,8gi,minus,8gn,lowast,8gq,radic,8gt,prop,8gu,infin,8h0,ang,8h7,and,8h8,or,8h9,cap,8ha,cup,8hb,int,8hk,there4,8hs,sim,8i5,cong,8i8,asymp,8j0,ne,8j1,equiv,8j4,le,8j5,ge,8k2,sub,8k3,sup,8k4,nsub,8k6,sube,8k7,supe,8kl,oplus,8kn,otimes,8l5,perp,8m5,sdot,8o8,lceil,8o9,rceil,8oa,lfloor,8ob,rfloor,8p9,lang,8pa,rang,9ea,loz,9j0,spades,9j3,clubs,9j5,hearts,9j6,diams,ai,OElig,aj,oelig,b0,Scaron,b1,scaron,bo,Yuml,m6,circ,ms,tilde,802,ensp,803,emsp,809,thinsp,80c,zwnj,80d,zwj,80e,lrm,80f,rlm,80j,ndash,80k,mdash,80o,lsquo,80p,rsquo,80q,sbquo,80s,ldquo,80t,rdquo,80u,bdquo,810,dagger,811,Dagger,81g,permil,81p,lsaquo,81q,rsaquo,85c,euro\",32),ai=function(e,t){return e.replace(t?Jo:Qo,function(e){return ni[e]||e})},ui=function(e,t){return e.replace(t?Jo:Qo,function(e){return 1<e.length?\"&#\"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+\";\":ni[e]||\"&#\"+e.charCodeAt(0)+\";\"})},si=function(e,t,n){return n=n||ii,e.replace(t?Jo:Qo,function(e){return ni[e]||n[e]||e})},ci={encodeRaw:ai,encodeAllRaw:function(e){return(\"\"+e).replace(Zo,function(e){return ni[e]||e})},encodeNumeric:ui,encodeNamed:si,getEncodeFunc:function(e,t){var n=oi(t)||ii,r=Go(e.replace(/\\+/g,\",\"));return r.named&&r.numeric?function(e,t){return e.replace(t?Jo:Qo,function(e){return ni[e]!==undefined?ni[e]:n[e]!==undefined?n[e]:1<e.length?\"&#\"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+\";\":\"&#\"+e.charCodeAt(0)+\";\"})}:r.named?t?function(e,t){return si(e,t,n)}:si:r.numeric?ui:ai},decode:function(e){return e.replace(ei,function(e,t){return t?65535<(t=\"x\"===t.charAt(0).toLowerCase()?parseInt(t.substr(1),16):parseInt(t,10))?(t-=65536,String.fromCharCode(55296+(t>>10),56320+(1023&t))):ti[t]||String.fromCharCode(t):ri[e]||ii[e]||(n=e,(r=At.fromTag(\"div\").dom).innerHTML=n,r.textContent||r.innerText||n);var n,r})}},li={},fi={},di=kt.makeMap,mi=kt.each,pi=kt.extend,gi=kt.explode,hi=kt.inArray,vi=function(e,t){return(e=kt.trim(e))?e.split(t||\" \"):[]},yi=function(e){var s,t,n,r,o,i,c={},a=function(e,t,n){var r,o,i=function(e,t){for(var n={},r=0,o=e.length;r<o;r++)n[e[r]]=t||{};return n};t=t||\"\",\"string\"==typeof(n=n||[])&&(n=vi(n));for(var a=vi(e),u=a.length;u--;)o={attributes:i(r=vi([s,t].join(\" \"))),attributesOrder:r,children:i(n,fi)},c[a[u]]=o},u=function(e,t){for(var n,r,o,i=vi(e),a=i.length,u=vi(t);a--;)for(n=c[i[a]],r=0,o=u.length;r<o;r++)n.attributes[u[r]]={},n.attributesOrder.push(u[r])};return li[e]?li[e]:(s=\"id accesskey class dir lang style tabindex title role\",t=\"address blockquote div dl fieldset form h1 h2 h3 h4 h5 h6 hr menu ol p pre table ul\",n=\"a abbr b bdo br button cite code del dfn em embed i iframe img input ins kbd label map noscript object q s samp script select small span strong sub sup textarea u var #text #comment\",\"html4\"!==e&&(s+=\" contenteditable contextmenu draggable dropzone hidden spellcheck translate\",t+=\" article aside details dialog figure main header footer hgroup section nav\",n+=\" audio canvas command datalist mark meter output picture progress time wbr video ruby bdi keygen\"),\"html5-strict\"!==e&&(s+=\" xml:lang\",n=[n,i=\"acronym applet basefont big font strike tt\"].join(\" \"),mi(vi(i),function(e){a(e,\"\",n)}),t=[t,o=\"center dir isindex noframes\"].join(\" \"),r=[t,n].join(\" \"),mi(vi(o),function(e){a(e,\"\",r)})),r=r||[t,n].join(\" \"),a(\"html\",\"manifest\",\"head body\"),a(\"head\",\"\",\"base command link meta noscript script style title\"),a(\"title hr noscript br\"),a(\"base\",\"href target\"),a(\"link\",\"href rel media hreflang type sizes hreflang\"),a(\"meta\",\"name http-equiv content charset\"),a(\"style\",\"media type scoped\"),a(\"script\",\"src async defer type charset\"),a(\"body\",\"onafterprint onbeforeprint onbeforeunload onblur onerror onfocus onhashchange onload onmessage onoffline ononline onpagehide onpageshow onpopstate onresize onscroll onstorage onunload\",r),a(\"address dt dd div caption\",\"\",r),a(\"h1 h2 h3 h4 h5 h6 pre p abbr code var samp kbd sub sup i b u bdo span legend em strong small s cite dfn\",\"\",n),a(\"blockquote\",\"cite\",r),a(\"ol\",\"reversed start type\",\"li\"),a(\"ul\",\"\",\"li\"),a(\"li\",\"value\",r),a(\"dl\",\"\",\"dt dd\"),a(\"a\",\"href target rel media hreflang type\",n),a(\"q\",\"cite\",n),a(\"ins del\",\"cite datetime\",r),a(\"img\",\"src sizes srcset alt usemap ismap width height\"),a(\"iframe\",\"src name width height\",r),a(\"embed\",\"src type width height\"),a(\"object\",\"data type typemustmatch name usemap form width height\",[r,\"param\"].join(\" \")),a(\"param\",\"name value\"),a(\"map\",\"name\",[r,\"area\"].join(\" \")),a(\"area\",\"alt coords shape href target rel media hreflang type\"),a(\"table\",\"border\",\"caption colgroup thead tfoot tbody tr\"+(\"html4\"===e?\" col\":\"\")),a(\"colgroup\",\"span\",\"col\"),a(\"col\",\"span\"),a(\"tbody thead tfoot\",\"\",\"tr\"),a(\"tr\",\"\",\"td th\"),a(\"td\",\"colspan rowspan headers\",r),a(\"th\",\"colspan rowspan headers scope abbr\",r),a(\"form\",\"accept-charset action autocomplete enctype method name novalidate target\",r),a(\"fieldset\",\"disabled form name\",[r,\"legend\"].join(\" \")),a(\"label\",\"form for\",n),a(\"input\",\"accept alt autocomplete checked dirname disabled form formaction formenctype formmethod formnovalidate formtarget height list max maxlength min multiple name pattern readonly required size src step type value width\"),a(\"button\",\"disabled form formaction formenctype formmethod formnovalidate formtarget name type value\",\"html4\"===e?r:n),a(\"select\",\"disabled form multiple name required size\",\"option optgroup\"),a(\"optgroup\",\"disabled label\",\"option\"),a(\"option\",\"disabled label selected value\"),a(\"textarea\",\"cols dirname disabled form maxlength name readonly required rows wrap\"),a(\"menu\",\"type label\",[r,\"li\"].join(\" \")),a(\"noscript\",\"\",r),\"html4\"!==e&&(a(\"wbr\"),a(\"ruby\",\"\",[n,\"rt rp\"].join(\" \")),a(\"figcaption\",\"\",r),a(\"mark rt rp summary bdi\",\"\",n),a(\"canvas\",\"width height\",r),a(\"video\",\"src crossorigin poster preload autoplay mediagroup loop muted controls width height buffered\",[r,\"track source\"].join(\" \")),a(\"audio\",\"src crossorigin preload autoplay mediagroup loop muted controls buffered volume\",[r,\"track source\"].join(\" \")),a(\"picture\",\"\",\"img source\"),a(\"source\",\"src srcset type media sizes\"),a(\"track\",\"kind src srclang label default\"),a(\"datalist\",\"\",[n,\"option\"].join(\" \")),a(\"article section nav aside main header footer\",\"\",r),a(\"hgroup\",\"\",\"h1 h2 h3 h4 h5 h6\"),a(\"figure\",\"\",[r,\"figcaption\"].join(\" \")),a(\"time\",\"datetime\",n),a(\"dialog\",\"open\",r),a(\"command\",\"type label icon disabled checked radiogroup command\"),a(\"output\",\"for form name\",n),a(\"progress\",\"value max\",n),a(\"meter\",\"value min max low high optimum\",n),a(\"details\",\"open\",[r,\"summary\"].join(\" \")),a(\"keygen\",\"autofocus challenge disabled form keytype name\")),\"html5-strict\"!==e&&(u(\"script\",\"language xml:space\"),u(\"style\",\"xml:space\"),u(\"object\",\"declare classid code codebase codetype archive standby align border hspace vspace\"),u(\"embed\",\"align name hspace vspace\"),u(\"param\",\"valuetype type\"),u(\"a\",\"charset name rev shape coords\"),u(\"br\",\"clear\"),u(\"applet\",\"codebase archive code object alt name width height align hspace vspace\"),u(\"img\",\"name longdesc align border hspace vspace\"),u(\"iframe\",\"longdesc frameborder marginwidth marginheight scrolling align\"),u(\"font basefont\",\"size color face\"),u(\"input\",\"usemap align\"),u(\"select\"),u(\"textarea\"),u(\"h1 h2 h3 h4 h5 h6 div p legend caption\",\"align\"),u(\"ul\",\"type compact\"),u(\"li\",\"type\"),u(\"ol dl menu dir\",\"compact\"),u(\"pre\",\"width xml:space\"),u(\"hr\",\"align noshade size width\"),u(\"isindex\",\"prompt\"),u(\"table\",\"summary width frame rules cellspacing cellpadding align bgcolor\"),u(\"col\",\"width align char charoff valign\"),u(\"colgroup\",\"width align char charoff valign\"),u(\"thead\",\"align char charoff valign\"),u(\"tr\",\"align char charoff valign bgcolor\"),u(\"th\",\"axis align char charoff valign nowrap bgcolor width height\"),u(\"form\",\"accept\"),u(\"td\",\"abbr axis scope align char charoff valign nowrap bgcolor width height\"),u(\"tfoot\",\"align char charoff valign\"),u(\"tbody\",\"align char charoff valign\"),u(\"area\",\"nohref\"),u(\"body\",\"background bgcolor text link vlink alink\")),\"html4\"!==e&&(u(\"input button select textarea\",\"autofocus\"),u(\"input textarea\",\"placeholder\"),u(\"a\",\"download\"),u(\"link script img\",\"crossorigin\"),u(\"img\",\"loading\"),u(\"iframe\",\"sandbox seamless allowfullscreen loading\")),mi(vi(\"a form meter progress dfn\"),function(e){c[e]&&delete c[e].children[e]}),delete c.caption.children.table,delete c.script,li[e]=c)},bi=function(e,n){var r;return e&&(r={},\"string\"==typeof e&&(e={\"*\":e}),mi(e,function(e,t){r[t]=r[t.toUpperCase()]=(\"map\"===n?di:gi)(e,/[, ]/)})),r};function Ci(i){var S={},u={},N=[],s={},t={},e=function(e,t,n){var r=i[e];return r?r=di(r,/[, ]/,di(r.toUpperCase(),/[, ]/)):(r=li[e])||(r=di(t,\" \",di(t.toUpperCase(),\" \")),r=pi(r,n),li[e]=r),r},n=yi((i=i||{}).schema);!1===i.verify_html&&(i.valid_elements=\"*[*]\");var r=bi(i.valid_styles),o=bi(i.invalid_styles,\"map\"),a=bi(i.valid_classes,\"map\"),c=e(\"whitespace_elements\",\"pre script noscript style textarea video audio iframe object code\"),l=e(\"self_closing_elements\",\"colgroup dd dt li option p td tfoot th thead tr\"),f=e(\"short_ended_elements\",\"area base basefont br col frame hr img input isindex link meta param embed source wbr track\"),d=e(\"boolean_attributes\",\"checked compact declare defer disabled ismap multiple nohref noresize noshade nowrap readonly selected autoplay loop controls\"),m=\"td th iframe video audio object script code\",p=e(\"non_empty_elements\",m+\" pre\",f),g=e(\"move_caret_before_on_enter_elements\",m+\" table\",f),h=e(\"text_block_elements\",\"h1 h2 h3 h4 h5 h6 p div address pre form blockquote center dir fieldset header footer article section hgroup aside main nav figure\"),v=e(\"block_elements\",\"hr table tbody thead tfoot th tr td li ol ul caption dl dt dd noscript menu isindex option datalist select optgroup figcaption details summary\",h),y=e(\"text_inline_elements\",\"span strong b em i font strike u var cite dfn code mark q sup sub samp\");mi((i.special||\"script noscript iframe noframes noembed title style textarea xmp\").split(\" \"),function(e){t[e]=new RegExp(\"</\"+e+\"[^>]*>\",\"gi\")});var E=function(e){return new RegExp(\"^\"+e.replace(/([?+*])/g,\".$1\")+\"$\")},b=function(e){var t,n,r,o,i,a,u,s,c,l,f,d,m,p,g,h,v,y,b=/^([#+\\-])?([^\\[!\\/]+)(?:\\/([^\\[!]+))?(?:(!?)\\[([^\\]]+)])?$/,C=/^([!\\-])?(\\w+[\\\\:]:\\w+|[^=:<]+)?(?:([=:<])(.*))?$/,w=/[*?+]/;if(e){var x=vi(e,\",\");for(S[\"@\"]&&(h=S[\"@\"].attributes,v=S[\"@\"].attributesOrder),t=0,n=x.length;t<n;t++)if(i=b.exec(x[t])){if(p=i[1],c=i[2],g=i[3],s=i[5],a={attributes:d={},attributesOrder:m=[]},\"#\"===p&&(a.paddEmpty=!0),\"-\"===p&&(a.removeEmpty=!0),\"!\"===i[4]&&(a.removeEmptyAttrs=!0),h&&(ue(h,function(e,t){d[t]=e}),m.push.apply(m,v)),s)for(r=0,o=(s=vi(s,\"|\")).length;r<o;r++)if(i=C.exec(s[r])){if(u={},f=i[1],l=i[2].replace(/[\\\\:]:/g,\":\"),p=i[3],y=i[4],\"!\"===f&&(a.attributesRequired=a.attributesRequired||[],a.attributesRequired.push(l),u.required=!0),\"-\"===f){delete d[l],m.splice(hi(m,l),1);continue}p&&(\"=\"===p&&(a.attributesDefault=a.attributesDefault||[],a.attributesDefault.push({name:l,value:y}),u.defaultValue=y),\":\"===p&&(a.attributesForced=a.attributesForced||[],a.attributesForced.push({name:l,value:y}),u.forcedValue=y),\"<\"===p&&(u.validValues=di(y,\"?\"))),w.test(l)?(a.attributePatterns=a.attributePatterns||[],u.pattern=E(l),a.attributePatterns.push(u)):(d[l]||m.push(l),d[l]=u)}h||\"@\"!==c||(h=d,v=m),g&&(a.outputName=c,S[g]=a),w.test(c)?(a.pattern=E(c),N.push(a)):S[c]=a}}},C=function(e){S={},N=[],b(e),mi(n,function(e,t){u[t]=e.children})},w=function(e){var a=/^(~)?(.+)$/;e&&(li.text_block_elements=li.block_elements=null,mi(vi(e,\",\"),function(e){var t,n=a.exec(e),r=\"~\"===n[1],o=r?\"span\":\"div\",i=n[2];u[i]=u[o],s[i]=o,r||(v[i.toUpperCase()]={},v[i]={}),S[i]||(t=S[o],delete(t=pi({},t)).removeEmptyAttrs,delete t.removeEmpty,S[i]=t),mi(u,function(e,t){e[o]&&(u[t]=e=pi({},u[t]),e[i]=e[o])})}))},x=function(e){var o=/^([+\\-]?)([A-Za-z0-9_\\-.\\u00b7\\u00c0-\\u00d6\\u00d8-\\u00f6\\u00f8-\\u037d\\u037f-\\u1fff\\u200c-\\u200d\\u203f-\\u2040\\u2070-\\u218f\\u2c00-\\u2fef\\u3001-\\ud7ff\\uf900-\\ufdcf\\ufdf0-\\ufffd]+)\\[([^\\]]+)]$/;li[i.schema]=null,e&&mi(vi(e,\",\"),function(e){var t,n,r=o.exec(e);r&&(n=r[1],t=n?u[r[2]]:u[r[2]]={\"#comment\":{}},t=u[r[2]],mi(vi(r[3],\"|\"),function(e){\"-\"===n?delete t[e]:t[e]={}}))})},k=function(e){var t,n=S[e];if(n)return n;for(t=N.length;t--;)if((n=N[t]).pattern.test(e))return n};i.valid_elements?C(i.valid_elements):(mi(n,function(e,t){S[t]={attributes:e.attributes,attributesOrder:e.attributesOrder},u[t]=e.children}),\"html5\"!==i.schema&&mi(vi(\"strong/b em/i\"),function(e){var t=vi(e,\"/\");S[t[1]].outputName=t[0]}),mi(vi(\"ol ul sub sup blockquote span font a table tbody strong em b i\"),function(e){S[e]&&(S[e].removeEmpty=!0)}),mi(vi(\"p h1 h2 h3 h4 h5 h6 th td pre div address caption li\"),function(e){S[e].paddEmpty=!0}),mi(vi(\"span\"),function(e){S[e].removeEmptyAttrs=!0})),w(i.custom_elements),x(i.valid_children),b(i.extended_valid_elements),x(\"+ol[ul|ol],+ul[ul|ol]\"),mi({dd:\"dl\",dt:\"dl\",li:\"ul ol\",td:\"tr\",th:\"tr\",tr:\"tbody thead tfoot\",tbody:\"table\",thead:\"table\",tfoot:\"table\",legend:\"fieldset\",area:\"map\",param:\"video audio object\"},function(e,t){S[t]&&(S[t].parentsRequired=vi(e))}),i.invalid_elements&&mi(gi(i.invalid_elements),function(e){S[e]&&delete S[e]}),k(\"span\")||b(\"span[!data-mce-type|*]\");return{children:u,elements:S,getValidStyles:function(){return r},getValidClasses:function(){return a},getBlockElements:function(){return v},getInvalidStyles:function(){return o},getShortEndedElements:function(){return f},getTextBlockElements:function(){return h},getTextInlineElements:function(){return y},getBoolAttrs:function(){return d},getElementRule:k,getSelfClosingElements:function(){return l},getNonEmptyElements:function(){return p},getMoveCaretBeforeOnEnterElements:function(){return g},getWhiteSpaceElements:function(){return c},getSpecialElements:function(){return t},isValidChild:function(e,t){var n=u[e.toLowerCase()];return!(!n||!n[t.toLowerCase()])},isValid:function(e,t){var n,r,o=k(e);if(o){if(!t)return!0;if(o.attributes[t])return!0;if(n=o.attributePatterns)for(r=n.length;r--;)if(n[r].pattern.test(e))return!0}return!1},getCustomElements:function(){return s},addValidElements:b,setValidElements:C,addCustomElements:w,addValidChildren:x}}var wi=function(e,t,n,r){var o=function(e){return 1<(e=parseInt(e,10).toString(16)).length?e:\"0\"+e};return\"#\"+o(t)+o(n)+o(r)},xi=function(b,e){var s,c,C=/rgb\\s*\\(\\s*([0-9]+)\\s*,\\s*([0-9]+)\\s*,\\s*([0-9]+)\\s*\\)/gi,w=/(?:url(?:(?:\\(\\s*\\\"([^\\\"]+)\\\"\\s*\\))|(?:\\(\\s*\\'([^\\']+)\\'\\s*\\))|(?:\\(\\s*([^)\\s]+)\\s*\\))))|(?:\\'([^\\']+)\\')|(?:\\\"([^\\\"]+)\\\")/gi,x=/\\s*([^:]+):\\s*([^;]+);?/g,S=/\\s+$/,N={},E=co;b=b||{},e&&(s=e.getValidStyles(),c=e.getInvalidStyles());for(var t=(\"\\\\\\\" \\\\' \\\\; \\\\: ; : \"+E).split(\" \"),k=0;k<t.length;k++)N[t[k]]=E+k,N[E+k]=t[k];return{toHex:function(e){return e.replace(C,wi)},parse:function(e){var t,n,r,o,i,a,u,s,c={},l=b.url_converter,f=b.url_converter_scope||this,d=function(e,t,n){var r=c[e+\"-top\"+t];if(r){var o=c[e+\"-right\"+t];if(o){var i=c[e+\"-bottom\"+t];if(i){var a=c[e+\"-left\"+t];if(a){var u=[r,o,i,a];for(k=u.length-1;k--&&u[k]===u[k+1];);-1<k&&n||(c[e+t]=-1===k?u[0]:u.join(\" \"),delete c[e+\"-top\"+t],delete c[e+\"-right\"+t],delete c[e+\"-bottom\"+t],delete c[e+\"-left\"+t])}}}}},m=function(e){var t,n=c[e];if(n){for(t=(n=n.split(\" \")).length;t--;)if(n[t]!==n[0])return!1;return c[e]=n[0],!0}},p=function(e){return o=!0,N[e]},g=function(e,t){return o&&(e=e.replace(/\\uFEFF[0-9]/g,function(e){return N[e]})),t||(e=e.replace(/\\\\([\\'\\\";:])/g,\"$1\")),e},h=function(e){return String.fromCharCode(parseInt(e.slice(1),16))},v=function(e){return e.replace(/\\\\[0-9a-f]+/gi,h)},y=function(e,t,n,r,o,i){if(o=o||i)return\"'\"+(o=g(o)).replace(/\\'/g,\"\\\\'\")+\"'\";if(t=g(t||n||r),!b.allow_script_urls){var a=t.replace(/[\\s\\r\\n]+/g,\"\");if(/(java|vb)script:/i.test(a))return\"\";if(!b.allow_svg_data_urls&&/^data:image\\/svg/i.test(a))return\"\"}return l&&(t=l.call(f,t,\"style\")),\"url('\"+t.replace(/\\'/g,\"\\\\'\")+\"')\"};if(e){for(e=(e=e.replace(/[\\u0000-\\u001F]/g,\"\")).replace(/\\\\[\\\"\\';:\\uFEFF]/g,p).replace(/\\\"[^\\\"]+\\\"|\\'[^\\']+\\'/g,function(e){return e.replace(/[;:]/g,p)});t=x.exec(e);)if(x.lastIndex=t.index+t[0].length,n=t[1].replace(S,\"\").toLowerCase(),r=t[2].replace(S,\"\"),n&&r){if(n=v(n),r=v(r),-1!==n.indexOf(E)||-1!==n.indexOf('\"'))continue;if(!b.allow_script_urls&&(\"behavior\"===n||/expression\\s*\\(|\\/\\*|\\*\\//.test(r)))continue;\"font-weight\"===n&&\"700\"===r?r=\"bold\":\"color\"!==n&&\"background-color\"!==n||(r=r.toLowerCase()),r=(r=r.replace(C,wi)).replace(w,y),c[n]=o?g(r,!0):r}d(\"border\",\"\",!0),d(\"border\",\"-width\"),d(\"border\",\"-color\"),d(\"border\",\"-style\"),d(\"padding\",\"\"),d(\"margin\",\"\"),i=\"border\",u=\"border-style\",s=\"border-color\",m(a=\"border-width\")&&m(u)&&m(s)&&(c[i]=c[a]+\" \"+c[u]+\" \"+c[s],delete c[a],delete c[u],delete c[s]),\"medium none\"===c.border&&delete c.border,\"none\"===c[\"border-image\"]&&delete c[\"border-image\"]}return c},serialize:function(i,a){var u=\"\",e=function(e){var t,n=s[e];if(n)for(var r=0,o=n.length;r<o;r++)e=n[r],(t=i[e])&&(u+=(0<u.length?\" \":\"\")+e+\": \"+t+\";\")};return a&&s?(e(\"*\"),e(a)):ue(i,function(e,t){var n,r,o;!e||c&&(n=t,r=a,(o=c[\"*\"])&&o[n]||(o=c[r])&&o[n])||(u+=(0<u.length?\" \":\"\")+t+\": \"+e+\";\")}),u}}},Si=/^(?:mouse|contextmenu)|click/,Ni={keyLocation:1,layerX:1,layerY:1,returnValue:1,webkitMovementX:1,webkitMovementY:1,keyIdentifier:1,mozPressure:1},Ei=function(){return!1},ki=function(){return!0},_i=function(e,t,n,r){e.addEventListener?e.addEventListener(t,n,r||!1):e.attachEvent&&e.attachEvent(\"on\"+t,n)},Ai=function(e,t,n,r){e.removeEventListener?e.removeEventListener(t,n,r||!1):e.detachEvent&&e.detachEvent(\"on\"+t,n)},Ri=function(e,t){var n,r,o,i,a,u,s=t||{};for(n in e)Ni[n]||(s[n]=e[n]);return s.target||(s.target=s.srcElement||document),s.composedPath&&(s.composedPath=function(){return e.composedPath()}),e&&(a=e,Si.test(a.type))&&e.pageX===undefined&&e.clientX!==undefined&&(o=(r=s.target.ownerDocument||document).documentElement,i=r.body,s.pageX=e.clientX+(o&&o.scrollLeft||i&&i.scrollLeft||0)-(o&&o.clientLeft||i&&i.clientLeft||0),s.pageY=e.clientY+(o&&o.scrollTop||i&&i.scrollTop||0)-(o&&o.clientTop||i&&i.clientTop||0)),s.preventDefault=function(){s.isDefaultPrevented=ki,e&&(e.preventDefault?e.preventDefault():e.returnValue=!1)},s.stopPropagation=function(){s.isPropagationStopped=ki,e&&(e.stopPropagation?e.stopPropagation():e.cancelBubble=!0)},!(s.stopImmediatePropagation=function(){s.isImmediatePropagationStopped=ki,s.stopPropagation()})==((u=s).isDefaultPrevented===ki||u.isDefaultPrevented===Ei)&&(s.isDefaultPrevented=Ei,s.isPropagationStopped=Ei,s.isImmediatePropagationStopped=Ei),\"undefined\"==typeof s.metaKey&&(s.metaKey=!1),s},Ti=(Di.prototype.bind=function(e,t,n,r){var o,i,a,u,s,c,l=this,f=window,d=function(e){l.executeHandlers(Ri(e||f.event),o)};if(e&&3!==e.nodeType&&8!==e.nodeType){e[l.expando]?o=e[l.expando]:(o=l.count++,e[l.expando]=o,l.events[o]={}),r=r||e;for(var m=t.split(\" \"),p=m.length;p--;)s=d,u=c=!1,\"DOMContentLoaded\"===(a=m[p])&&(a=\"ready\"),l.domLoaded&&\"ready\"===a&&\"complete\"===e.readyState?n.call(r,Ri({type:a})):(l.hasMouseEnterLeave||(u=l.mouseEnterLeave[a])&&(s=function(e){var t=e.currentTarget,n=e.relatedTarget;if(n&&t.contains)n=t.contains(n);else for(;n&&n!==t;)n=n.parentNode;n||((e=Ri(e||f.event)).type=\"mouseout\"===e.type?\"mouseleave\":\"mouseenter\",e.target=t,l.executeHandlers(e,o))}),l.hasFocusIn||\"focusin\"!==a&&\"focusout\"!==a||(c=!0,u=\"focusin\"===a?\"focus\":\"blur\",s=function(e){(e=Ri(e||f.event)).type=\"focus\"===e.type?\"focusin\":\"focusout\",l.executeHandlers(e,o)}),(i=l.events[o][a])?\"ready\"===a&&l.domLoaded?n(Ri({type:a})):i.push({func:n,scope:r}):(l.events[o][a]=i=[{func:n,scope:r}],i.fakeName=u,i.capture=c,i.nativeHandler=s,\"ready\"===a?function(e,t,n){var r,o=e.document,i={type:\"ready\"};n.domLoaded?t(i):(r=function(){Ai(e,\"DOMContentLoaded\",r),Ai(e,\"load\",r),n.domLoaded||(n.domLoaded=!0,t(i)),e=null},\"complete\"===o.readyState||\"interactive\"===o.readyState&&o.body?r():_i(e,\"DOMContentLoaded\",r),n.domLoaded||_i(e,\"load\",r))}(e,s,l):_i(e,u||a,s,c)));return e=i=null,n}},Di.prototype.unbind=function(n,e,t){var r,o,i;if(!n||3===n.nodeType||8===n.nodeType)return this;var a=n[this.expando];if(a){if(i=this.events[a],e){for(var u,s,c,l,f=e.split(\" \"),d=f.length;d--;)if(l=i[o=f[d]]){if(t)for(r=l.length;r--;)l[r].func===t&&(u=l.nativeHandler,s=l.fakeName,c=l.capture,(l=l.slice(0,r).concat(l.slice(r+1))).nativeHandler=u,l.fakeName=s,l.capture=c,i[o]=l);t&&0!==l.length||(delete i[o],Ai(n,l.fakeName||o,l.nativeHandler,l.capture))}}else ue(i,function(e,t){Ai(n,e.fakeName||t,e.nativeHandler,e.capture)}),i={};for(o in i)if(he(i,o))return this;delete this.events[a];try{delete n[this.expando]}catch(m){n[this.expando]=null}}return this},Di.prototype.fire=function(e,t,n){var r;if(!e||3===e.nodeType||8===e.nodeType)return this;var o=Ri(null,n);for(o.type=t,o.target=e;(r=e[this.expando])&&this.executeHandlers(o,r),(e=e.parentNode||e.ownerDocument||e.defaultView||e.parentWindow)&&!o.isPropagationStopped(););return this},Di.prototype.clean=function(e){var t,n;if(!e||3===e.nodeType||8===e.nodeType)return this;if(e[this.expando]&&this.unbind(e),e.getElementsByTagName||(e=e.document),e&&e.getElementsByTagName)for(this.unbind(e),t=(n=e.getElementsByTagName(\"*\")).length;t--;)(e=n[t])[this.expando]&&this.unbind(e);return this},Di.prototype.destroy=function(){this.events={}},Di.prototype.cancel=function(e){return e&&(e.preventDefault(),e.stopImmediatePropagation()),!1},Di.prototype.executeHandlers=function(e,t){var n=this.events[t],r=n&&n[e.type];if(r)for(var o=0,i=r.length;o<i;o++){var a=r[o];if(a&&!1===a.func.call(a.scope,e)&&e.preventDefault(),e.isImmediatePropagationStopped())return}},Di.Event=new Di,Di);function Di(){this.domLoaded=!1,this.events={},this.count=1,this.expando=\"mce-data-\"+(+new Date).toString(32),this.hasMouseEnterLeave=\"onmouseenter\"in document.documentElement,this.hasFocusIn=\"onfocusin\"in document.documentElement,this.count=1}var Oi,Bi,Pi,Li,Ii,Mi,Fi,Ui,zi,ji,Hi,Vi,qi,$i,Wi,Ki,Xi,Yi=\"sizzle\"+-new Date,Gi=window.document,Ji=0,Qi=0,Zi=Da(),ea=Da(),ta=Da(),na=function(e,t){return e===t&&(ji=!0),0},ra=typeof undefined,oa={}.hasOwnProperty,ia=[],aa=ia.pop,ua=ia.push,sa=ia.push,ca=ia.slice,la=ia.indexOf||function(e){for(var t=0,n=this.length;t<n;t++)if(this[t]===e)return t;return-1},fa=\"[\\\\x20\\\\t\\\\r\\\\n\\\\f]\",da=\"(?:\\\\\\\\.|[\\\\w-]|[^\\\\x00-\\\\xa0])+\",ma=\"\\\\[\"+fa+\"*(\"+da+\")(?:\"+fa+\"*([*^$|!~]?=)\"+fa+\"*(?:'((?:\\\\\\\\.|[^\\\\\\\\'])*)'|\\\"((?:\\\\\\\\.|[^\\\\\\\\\\\"])*)\\\"|(\"+da+\"))|)\"+fa+\"*\\\\]\",pa=\":(\"+da+\")(?:\\\\((('((?:\\\\\\\\.|[^\\\\\\\\'])*)'|\\\"((?:\\\\\\\\.|[^\\\\\\\\\\\"])*)\\\")|((?:\\\\\\\\.|[^\\\\\\\\()[\\\\]]|\"+ma+\")*)|.*)\\\\)|)\",ga=new RegExp(\"^\"+fa+\"+|((?:^|[^\\\\\\\\])(?:\\\\\\\\.)*)\"+fa+\"+$\",\"g\"),ha=new RegExp(\"^\"+fa+\"*,\"+fa+\"*\"),va=new RegExp(\"^\"+fa+\"*([>+~]|\"+fa+\")\"+fa+\"*\"),ya=new RegExp(\"=\"+fa+\"*([^\\\\]'\\\"]*?)\"+fa+\"*\\\\]\",\"g\"),ba=new RegExp(pa),Ca=new RegExp(\"^\"+da+\"$\"),wa={ID:new RegExp(\"^#(\"+da+\")\"),CLASS:new RegExp(\"^\\\\.(\"+da+\")\"),TAG:new RegExp(\"^(\"+da+\"|[*])\"),ATTR:new RegExp(\"^\"+ma),PSEUDO:new RegExp(\"^\"+pa),CHILD:new RegExp(\"^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\\\(\"+fa+\"*(even|odd|(([+-]|)(\\\\d*)n|)\"+fa+\"*(?:([+-]|)\"+fa+\"*(\\\\d+)|))\"+fa+\"*\\\\)|)\",\"i\"),bool:new RegExp(\"^(?:checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped)$\",\"i\"),needsContext:new RegExp(\"^\"+fa+\"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\\\(\"+fa+\"*((?:-\\\\d)?\\\\d*)\"+fa+\"*\\\\)|)(?=[^-]|$)\",\"i\")},xa=/^(?:input|select|textarea|button)$/i,Sa=/^h\\d$/i,Na=/^[^{]+\\{\\s*\\[native \\w/,Ea=/^(?:#([\\w-]+)|(\\w+)|\\.([\\w-]+))$/,ka=/[+~]/,_a=/'|\\\\/g,Aa=new RegExp(\"\\\\\\\\([\\\\da-f]{1,6}\"+fa+\"?|(\"+fa+\")|.)\",\"ig\"),Ra=function(e,t,n){var r=\"0x\"+t-65536;return r!=r||n?t:r<0?String.fromCharCode(65536+r):String.fromCharCode(r>>10|55296,1023&r|56320)};try{sa.apply(ia=ca.call(Gi.childNodes),Gi.childNodes),ia[Gi.childNodes.length].nodeType}catch(Ok){sa={apply:ia.length?function(e,t){ua.apply(e,ca.call(t))}:function(e,t){for(var n=e.length,r=0;e[n++]=t[r++];);e.length=n-1}}}var Ta=function(e,t,n,r){var o,i,a,u,s,c,l,f,d,m;if((t?t.ownerDocument||t:Gi)!==Vi&&Hi(t),n=n||[],!e||\"string\"!=typeof e)return n;if(1!==(u=(t=t||Vi).nodeType)&&9!==u)return[];if($i&&!r){if(o=Ea.exec(e))if(a=o[1]){if(9===u){if(!(i=t.getElementById(a))||!i.parentNode)return n;if(i.id===a)return n.push(i),n}else if(t.ownerDocument&&(i=t.ownerDocument.getElementById(a))&&Xi(t,i)&&i.id===a)return n.push(i),n}else{if(o[2])return sa.apply(n,t.getElementsByTagName(e)),n;if((a=o[3])&&Oi.getElementsByClassName)return sa.apply(n,t.getElementsByClassName(a)),n}if(Oi.qsa&&(!Wi||!Wi.test(e))){if(f=l=Yi,d=t,m=9===u&&e,1===u&&\"object\"!==t.nodeName.toLowerCase()){for(c=Ii(e),(l=t.getAttribute(\"id\"))?f=l.replace(_a,\"\\\\$&\"):t.setAttribute(\"id\",f),f=\"[id='\"+f+\"'] \",s=c.length;s--;)c[s]=f+Ma(c[s]);d=ka.test(e)&&La(t.parentNode)||t,m=c.join(\",\")}if(m)try{return sa.apply(n,d.querySelectorAll(m)),n}catch(p){}finally{l||t.removeAttribute(\"id\")}}}return Fi(e.replace(ga,\"$1\"),t,n,r)};function Da(){var n=[];function r(e,t){return n.push(e+\" \")>Bi.cacheLength&&delete r[n.shift()],r[e+\" \"]=t}return r}function Oa(e){return e[Yi]=!0,e}function Ba(e,t){var n=t&&e,r=n&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||1<<31)-(~e.sourceIndex||1<<31);if(r)return r;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function Pa(a){return Oa(function(i){return i=+i,Oa(function(e,t){for(var n,r=a([],e.length,i),o=r.length;o--;)e[n=r[o]]&&(e[n]=!(t[n]=e[n]))})})}function La(e){return e&&typeof e.getElementsByTagName!=ra&&e}function Ia(){}function Ma(e){for(var t=0,n=e.length,r=\"\";t<n;t++)r+=e[t].value;return r}function Fa(a,e,t){var u=e.dir,s=t&&\"parentNode\"===u,c=Qi++;return e.first?function(e,t,n){for(;e=e[u];)if(1===e.nodeType||s)return a(e,t,n)}:function(e,t,n){var r,o,i=[Ji,c];if(n){for(;e=e[u];)if((1===e.nodeType||s)&&a(e,t,n))return!0}else for(;e=e[u];)if(1===e.nodeType||s){if((r=(o=e[Yi]||(e[Yi]={}))[u])&&r[0]===Ji&&r[1]===c)return i[2]=r[2];if((o[u]=i)[2]=a(e,t,n))return!0}}}function Ua(o){return 1<o.length?function(e,t,n){for(var r=o.length;r--;)if(!o[r](e,t,n))return!1;return!0}:o[0]}function za(e,t,n,r,o){for(var i,a=[],u=0,s=e.length,c=null!=t;u<s;u++)(i=e[u])&&(n&&!n(i,r,o)||(a.push(i),c&&t.push(u)));return a}function ja(m,p,g,h,v,e){return h&&!h[Yi]&&(h=ja(h)),v&&!v[Yi]&&(v=ja(v,e)),Oa(function(e,t,n,r){var o,i,a,u=[],s=[],c=t.length,l=e||function(e,t,n){for(var r=0,o=t.length;r<o;r++)Ta(e,t[r],n);return n}(p||\"*\",n.nodeType?[n]:n,[]),f=!m||!e&&p?l:za(l,u,m,n,r),d=g?v||(e?m:c||h)?[]:t:f;if(g&&g(f,d,n,r),h)for(o=za(d,s),h(o,[],n,r),i=o.length;i--;)(a=o[i])&&(d[s[i]]=!(f[s[i]]=a));if(e){if(v||m){if(v){for(o=[],i=d.length;i--;)(a=d[i])&&o.push(f[i]=a);v(null,d=[],o,r)}for(i=d.length;i--;)(a=d[i])&&-1<(o=v?la.call(e,a):u[i])&&(e[o]=!(t[o]=a))}}else d=za(d===t?d.splice(c,d.length):d),v?v(null,t,d,r):sa.apply(t,d)})}Oi=Ta.support={},Li=Ta.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return!!t&&\"HTML\"!==t.nodeName},Hi=Ta.setDocument=function(e){var t,s=e?e.ownerDocument||e:Gi,n=s.defaultView;return s!==Vi&&9===s.nodeType&&s.documentElement?(qi=(Vi=s).documentElement,$i=!Li(s),n&&n!==function(e){try{return e.top}catch(t){}return null}(n)&&(n.addEventListener?n.addEventListener(\"unload\",function(){Hi()},!1):n.attachEvent&&n.attachEvent(\"onunload\",function(){Hi()})),Oi.attributes=!0,Oi.getElementsByTagName=!0,Oi.getElementsByClassName=Na.test(s.getElementsByClassName),Oi.getById=!0,Bi.find.ID=function(e,t){if(typeof t.getElementById!=ra&&$i){var n=t.getElementById(e);return n&&n.parentNode?[n]:[]}},Bi.filter.ID=function(e){var t=e.replace(Aa,Ra);return function(e){return e.getAttribute(\"id\")===t}},Bi.find.TAG=Oi.getElementsByTagName?function(e,t){if(typeof t.getElementsByTagName!=ra)return t.getElementsByTagName(e)}:function(e,t){var n,r=[],o=0,i=t.getElementsByTagName(e);if(\"*\"!==e)return i;for(;n=i[o++];)1===n.nodeType&&r.push(n);return r},Bi.find.CLASS=Oi.getElementsByClassName&&function(e,t){if($i)return t.getElementsByClassName(e)},Ki=[],Wi=[],Oi.disconnectedMatch=!0,Wi=Wi.length&&new RegExp(Wi.join(\"|\")),Ki=Ki.length&&new RegExp(Ki.join(\"|\")),t=Na.test(qi.compareDocumentPosition),Xi=t||Na.test(qi.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,r=t&&t.parentNode;return e===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):e.compareDocumentPosition&&16&e.compareDocumentPosition(r)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},na=t?function(e,t){if(e===t)return ji=!0,0;var n=!e.compareDocumentPosition-!t.compareDocumentPosition;return n||(1&(n=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!Oi.sortDetached&&t.compareDocumentPosition(e)===n?e===s||e.ownerDocument===Gi&&Xi(Gi,e)?-1:t===s||t.ownerDocument===Gi&&Xi(Gi,t)?1:zi?la.call(zi,e)-la.call(zi,t):0:4&n?-1:1)}:function(e,t){if(e===t)return ji=!0,0;var n,r=0,o=e.parentNode,i=t.parentNode,a=[e],u=[t];if(!o||!i)return e===s?-1:t===s?1:o?-1:i?1:zi?la.call(zi,e)-la.call(zi,t):0;if(o===i)return Ba(e,t);for(n=e;n=n.parentNode;)a.unshift(n);for(n=t;n=n.parentNode;)u.unshift(n);for(;a[r]===u[r];)r++;return r?Ba(a[r],u[r]):a[r]===Gi?-1:u[r]===Gi?1:0},s):Vi},Ta.matches=function(e,t){return Ta(e,null,null,t)},Ta.matchesSelector=function(e,t){if((e.ownerDocument||e)!==Vi&&Hi(e),t=t.replace(ya,\"='$1']\"),Oi.matchesSelector&&$i&&(!Ki||!Ki.test(t))&&(!Wi||!Wi.test(t)))try{var n=(void 0).call(e,t);if(n||Oi.disconnectedMatch||e.document&&11!==e.document.nodeType)return n}catch(Ok){}return 0<Ta(t,Vi,null,[e]).length},Ta.contains=function(e,t){return(e.ownerDocument||e)!==Vi&&Hi(e),Xi(e,t)},Ta.attr=function(e,t){(e.ownerDocument||e)!==Vi&&Hi(e);var n=Bi.attrHandle[t.toLowerCase()],r=n&&oa.call(Bi.attrHandle,t.toLowerCase())?n(e,t,!$i):undefined;return r!==undefined?r:Oi.attributes||!$i?e.getAttribute(t):(r=e.getAttributeNode(t))&&r.specified?r.value:null},Ta.error=function(e){throw new Error(\"Syntax error, unrecognized expression: \"+e)},Ta.uniqueSort=function(e){var t,n=[],r=0,o=0;if(ji=!Oi.detectDuplicates,zi=!Oi.sortStable&&e.slice(0),e.sort(na),ji){for(;t=e[o++];)t===e[o]&&(r=n.push(o));for(;r--;)e.splice(n[r],1)}return zi=null,e},Pi=Ta.getText=function(e){var t,n=\"\",r=0,o=e.nodeType;if(o){if(1===o||9===o||11===o){if(\"string\"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=Pi(e)}else if(3===o||4===o)return e.nodeValue}else for(;t=e[r++];)n+=Pi(t);return n},(Bi=Ta.selectors={cacheLength:50,createPseudo:Oa,match:wa,attrHandle:{},find:{},relative:{\">\":{dir:\"parentNode\",first:!0},\" \":{dir:\"parentNode\"},\"+\":{dir:\"previousSibling\",first:!0},\"~\":{dir:\"previousSibling\"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(Aa,Ra),e[3]=(e[3]||e[4]||e[5]||\"\").replace(Aa,Ra),\"~=\"===e[2]&&(e[3]=\" \"+e[3]+\" \"),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),\"nth\"===e[1].slice(0,3)?(e[3]||Ta.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*(\"even\"===e[3]||\"odd\"===e[3])),e[5]=+(e[7]+e[8]||\"odd\"===e[3])):e[3]&&Ta.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return wa.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||\"\":n&&ba.test(n)&&(t=Ii(n,!0))&&(t=n.indexOf(\")\",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(Aa,Ra).toLowerCase();return\"*\"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=Zi[e+\" \"];return t||(t=new RegExp(\"(^|\"+fa+\")\"+e+\"(\"+fa+\"|$)\"))&&Zi(e,function(e){return t.test(\"string\"==typeof e.className&&e.className||typeof e.getAttribute!=ra&&e.getAttribute(\"class\")||\"\")})},ATTR:function(n,r,o){return function(e){var t=Ta.attr(e,n);return null==t?\"!=\"===r:!r||(t+=\"\",\"=\"===r?t===o:\"!=\"===r?t!==o:\"^=\"===r?o&&0===t.indexOf(o):\"*=\"===r?o&&-1<t.indexOf(o):\"$=\"===r?o&&t.slice(-o.length)===o:\"~=\"===r?-1<(\" \"+t+\" \").indexOf(o):\"|=\"===r&&(t===o||t.slice(0,o.length+1)===o+\"-\"))}},CHILD:function(m,e,t,p,g){var h=\"nth\"!==m.slice(0,3),v=\"last\"!==m.slice(-4),y=\"of-type\"===e;return 1===p&&0===g?function(e){return!!e.parentNode}:function(e,t,n){var r,o,i,a,u,s,c=h!=v?\"nextSibling\":\"previousSibling\",l=e.parentNode,f=y&&e.nodeName.toLowerCase(),d=!n&&!y;if(l){if(h){for(;c;){for(i=e;i=i[c];)if(y?i.nodeName.toLowerCase()===f:1===i.nodeType)return!1;s=c=\"only\"===m&&!s&&\"nextSibling\"}return!0}if(s=[v?l.firstChild:l.lastChild],v&&d){for(u=(r=(o=l[Yi]||(l[Yi]={}))[m]||[])[0]===Ji&&r[1],a=r[0]===Ji&&r[2],i=u&&l.childNodes[u];i=++u&&i&&i[c]||(a=u=0)||s.pop();)if(1===i.nodeType&&++a&&i===e){o[m]=[Ji,u,a];break}}else if(d&&(r=(e[Yi]||(e[Yi]={}))[m])&&r[0]===Ji)a=r[1];else for(;(i=++u&&i&&i[c]||(a=u=0)||s.pop())&&((y?i.nodeName.toLowerCase()!==f:1!==i.nodeType)||!++a||(d&&((i[Yi]||(i[Yi]={}))[m]=[Ji,a]),i!==e)););return(a-=g)===p||a%p==0&&0<=a/p}}},PSEUDO:function(e,i){var t,a=Bi.pseudos[e]||Bi.setFilters[e.toLowerCase()]||Ta.error(\"unsupported pseudo: \"+e);return a[Yi]?a(i):1<a.length?(t=[e,e,\"\",i],Bi.setFilters.hasOwnProperty(e.toLowerCase())?Oa(function(e,t){for(var n,r=a(e,i),o=r.length;o--;)e[n=la.call(e,r[o])]=!(t[n]=r[o])}):function(e){return a(e,0,t)}):a}},pseudos:{not:Oa(function(e){var r=[],o=[],u=Mi(e.replace(ga,\"$1\"));return u[Yi]?Oa(function(e,t,n,r){for(var o,i=u(e,null,r,[]),a=e.length;a--;)(o=i[a])&&(e[a]=!(t[a]=o))}):function(e,t,n){return r[0]=e,u(r,null,n,o),!o.pop()}}),has:Oa(function(t){return function(e){return 0<Ta(t,e).length}}),contains:Oa(function(t){return t=t.replace(Aa,Ra),function(e){return-1<(e.textContent||e.innerText||Pi(e)).indexOf(t)}}),lang:Oa(function(n){return Ca.test(n||\"\")||Ta.error(\"unsupported lang: \"+n),n=n.replace(Aa,Ra).toLowerCase(),function(e){var t;do{if(t=$i?e.lang:e.getAttribute(\"xml:lang\")||e.getAttribute(\"lang\"))return(t=t.toLowerCase())===n||0===t.indexOf(n+\"-\")}while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var t=window.location&&window.location.hash;return t&&t.slice(1)===e.id},root:function(e){return e===qi},focus:function(e){return e===Vi.activeElement&&(!Vi.hasFocus||Vi.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return!1===e.disabled},disabled:function(e){return!0===e.disabled},checked:function(e){var t=e.nodeName.toLowerCase();return\"input\"===t&&!!e.checked||\"option\"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!Bi.pseudos.empty(e)},header:function(e){return Sa.test(e.nodeName)},input:function(e){return xa.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return\"input\"===t&&\"button\"===e.type||\"button\"===t},text:function(e){var t;return\"input\"===e.nodeName.toLowerCase()&&\"text\"===e.type&&(null==(t=e.getAttribute(\"type\"))||\"text\"===t.toLowerCase())},first:Pa(function(){return[0]}),last:Pa(function(e,t){return[t-1]}),eq:Pa(function(e,t,n){return[n<0?n+t:n]}),even:Pa(function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e}),odd:Pa(function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e}),lt:Pa(function(e,t,n){for(var r=n<0?n+t:n;0<=--r;)e.push(r);return e}),gt:Pa(function(e,t,n){for(var r=n<0?n+t:n;++r<t;)e.push(r);return e})}}).pseudos.nth=Bi.pseudos.eq,W([\"radio\",\"checkbox\",\"file\",\"password\",\"image\"],function(e){var t;Bi.pseudos[e]=(t=e,function(e){return\"input\"===e.nodeName.toLowerCase()&&e.type===t})}),W([\"submit\",\"reset\"],function(e){var n;Bi.pseudos[e]=(n=e,function(e){var t=e.nodeName.toLowerCase();return(\"input\"===t||\"button\"===t)&&e.type===n})}),Ia.prototype=Bi.filters=Bi.pseudos,Bi.setFilters=new Ia,Ii=Ta.tokenize=function(e,t){var n,r,o,i,a,u,s,c=ea[e+\" \"];if(c)return t?0:c.slice(0);for(a=e,u=[],s=Bi.preFilter;a;){for(i in n&&!(r=ha.exec(a))||(r&&(a=a.slice(r[0].length)||a),u.push(o=[])),n=!1,(r=va.exec(a))&&(n=r.shift(),o.push({value:n,type:r[0].replace(ga,\" \")}),a=a.slice(n.length)),Bi.filter)Bi.filter.hasOwnProperty(i)&&(!(r=wa[i].exec(a))||s[i]&&!(r=s[i](r))||(n=r.shift(),o.push({value:n,type:i,matches:r}),a=a.slice(n.length)));if(!n)break}return t?a.length:a?Ta.error(e):ea(e,u).slice(0)},Mi=Ta.compile=function(e,t){var n,h,v,y,b,r,o=[],i=[],a=ta[e+\" \"];if(!a){for(n=(t=t||Ii(e)).length;n--;)(a=function f(e){for(var r,t,n,o=e.length,i=Bi.relative[e[0].type],a=i||Bi.relative[\" \"],u=i?1:0,s=Fa(function(e){return e===r},a,!0),c=Fa(function(e){return-1<la.call(r,e)},a,!0),l=[function(e,t,n){return!i&&(n||t!==Ui)||((r=t).nodeType?s:c)(e,t,n)}];u<o;u++)if(t=Bi.relative[e[u].type])l=[Fa(Ua(l),t)];else{if((t=Bi.filter[e[u].type].apply(null,e[u].matches))[Yi]){for(n=++u;n<o&&!Bi.relative[e[n].type];n++);return ja(1<u&&Ua(l),1<u&&Ma(e.slice(0,u-1).concat({value:\" \"===e[u-2].type?\"*\":\"\"})).replace(ga,\"$1\"),t,u<n&&f(e.slice(u,n)),n<o&&f(e=e.slice(n)),n<o&&Ma(e))}l.push(t)}return Ua(l)}(t[n]))[Yi]?o.push(a):i.push(a);(a=ta(e,(h=i,y=0<(v=o).length,b=0<h.length,r=function(e,t,n,r,o){var i,a,u,s=0,c=\"0\",l=e&&[],f=[],d=Ui,m=e||b&&Bi.find.TAG(\"*\",o),p=Ji+=null==d?1:Math.random()||.1,g=m.length;for(o&&(Ui=t!==Vi&&t);c!==g&&null!=(i=m[c]);c++){if(b&&i){for(a=0;u=h[a++];)if(u(i,t,n)){r.push(i);break}o&&(Ji=p)}y&&((i=!u&&i)&&s--,e&&l.push(i))}if(s+=c,y&&c!==s){for(a=0;u=v[a++];)u(l,f,t,n);if(e){if(0<s)for(;c--;)l[c]||f[c]||(f[c]=aa.call(r));f=za(f)}sa.apply(r,f),o&&!e&&0<f.length&&1<s+v.length&&Ta.uniqueSort(r)}return o&&(Ji=p,Ui=d),l},y?Oa(r):r))).selector=e}return a},Fi=Ta.select=function(e,t,n,r){var o,i,a,u,s,c=\"function\"==typeof e&&e,l=!r&&Ii(e=c.selector||e);if(n=n||[],1===l.length){if(2<(i=l[0]=l[0].slice(0)).length&&\"ID\"===(a=i[0]).type&&Oi.getById&&9===t.nodeType&&$i&&Bi.relative[i[1].type]){if(!(t=(Bi.find.ID(a.matches[0].replace(Aa,Ra),t)||[])[0]))return n;c&&(t=t.parentNode),e=e.slice(i.shift().value.length)}for(o=wa.needsContext.test(e)?0:i.length;o--&&(a=i[o],!Bi.relative[u=a.type]);)if((s=Bi.find[u])&&(r=s(a.matches[0].replace(Aa,Ra),ka.test(i[0].type)&&La(t.parentNode)||t))){if(i.splice(o,1),!(e=r.length&&Ma(i)))return sa.apply(n,r),n;break}}return(c||Mi(e,l))(r,t,!$i,n,ka.test(e)&&La(t.parentNode)||t),n},Oi.sortStable=Yi.split(\"\").sort(na).join(\"\")===Yi,Oi.detectDuplicates=!!ji,Hi(),Oi.sortDetached=!0;var Ha=document,Va=Array.prototype.push,qa=Array.prototype.slice,$a=/^(?:[^#<]*(<[\\w\\W]+>)[^>]*$|#([\\w\\-]*)$)/,Wa=Ti.Event,Ka=kt.makeMap(\"children,contents,next,prev\"),Xa=function(e){return void 0!==e},Ya=function(e){return\"string\"==typeof e},Ga=function(e,t){var n,r=(t=t||Ha).createElement(\"div\"),o=t.createDocumentFragment();for(r.innerHTML=e;n=r.firstChild;)o.appendChild(n);return o},Ja=function(e,t,n,r){var o;if(Ya(t))t=Ga(t,fu(e[0]));else if(t.length&&!t.nodeType){if(t=hu.makeArray(t),r)for(o=t.length-1;0<=o;o--)Ja(e,t[o],n,r);else for(o=0;o<t.length;o++)Ja(e,t[o],n,r);return e}if(t.nodeType)for(o=e.length;o--;)n.call(e[o],t);return e},Qa=function(e,t){return e&&t&&-1!==(\" \"+e.className+\" \").indexOf(\" \"+t+\" \")},Za=function(e,t,n){var r,o;return t=hu(t)[0],e.each(function(){n&&r===this.parentNode||(r=this.parentNode,o=t.cloneNode(!1),this.parentNode.insertBefore(o,this)),o.appendChild(this)}),e},eu=kt.makeMap(\"fillOpacity fontWeight lineHeight opacity orphans widows zIndex zoom\",\" \"),tu=kt.makeMap(\"checked compact declare defer disabled ismap multiple nohref noshade nowrap readonly selected\",\" \"),nu={\"for\":\"htmlFor\",\"class\":\"className\",readonly:\"readOnly\"},ru={\"float\":\"cssFloat\"},ou={},iu={},au=function(e,t){return new hu.fn.init(e,t)},uu=/^\\s*|\\s*$/g,su=function(e){return null===e||e===undefined?\"\":(\"\"+e).replace(uu,\"\")},cu=function(e,t){var n,r,o,i;if(e)if((n=e.length)===undefined){for(r in e)if(e.hasOwnProperty(r)&&(i=e[r],!1===t.call(i,r,i)))break}else for(o=0;o<n&&(i=e[o],!1!==t.call(i,o,i));o++);return e},lu=function(e,n){var r=[];return cu(e,function(e,t){n(t,e)&&r.push(t)}),r},fu=function(e){return e?9===e.nodeType?e:e.ownerDocument:Ha};au.fn=au.prototype={constructor:au,selector:\"\",context:null,length:0,init:function(e,t){var n,r,o=this;if(!e)return o;if(e.nodeType)return o.context=o[0]=e,o.length=1,o;if(t&&t.nodeType)o.context=t;else{if(t)return hu(e).attr(t);o.context=t=document}if(Ya(e)){if(!(n=\"<\"===(o.selector=e).charAt(0)&&\">\"===e.charAt(e.length-1)&&3<=e.length?[null,e,null]:$a.exec(e)))return hu(t).find(e);if(n[1])for(r=Ga(e,fu(t)).firstChild;r;)Va.call(o,r),r=r.nextSibling;else{if(!(r=fu(t).getElementById(n[2])))return o;if(r.id!==n[2])return o.find(e);o.length=1,o[0]=r}}else this.add(e,!1);return o},toArray:function(){return kt.toArray(this)},add:function(e,t){var n,r;if(Ya(e))return this.add(hu(e));if(!1!==t)for(n=hu.unique(this.toArray().concat(hu.makeArray(e))),this.length=n.length,r=0;r<n.length;r++)this[r]=n[r];else Va.apply(this,hu.makeArray(e));return this},attr:function(t,n){var e,r=this;if(\"object\"==typeof t)cu(t,function(e,t){r.attr(e,t)});else{if(!Xa(n)){if(r[0]&&1===r[0].nodeType){if((e=ou[t])&&e.get)return e.get(r[0],t);if(tu[t])return r.prop(t)?t:undefined;null===(n=r[0].getAttribute(t,2))&&(n=undefined)}return n}this.each(function(){var e;if(1===this.nodeType){if((e=ou[t])&&e.set)return void e.set(this,n);null===n?this.removeAttribute(t,2):this.setAttribute(t,n,2)}})}return r},removeAttr:function(e){return this.attr(e,null)},prop:function(e,t){var n=this;if(\"object\"==typeof(e=nu[e]||e))cu(e,function(e,t){n.prop(e,t)});else{if(!Xa(t))return n[0]&&n[0].nodeType&&e in n[0]?n[0][e]:t;this.each(function(){1===this.nodeType&&(this[e]=t)})}return n},css:function(n,r){var e,o,i=this,t=function(e){return e.replace(/-(\\D)/g,function(e,t){return t.toUpperCase()})},a=function(e){return e.replace(/[A-Z]/g,function(e){return\"-\"+e})};if(\"object\"==typeof n)cu(n,function(e,t){i.css(e,t)});else if(Xa(r))n=t(n),\"number\"!=typeof r||eu[n]||(r=r.toString()+\"px\"),i.each(function(){var e=this.style;if((o=iu[n])&&o.set)o.set(this,r);else{try{this.style[ru[n]||n]=r}catch(t){}null!==r&&\"\"!==r||(e.removeProperty?e.removeProperty(a(n)):e.removeAttribute(n))}});else{if(e=i[0],(o=iu[n])&&o.get)return o.get(e);if(!e.ownerDocument.defaultView)return e.currentStyle?e.currentStyle[t(n)]:\"\";try{return e.ownerDocument.defaultView.getComputedStyle(e,null).getPropertyValue(a(n))}catch(u){return undefined}}return i},remove:function(){for(var e,t=this.length;t--;)e=this[t],Wa.clean(e),e.parentNode&&e.parentNode.removeChild(e);return this},empty:function(){for(var e,t=this.length;t--;)for(e=this[t];e.firstChild;)e.removeChild(e.firstChild);return this},html:function(e){var t;if(Xa(e)){t=this.length;try{for(;t--;)this[t].innerHTML=e}catch(n){hu(this[t]).empty().append(e)}return this}return this[0]?this[0].innerHTML:\"\"},text:function(e){var t;if(Xa(e)){for(t=this.length;t--;)\"innerText\"in this[t]?this[t].innerText=e:this[0].textContent=e;return this}return this[0]?this[0].innerText||this[0].textContent:\"\"},append:function(){return Ja(this,arguments,function(e){(1===this.nodeType||this.host&&1===this.host.nodeType)&&this.appendChild(e)})},prepend:function(){return Ja(this,arguments,function(e){(1===this.nodeType||this.host&&1===this.host.nodeType)&&this.insertBefore(e,this.firstChild)},!0)},before:function(){return this[0]&&this[0].parentNode?Ja(this,arguments,function(e){this.parentNode.insertBefore(e,this)}):this},after:function(){return this[0]&&this[0].parentNode?Ja(this,arguments,function(e){this.parentNode.insertBefore(e,this.nextSibling)},!0):this},appendTo:function(e){return hu(e).append(this),this},prependTo:function(e){return hu(e).prepend(this),this},replaceWith:function(e){return this.before(e).remove()},wrap:function(e){return Za(this,e)},wrapAll:function(e){return Za(this,e,!0)},wrapInner:function(e){return this.each(function(){hu(this).contents().wrapAll(e)}),this},unwrap:function(){return this.parent().each(function(){hu(this).replaceWith(this.childNodes)})},clone:function(){var e=[];return this.each(function(){e.push(this.cloneNode(!0))}),hu(e)},addClass:function(e){return this.toggleClass(e,!0)},removeClass:function(e){return this.toggleClass(e,!1)},toggleClass:function(o,i){var e=this;return\"string\"!=typeof o||(-1!==o.indexOf(\" \")?cu(o.split(\" \"),function(){e.toggleClass(this,i)}):e.each(function(e,t){var n,r=Qa(t,o);r!==i&&(n=t.className,r?t.className=su((\" \"+n+\" \").replace(\" \"+o+\" \",\" \")):t.className+=n?\" \"+o:o)})),e},hasClass:function(e){return Qa(this[0],e)},each:function(e){return cu(this,e)},on:function(e,t){return this.each(function(){Wa.bind(this,e,t)})},off:function(e,t){return this.each(function(){Wa.unbind(this,e,t)})},trigger:function(e){return this.each(function(){\"object\"==typeof e?Wa.fire(this,e.type,e):Wa.fire(this,e)})},show:function(){return this.css(\"display\",\"\")},hide:function(){return this.css(\"display\",\"none\")},slice:function(){return new hu(qa.apply(this,arguments))},eq:function(e){return-1===e?this.slice(e):this.slice(e,+e+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},find:function(e){for(var t=[],n=0,r=this.length;n<r;n++)hu.find(e,this[n],t);return hu(t)},filter:function(n){return hu(\"function\"==typeof n?lu(this.toArray(),function(e,t){return n(t,e)}):hu.filter(n,this.toArray()))},closest:function(n){var r=[];return n instanceof hu&&(n=n[0]),this.each(function(e,t){for(;t;){if(\"string\"==typeof n&&hu(t).is(n)){r.push(t);break}if(t===n){r.push(t);break}t=t.parentNode}}),hu(r)},offset:function(e){var t,n,r,o,i=0,a=0;return e?this.css(e):((t=this[0])&&(r=(n=t.ownerDocument).documentElement,t.getBoundingClientRect&&(i=(o=t.getBoundingClientRect()).left+(r.scrollLeft||n.body.scrollLeft)-r.clientLeft,a=o.top+(r.scrollTop||n.body.scrollTop)-r.clientTop)),{left:i,top:a})},push:Va,sort:Array.prototype.sort,splice:Array.prototype.splice},kt.extend(au,{extend:kt.extend,makeArray:function(e){return(t=e)&&t===t.window||e.nodeType?[e]:kt.toArray(e);var t},inArray:function(e,t){var n;if(t.indexOf)return t.indexOf(e);for(n=t.length;n--;)if(t[n]===e)return n;return-1},isArray:kt.isArray,each:cu,trim:su,grep:lu,find:Ta,expr:Ta.selectors,unique:Ta.uniqueSort,text:Ta.getText,contains:Ta.contains,filter:function(e,t,n){var r=t.length;for(n&&(e=\":not(\"+e+\")\");r--;)1!==t[r].nodeType&&t.splice(r,1);return t=1===t.length?hu.find.matchesSelector(t[0],e)?[t[0]]:[]:hu.find.matches(e,t)}});var du=function(e,t,n){var r=[],o=e[t];for(\"string\"!=typeof n&&n instanceof hu&&(n=n[0]);o&&9!==o.nodeType;){if(n!==undefined){if(o===n)break;if(\"string\"==typeof n&&hu(o).is(n))break}1===o.nodeType&&r.push(o),o=o[t]}return r},mu=function(e,t,n,r){var o=[];for(r instanceof hu&&(r=r[0]);e;e=e[t])if(!n||e.nodeType===n){if(r!==undefined){if(e===r)break;if(\"string\"==typeof r&&hu(e).is(r))break}o.push(e)}return o},pu=function(e,t,n){for(e=e[t];e;e=e[t])if(e.nodeType===n)return e;return null};cu({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return du(e,\"parentNode\")},next:function(e){return pu(e,\"nextSibling\",1)},prev:function(e){return pu(e,\"previousSibling\",1)},children:function(e){return mu(e.firstChild,\"nextSibling\",1)},contents:function(e){return kt.toArray((\"iframe\"===e.nodeName?e.contentDocument||e.contentWindow.document:e).childNodes)}},function(r,o){au.fn[r]=function(t){var n=[];this.each(function(){var e=o.call(n,this,t,n);e&&(hu.isArray(e)?n.push.apply(n,e):n.push(e))}),1<this.length&&(Ka[r]||(n=hu.unique(n)),0===r.indexOf(\"parents\")&&(n=n.reverse()));var e=hu(n);return t?e.filter(t):e}}),cu({parentsUntil:function(e,t){return du(e,\"parentNode\",t)},nextUntil:function(e,t){return mu(e,\"nextSibling\",1,t).slice(1)},prevUntil:function(e,t){return mu(e,\"previousSibling\",1,t).slice(1)}},function(o,i){au.fn[o]=function(t,e){var n=[];this.each(function(){var e=i.call(n,this,t,n);e&&(hu.isArray(e)?n.push.apply(n,e):n.push(e))}),1<this.length&&(n=hu.unique(n),0!==o.indexOf(\"parents\")&&\"prevUntil\"!==o||(n=n.reverse()));var r=hu(n);return e?r.filter(e):r}}),au.fn.is=function(e){return!!e&&0<this.filter(e).length},au.fn.init.prototype=au.fn,au.overrideDefaults=function(n){var r,o=function(e,t){return r=r||n(),0===arguments.length&&(e=r.element),t=t||r.context,new o.fn.init(e,t)};return hu.extend(o,this),o},au.attrHooks=ou,au.cssHooks=iu;var gu,hu=au,vu=kt.each,yu=kt.grep,bu=wt.ie,Cu=/^([a-z0-9],?)+$/i,wu=function(n,r,o){var i=r.keep_values,e={set:function(e,t,n){r.url_converter&&(t=r.url_converter.call(r.url_converter_scope||o(),t,n,e[0])),e.attr(\"data-mce-\"+n,t).attr(n,t)},get:function(e,t){return e.attr(\"data-mce-\"+t)||e.attr(t)}},t={style:{set:function(e,t){null===t||\"object\"!=typeof t?(i&&e.attr(\"data-mce-style\",t),null!==t&&\"string\"==typeof t?(e.removeAttr(\"style\"),e.css(n.parse(t))):e.attr(\"style\",t)):e.css(t)},get:function(e){var t=e.attr(\"data-mce-style\")||e.attr(\"style\");return t=n.serialize(n.parse(t),e[0].nodeName)}}};return i&&(t.href=t.src=e),t},xu=function(e,t){var n=t.attr(\"style\"),r=(r=e.serialize(e.parse(n),t[0].nodeName))||null;t.attr(\"data-mce-style\",r)},Su=function(e,t){var n,r,o=0;if(e)for(n=e.nodeType,e=e.previousSibling;e;e=e.previousSibling)r=e.nodeType,(!t||3!==r||r!==n&&e.nodeValue.length)&&(o++,n=r);return o};function Nu(a,u){var s=this;void 0===u&&(u={});var r={},c=window,n={},t=0,o=Kr.forElement(At.fromDom(a),{contentCssCors:u.contentCssCors,referrerPolicy:u.referrerPolicy}),l=[],f=u.schema?u.schema:Ci({}),i=xi({url_converter:u.url_converter,url_converter_scope:u.url_converter_scope},u.schema),d=u.ownEvents?new Ti:Ti.Event,m=f.getBlockElements(),p=hu.overrideDefaults(function(){return{context:a,element:j.getRoot()}}),g=function(e){return e&&a&&q(e)?a.getElementById(e):e},h=function(e){return p(\"string\"==typeof e?g(e):e)},v=function(e,t,n){var r,o,i=h(e);return i.length&&(o=(r=H[t])&&r.get?r.get(i,t):i.attr(t)),void 0===o&&(o=n||\"\"),o},y=function(e){var t=g(e);return t?t.attributes:[]},b=function(e,t,n){\"\"===n&&(n=null);var r,o=h(e),i=o.attr(t);o.length&&((r=H[t])&&r.set?r.set(o,n,t):o.attr(t,n),i!==n&&u.onSetAttrib&&u.onSetAttrib({attrElm:o,attrName:t,attrValue:n}))},C=function(){return u.root_element||a.body},w=function(e,t){return ur(a.body,g(e),t)},x=function(e,t,n){var r=h(e);return n?r.css(t):(\"float\"===(t=t.replace(/-(\\D)/g,function(e,t){return t.toUpperCase()}))&&(t=wt.browser.isIE()?\"styleFloat\":\"cssFloat\"),r[0]&&r[0].style?r[0].style[t]:undefined)},S=function(e){var t,n;return e=g(e),t=x(e,\"width\"),n=x(e,\"height\"),-1===t.indexOf(\"px\")&&(t=0),-1===n.indexOf(\"px\")&&(n=0),{w:parseInt(t,10)||e.offsetWidth||e.clientWidth,h:parseInt(n,10)||e.offsetHeight||e.clientHeight}},N=function(e,t){if(!e)return!1;if(!Array.isArray(e)){if(\"*\"===t)return 1===e.nodeType;if(Cu.test(t)){for(var n=t.toLowerCase().split(/,/),r=e.nodeName.toLowerCase(),o=n.length-1;0<=o;o--)if(n[o]===r)return!0;return!1}if(e.nodeType&&1!==e.nodeType)return!1}var i=Array.isArray(e)?e:[e];return 0<Ta(t,i[0].ownerDocument||i[0],null,i).length},E=function(e,t,n,r){var o,i=[],a=g(e);for(r=r===undefined,n=n||(\"BODY\"!==C().nodeName?C().parentNode:null),kt.is(t,\"string\")&&(t=\"*\"===(o=t)?function(e){return 1===e.nodeType}:function(e){return N(e,o)});a&&!(a===n||$(a.nodeType)||Fn(a)||Un(a));){if(!t||\"function\"==typeof t&&t(a)){if(!r)return[a];i.push(a)}a=a.parentNode}return r?i:null},k=function(e,t,n){var r=t;if(e)for(\"string\"==typeof t&&(r=function(e){return N(e,t)}),e=e[n];e;e=e[n])if(\"function\"==typeof r&&r(e))return e;return null},_=function(e,n,r){var o,t=\"string\"==typeof e?g(e):e;if(!t)return!1;if(kt.isArray(t)&&(t.length||0===t.length))return o=[],vu(t,function(e,t){e&&o.push(n.call(r,\"string\"==typeof e?g(e):e,t))}),o;var i=r||s;return n.call(i,t)},A=function(e,t){h(e).each(function(e,n){vu(t,function(e,t){b(n,t,e)})})},R=function(e,r){var t=h(e);bu?t.each(function(e,t){if(!1!==t.canHaveHTML){for(;t.firstChild;)t.removeChild(t.firstChild);try{t.innerHTML=\"<br>\"+r,t.removeChild(t.firstChild)}catch(n){hu(\"<div></div>\").html(\"<br>\"+r).contents().slice(1).appendTo(t)}return r}}):t.html(r)},T=function(e,n,r,o,i){return _(e,function(e){var t=\"string\"==typeof n?a.createElement(n):n;return A(t,r),o&&(\"string\"!=typeof o&&o.nodeType?t.appendChild(o):\"string\"==typeof o&&R(t,o)),i?t:e.appendChild(t)})},D=function(e,t,n){return T(a.createElement(e),e,t,n,!0)},e=ci.decode,O=ci.encodeAllRaw,B=function(e,t){var n=h(e);return t?n.each(function(){for(var e;e=this.firstChild;)3===e.nodeType&&0===e.data.length?this.removeChild(e):this.parentNode.insertBefore(e,this)}).remove():n.remove(),1<n.length?n.toArray():n[0]},P=function(e,t,n){h(e).toggleClass(t,n).each(function(){\"\"===this.className&&hu(this).attr(\"class\",null)})},L=function(t,e,n){return _(e,function(e){return kt.is(e,\"array\")&&(t=t.cloneNode(!0)),n&&vu(yu(e.childNodes),function(e){t.appendChild(e)}),e.parentNode.replaceChild(t,e)})},I=function(e){if(An(e)){var t=\"a\"===e.nodeName.toLowerCase()&&!v(e,\"href\")&&v(e,\"id\");if(v(e,\"name\")||v(e,\"data-mce-bookmark\")||t)return!0}return!1},M=function(){return a.createRange()},F=function(e,t,n,r){if(kt.isArray(e)){for(var o=e.length,i=[];o--;)i[o]=F(e[o],t,n,r);return i}return!u.collect||e!==a&&e!==c||l.push([e,t,n,r]),d.bind(e,t,n,r||j)},U=function(e,t,n){if(kt.isArray(e)){for(var r=e.length,o=[];r--;)o[r]=U(e[r],t,n);return o}if(0<l.length&&(e===a||e===c))for(r=l.length;r--;){var i=l[r];e!==i[0]||t&&t!==i[1]||n&&n!==i[2]||d.unbind(i[0],i[1],i[2])}return d.unbind(e,t,n)},z=function(e){if(e&&An(e)){var t=e.getAttribute(\"data-mce-contenteditable\");return t&&\"inherit\"!==t?t:\"inherit\"!==e.contentEditable?e.contentEditable:null}return null},j={doc:a,settings:u,win:c,files:n,stdMode:!0,boxModel:!0,styleSheetLoader:o,boundEvents:l,styles:i,schema:f,events:d,isBlock:function(e){if(\"string\"==typeof e)return!!m[e];if(e){var t=e.nodeType;if(t)return!(1!==t||!m[e.nodeName])}return!1},$:p,$$:h,root:null,clone:function(t,e){if(!bu||1!==t.nodeType||e)return t.cloneNode(e);var n=a.createElement(t.nodeName);return vu(y(t),function(e){b(n,e.nodeName,v(t,e.nodeName))}),n},getRoot:C,getViewPort:function(e){var t=En(e);return{x:t.x,y:t.y,w:t.width,h:t.height}},getRect:function(e){e=g(e);var t=w(e),n=S(e);return{x:t.x,y:t.y,w:n.w,h:n.h}},getSize:S,getParent:function(e,t,n){var r=E(e,t,n,!1);return r&&0<r.length?r[0]:null},getParents:E,get:g,getNext:function(e,t){return k(e,t,\"nextSibling\")},getPrev:function(e,t){return k(e,t,\"previousSibling\")},select:function(e,t){return Ta(e,g(t)||u.root_element||a,[])},is:N,add:T,create:D,createHTML:function(e,t,n){var r,o=\"\";for(r in o+=\"<\"+e,t)t.hasOwnProperty(r)&&null!==t[r]&&\"undefined\"!=typeof t[r]&&(o+=\" \"+r+'=\"'+O(t[r])+'\"');return void 0!==n?o+\">\"+n+\"</\"+e+\">\":o+\" />\"},createFragment:function(e){var t,n=a.createElement(\"div\"),r=a.createDocumentFragment();for(r.appendChild(n),e&&(n.innerHTML=e);t=n.firstChild;)r.appendChild(t);return r.removeChild(n),r},remove:B,setStyle:function(e,t,n){var r=q(t)?h(e).css(t,n):h(e).css(t);u.update_styles&&xu(i,r)},getStyle:x,setStyles:function(e,t){var n=h(e).css(t);u.update_styles&&xu(i,n)},removeAllAttribs:function(e){return _(e,function(e){for(var t=e.attributes,n=t.length-1;0<=n;n--)e.removeAttributeNode(t.item(n))})},setAttrib:b,setAttribs:A,getAttrib:v,getPos:w,parseStyle:function(e){return i.parse(e)},serializeStyle:function(e,t){return i.serialize(e,t)},addStyle:function(e){var t,n;if(j!==Nu.DOM&&a===document){if(r[e])return;r[e]=!0}(n=a.getElementById(\"mceDefaultStyles\"))||((n=a.createElement(\"style\")).id=\"mceDefaultStyles\",n.type=\"text/css\",(t=a.getElementsByTagName(\"head\")[0]).firstChild?t.insertBefore(n,t.firstChild):t.appendChild(n)),n.styleSheet?n.styleSheet.cssText+=e:n.appendChild(a.createTextNode(e))},loadCSS:function(e){W((e=e||\"\").split(\",\"),function(e){n[e]=!0,o.load(e,V)})},addClass:function(e,t){h(e).addClass(t)},removeClass:function(e,t){P(e,t,!1)},hasClass:function(e,t){return h(e).hasClass(t)},toggleClass:P,show:function(e){h(e).show()},hide:function(e){h(e).hide()},isHidden:function(e){return\"none\"===h(e).css(\"display\")},uniqueId:function(e){return(e||\"mce_\")+t++},setHTML:R,getOuterHTML:function(e){var t=\"string\"==typeof e?g(e):e;return An(t)?t.outerHTML:hu(\"<div></div>\").append(hu(t).clone()).html()},setOuterHTML:function(e,t){h(e).each(function(){try{if(\"outerHTML\"in this)return void(this.outerHTML=t)}catch(e){}B(hu(this).html(t),!0)})},decode:e,encode:O,insertAfter:function(e,t){var r=g(t);return _(e,function(e){var t=r.parentNode,n=r.nextSibling;return n?t.insertBefore(e,n):t.appendChild(e),e})},replace:L,rename:function(t,e){var n;return t.nodeName!==e.toUpperCase()&&(n=D(e),vu(y(t),function(e){b(n,e.nodeName,v(t,e.nodeName))}),L(n,t,!0)),n||t},findCommonAncestor:function(e,t){for(var n,r=e;r;){for(n=t;n&&r!==n;)n=n.parentNode;if(r===n)break;r=r.parentNode}return!r&&e.ownerDocument?e.ownerDocument.documentElement:r},toHex:function(e){return i.toHex(kt.trim(e))},run:_,getAttribs:y,isEmpty:function(e,t){var n,r,o=0;if(I(e))return!1;if(e=e.firstChild){var i=new Xr(e,e.parentNode),a=f?f.getWhiteSpaceElements():{};t=t||(f?f.getNonEmptyElements():null);do{if(n=e.nodeType,An(e)){var u=e.getAttribute(\"data-mce-bogus\");if(u){e=i.next(\"all\"===u);continue}if(r=e.nodeName.toLowerCase(),t&&t[r]){if(\"br\"!==r)return!1;o++,e=i.next();continue}if(I(e))return!1}if(8===n)return!1;if(3===n&&!Uo(e.nodeValue))return!1;if(3===n&&e.parentNode&&a[e.parentNode.nodeName]&&Uo(e.nodeValue))return!1;e=i.next()}while(e)}return o<=1},createRng:M,nodeIndex:Su,split:function(e,t,n){var r,o,i,a=M();if(e&&t)return a.setStart(e.parentNode,Su(e)),a.setEnd(t.parentNode,Su(t)),r=a.extractContents(),(a=M()).setStart(t.parentNode,Su(t)+1),a.setEnd(e.parentNode,Su(e)+1),o=a.extractContents(),(i=e.parentNode).insertBefore(Yo(j,r),e),n?i.insertBefore(n,e):i.insertBefore(t,e),i.insertBefore(Yo(j,o),e),B(e),n||t},bind:F,unbind:U,fire:function(e,t,n){return d.fire(e,t,n)},getContentEditable:z,getContentEditableParent:function(e){for(var t=C(),n=null;e&&e!==t&&null===(n=z(e));e=e.parentNode);return n},destroy:function(){if(0<l.length)for(var e=l.length;e--;){var t=l[e];d.unbind(t[0],t[1],t[2])}ue(n,function(e,t){o.unload(t),delete n[t]}),Ta.setDocument&&Ta.setDocument()},isChildOf:function(e,t){for(;e;){if(t===e)return!0;e=e.parentNode}return!1},dumpRng:function(e){return\"startContainer: \"+e.startContainer.nodeName+\", startOffset: \"+e.startOffset+\", endContainer: \"+e.endContainer.nodeName+\", endOffset: \"+e.endOffset}},H=wu(i,u,function(){return j});return j}(gu=Nu=Nu||{}).DOM=gu(document),gu.nodeIndex=Su;var Eu=Nu,ku=Eu.DOM,_u=kt.each,Au=kt.grep,Ru=(Tu.prototype._setReferrerPolicy=function(e){this.settings.referrerPolicy=e},Tu.prototype.loadScript=function(e,t,n){var r=ku,o=function(){r.remove(i),a&&(a.onerror=a.onload=a=null)},i=r.uniqueId(),a=document.createElement(\"script\");a.id=i,a.type=\"text/javascript\",a.src=kt._addCacheSuffix(e),this.settings.referrerPolicy&&r.setAttrib(a,\"referrerpolicy\",this.settings.referrerPolicy),a.onload=function(){o(),t()},a.onerror=function(){o(),T(n)?n():\"undefined\"!=typeof console&&console.log&&console.log(\"Failed to load script: \"+e)},(document.getElementsByTagName(\"head\")[0]||document.body).appendChild(a)},Tu.prototype.isDone=function(e){return 2===this.states[e]},Tu.prototype.markDone=function(e){this.states[e]=2},Tu.prototype.add=function(e,t,n,r){var o=this.states[e];this.queue.push(e),o===undefined&&(this.states[e]=0),t&&(this.scriptLoadedCallbacks[e]||(this.scriptLoadedCallbacks[e]=[]),this.scriptLoadedCallbacks[e].push({success:t,failure:r,scope:n||this}))},Tu.prototype.load=function(e,t,n,r){return this.add(e,t,n,r)},Tu.prototype.remove=function(e){delete this.states[e],delete this.scriptLoadedCallbacks[e]},Tu.prototype.loadQueue=function(e,t,n){this.loadScripts(this.queue,e,t,n)},Tu.prototype.loadScripts=function(n,e,t,r){var o=this,i=[],a=function(t,e){_u(o.scriptLoadedCallbacks[e],function(e){T(e[t])&&e[t].call(e.scope)}),o.scriptLoadedCallbacks[e]=undefined};o.queueLoadedCallbacks.push({success:e,failure:r,scope:t||this});var u=function(){var e,t=Au(n);n.length=0,_u(t,function(e){2!==o.states[e]?3!==o.states[e]?1!==o.states[e]&&(o.states[e]=1,o.loading++,o.loadScript(e,function(){o.states[e]=2,o.loading--,a(\"success\",e),u()},function(){o.states[e]=3,o.loading--,i.push(e),a(\"failure\",e),u()})):a(\"failure\",e):a(\"success\",e)}),o.loading||(e=o.queueLoadedCallbacks.slice(0),o.queueLoadedCallbacks.length=0,_u(e,function(e){0===i.length?T(e.success)&&e.success.call(e.scope):T(e.failure)&&e.failure.call(e.scope,i)}))};u()},Tu.ScriptLoader=new Tu,Tu);function Tu(e){void 0===e&&(e={}),this.states={},this.queue=[],this.scriptLoadedCallbacks={},this.queueLoadedCallbacks=[],this.loading=0,this.settings=e}var Du,Ou=function(e){var t=e;return{get:function(){return t},set:function(e){t=e}}},Bu={},Pu=Ou(\"en\"),Lu=function(){return ge(Bu,Pu.get())},Iu={getData:function(){return se(Bu,function(e){return ke({},e)})},setCode:function(e){e&&Pu.set(e)},getCode:function(){return Pu.get()},add:function(e,t){var n=Bu[e];n||(Bu[e]=n={}),ue(t,function(e,t){n[t.toLowerCase()]=e})},translate:function(e){var t,n,r=Lu().getOr({}),o=function(e){return T(e)?Object.prototype.toString.call(e):i(e)?\"\":\"\"+e},i=function(e){return\"\"===e||null===e||e===undefined},a=function(e){var t=o(e);return ge(r,t.toLowerCase()).map(o).getOr(t)},u=function(e){return e.replace(/{context:\\w+}$/,\"\")};if(i(e))return\"\";if(_(t=e)&&he(t,\"raw\"))return o(e.raw);if(S(n=e)&&1<n.length){var s=e.slice(1);return u(a(e[0]).replace(/\\{([0-9]+)\\}/g,function(e,t){return he(s,t)?o(s[t]):e}))}return u(a(e))},isRtl:function(){return Lu().bind(function(e){return ge(e,\"_dir\")}).exists(function(e){return\"rtl\"===e})},hasCode:function(e){return he(Bu,e)}};function Mu(){var r=this,o=[],s={},c={},i=[],l=function(t,n){var e=H(i,function(e){return e.name===t&&e.state===n});W(e,function(e){return e.callback()})},f=function(e){var t;return c[e]&&(t=c[e].dependencies),t||[]},d=function(e,t){return\"object\"==typeof t?t:\"string\"==typeof e?{prefix:\"\",resource:t,suffix:\"\"}:{prefix:e.prefix,resource:t,suffix:e.suffix}},m=function(o,i,a,u,e){var t,n;s[o]||(0!==(t=\"string\"==typeof i?i:i.prefix+i.resource+i.suffix).indexOf(\"/\")&&-1===t.indexOf(\"://\")&&(t=Mu.baseURL+\"/\"+t),s[o]=t.substring(0,t.lastIndexOf(\"/\")),n=function(){var n,e,t,r;l(o,\"loaded\"),n=i,e=a,t=u,r=f(o),W(r,function(e){var t=d(n,e);m(t.resource,t,undefined,undefined)}),e&&(t?e.call(t):e.call(Ru))},c[o]?n():Ru.ScriptLoader.add(t,n,u,e))},e=function(e,t,n){void 0===n&&(n=\"added\"),he(c,e)&&\"added\"===n||he(s,e)&&\"loaded\"===n?t():i.push({name:e,state:n,callback:t})};return{items:o,urls:s,lookup:c,_listeners:i,get:function(e){return c[e]?c[e].instance:undefined},dependencies:f,requireLangPack:function(t,n){!1!==Mu.languageLoad&&e(t,function(){var e=Iu.getCode();!e||n&&-1===(\",\"+(n||\"\")+\",\").indexOf(\",\"+e+\",\")||Ru.ScriptLoader.add(s[t]+\"/langs/\"+e+\".js\")},\"loaded\")},add:function(e,t,n){var r=t;return o.push(r),c[e]={instance:r,dependencies:n},l(e,\"added\"),r},remove:function(e){delete s[e],delete c[e]},createUrl:d,addComponents:function(e,t){var n=r.urls[e];W(t,function(e){Ru.ScriptLoader.add(n+\"/\"+e)})},load:m,waitFor:e}}(Du=Mu=Mu||{}).PluginManager=Du(),Du.ThemeManager=Du();var Fu,Uu=Mu,zu=function(n,r){var o=null;return{cancel:function(){null!==o&&(clearTimeout(o),o=null)},throttle:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];null===o&&(o=setTimeout(function(){n.apply(null,e),o=null},r))}}},ju=function(n,r){var o=null;return{cancel:function(){null!==o&&(clearTimeout(o),o=null)},throttle:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];null!==o&&clearTimeout(o),o=setTimeout(function(){n.apply(null,e),o=null},r)}}},Hu=function(e,t){var n=Gn(e,t);return n===undefined||\"\"===n?[]:n.split(\" \")},Vu=function(e){return e.dom.classList!==undefined},qu=function(e,t){return o=t,i=Hu(n=e,r=\"class\").concat([o]),Xn(n,r,i.join(\" \")),!0;var n,r,o,i},$u=function(e,t){return o=t,0<(i=H(Hu(n=e,r=\"class\"),function(e){return e!==o})).length?Xn(n,r,i.join(\" \")):Qn(n,r),!1;var n,r,o,i},Wu=function(e,t){Vu(e)?e.dom.classList.add(t):qu(e,t)},Ku=function(e){0===(Vu(e)?e.dom.classList:Hu(e,\"class\")).length&&Qn(e,\"class\")},Xu=function(e,t){return Vu(e)&&e.dom.classList.contains(t)},Yu=function(e,t){var n=[];return W(Gt(e),function(e){t(e)&&(n=n.concat([e])),n=n.concat(Yu(e,t))}),n},Gu=function(e,t){return n=t,o=(r=e)===undefined?document:r.dom,Dt(o)?[]:z(o.querySelectorAll(n),At.fromDom);var n,r,o},Ju=E(\"mce-annotation\"),Qu=E(\"data-mce-annotation\"),Zu=E(\"data-mce-annotation-uid\"),es=function(r,e){var t=r.selection.getRng(),n=At.fromDom(t.startContainer),o=At.fromDom(r.getBody()),i=e.fold(function(){return\".\"+Ju()},function(e){return\"[\"+Qu()+'=\"'+e+'\"]'}),a=Jt(n,t.startOffset).getOr(n),u=Or(a,i,function(e){return Ot(e,o)}),s=function(e,t){return n=t,(r=e.dom)&&r.hasAttribute&&r.hasAttribute(n)?U.some(Gn(e,t)):U.none();var n,r};return u.bind(function(e){return s(e,\"\"+Zu()).bind(function(n){return s(e,\"\"+Qu()).map(function(e){var t=ts(r,n);return{uid:n,name:e,elements:t}})})})},ts=function(e,t){var n=At.fromDom(e.getBody());return Gu(n,\"[\"+Zu()+'=\"'+t+'\"]')},ns=function(i,e){var a=Ou({}),c=function(e,t){u(e,function(e){return t(e),e})},u=function(e,t){var n=a.get(),r=t(n.hasOwnProperty(e)?n[e]:{listeners:[],previous:Ou(U.none())});n[e]=r,a.set(n)},t=ju(function(){var e,t,n,r=a.get(),o=(e=ie(r),(n=B.call(e,0)).sort(t),n);W(o,function(e){u(e,function(u){var s=u.previous.get();return es(i,U.some(e)).fold(function(){var t;s.isSome()&&(c(t=e,function(e){W(e.listeners,function(e){return e(!1,t)})}),u.previous.set(U.none()))},function(e){var t,n,r,o=e.uid,i=e.name,a=e.elements;s.is(o)||(n=o,r=a,c(t=i,function(e){W(e.listeners,function(e){return e(!0,t,{uid:n,nodes:z(r,function(e){return e.dom})})})}),u.previous.set(U.some(o)))}),{previous:u.previous,listeners:u.listeners}})})},30);i.on(\"remove\",function(){t.cancel()}),i.on(\"NodeChange\",function(){t.throttle()});return{addListener:function(e,t){u(e,function(e){return{previous:e.previous,listeners:e.listeners.concat([t])}})}}},rs=function(e,n){e.on(\"init\",function(){e.serializer.addNodeFilter(\"span\",function(e){W(e,function(t){var e;e=t,U.from(e.attr(Qu())).bind(n.lookup).each(function(e){!1===e.persistent&&t.unwrap()})})})})},os=0,is=function(e){var t=(new Date).getTime();return e+\"_\"+Math.floor(1e9*Math.random())+ ++os+String(t)},as=function(e,t){var n,r,o=Ht(e).dom,i=At.fromDom(o.createDocumentFragment()),a=(n=t,(r=(o||document).createElement(\"div\")).innerHTML=n,Gt(At.fromDom(r)));dn(i,a),mn(e),fn(e,i)},us=function(e,t){return At.fromDom(e.dom.cloneNode(t))},ss=function(e){return us(e,!1)},cs=function(e){return us(e,!0)},ls=function(e,t,n){void 0===n&&(n=C);var r=new Xr(e,t),o=function(e){for(var t;(t=r[e]())&&!In(t)&&!n(t););return U.from(t).filter(In)};return{current:function(){return U.from(r.current()).filter(In)},next:function(){return o(\"next\")},prev:function(){return o(\"prev\")},prev2:function(){return o(\"prev2\")}}},fs=function(t,e){var i=e||function(e){return t.isBlock(e)||zn(e)||Vn(e)},a=function(e,t,n,r){if(In(e)){var o=r(e,t,e.data);if(-1!==o)return U.some({container:e,offset:o})}return n().bind(function(e){return a(e.container,e.offset,n,r)})};return{backwards:function(e,t,n,r){var o=ls(e,r,i);return a(e,t,function(){return o.prev().map(function(e){return{container:e,offset:e.length}})},n).getOrNull()},forwards:function(e,t,n,r){var o=ls(e,r,i);return a(e,t,function(){return o.next().map(function(e){return{container:e,offset:0}})},n).getOrNull()}}},ds=function(e,t,n){return e.isSome()&&t.isSome()?U.some(n(e.getOrDie(),t.getOrDie())):U.none()},ms=Math.round,ps=function(e){return e?{left:ms(e.left),top:ms(e.top),bottom:ms(e.bottom),right:ms(e.right),width:ms(e.width),height:ms(e.height)}:{left:0,top:0,bottom:0,right:0,width:0,height:0}},gs=function(e,t){return e=ps(e),t||(e.left=e.left+e.width),e.right=e.left,e.width=0,e},hs=function(e,t,n){return 0<=e&&e<=Math.min(t.height,n.height)/2},vs=function(e,t){var n=Math.min(t.height/2,e.height/2);return e.bottom-n<t.top||!(e.top>t.bottom)&&hs(t.top-e.bottom,e,t)},ys=function(e,t){return e.top>t.bottom||!(e.bottom<t.top)&&hs(t.bottom-e.top,e,t)},bs=function(e,t,n){return t>=e.left&&t<=e.right&&n>=e.top&&n<=e.bottom},Cs=function(e){var t=e.startContainer,n=e.startOffset;return t.hasChildNodes()&&e.endOffset===n+1?t.childNodes[n]:null},ws=function(e,t){return 1===e.nodeType&&e.hasChildNodes()&&(t>=e.childNodes.length&&(t=e.childNodes.length-1),e=e.childNodes[t]),e},xs=new RegExp(\"[\\u0300-\\u036f\\u0483-\\u0487\\u0488-\\u0489\\u0591-\\u05bd\\u05bf\\u05c1-\\u05c2\\u05c4-\\u05c5\\u05c7\\u0610-\\u061a\\u064b-\\u065f\\u0670\\u06d6-\\u06dc\\u06df-\\u06e4\\u06e7-\\u06e8\\u06ea-\\u06ed\\u0711\\u0730-\\u074a\\u07a6-\\u07b0\\u07eb-\\u07f3\\u0816-\\u0819\\u081b-\\u0823\\u0825-\\u0827\\u0829-\\u082d\\u0859-\\u085b\\u08e3-\\u0902\\u093a\\u093c\\u0941-\\u0948\\u094d\\u0951-\\u0957\\u0962-\\u0963\\u0981\\u09bc\\u09be\\u09c1-\\u09c4\\u09cd\\u09d7\\u09e2-\\u09e3\\u0a01-\\u0a02\\u0a3c\\u0a41-\\u0a42\\u0a47-\\u0a48\\u0a4b-\\u0a4d\\u0a51\\u0a70-\\u0a71\\u0a75\\u0a81-\\u0a82\\u0abc\\u0ac1-\\u0ac5\\u0ac7-\\u0ac8\\u0acd\\u0ae2-\\u0ae3\\u0b01\\u0b3c\\u0b3e\\u0b3f\\u0b41-\\u0b44\\u0b4d\\u0b56\\u0b57\\u0b62-\\u0b63\\u0b82\\u0bbe\\u0bc0\\u0bcd\\u0bd7\\u0c00\\u0c3e-\\u0c40\\u0c46-\\u0c48\\u0c4a-\\u0c4d\\u0c55-\\u0c56\\u0c62-\\u0c63\\u0c81\\u0cbc\\u0cbf\\u0cc2\\u0cc6\\u0ccc-\\u0ccd\\u0cd5-\\u0cd6\\u0ce2-\\u0ce3\\u0d01\\u0d3e\\u0d41-\\u0d44\\u0d4d\\u0d57\\u0d62-\\u0d63\\u0dca\\u0dcf\\u0dd2-\\u0dd4\\u0dd6\\u0ddf\\u0e31\\u0e34-\\u0e3a\\u0e47-\\u0e4e\\u0eb1\\u0eb4-\\u0eb9\\u0ebb-\\u0ebc\\u0ec8-\\u0ecd\\u0f18-\\u0f19\\u0f35\\u0f37\\u0f39\\u0f71-\\u0f7e\\u0f80-\\u0f84\\u0f86-\\u0f87\\u0f8d-\\u0f97\\u0f99-\\u0fbc\\u0fc6\\u102d-\\u1030\\u1032-\\u1037\\u1039-\\u103a\\u103d-\\u103e\\u1058-\\u1059\\u105e-\\u1060\\u1071-\\u1074\\u1082\\u1085-\\u1086\\u108d\\u109d\\u135d-\\u135f\\u1712-\\u1714\\u1732-\\u1734\\u1752-\\u1753\\u1772-\\u1773\\u17b4-\\u17b5\\u17b7-\\u17bd\\u17c6\\u17c9-\\u17d3\\u17dd\\u180b-\\u180d\\u18a9\\u1920-\\u1922\\u1927-\\u1928\\u1932\\u1939-\\u193b\\u1a17-\\u1a18\\u1a1b\\u1a56\\u1a58-\\u1a5e\\u1a60\\u1a62\\u1a65-\\u1a6c\\u1a73-\\u1a7c\\u1a7f\\u1ab0-\\u1abd\\u1abe\\u1b00-\\u1b03\\u1b34\\u1b36-\\u1b3a\\u1b3c\\u1b42\\u1b6b-\\u1b73\\u1b80-\\u1b81\\u1ba2-\\u1ba5\\u1ba8-\\u1ba9\\u1bab-\\u1bad\\u1be6\\u1be8-\\u1be9\\u1bed\\u1bef-\\u1bf1\\u1c2c-\\u1c33\\u1c36-\\u1c37\\u1cd0-\\u1cd2\\u1cd4-\\u1ce0\\u1ce2-\\u1ce8\\u1ced\\u1cf4\\u1cf8-\\u1cf9\\u1dc0-\\u1df5\\u1dfc-\\u1dff\\u200c-\\u200d\\u20d0-\\u20dc\\u20dd-\\u20e0\\u20e1\\u20e2-\\u20e4\\u20e5-\\u20f0\\u2cef-\\u2cf1\\u2d7f\\u2de0-\\u2dff\\u302a-\\u302d\\u302e-\\u302f\\u3099-\\u309a\\ua66f\\ua670-\\ua672\\ua674-\\ua67d\\ua69e-\\ua69f\\ua6f0-\\ua6f1\\ua802\\ua806\\ua80b\\ua825-\\ua826\\ua8c4\\ua8e0-\\ua8f1\\ua926-\\ua92d\\ua947-\\ua951\\ua980-\\ua982\\ua9b3\\ua9b6-\\ua9b9\\ua9bc\\ua9e5\\uaa29-\\uaa2e\\uaa31-\\uaa32\\uaa35-\\uaa36\\uaa43\\uaa4c\\uaa7c\\uaab0\\uaab2-\\uaab4\\uaab7-\\uaab8\\uaabe-\\uaabf\\uaac1\\uaaec-\\uaaed\\uaaf6\\uabe5\\uabe8\\uabed\\ufb1e\\ufe00-\\ufe0f\\ufe20-\\ufe2f\\uff9e-\\uff9f]\"),Ss=function(e){return\"string\"==typeof e&&768<=e.charCodeAt(0)&&xs.test(e)},Ns=An,Es=Lo,ks=Tn(\"display\",\"block table\"),_s=Tn(\"float\",\"left right\"),As=function(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];return function(e){for(var t=0;t<n.length;t++)if(!n[t](e))return!1;return!0}}(Ns,Es,d(_s)),Rs=d(Tn(\"white-space\",\"pre pre-line pre-wrap\")),Ts=In,Ds=zn,Os=Eu.nodeIndex,Bs=ws,Ps=function(e){return\"createRange\"in e?e.createRange():Eu.DOM.createRng()},Ls=function(e){return e&&/[\\r\\n\\t ]/.test(e)},Is=function(e){return!!e.setStart&&!!e.setEnd},Ms=function(e){var t,n=e.startContainer,r=e.startOffset;return!!(Ls(e.toString())&&Rs(n.parentNode)&&In(n)&&(t=n.data,Ls(t[r-1])||Ls(t[r+1])))},Fs=function(e){return 0===e.left&&0===e.right&&0===e.top&&0===e.bottom},Us=function(e){var t=e.getClientRects(),n=0<t.length?ps(t[0]):ps(e.getBoundingClientRect());return!Is(e)&&Ds(e)&&Fs(n)?function(e){var t=e.ownerDocument,n=Ps(t),r=t.createTextNode(lo),o=e.parentNode;o.insertBefore(r,e),n.setStart(r,0),n.setEnd(r,1);var i=ps(n.getBoundingClientRect());return o.removeChild(r),i}(e):Fs(n)&&Is(e)?function(e){var t=e.startContainer,n=e.endContainer,r=e.startOffset,o=e.endOffset;if(t===n&&In(n)&&0===r&&1===o){var i=e.cloneRange();return i.setEndAfter(n),Us(i)}return null}(e):n},zs=function(e,t){var n=gs(e,t);return n.width=1,n.right=n.left+1,n},js=function(e){var t,n,r=[],o=function(e){var t,n;0!==e.height&&(0<r.length&&(t=e,n=r[r.length-1],t.left===n.left&&t.top===n.top&&t.bottom===n.bottom&&t.right===n.right)||r.push(e))},i=function(e,t){var n=Ps(e.ownerDocument);if(t<e.data.length){if(Ss(e.data[t]))return r;if(Ss(e.data[t-1])&&(n.setStart(e,t),n.setEnd(e,t+1),!Ms(n)))return o(zs(Us(n),!1)),r}0<t&&(n.setStart(e,t-1),n.setEnd(e,t),Ms(n)||o(zs(Us(n),!1))),t<e.data.length&&(n.setStart(e,t),n.setEnd(e,t+1),Ms(n)||o(zs(Us(n),!0)))};if(Ts(e.container()))return i(e.container(),e.offset()),r;if(Ns(e.container()))if(e.isAtEnd())n=Bs(e.container(),e.offset()),Ts(n)&&i(n,n.data.length),As(n)&&!Ds(n)&&o(zs(Us(n),!1));else{if(n=Bs(e.container(),e.offset()),Ts(n)&&i(n,0),As(n)&&e.isAtEnd())return o(zs(Us(n),!1)),r;t=Bs(e.container(),e.offset()-1),As(t)&&!Ds(t)&&(!ks(t)&&!ks(n)&&As(n)||o(zs(Us(t),!1))),As(n)&&o(zs(Us(n),!0))}return r};function Hs(t,n,e){var r=function(){return e=e||js(Hs(t,n))};return{container:E(t),offset:E(n),toRange:function(){var e=Ps(t.ownerDocument);return e.setStart(t,n),e.setEnd(t,n),e},getClientRects:r,isVisible:function(){return 0<r().length},isAtStart:function(){return Ts(t),0===n},isAtEnd:function(){return Ts(t)?n>=t.data.length:n>=t.childNodes.length},isEqual:function(e){return e&&t===e.container()&&n===e.offset()},getNode:function(e){return Bs(t,e?n-1:n)}}}(Fu=Hs=Hs||{}).fromRangeStart=function(e){return Fu(e.startContainer,e.startOffset)},Fu.fromRangeEnd=function(e){return Fu(e.endContainer,e.endOffset)},Fu.after=function(e){return Fu(e.parentNode,Os(e)+1)},Fu.before=function(e){return Fu(e.parentNode,Os(e))},Fu.isAbove=function(e,t){return ds(ne(t.getClientRects()),re(e.getClientRects()),vs).getOr(!1)},Fu.isBelow=function(e,t){return ds(re(t.getClientRects()),ne(e.getClientRects()),ys).getOr(!1)},Fu.isAtStart=function(e){return!!e&&e.isAtStart()},Fu.isAtEnd=function(e){return!!e&&e.isAtEnd()},Fu.isTextPosition=function(e){return!!e&&In(e.container())},Fu.isElementPosition=function(e){return!1===Fu.isTextPosition(e)};var Vs,qs,$s=Hs,Ws=function(e,t){In(t)&&0===t.data.length&&e.remove(t)},Ks=function(e,t,n){var r,o,i,a,u,s,c;Un(n)?(i=e,a=t,u=n,s=U.from(u.firstChild),c=U.from(u.lastChild),a.insertNode(u),s.each(function(e){return Ws(i,e.previousSibling)}),c.each(function(e){return Ws(i,e.nextSibling)})):(r=e,o=n,t.insertNode(o),Ws(r,o.previousSibling),Ws(r,o.nextSibling))},Xs=In,Ys=On,Gs=Eu.nodeIndex,Js=function(e){var t=e.parentNode;return Ys(t)?Js(t):t},Qs=function(e){return e?Se(e.childNodes,function(e,t){return Ys(t)&&\"BR\"!==t.nodeName?e=e.concat(Qs(t)):e.push(t),e},[]):[]},Zs=function(t){return function(e){return t===e}},ec=function(e){var t=Xs(e)?\"text()\":e.nodeName.toLowerCase();return t+\"[\"+function(e){var r=Qs(Js(e)),t=Ne(r,Zs(e),e);r=r.slice(0,t+1);var n=Se(r,function(e,t,n){return Xs(t)&&Xs(r[n-1])&&e++,e},0);return r=we(r,Rn([e.nodeName])),(t=Ne(r,Zs(e),e))-n}(e)+\"]\"},tc=function(e,t){var n,r,o,i=[],a=t.container(),u=t.offset();return Xs(a)?n=function(e,t){for(;(e=e.previousSibling)&&Xs(e);)t+=e.data.length;return t}(a,u):(u>=(r=a.childNodes).length?(n=\"after\",u=r.length-1):n=\"before\",a=r[u]),i.push(ec(a)),o=function(e,t,n){var r=[];for(t=t.parentNode;t!==e&&(!n||!n(t));t=t.parentNode)r.push(t);return r}(e,a),o=we(o,d(On)),(i=i.concat(Ce(o,ec))).reverse().join(\"/\")+\",\"+n},nc=function(e,t){if(!t)return null;var n=t.split(\",\"),r=n[0].split(\"/\"),o=1<n.length?n[1]:\"before\",i=Se(r,function(e,t){var n,r,o,i,a=/([\\w\\-\\(\\)]+)\\[([0-9]+)\\]/.exec(t);return a?(\"text()\"===a[1]&&(a[1]=\"#text\"),n=e,r=a[1],o=parseInt(a[2],10),i=Qs(n),i=we(i,function(e,t){return!Xs(e)||!Xs(i[t-1])}),(i=we(i,Rn([r])))[o]):null},e);return i?Xs(i)?function(e,t){for(var n,r=e,o=0;Xs(r);){if(n=r.data.length,o<=t&&t<=o+n){e=r,t-=o;break}if(!Xs(r.nextSibling)){e=r,t=n;break}o+=n,r=r.nextSibling}return Xs(e)&&t>e.data.length&&(t=e.data.length),$s(e,t)}(i,parseInt(o,10)):(o=\"after\"===o?Gs(i)+1:Gs(i),$s(i.parentNode,o)):null},rc=Vn,oc=function(e,t,n,r,o){var i,a=r[o?\"startContainer\":\"endContainer\"],u=r[o?\"startOffset\":\"endOffset\"],s=[],c=0,l=e.getRoot();for(In(a)?s.push(n?function(e,t,n){for(var r=e(t.data.slice(0,n)).length,o=t.previousSibling;o&&In(o);o=o.previousSibling)r+=e(o.data).length;return r}(t,a,u):u):(u>=(i=a.childNodes).length&&i.length&&(c=1,u=Math.max(0,i.length-1)),s.push(e.nodeIndex(i[u],n)+c));a&&a!==l;a=a.parentNode)s.push(e.nodeIndex(a,n));return s},ic=function(e,t,n){var r=0;return kt.each(e.select(t),function(e){if(\"all\"!==e.getAttribute(\"data-mce-bogus\"))return e!==n&&void r++}),r},ac=function(e,t){var n,r=t?\"start\":\"end\",o=e[r+\"Container\"],i=e[r+\"Offset\"];An(o)&&\"TR\"===o.nodeName&&(o=(n=o.childNodes)[Math.min(t?i:i-1,n.length-1)])&&(i=t?0:o.childNodes.length,e[\"set\"+(t?\"Start\":\"End\")](o,i))},uc=function(e){return ac(e,!0),ac(e,!1),e},sc=function(e,t){var n;if(An(e)&&(e=ws(e,t),rc(e)))return e;if(bo(e)){if(In(e)&&vo(e)&&(e=e.parentNode),n=e.previousSibling,rc(n))return n;if(n=e.nextSibling,rc(n))return n}},cc=function(e,t,n){var r=n.getNode(),o=r?r.nodeName:null,i=n.getRng();if(rc(r)||\"IMG\"===o)return{name:o,index:ic(n.dom,o,r)};var a,u,s,c,l,f,d,m=sc((a=i).startContainer,a.startOffset)||sc(a.endContainer,a.endOffset);return m?{name:o=m.tagName,index:ic(n.dom,o,m)}:(u=e,c=t,l=i,f=(s=n).dom,(d={}).start=oc(f,u,c,l,!0),s.isCollapsed()||(d.end=oc(f,u,c,l,!1)),d)},lc=function(e,t,n){var r={\"data-mce-type\":\"bookmark\",id:t,style:\"overflow:hidden;line-height:0px\"};return n?e.create(\"span\",r,\"&#xFEFF;\"):e.create(\"span\",r)},fc=function(e,t){var n=e.dom,r=e.getRng(),o=n.uniqueId(),i=e.isCollapsed(),a=e.getNode(),u=a.nodeName;if(\"IMG\"===u)return{name:u,index:ic(n,u,a)};var s,c=uc(r.cloneRange());i||(c.collapse(!1),s=lc(n,o+\"_end\",t),Ks(n,c,s)),(r=uc(r)).collapse(!0);var l=lc(n,o+\"_start\",t);return Ks(n,r,l),e.moveToBookmark({id:o,keep:!0}),{id:o}},dc=function(e,t,n){return 2===t?cc(po,n,e):3===t?(o=(r=e).getRng(),{start:tc(r.dom.getRoot(),$s.fromRangeStart(o)),end:tc(r.dom.getRoot(),$s.fromRangeEnd(o))}):t?{rng:e.getRng()}:fc(e,!1);var r,o},mc=N(cc,o,!0),pc=Eu.DOM,gc=function(e,t,n){var r=e.getParam(t,n);if(-1===r.indexOf(\"=\"))return r;var o=e.getParam(t,\"\",\"hash\");return o.hasOwnProperty(e.id)?o[e.id]:n},hc=function(e){return e.getParam(\"content_security_policy\",\"\")},vc=function(e){if(e.getParam(\"force_p_newlines\",!1))return\"p\";var t=e.getParam(\"forced_root_block\",\"p\");return!1===t?\"\":!0===t?\"p\":t},yc=function(e){return e.getParam(\"forced_root_block_attrs\",{})},bc=function(e){return e.getParam(\"automatic_uploads\",!0,\"boolean\")},Cc=function(e){return e.getParam(\"icons\",\"\",\"string\")},wc=function(e){return e.getParam(\"referrer_policy\",\"\",\"string\")},xc=function(e){return e.getParam(\"language\",\"en\",\"string\")},Sc=function(e){return e.getParam(\"indent_use_margin\",!1)},Nc=function(e){var t=e.getParam(\"object_resizing\");return!1!==t&&!wt.iOS&&(q(t)?t:\"table,img,figure.image,div\")},Ec=function(e){return e.getParam(\"event_root\")},kc=function(e){return e.getParam(\"theme\")},_c=function(e){return!1!==e.getParam(\"inline_boundaries\")},Ac=function(e){return e.getParam(\"plugins\",\"\",\"string\")},Rc=An,Tc=In,Dc=function(e){var t=e.parentNode;t&&t.removeChild(e)},Oc=function(e){var t=po(e);return{count:e.length-t.length,text:t}},Bc=function(e){for(var t;-1!==(t=e.data.lastIndexOf(fo));)e.deleteData(t,1)},Pc=function(e,t){return Fc(e),t},Lc=function(e,t){var n,r,o=t.container(),i=(n=oe(o.childNodes),(-1===(r=I(n,e))?U.none():U.some(r)).map(function(e){return e<t.offset()?$s(o,t.offset()-1):t}).getOr(t));return Fc(e),i},Ic=function(e,t){return Tc(e)&&t.container()===e?(r=t,o=Oc((n=e).data.substr(0,r.offset())),i=Oc(n.data.substr(r.offset())),0<(o.text+i.text).length?(Bc(n),$s(n,r.offset()-o.count)):r):Pc(e,t);var n,r,o,i},Mc=function(e,t){return $s.isTextPosition(t)?Ic(e,t):(n=e,((r=t).container()===n.parentNode?Lc:Pc)(n,r));var n,r},Fc=function(e){Rc(e)&&bo(e)&&(Co(e)?e.removeAttribute(\"data-mce-caret\"):Dc(e)),Tc(e)&&(Bc(e),0===e.data.length&&Dc(e))},Uc=dt().browser,zc=Vn,jc=$n,Hc=qn,Vc=function(e,t,n){var r,o,i,a,u=gs(t.getBoundingClientRect(),n),s=\"BODY\"===e.tagName?(r=e.ownerDocument.documentElement,o=e.scrollLeft||r.scrollLeft,e.scrollTop||r.scrollTop):(a=e.getBoundingClientRect(),o=e.scrollLeft-a.left,e.scrollTop-a.top);return u.left+=o,u.right+=o,u.top+=s,u.bottom+=s,u.width=1,0<(i=t.offsetWidth-t.clientWidth)&&(n&&(i*=-1),u.left+=i,u.right+=i),u},qc=function(e,i,a,t){var n,u,s=Ou(U.none()),r=vc(e),c=0<r.length?r:\"p\",l=function(){!function(e){for(var t=Gu(At.fromDom(e),\"*[contentEditable=false],video,audio,embed,object\"),n=0;n<t.length;n++){var r,o=t[n].dom,i=o.previousSibling;Eo(i)&&(1===(r=i.data).length?i.parentNode.removeChild(i):i.deleteData(r.length-1,1)),i=o.nextSibling,No(i)&&(1===(r=i.data).length?i.parentNode.removeChild(i):i.deleteData(0,1))}}(i),u&&(Fc(u),u=null),s.get().each(function(e){hu(e.caret).remove(),s.set(U.none())}),n&&(qr.clearInterval(n),n=null)},f=function(){n=qr.setInterval(function(){t()?hu(\"div.mce-visual-caret\",i).toggleClass(\"mce-visual-caret-hidden\"):hu(\"div.mce-visual-caret\",i).addClass(\"mce-visual-caret-hidden\")},500)};return{show:function(t,e){var n,r;if(l(),Hc(e))return null;if(!a(e))return u=function(e,t){var n,r=e.ownerDocument.createTextNode(fo),o=e.parentNode;if(t){if(n=e.previousSibling,ho(n)){if(bo(n))return n;if(Eo(n))return n.splitText(n.data.length-1)}o.insertBefore(r,e)}else{if(n=e.nextSibling,ho(n)){if(bo(n))return n;if(No(n))return n.splitText(1),n}e.nextSibling?o.insertBefore(r,e.nextSibling):o.appendChild(r)}return r}(e,t),r=e.ownerDocument.createRange(),Wc(u.nextSibling)?(r.setStart(u,0),r.setEnd(u,0)):(r.setStart(u,1),r.setEnd(u,1)),r;u=So(c,e,t),n=Vc(i,e,t),hu(u).css(\"top\",n.top);var o=hu('<div class=\"mce-visual-caret\" data-mce-bogus=\"all\"></div>').css(n).appendTo(i)[0];return s.set(U.some({caret:o,element:e,before:t})),s.get().each(function(e){t&&hu(e.caret).addClass(\"mce-visual-caret-before\")}),f(),(r=e.ownerDocument.createRange()).setStart(u,0),r.setEnd(u,0),r},hide:l,getCss:function(){return\".mce-visual-caret {position: absolute;background-color: black;background-color: currentcolor;}.mce-visual-caret-hidden {display: none;}*[data-mce-caret] {position: absolute;left: -1000px;right: auto;top: 0;margin: 0;padding: 0;}\"},reposition:function(){s.get().each(function(e){var t=Vc(i,e.element,e.before);hu(e.caret).css(ke({},t))})},destroy:function(){return qr.clearInterval(n)}}},$c=function(){return Uc.isIE()||Uc.isEdge()||Uc.isFirefox()},Wc=function(e){return zc(e)||jc(e)},Kc=function(e){return Wc(e)||Bn(e)&&$c()},Xc=Vn,Yc=$n,Gc=Tn(\"display\",\"block table table-cell table-caption list-item\"),Jc=bo,Qc=vo,Zc=An,el=Lo,tl=function(e,t){for(var n;n=e(t);)if(!Qc(n))return n;return null},nl=function(e,t,n,r,o){var i=new Xr(e,r),a=Xc(e)||Qc(e);if(t<0){if(a&&n(e=tl(i.prev,!0)))return e;for(;e=tl(i.prev,o);)if(n(e))return e}if(0<t){if(a&&n(e=tl(i.next,!0)))return e;for(;e=tl(i.next,o);)if(n(e))return e}return null},rl=function(e,t){for(;e&&e!==t;){if(Gc(e))return e;e=e.parentNode}return null},ol=function(e,t,n){return rl(e.container(),n)===rl(t.container(),n)},il=function(e,t){if(!t)return null;var n=t.container(),r=t.offset();return Zc(n)?n.childNodes[r+e]:null},al=function(e,t){var n=t.ownerDocument.createRange();return e?(n.setStartBefore(t),n.setEndBefore(t)):(n.setStartAfter(t),n.setEndAfter(t)),n},ul=function(e,t,n){for(var r,o,i,a=e?\"previousSibling\":\"nextSibling\";n&&n!==t;){if(r=n[a],Jc(r)&&(r=r[a]),Xc(r)||Yc(r)){if(i=n,rl(r,o=t)===rl(i,o))return r;break}if(el(r))break;n=n.parentNode}return null},sl=N(al,!0),cl=N(al,!1),ll=function(e,t,n){var r,o,i=N(ul,!0,t),a=N(ul,!1,t),u=n.startContainer,s=n.startOffset;if(vo(u)){if(Zc(u)||(u=u.parentNode),\"before\"===(o=u.getAttribute(\"data-mce-caret\"))&&(r=u.nextSibling,Kc(r)))return sl(r);if(\"after\"===o&&(r=u.previousSibling,Kc(r)))return cl(r)}if(!n.collapsed)return n;if(In(u)){if(Jc(u)){if(1===e){if(r=a(u))return sl(r);if(r=i(u))return cl(r)}if(-1===e){if(r=i(u))return cl(r);if(r=a(u))return sl(r)}return n}if(Eo(u)&&s>=u.data.length-1)return 1===e&&(r=a(u))?sl(r):n;if(No(u)&&s<=1)return-1===e&&(r=i(u))?cl(r):n;if(s===u.data.length)return(r=a(u))?sl(r):n;if(0===s)return(r=i(u))?cl(r):n}return n},fl=function(e,t){return U.from(il(e?0:-1,t)).filter(Xc)},dl=function(e,t,n){var r=ll(e,t,n);return-1===e?Hs.fromRangeStart(r):Hs.fromRangeEnd(r)},ml=function(e){return U.from(e.getNode()).map(At.fromDom)},pl=function(e,t){for(;t=e(t);)if(t.isVisible())return t;return t},gl=function(e,t){var n=ol(e,t);return!(n||!zn(e.getNode()))||n};(qs=Vs=Vs||{})[qs.Backwards=-1]=\"Backwards\",qs[qs.Forwards=1]=\"Forwards\";var hl,vl=Vn,yl=In,bl=An,Cl=zn,wl=Lo,xl=function(e){return Oo(e)||!!Io(t=e)&&!0!==X(oe(t.getElementsByTagName(\"*\")),function(e,t){return e||_o(t)},!1);var t},Sl=Mo,Nl=function(e,t){return e.hasChildNodes()&&t<e.childNodes.length?e.childNodes[t]:null},El=function(e,t){if(0<e){if(wl(t.previousSibling)&&!yl(t.previousSibling))return $s.before(t);if(yl(t))return $s(t,0)}if(e<0){if(wl(t.nextSibling)&&!yl(t.nextSibling))return $s.after(t);if(yl(t))return $s(t,t.data.length)}return!(e<0)||Cl(t)?$s.before(t):$s.after(t)},kl=function(e,t,n){var r,o,i,a;if(!bl(n)||!t)return null;if(t.isEqual($s.after(n))&&n.lastChild){if(a=$s.after(n.lastChild),e<0&&wl(n.lastChild)&&bl(n.lastChild))return Cl(n.lastChild)?$s.before(n.lastChild):a}else a=t;var u,s,c,l=a.container(),f=a.offset();if(yl(l)){if(e<0&&0<f)return $s(l,--f);if(0<e&&f<l.length)return $s(l,++f);r=l}else{if(e<0&&0<f&&(o=Nl(l,f-1),wl(o)))return!xl(o)&&(i=nl(o,e,Sl,o))?yl(i)?$s(i,i.data.length):$s.after(i):yl(o)?$s(o,o.data.length):$s.before(o);if(0<e&&f<l.childNodes.length&&(o=Nl(l,f),wl(o)))return Cl(o)?(u=n,(c=(s=o).nextSibling)&&wl(c)?yl(c)?$s(c,0):$s.before(c):kl(Vs.Forwards,$s.after(s),u)):!xl(o)&&(i=nl(o,e,Sl,o))?yl(i)?$s(i,0):$s.before(i):yl(o)?$s(o,0):$s.after(o);r=o||a.getNode()}if((0<e&&a.isAtEnd()||e<0&&a.isAtStart())&&(r=nl(r,e,k,n,!0),Sl(r,n)))return El(e,r);o=nl(r,e,Sl,n);var d=Ee(H(function(e,t){for(var n=[];e&&e!==t;)n.push(e),e=e.parentNode;return n}(l,n),vl));return!d||o&&d.contains(o)?o?El(e,o):null:a=0<e?$s.after(d):$s.before(d)},_l=function(t){return{next:function(e){return kl(Vs.Forwards,e,t)},prev:function(e){return kl(Vs.Backwards,e,t)}}},Al=function(e){return $s.isTextPosition(e)?0===e.offset():Lo(e.getNode())},Rl=function(e){if($s.isTextPosition(e)){var t=e.container();return e.offset()===t.data.length}return Lo(e.getNode(!0))},Tl=function(e,t){return!$s.isTextPosition(e)&&!$s.isTextPosition(t)&&e.getNode()===t.getNode(!0)},Dl=function(e,t,n){return e?!Tl(t,n)&&(r=t,!(!$s.isTextPosition(r)&&zn(r.getNode())))&&Rl(t)&&Al(n):!Tl(n,t)&&Al(t)&&Rl(n);var r},Ol=function(e,t,n){var r=_l(t);return U.from(e?r.next(n):r.prev(n))},Bl=function(t,n,r){return Ol(t,n,r).bind(function(e){return ol(r,e,n)&&Dl(t,r,e)?Ol(t,n,e):U.some(e)})},Pl=function(t,n,e,r){return Bl(t,n,e).bind(function(e){return r(e)?Pl(t,n,e,r):U.some(e)})},Ll=function(e,t){var n,r,o,i,a,u=e?t.firstChild:t.lastChild;return In(u)?U.some($s(u,e?0:u.data.length)):u?Lo(u)?U.some(e?$s.before(u):zn(a=u)?$s.before(a):$s.after(a)):(r=t,o=u,i=(n=e)?$s.before(o):$s.after(o),Ol(n,r,i)):U.none()},Il=N(Ol,!0),Ml=N(Ol,!1),Fl=N(Ll,!0),Ul=N(Ll,!1),zl=\"_mce_caret\",jl=function(e){return An(e)&&e.id===zl},Hl=function(e,t){for(;t&&t!==e;){if(t.id===zl)return t;t=t.parentNode}return null},Vl=function(e,t){return An(t)&&e.isBlock(t)&&!t.innerHTML&&!wt.ie&&(t.innerHTML='<br data-mce-bogus=\"1\" />'),t},ql=function(e,t,n){return!(!1!==t.hasChildNodes()||!Hl(e,t))&&(o=n,i=(r=t).ownerDocument.createTextNode(fo),r.appendChild(i),o.setStart(i,0),o.setEnd(i,0),!0);var r,o,i},$l=function(e,t,n,r){var o,i,a,u,s=n[t?\"start\":\"end\"],c=e.getRoot();if(s){for(a=s[0],i=c,o=s.length-1;1<=o;o--){if(u=i.childNodes,ql(c,i,r))return!0;if(s[o]>u.length-1)return!!ql(c,i,r)||function(e,t){return Ul(e).fold(function(){return!1},function(e){return t.setStart(e.container(),e.offset()),t.setEnd(e.container(),e.offset()),!0})}(i,r);i=u[s[o]]}3===i.nodeType&&(a=Math.min(s[0],i.nodeValue.length)),1===i.nodeType&&(a=Math.min(s[0],i.childNodes.length)),t?r.setStart(i,a):r.setEnd(i,a)}return!0},Wl=function(e){return In(e)&&0<e.data.length},Kl=function(e,t,n){var r,o,i,a,u,s,c=e.get(n.id+\"_\"+t),l=n.keep;if(c){if(r=c.parentNode,s=(u=(o=\"start\"===t?l?c.hasChildNodes()?(r=c.firstChild,1):Wl(c.nextSibling)?(r=c.nextSibling,0):Wl(c.previousSibling)?(r=c.previousSibling,c.previousSibling.data.length):(r=c.parentNode,e.nodeIndex(c)+1):e.nodeIndex(c):l?c.hasChildNodes()?(r=c.firstChild,1):Wl(c.previousSibling)?(r=c.previousSibling,c.previousSibling.data.length):(r=c.parentNode,e.nodeIndex(c)):e.nodeIndex(c),r),o),!l){for(a=c.previousSibling,i=c.nextSibling,kt.each(kt.grep(c.childNodes),function(e){In(e)&&(e.nodeValue=e.nodeValue.replace(/\\uFEFF/g,\"\"))});c=e.get(n.id+\"_\"+t);)e.remove(c,!0);a&&i&&a.nodeType===i.nodeType&&In(a)&&!wt.opera&&(o=a.nodeValue.length,a.appendData(i.nodeValue),e.remove(i),u=a,s=o)}return U.some($s(u,s))}return U.none()},Xl=function(e,t){var n,r,o,i,a,u,s,c,l,f,d,m,p,g,h=e.dom;if(t){if(g=t,kt.isArray(g.start))return m=t,p=(d=h).createRng(),$l(d,!0,m,p)&&$l(d,!1,m,p)?U.some(p):U.none();if(\"string\"==typeof t.start)return U.some((c=t,l=(s=h).createRng(),f=nc(s.getRoot(),c.start),l.setStart(f.container(),f.offset()),f=nc(s.getRoot(),c.end),l.setEnd(f.container(),f.offset()),l));if(t.hasOwnProperty(\"id\"))return a=Kl(o=h,\"start\",i=t),u=Kl(o,\"end\",i),ds(a,u.or(a),function(e,t){var n=o.createRng();return n.setStart(Vl(o,e.container()),e.offset()),n.setEnd(Vl(o,t.container()),t.offset()),n});if(t.hasOwnProperty(\"name\"))return n=h,r=t,U.from(n.select(r.name)[r.index]).map(function(e){var t=n.createRng();return t.selectNode(e),t});if(t.hasOwnProperty(\"rng\"))return U.some(t.rng)}return U.none()},Yl=dc,Gl=function(t,e){Xl(t,e).each(function(e){t.setRng(e)})},Jl=function(e){return An(e)&&\"SPAN\"===e.tagName&&\"bookmark\"===e.getAttribute(\"data-mce-type\")},Ql=(hl=lo,function(e){return hl===e}),Zl=function(e){return\"\"!==e&&-1!==\" \\f\\n\\r\\t\\x0B\".indexOf(e)},ef=function(e){return!Zl(e)&&!Ql(e)},tf=function(e){return!!e.nodeType},nf=function(e,t,n){var r,o,i,a,u=n.startOffset,s=n.startContainer;if((n.startContainer!==n.endContainer||!(a=n.startContainer.childNodes[n.startOffset])||!/^(IMG)$/.test(a.nodeName))&&1===s.nodeType)for(u<(i=s.childNodes).length?(s=i[u],r=new Xr(s,e.getParent(s,e.isBlock))):(s=i[i.length-1],(r=new Xr(s,e.getParent(s,e.isBlock))).next(!0)),o=r.current();o;o=r.next())if(3===o.nodeType&&!uf(o))return n.setStart(o,0),void t.setRng(n)},rf=function(e,t,n){if(e){var r=t?\"nextSibling\":\"previousSibling\";for(e=n?e:e[r];e;e=e[r])if(1===e.nodeType||!uf(e))return e}},of=function(e,t){return tf(t)&&(t=t.nodeName),!!e.schema.getTextBlockElements()[t.toLowerCase()]},af=function(e,t,n){return e.schema.isValidChild(t,n)},uf=function(e,t){if(void 0===t&&(t=!1),D(e)&&In(e)){var n=t?e.data.replace(/ /g,\"\\xa0\"):e.data;return Uo(n)}return!1},sf=function(e,n){return\"string\"!=typeof e?e=e(n):n&&(e=e.replace(/%(\\w+)/g,function(e,t){return n[t]||e})),e},cf=function(e,t){return e=\"\"+((e=e||\"\").nodeName||e),t=\"\"+((t=t||\"\").nodeName||t),e.toLowerCase()===t.toLowerCase()},lf=function(e,t,n){return\"color\"!==n&&\"backgroundColor\"!==n||(t=e.toHex(t)),\"fontWeight\"===n&&700===t&&(t=\"bold\"),\"fontFamily\"===n&&(t=t.replace(/[\\'\\\"]/g,\"\").replace(/,\\s+/g,\",\")),\"\"+t},ff=function(e,t,n){return lf(e,e.getStyle(t,n),n)},df=function(t,e){var n;return t.getParent(e,function(e){return(n=t.getStyle(e,\"text-decoration\"))&&\"none\"!==n}),n},mf=function(e,t,n){return e.getParents(t,n,e.getRoot())},pf=function(t,e,n){var r=[\"inline\",\"block\",\"selector\",\"attributes\",\"styles\",\"classes\"],a=function(e){return me(e,function(e,t){return F(r,function(e){return e===t})})};return F(t.formatter.get(e),function(e){var i=a(e);return F(t.formatter.get(n),function(e){var t,n,r,o=a(e);return t=i,n=o,void 0===r&&(r=l),u(r).eq(t,n)})})},gf=function(e){return ve(e,\"block\")},hf=function(e){return ve(e,\"selector\")},vf=function(e){return ve(e,\"inline\")},yf=Jl,bf=mf,Cf=uf,wf=of,xf=function(e,t){for(var n=t;n;){if(An(n)&&e.getContentEditable(n))return\"false\"===e.getContentEditable(n)?n:t;n=n.parentNode}return t},Sf=function(e,t,n,r){for(var o=t.data,i=n;e?0<=i:i<o.length;e?i--:i++)if(r(o.charAt(i)))return e?i+1:i;return-1},Nf=function(e,t,n){return Sf(e,t,n,function(e){return Ql(e)||Zl(e)})},Ef=function(e,t,n){return Sf(e,t,n,ef)},kf=function(i,e,t,n,a,r){var u,s=i.getParent(t,i.isBlock)||e,o=function(e,t,n){var r=fs(i),o=a?r.backwards:r.forwards;return U.from(o(e,t,function(e,t){return yf(e.parentNode)?-1:n(a,u=e,t)},s))};return o(t,n,Nf).bind(function(e){return r?o(e.container,e.offset+(a?-1:0),Ef):U.some(e)}).orThunk(function(){return u?U.some({container:u,offset:a?0:u.length}):U.none()})},_f=function(e,t,n,r,o){In(r)&&0===r.nodeValue.length&&r[o]&&(r=r[o]);for(var i=bf(e,r),a=0;a<i.length;a++)for(var u=0;u<t.length;u++){var s=t[u];if(!(\"collapsed\"in s&&s.collapsed!==n.collapsed)&&e.is(i[a],s.selector))return i[a]}return r},Af=function(t,e,n,r){var o,i,a=t.dom,u=a.getRoot();if(e[0].wrapper||(i=a.getParent(n,e[0].block,u)),i||(o=a.getParent(n,\"LI,TD,TH\"),i=a.getParent(In(n)?n.parentNode:n,function(e){return e!==u&&wf(t,e)},o)),i&&e[0].wrapper&&(i=bf(a,i,\"ul,ol\").reverse()[0]||i),!i)for(i=n;i[r]&&!a.isBlock(i[r])&&(i=i[r],!cf(i,\"br\")););return i||n},Rf=function(e,t,n,r){var o=n.parentNode;return!D(n[r])&&(!(o!==t&&!$(o)&&!e.isBlock(o))||Rf(e,t,o,r))},Tf=function(e,t,n,r,o){var i,a,u=n,s=o?\"previousSibling\":\"nextSibling\",c=e.getRoot();if(In(n)&&!Cf(n)&&(o?0<r:r<n.data.length))return n;for(;;){if(!t[0].block_expand&&e.isBlock(u))return u;for(i=u[s];i;i=i[s]){var l=In(i)&&!Rf(e,c,i,s);if(!yf(i)&&(!zn(a=i)||!a.getAttribute(\"data-mce-bogus\")||a.nextSibling)&&!Cf(i,l))return u}if(u===c||u.parentNode===c){n=u;break}u=u.parentNode}return n},Df=function(e){return yf(e.parentNode)||yf(e)},Of=function(e,t,n,r){void 0===r&&(r=!1);var o=t.startContainer,i=t.startOffset,a=t.endContainer,u=t.endOffset,s=e.dom;return An(o)&&o.hasChildNodes()&&(o=ws(o,i),In(o)&&(i=0)),An(a)&&a.hasChildNodes()&&(a=ws(a,t.collapsed?u:u-1),In(a)&&(u=a.nodeValue.length)),o=xf(s,o),a=xf(s,a),Df(o)&&(o=yf(o)?o:o.parentNode,o=t.collapsed?o.previousSibling||o:o.nextSibling||o,In(o)&&(i=t.collapsed?o.length:0)),Df(a)&&(a=yf(a)?a:a.parentNode,a=t.collapsed?a.nextSibling||a:a.previousSibling||a,In(a)&&(u=t.collapsed?0:a.length)),t.collapsed&&(kf(s,e.getBody(),o,i,!0,r).each(function(e){var t=e.container,n=e.offset;o=t,i=n}),kf(s,e.getBody(),a,u,!1,r).each(function(e){var t=e.container,n=e.offset;a=t,u=n})),(n[0].inline||n[0].block_expand)&&(n[0].inline&&In(o)&&0!==i||(o=Tf(s,n,o,i,!0)),n[0].inline&&In(a)&&u!==a.nodeValue.length||(a=Tf(s,n,a,u,!1))),n[0].selector&&!1!==n[0].expand&&!n[0].inline&&(o=_f(s,n,t,o,\"previousSibling\"),a=_f(s,n,t,a,\"nextSibling\")),(n[0].block||n[0].selector)&&(o=Af(e,n,o,\"previousSibling\"),a=Af(e,n,a,\"nextSibling\"),n[0].block&&(s.isBlock(o)||(o=Tf(s,n,o,i,!0)),s.isBlock(a)||(a=Tf(s,n,a,u,!1)))),An(o)&&(i=s.nodeIndex(o),o=o.parentNode),An(a)&&(u=s.nodeIndex(a)+1,a=a.parentNode),{startContainer:o,startOffset:i,endContainer:a,endOffset:u}},Bf=function(e,t){var n=e.childNodes;return t>=n.length?t=n.length-1:t<0&&(t=0),n[t]||e},Pf=function(e,t,u){var n=t.startContainer,r=t.startOffset,o=t.endContainer,i=t.endOffset,s=function(e){var t=e[0];return 3===t.nodeType&&t===n&&r>=t.nodeValue.length&&e.splice(0,1),t=e[e.length-1],0===i&&0<e.length&&t===o&&3===t.nodeType&&e.splice(e.length-1,1),e},c=function(e,t,n){for(var r=[];e&&e!==n;e=e[t])r.push(e);return r},a=function(e,t){do{if(e.parentNode===t)return e;e=e.parentNode}while(e)},l=function(e,t,n){for(var r=n?\"nextSibling\":\"previousSibling\",o=e,i=o.parentNode;o&&o!==t;o=i){i=o.parentNode;var a=c(o===e?o:o[r],r);a.length&&(n||a.reverse(),u(s(a)))}};if(1===n.nodeType&&n.hasChildNodes()&&(n=Bf(n,r)),1===o.nodeType&&o.hasChildNodes()&&(o=Bf(o,i-1)),n===o)return u(s([n]));for(var f=e.findCommonAncestor(n,o),d=n;d;d=d.parentNode){if(d===o)return l(n,f,!0);if(d===f)break}for(d=o;d;d=d.parentNode){if(d===n)return l(o,f);if(d===f)break}var m=a(n,f)||n,p=a(o,f)||o;l(n,m,!0);var g=c(m===n?m:m.nextSibling,\"nextSibling\",p===o?p.nextSibling:p);g.length&&u(s(g)),l(o,p)},Lf=function(e){var t=[];if(e)for(var n=0;n<e.rangeCount;n++)t.push(e.getRangeAt(n));return t},If=function(e){return H(J(e,function(e){var t=Cs(e);return t?[At.fromDom(t)]:[]}),uo)},Mf=function(e,t){var n=Gu(t,\"td[data-mce-selected],th[data-mce-selected]\");return 0<n.length?n:If(e)},Ff=function(e){return Mf(Lf(e.selection.getSel()),At.fromDom(e.getBody()))},Uf=function(t){return Qt(t).fold(E([t]),function(e){return[t].concat(Uf(e))})},zf=function(t){return Zt(t).fold(E([t]),function(e){return\"br\"===Lt(e)?Wt(e).map(function(e){return[t].concat(zf(e))}).getOr([]):[t].concat(zf(e))})},jf=function(o,e){return ds((a=(i=e).startContainer,u=i.startOffset,In(a)?0===u?U.some(At.fromDom(a)):U.none():U.from(a.childNodes[u]).map(At.fromDom)),(n=(t=e).endContainer,r=t.endOffset,In(n)?r===n.data.length?U.some(At.fromDom(n)):U.none():U.from(n.childNodes[r-1]).map(At.fromDom)),function(e,t){var n=Y(Uf(o),N(Ot,e)),r=Y(zf(o),N(Ot,t));return n.isSome()&&r.isSome()}).getOr(!1);var t,n,r,i,a,u},Hf=function(e,t,n,r){var o=n,i=new Xr(n,o),a=me(e.schema.getMoveCaretBeforeOnEnterElements(),function(e,t){return!M([\"td\",\"th\",\"table\"],t.toLowerCase())});do{if(In(n)&&0!==kt.trim(n.nodeValue).length)return void(r?t.setStart(n,0):t.setEnd(n,n.nodeValue.length));if(a[n.nodeName])return void(r?t.setStartBefore(n):\"BR\"===n.nodeName?t.setEndBefore(n):t.setEndAfter(n))}while(n=r?i.next():i.prev());\"BODY\"===o.nodeName&&(r?t.setStart(o,0):t.setEnd(o,o.childNodes.length))},Vf=function(e){var t=e.selection.getSel();return t&&0<t.rangeCount},qf=function(r,o){var e=Ff(r);0<e.length?W(e,function(e){var t=e.dom,n=r.dom.createRng();n.setStartBefore(t),n.setEndAfter(t),o(n,!0)}):o(r.selection.getRng(),!1)},$f=function(e,t,n){var r=fc(e,t);n(r),e.moveToBookmark(r)};var Wf,Kf,Xf,Yf=(Wf=Ut,Kf=\"text\",{get:function(e){if(!Wf(e))throw new Error(\"Can only get \"+Kf+\" value of a \"+Kf+\" node\");return Xf(e).getOr(\"\")},getOption:Xf=function(e){return Wf(e)?U.from(e.dom.nodeValue):U.none()},set:function(e,t){if(!Wf(e))throw new Error(\"Can only set raw \"+Kf+\" value of a \"+Kf+\" node\");e.dom.nodeValue=t}}),Gf=function(e){return Yf.get(e)},Jf=function(r,o,i,a){return $t(o).fold(function(){return\"skipping\"},function(e){return\"br\"===a||Ut(n=o)&&Gf(n)===fo?\"valid\":Ft(t=o)&&Xu(t,Ju())?\"existing\":jl(o.dom)?\"caret\":af(r,i,a)&&af(r,Lt(e),i)?\"valid\":\"invalid-child\";var t,n})},Qf=function(e,t,n,r){var o=t.uid,i=void 0===o?is(\"mce-annotation\"):o,a=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&\"function\"==typeof Object.getOwnPropertySymbols)for(var o=0,r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]]);return n}(t,[\"uid\"]),u=At.fromTag(\"span\",e);Wu(u,Ju()),Xn(u,\"\"+Zu(),i),Xn(u,\"\"+Qu(),n);var s,c=r(i,a),l=c.attributes,f=void 0===l?{}:l,d=c.classes,m=void 0===d?[]:d;return Yn(u,f),s=u,W(m,function(e){Wu(s,e)}),u},Zf=function(i,e,t,n,r){var a=[],u=Qf(i.getDoc(),r,t,n),s=Ou(U.none()),c=function(){s.set(U.none())},l=function(e){W(e,o)},o=function(e){var t,n;switch(Jf(i,e,\"span\",Lt(e))){case\"invalid-child\":c();var r=Gt(e);l(r),c();break;case\"valid\":var o=s.get().getOrThunk(function(){var e=ss(u);return a.push(e),s.set(U.some(e)),e});sn(t=e,n=o),fn(n,t)}};return Pf(i.dom,e,function(e){var t;c(),t=z(e,At.fromDom),l(t)}),a},ed=function(u,s,c,l){u.undoManager.transact(function(){var e,t,n,r,o=u.selection,i=o.getRng(),a=0<Ff(u).length;i.collapsed&&!a&&(n=Of(e=u,t=i,[{inline:!0}]),t.setStart(n.startContainer,n.startOffset),t.setEnd(n.endContainer,n.endOffset),e.selection.setRng(t)),o.getRng().collapsed&&!a?(r=Qf(u.getDoc(),l,s,c.decorate),as(r,lo),o.getRng().insertNode(r.dom),o.select(r.dom)):$f(o,!1,function(){qf(u,function(e){Zf(u,e,s,c.decorate,l)})})})},td=function(u){var n,r=(n={},{register:function(e,t){n[e]={name:e,settings:t}},lookup:function(e){return n.hasOwnProperty(e)?U.from(n[e]).map(function(e){return e.settings}):U.none()}});rs(u,r);var o=ns(u);return{register:function(e,t){r.register(e,t)},annotate:function(t,n){r.lookup(t).each(function(e){ed(u,t,e,n)})},annotationChanged:function(e,t){o.addListener(e,t)},remove:function(e){es(u,U.some(e)).each(function(e){var t=e.elements;W(t,gn)})},getAll:function(e){var t,n,r,o,i,a=(t=u,n=e,r=At.fromDom(t.getBody()),o=Gu(r,\"[\"+Qu()+'=\"'+n+'\"]'),i={},W(o,function(e){var t=Gn(e,Zu()),n=i.hasOwnProperty(t)?i[t]:[];i[t]=n.concat([e])}),i);return se(a,function(e){return z(e,function(e){return e.dom})})}}};function nd(e){return{getBookmark:N(Yl,e),moveToBookmark:N(Gl,e)}}(nd=nd||{}).isBookmarkNode=Jl;var rd,od=nd,id=function(e,t){for(;t&&t!==e;){if(Hn(t)||Vn(t))return t;t=t.parentNode}return null},ad=function(t,n,e){if(e.collapsed)return!1;if(wt.browser.isIE()&&e.startOffset===e.endOffset-1&&e.startContainer===e.endContainer){var r=e.startContainer.childNodes[e.startOffset];if(An(r))return F(r.getClientRects(),function(e){return bs(e,t,n)})}return F(e.getClientRects(),function(e){return bs(e,t,n)})},ud={BACKSPACE:8,DELETE:46,DOWN:40,ENTER:13,LEFT:37,RIGHT:39,SPACEBAR:32,TAB:9,UP:38,END:35,HOME:36,modifierPressed:function(e){return e.shiftKey||e.ctrlKey||e.altKey||this.metaKeyPressed(e)},metaKeyPressed:function(e){return wt.mac?e.metaKey:e.ctrlKey&&!e.altKey}},sd=Vn,cd=function(r,l){var f,d,m,p,g,h,v,y,b,C,w,x,S,N,E=l.dom,s=kt.each,c=l.getDoc(),k=document,_=Math.abs,A=Math.round,R=l.getBody(),T={nw:[0,0,-1,-1],ne:[1,0,1,-1],se:[1,1,1,1],sw:[0,1,-1,1]},D=function(e){return e&&(\"IMG\"===e.nodeName||l.dom.is(e,\"figure.image\"))},n=function(e){var t=e.target;!function(e,t){if(\"longpress\"!==e.type&&0!==e.type.indexOf(\"touch\"))return D(e.target)&&!ad(e.clientX,e.clientY,t);var n=e.touches[0];return D(e.target)&&!ad(n.clientX,n.clientY,t)}(e,l.selection.getRng())||e.isDefaultPrevented()||l.selection.select(t)},O=function(e){return l.dom.is(e,\"figure.image\")?e.querySelector(\"img\"):e},B=function(e){var t=Nc(l);return!!t&&(\"false\"!==e.getAttribute(\"data-mce-resize\")&&(e!==l.getBody()&&Tt(At.fromDom(e),t)))},P=function(e,t,n){E.setStyles(O(e),{width:t,height:n})},L=function(e){var t,n,r,o,i,a,u,s=e.screenX-g,c=e.screenY-h;w=s*p[2]+v,x=c*p[3]+y,w=w<5?5:w,x=x<5?5:x,(D(f)&&!1!==l.getParam(\"resize_img_proportional\",!0,\"boolean\")?!ud.modifierPressed(e):ud.modifierPressed(e))&&(_(s)>_(c)?(x=A(w*b),w=A(x/b)):(w=A(x/b),x=A(w*b))),P(d,w,x),t=0<(t=p.startPos.x+s)?t:0,n=0<(n=p.startPos.y+c)?n:0,E.setStyles(m,{left:t,top:n,display:\"block\"}),m.innerHTML=w+\" &times; \"+x,p[2]<0&&d.clientWidth<=w&&E.setStyle(d,\"left\",void 0+(v-w)),p[3]<0&&d.clientHeight<=x&&E.setStyle(d,\"top\",void 0+(y-x)),(s=R.scrollWidth-S)+(c=R.scrollHeight-N)!==0&&E.setStyles(m,{left:t-s,top:n-c}),C||(r=l,o=f,i=v,a=y,u=\"corner-\"+p.name,r.fire(\"ObjectResizeStart\",{target:o,width:i,height:a,origin:u}),C=!0)},I=function(){var e=C;C=!1;var t,n,r,o,i,a=function(e,t){t&&(f.style[e]||!l.schema.isValid(f.nodeName.toLowerCase(),e)?E.setStyle(O(f),e,t):E.setAttrib(O(f),e,\"\"+t))};e&&(a(\"width\",w),a(\"height\",x)),E.unbind(c,\"mousemove\",L),E.unbind(c,\"mouseup\",I),k!==c&&(E.unbind(k,\"mousemove\",L),E.unbind(k,\"mouseup\",I)),E.remove(d),E.remove(m),u(f),e&&(t=l,n=f,r=w,o=x,i=\"corner-\"+p.name,t.fire(\"ObjectResized\",{target:n,width:r,height:o,origin:i}),E.setAttrib(f,\"style\",E.getAttrib(f,\"style\"))),l.nodeChanged()},u=function(e){M(),F();var t=E.getPos(e,R),o=t.x,i=t.y,n=e.getBoundingClientRect(),a=n.width||n.right-n.left,u=n.height||n.bottom-n.top;f!==e&&(f=e,w=x=0);var r=l.fire(\"ObjectSelected\",{target:e});B(e)&&!r.isDefaultPrevented()?s(T,function(n,r){var e=E.get(\"mceResizeHandle\"+r);e&&E.remove(e),e=E.add(R,\"div\",{id:\"mceResizeHandle\"+r,\"data-mce-bogus\":\"all\",\"class\":\"mce-resizehandle\",unselectable:!0,style:\"cursor:\"+r+\"-resize; margin:0; padding:0\"}),11===wt.ie&&(e.contentEditable=!1),E.bind(e,\"mousedown\",function(e){var t;e.stopImmediatePropagation(),e.preventDefault(),g=(t=e).screenX,h=t.screenY,v=O(f).clientWidth,y=O(f).clientHeight,b=y/v,(p=n).name=r,p.startPos={x:a*n[0]+o,y:u*n[1]+i},S=R.scrollWidth,N=R.scrollHeight,d=f.cloneNode(!0),E.addClass(d,\"mce-clonedresizable\"),E.setAttrib(d,\"data-mce-bogus\",\"all\"),d.contentEditable=!1,d.unSelectabe=!0,E.setStyles(d,{left:o,top:i,margin:0}),P(d,a,u),d.removeAttribute(\"data-mce-selected\"),R.appendChild(d),E.bind(c,\"mousemove\",L),E.bind(c,\"mouseup\",I),k!==c&&(E.bind(k,\"mousemove\",L),E.bind(k,\"mouseup\",I)),m=E.add(R,\"div\",{\"class\":\"mce-resize-helper\",\"data-mce-bogus\":\"all\"},v+\" &times; \"+y)}),n.elm=e,E.setStyles(e,{left:a*n[0]+o-e.offsetWidth/2,top:u*n[1]+i-e.offsetHeight/2})}):M(),f.setAttribute(\"data-mce-selected\",\"1\")},M=function(){F(),f&&f.removeAttribute(\"data-mce-selected\"),ue(T,function(e,t){var n=E.get(\"mceResizeHandle\"+t);n&&(E.unbind(n),E.remove(n))})},o=function(e){var t,n=function(e,t){if(e)do{if(e===t)return!0}while(e=e.parentNode)};C||l.removed||(s(E.select(\"img[data-mce-selected],hr[data-mce-selected]\"),function(e){e.removeAttribute(\"data-mce-selected\")}),t=\"mousedown\"===e.type?e.target:r.getNode(),n(t=E.$(t).closest(\"table,img,figure.image,hr\")[0],R)&&(a(),n(r.getStart(!0),t)&&n(r.getEnd(!0),t))?u(t):M())},i=function(e){return sd(id(l.getBody(),e))},F=function(){ue(T,function(e){e.elm&&(E.unbind(e.elm),delete e.elm)})},a=function(){try{l.getDoc().execCommand(\"enableObjectResizing\",!1,\"false\")}catch(e){}};l.on(\"init\",function(){var e;a(),(wt.browser.isIE()||wt.browser.isEdge())&&(l.on(\"mousedown click\",function(e){var t=e.target,n=t.nodeName;C||!/^(TABLE|IMG|HR)$/.test(n)||i(t)||(2!==e.button&&l.selection.select(t,\"TABLE\"===n),\"mousedown\"===e.type&&l.nodeChanged())}),e=function(e){var t=function(e){qr.setEditorTimeout(l,function(){return l.selection.select(e)})};if(i(e.target)||$n(e.target))return e.preventDefault(),void t(e.target);/^(TABLE|IMG|HR)$/.test(e.target.nodeName)&&(e.preventDefault(),\"IMG\"===e.target.tagName&&t(e.target))},E.bind(R,\"mscontrolselect\",e),l.on(\"remove\",function(){return E.unbind(R,\"mscontrolselect\",e)}));var t=qr.throttle(function(e){l.composing||o(e)});l.on(\"nodechange ResizeEditor ResizeWindow ResizeContent drop FullscreenStateChanged\",t),l.on(\"keyup compositionend\",function(e){f&&\"TABLE\"===f.nodeName&&t(e)}),l.on(\"hide blur\",M),l.on(\"contextmenu longpress\",n,!0)}),l.on(\"remove\",F);return{isResizable:B,showResizeRect:u,hideResizeRect:M,updateResizeRect:o,destroy:function(){f=d=null}}},ld=function(e){return Hn(e)||Vn(e)},fd=function(e,t,n){var r,o,i,a,u,s=n;if(s.caretPositionFromPoint)(o=s.caretPositionFromPoint(e,t))&&((r=n.createRange()).setStart(o.offsetNode,o.offset),r.collapse(!0));else if(n.caretRangeFromPoint)r=n.caretRangeFromPoint(e,t);else if(s.body.createTextRange){r=s.body.createTextRange();try{r.moveToPoint(e,t),r.collapse(!0)}catch(c){r=function(e,n,t){var r,o=t.elementFromPoint(e,n),i=t.body.createTextRange();if(o&&\"HTML\"!==o.tagName||(o=t.body),i.moveToElementText(o),0<(r=(r=kt.toArray(i.getClientRects())).sort(function(e,t){return(e=Math.abs(Math.max(e.top-n,e.bottom-n)))-(t=Math.abs(Math.max(t.top-n,t.bottom-n)))})).length){n=(r[0].bottom+r[0].top)/2;try{return i.moveToPoint(e,n),i.collapse(!0),i}catch(a){}}return null}(e,t,n)}return i=r,a=n.body,u=i&&i.parentElement?i.parentElement():null,Vn(function(e,t,n){for(;e&&e!==t;){if(n(e))return e;e=e.parentNode}return null}(u,a,ld))?null:i}return r},dd=function(e,t){return e&&t&&e.startContainer===t.startContainer&&e.startOffset===t.startOffset&&e.endContainer===t.endContainer&&e.endOffset===t.endOffset},md=function(e,t,n){return null!==function(e,t,n){for(;e&&e!==t;){if(n(e))return e;e=e.parentNode}return null}(e,t,n)},pd=function(e){return e&&\"TABLE\"===e.nodeName},gd=function(e,t,n){for(var r=new Xr(t,e.getParent(t.parentNode,e.isBlock)||e.getRoot());t=r[n?\"prev\":\"next\"]();)if(zn(t))return!0},hd=function(e,t,n,r,o){var i,a,u=e.getRoot(),s=e.schema.getNonEmptyElements(),c=e.getParent(o.parentNode,e.isBlock)||u;if(r&&zn(o)&&t&&e.isEmpty(c))return U.some(Hs(o.parentNode,e.nodeIndex(o)));for(var l,f,d=new Xr(o,c);a=d[r?\"prev\":\"next\"]();){if(\"false\"===e.getContentEditableParent(a)||(f=u,bo(l=a)&&!1===md(l,f,jl)))return U.none();if(In(a)&&0<a.nodeValue.length)return!1===function(e,t,n){return md(e,t,function(e){return e.nodeName===n})}(a,u,\"A\")?U.some(Hs(a,r?a.nodeValue.length:0)):U.none();if(e.isBlock(a)||s[a.nodeName.toLowerCase()])return U.none();i=a}return n&&i?U.some(Hs(i,0)):U.none()},vd=function(e,t,n,r){var o,i,a,u,s=e.getRoot(),c=!1,l=r[(n?\"start\":\"end\")+\"Container\"],f=r[(n?\"start\":\"end\")+\"Offset\"],d=An(l)&&f===l.childNodes.length,m=e.schema.getNonEmptyElements(),p=n;if(bo(l))return U.none();if(An(l)&&f>l.childNodes.length-1&&(p=!1),Fn(l)&&(l=s,f=0),l===s){if(p&&(o=l.childNodes[0<f?f-1:0])){if(bo(o))return U.none();if(m[o.nodeName]||pd(o))return U.none()}if(l.hasChildNodes()){if(f=Math.min(!p&&0<f?f-1:f,l.childNodes.length-1),l=l.childNodes[f],f=In(l)&&d?l.data.length:0,!t&&l===s.lastChild&&pd(l))return U.none();if(function(e,t){for(;t&&t!==e;){if(Vn(t))return!0;t=t.parentNode}return!1}(s,l)||bo(l))return U.none();if(l.hasChildNodes()&&!1===pd(l)){var g=new Xr(o=l,s);do{if(Vn(o)||bo(o)){c=!1;break}if(In(o)&&0<o.nodeValue.length){f=p?0:o.nodeValue.length,l=o,c=!0;break}if(m[o.nodeName.toLowerCase()]&&(!(i=o)||!/^(TD|TH|CAPTION)$/.test(i.nodeName))){f=e.nodeIndex(o),l=o.parentNode,p||f++,c=!0;break}}while(o=p?g.next():g.prev())}}}return t&&(In(l)&&0===f&&hd(e,d,t,!0,l).each(function(e){l=e.container(),f=e.offset(),c=!0}),An(l)&&(!(o=(o=l.childNodes[f])||l.childNodes[f-1])||!zn(o)||(u=\"A\",(a=o).previousSibling&&a.previousSibling.nodeName===u)||gd(e,o,!1)||gd(e,o,!0)||hd(e,d,t,!0,o).each(function(e){l=e.container(),f=e.offset(),c=!0}))),p&&!t&&In(l)&&f===l.nodeValue.length&&hd(e,d,t,!1,l).each(function(e){l=e.container(),f=e.offset(),c=!0}),c?U.some(Hs(l,f)):U.none()},yd=function(e,t){var n=t.collapsed,r=t.cloneRange(),o=Hs.fromRangeStart(t);return vd(e,n,!0,r).each(function(e){n&&Hs.isAbove(o,e)||r.setStart(e.container(),e.offset())}),n||vd(e,n,!1,r).each(function(e){r.setEnd(e.container(),e.offset())}),n&&r.collapse(!0),dd(t,r)?U.none():U.some(r)},bd=function(e,t){return e.splitText(t)},Cd=function(e){var t=e.startContainer,n=e.startOffset,r=e.endContainer,o=e.endOffset;return t===r&&In(t)?0<n&&n<t.nodeValue.length&&(t=(r=bd(t,n)).previousSibling,n<o?(t=r=bd(r,o-=n).previousSibling,o=r.nodeValue.length,n=0):o=0):(In(t)&&0<n&&n<t.nodeValue.length&&(t=bd(t,n),n=0),In(r)&&0<o&&o<r.nodeValue.length&&(o=(r=bd(r,o).previousSibling).nodeValue.length)),{startContainer:t,startOffset:n,endContainer:r,endOffset:o}};function wd(n){return{walk:function(e,t){return Pf(n,e,t)},split:Cd,normalize:function(t){return yd(n,t).fold(C,function(e){return t.setStart(e.startContainer,e.startOffset),t.setEnd(e.endContainer,e.endOffset),!0})}}}(rd=wd=wd||{}).compareRanges=dd,rd.getCaretRangeFromPoint=fd,rd.getSelectedNode=Cs,rd.getNode=ws;var xd=wd;var Sd,Nd,Ed,kd,_d,Ad=(Sd=\"height\",Nd=function(e){var t=e.dom;return hn(e)?t.getBoundingClientRect().height:t.offsetHeight},{set:function(e,t){if(!O(t)&&!t.match(/^[0-9]+$/))throw new Error(Sd+\".set accepts only positive integer values. Value was \"+t);var n=e.dom;Wn(n)&&(n.style[Sd]=t+\"px\")},get:Ed=function(e){var t=Nd(e);if(t<=0||null===t){var n=er(e,Sd);return parseFloat(n)||0}return t},getOuter:Ed,aggregate:kd=function(o,e){return X(e,function(e,t){var n=er(o,t),r=n===undefined?0:parseInt(n,10);return isNaN(r)?e:e+r},0)},max:function(e,t,n){var r=kd(e,n);return r<t?t-r:0}}),Rd=function(r,e){return r.view(e).fold(E([]),function(e){var t=r.owner(e),n=Rd(r,t);return[e].concat(n)})},Td=/* */Object.freeze({__proto__:null,view:function(e){var t;return(e.dom===document?U.none():U.from(null===(t=e.dom.defaultView)||void 0===t?void 0:t.frameElement)).map(At.fromDom)},owner:Vt}),Dd=function(e){var t,n,r,o=At.fromDom(document),i=wn(o),a=(t=e,r=(n=Td).owner(t),Rd(n,r)),u=Cn(e),s=K(a,function(e,t){var n=Cn(t);return{left:e.left+n.left,top:e.top+n.top}},{left:0,top:0});return yn(s.left+u.left+i.left,s.top+u.top+i.top)},Od=function(e){return\"textarea\"===Lt(e)},Bd=function(e,t){var n,r=function(e){var t=e.dom.ownerDocument,n=t.body,r=t.defaultView,o=t.documentElement;if(n===e.dom)return yn(n.offsetLeft,n.offsetTop);var i=bn(null==r?void 0:r.pageYOffset,o.scrollTop),a=bn(null==r?void 0:r.pageXOffset,o.scrollLeft),u=bn(o.clientTop,n.clientTop),s=bn(o.clientLeft,n.clientLeft);return Cn(e).translate(a-s,i-u)}(e),o=(n=e,Ad.get(n));return{element:e,bottom:r.top+o,height:o,pos:r,cleanup:t}},Pd=function(e,t){var n=function(e,t){var n=Gt(e);if(0===n.length||Od(e))return{element:e,offset:t};if(t<n.length&&!Od(n[t]))return{element:n[t],offset:0};var r=n[n.length-1];return Od(r)?{element:e,offset:t}:\"img\"===Lt(r)?{element:r,offset:1}:Ut(r)?{element:r,offset:Gf(r).length}:{element:r,offset:Gt(r).length}}(e,t),r=At.fromHtml('<span data-mce-bogus=\"all\">\\ufeff</span>');return sn(n.element,r),Bd(r,function(){return pn(r)})},Ld=function(n,r,o,i){Ud(n,function(e,t){return Md(n,r,o,i)},o)},Id=function(e,t,n,r,o){var i,a,u={elm:r.element.dom,alignToTop:o};i=u,e.fire(\"ScrollIntoView\",i).isDefaultPrevented()||(n(t,wn(t).top,r,o),a=u,e.fire(\"AfterScrollIntoView\",a))},Md=function(e,t,n,r){var o=At.fromDom(e.getBody()),i=At.fromDom(e.getDoc());o.dom.offsetWidth;var a=Pd(At.fromDom(n.startContainer),n.startOffset);Id(e,i,t,a,r),a.cleanup()},Fd=function(e,t,n,r){var o,i=At.fromDom(e.getDoc());Id(e,i,n,(o=t,Bd(At.fromDom(o),V)),r)},Ud=function(e,t,n){var r=n.startContainer,o=n.startOffset,i=n.endContainer,a=n.endOffset;t(At.fromDom(r),At.fromDom(i));var u=e.dom.createRng();u.setStart(r,o),u.setEnd(i,a),e.selection.setRng(n)},zd=function(e,t,n,r){var o,i=e.pos;n?xn(i.left,i.top,r):(o=i.top-t+e.height,xn(i.left,o,r))},jd=function(e,t,n,r,o){var i=n+t,a=r.pos.top,u=r.bottom,s=n<=u-a;a<t?zd(r,n,!1!==o,e):i<a?zd(r,n,s?!1!==o:!0===o,e):i<u&&!s&&zd(r,n,!0===o,e)},Hd=function(e,t,n,r){var o=e.dom.defaultView.innerHeight;jd(e,t,o,n,r)},Vd=function(e,t,n,r){var o=e.dom.defaultView.innerHeight;jd(e,t,o,n,r);var i=Dd(n.element),a=En(window);i.top<a.y?Sn(n.element,!1!==r):i.top>a.bottom&&Sn(n.element,!0===r)},qd=function(e,t,n){return Ld(e,Hd,t,n)},$d=function(e,t,n){return Fd(e,t,Hd,n)},Wd=function(e,t,n){return Ld(e,Vd,t,n)},Kd=function(e,t,n){return Fd(e,t,Vd,n)},Xd=function(e,t,n){(e.inline?qd:Wd)(e,t,n)},Yd=function(e){var t=rn(e).dom;return e.dom===t.activeElement},Gd=function(e){return void 0===e&&(e=At.fromDom(document)),U.from(e.dom.activeElement).map(At.fromDom)},Jd=function(e,t,n,r){return{start:e,soffset:t,finish:n,foffset:r}},Qd=Cr([{before:[\"element\"]},{on:[\"element\",\"offset\"]},{after:[\"element\"]}]),Zd=(Qd.before,Qd.on,Qd.after,function(e){return e.fold(o,o,o)}),em=Cr([{domRange:[\"rng\"]},{relative:[\"startSitu\",\"finishSitu\"]},{exact:[\"start\",\"soffset\",\"finish\",\"foffset\"]}]),tm={domRange:em.domRange,relative:em.relative,exact:em.exact,exactFromRange:function(e){return em.exact(e.start,e.soffset,e.finish,e.foffset)},getWin:function(e){var t=e.match({domRange:function(e){return At.fromDom(e.startContainer)},relative:function(e,t){return Zd(e)},exact:function(e,t,n,r){return e}});return qt(t)},range:Jd},nm=dt().browser,rm=function(e,t){var n=Ut(t)?Gf(t).length:Gt(t).length+1;return n<e?n:e<0?0:e},om=function(e){return tm.range(e.start,rm(e.soffset,e.start),e.finish,rm(e.foffset,e.finish))},im=function(e,t){return!_n(t.dom)&&(Pt(e,t)||Ot(e,t))},am=function(t){return function(e){return im(t,e.start)&&im(t,e.finish)}},um=function(e){return!0===e.inline||nm.isIE()},sm=function(e){return tm.range(At.fromDom(e.startContainer),e.startOffset,At.fromDom(e.endContainer),e.endOffset)},cm=function(e){var t,n,r=qt(e);return t=r.dom,((n=t.getSelection())&&0!==n.rangeCount?U.from(n.getRangeAt(0)):U.none()).map(sm).filter(am(e))},lm=function(e){var t=document.createRange();try{return t.setStart(e.start.dom,e.soffset),t.setEnd(e.finish.dom,e.foffset),U.some(t)}catch(n){return U.none()}},fm=function(e){var t=um(e)?cm(At.fromDom(e.getBody())):U.none();e.bookmark=t.isSome()?t:e.bookmark},dm=function(r){return(r.bookmark?r.bookmark:U.none()).bind(function(e){return t=At.fromDom(r.getBody()),n=e,U.from(n).filter(am(t)).map(om);var t,n}).bind(lm)},mm={isEditorUIElement:function(e){var t=e.className.toString();return-1!==t.indexOf(\"tox-\")||-1!==t.indexOf(\"mce-\")}},pm=function(n,e){var t,r;dt().browser.isIE()?(r=n).on(\"focusout\",function(){fm(r)}):(t=e,n.on(\"mouseup touchend\",function(e){t.throttle()})),n.on(\"keyup NodeChange\",function(e){var t;\"nodechange\"===(t=e).type&&t.selectionChange||fm(n)})},gm=function(r){var o=zu(function(){fm(r)},0);r.on(\"init\",function(){var e,t,n;r.inline&&(e=r,t=o,n=function(){t.throttle()},Eu.DOM.bind(document,\"mouseup\",n),e.on(\"remove\",function(){Eu.DOM.unbind(document,\"mouseup\",n)})),pm(r,o)}),r.on(\"remove\",function(){o.cancel()})},hm=Eu.DOM,vm=function(t,e){var n=t.getParam(\"custom_ui_selector\",\"\",\"string\");return null!==hm.getParent(e,function(e){return mm.isEditorUIElement(e)||!!n&&t.dom.is(e,n)})},ym=function(n,e){var t=e.editor;gm(t),t.on(\"focusin\",function(){var e=n.focusedEditor;e!==this&&(e&&e.fire(\"blur\",{focusedEditor:this}),n.setActive(this),(n.focusedEditor=this).fire(\"focus\",{blurredEditor:e}),this.focus(!0))}),t.on(\"focusout\",function(){var t=this;qr.setEditorTimeout(t,function(){var e=n.focusedEditor;vm(t,function(e){try{var t=rn(At.fromDom(e.getElement()));return Gd(t).fold(function(){return document.body},function(e){return e.dom})}catch(n){return document.body}}(t))||e!==t||(t.fire(\"blur\",{focusedEditor:null}),n.focusedEditor=null)})}),_d||(_d=function(e){var t=n.activeEditor;t&&function(e){if(nn()&&D(e.target)){var t=At.fromDom(e.target);if(Ft(t)&&un(t)&&e.composed&&e.composedPath){var n=e.composedPath();if(n)return ne(n)}}return U.from(e.target)}(e).each(function(e){e.ownerDocument===document&&(e===document.body||vm(t,e)||n.focusedEditor!==t||(t.fire(\"blur\",{focusedEditor:null}),n.focusedEditor=null))})},hm.bind(document,\"focusin\",_d))},bm=function(e,t){e.focusedEditor===t.editor&&(e.focusedEditor=null),e.activeEditor||(hm.unbind(document,\"focusin\",_d),_d=null)},Cm=function(t,e){return((n=e).collapsed?U.from(ws(n.startContainer,n.startOffset)).map(At.fromDom):U.none()).bind(function(e){return ao(e)?U.some(e):!1===Pt(t,e)?U.some(t):U.none()});var n},wm=function(t,e){Cm(At.fromDom(t.getBody()),e).bind(function(e){return Fl(e.dom)}).fold(function(){t.selection.normalize()},function(e){return t.selection.setRng(e.toRange())})},xm=function(e){if(e.setActive)try{e.setActive()}catch(t){e.focus()}else e.focus()},Sm=function(e){return Yd(e)||Gd(rn(t=e)).filter(function(e){return t.dom.contains(e.dom)}).isSome();var t},Nm=function(r){return Gd().filter(function(e){return t=e.dom,!((n=t.classList)!==undefined&&(n.contains(\"tox-edit-area\")||n.contains(\"tox-edit-area__iframe\")||n.contains(\"mce-content-body\")))&&vm(r,e.dom);var t,n}).isSome()},Em=function(e){return e.inline?(n=e.getBody())&&Sm(At.fromDom(n)):(t=e).iframeElement&&Yd(At.fromDom(t.iframeElement));var t,n},km=function(t){var e=t.selection,n=t.getBody(),r=e.getRng();t.quirks.refreshContentEditable(),t.bookmark!==undefined&&!1===Em(t)&&dm(t).each(function(e){t.selection.setRng(e),r=e});var o,i,a=(o=t,i=e.getNode(),o.dom.getParent(i,function(e){return\"true\"===o.dom.getContentEditable(e)}));if(t.$.contains(n,a))return xm(a),wm(t,r),void _m(t);t.inline||(wt.opera||xm(n),t.getWin().focus()),(wt.gecko||t.inline)&&(xm(n),wm(t,r)),_m(t)},_m=function(e){return e.editorManager.setActive(e)},Am=function(e,t,n,r,o){var i=n?t.startContainer:t.endContainer,a=n?t.startOffset:t.endOffset;return U.from(i).map(At.fromDom).map(function(e){return r&&t.collapsed?e:Jt(e,o(e,a)).getOr(e)}).bind(function(e){return Ft(e)?U.some(e):$t(e).filter(Ft)}).map(function(e){return e.dom}).getOr(e)},Rm=function(e,t,n){return Am(e,t,!0,n,function(e,t){return Math.min(e.dom.childNodes.length,t)})},Tm=function(e,t,n){return Am(e,t,!1,n,function(e,t){return 0<t?t-1:t})},Dm=function(e,t){for(var n=e;e&&In(e)&&0===e.length;)e=t?e.nextSibling:e.previousSibling;return e||n},Om=function(n,e){return z(e,function(e){var t=n.fire(\"GetSelectionRange\",{range:e});return t.range!==e?t.range:e})},Bm=function(e){return T(e)?e:C},Pm=function(e,t,n){var r=t(e),o=Bm(n);return r.orThunk(function(){return o(e)?U.none():function(e,t,n){for(var r=e.dom,o=Bm(n);r.parentNode;){r=r.parentNode;var i=At.fromDom(r),a=t(i);if(a.isSome())return a;if(o(i))break}return U.none()}(e,t,o)})},Lm=cf,Im=function(e,t,n){var r=e.formatter.get(n);if(r)for(var o=0;o<r.length;o++)if(!1===r[o].inherit&&e.dom.is(t,r[o].selector))return!0;return!1},Mm=function(t,e,n,r){var o=t.dom.getRoot();return e!==o&&(e=t.dom.getParent(e,function(e){return!!Im(t,e,n)||(e.parentNode===o||!!zm(t,e,n,r,!0))}),zm(t,e,n,r))},Fm=function(e,t,n){return!!Lm(t,n.inline)||(!!Lm(t,n.block)||(n.selector?1===t.nodeType&&e.is(t,n.selector):void 0))},Um=function(e,t,n,r,o,i){var a,u,s,c=n[r];if(n.onmatch)return n.onmatch(t,n,r);if(c)if(\"undefined\"==typeof c.length){for(a in c)if(c.hasOwnProperty(a)){if(u=\"attributes\"===r?e.getAttrib(t,a):ff(e,t,a),o&&!u&&!n.exact)return;if((!o||n.exact)&&!Lm(u,lf(e,sf(c[a],i),a)))return}}else for(s=0;s<c.length;s++)if(\"attributes\"===r?e.getAttrib(t,c[s]):ff(e,t,c[s]))return n;return n},zm=function(e,t,n,r,o){var i,a,u,s,c=e.formatter.get(n),l=e.dom;if(c&&t)for(a=0;a<c.length;a++)if(i=c[a],Fm(e.dom,t,i)&&Um(l,t,i,\"attributes\",o,r)&&Um(l,t,i,\"styles\",o,r)){if(s=i.classes)for(u=0;u<s.length;u++)if(!e.dom.hasClass(t,s[u]))return;return i}},jm=function(e,t,n,r){if(r)return Mm(e,r,t,n);if(r=e.selection.getNode(),Mm(e,r,t,n))return!0;var o=e.selection.getStart();return!(o===r||!Mm(e,o,t,n))},Hm=function(r,t){var n=function(e){return Ot(e,At.fromDom(r.getBody()))};return U.from(r.selection.getStart(!0)).bind(function(e){return Pm(At.fromDom(e),function(n){return function(e,t){for(var n=0;n<e.length;n++){var r=t(e[n],n);if(r.isSome())return r}return U.none()}(t,function(e){return t=e,zm(r,n.dom,t)?U.some(t):U.none();var t})},n)}).getOrNull()},Vm=function(o,i,e){return X(e,function(e,t){var n,r=(n=t,F(o.formatter.get(n),function(t){var n=function(e){return 1<e.length&&\"%\"===e.charAt(0)};return F([\"styles\",\"attributes\"],function(e){return ge(t,e).exists(function(e){var t=S(e)?e:pe(e);return F(t,n)})})}));return o.formatter.matchNode(i,t,{},r)?e.concat([t]):e},[])},qm={\"#text\":3,\"#comment\":8,\"#cdata\":4,\"#pi\":7,\"#doctype\":10,\"#document-fragment\":11},$m=function(e,t,n){var r=n?\"lastChild\":\"firstChild\",o=n?\"prev\":\"next\";if(e[r])return e[r];if(e!==t){var i=e[o];if(i)return i;for(var a=e.parent;a&&a!==t;a=a.parent)if(i=a[o])return i}},Wm=function(e){var t=\"a\"===e.name&&!e.attr(\"href\")&&e.attr(\"id\");return e.attr(\"name\")||e.attr(\"id\")&&!e.firstChild||e.attr(\"data-mce-bookmark\")||t},Km=(Xm.create=function(e,t){var n=new Xm(e,qm[e]||1);return t&&ue(t,function(e,t){n.attr(t,e)}),n},Xm.prototype.replace=function(e){return e.parent&&e.remove(),this.insert(e,this),this.remove(),this},Xm.prototype.attr=function(e,t){var n,r=this;if(\"string\"!=typeof e)return e!==undefined&&null!==e&&ue(e,function(e,t){r.attr(t,e)}),r;if(n=r.attributes){if(t===undefined)return n.map[e];if(null===t){if(e in n.map){delete n.map[e];for(var o=n.length;o--;)if(n[o].name===e)return n.splice(o,1),r}return r}if(e in n.map){for(o=n.length;o--;)if(n[o].name===e){n[o].value=t;break}}else n.push({name:e,value:t});return n.map[e]=t,r}},Xm.prototype.clone=function(){var e,t=new Xm(this.name,this.type);if(e=this.attributes){var n=[];n.map={};for(var r=0,o=e.length;r<o;r++){var i=e[r];\"id\"!==i.name&&(n[n.length]={name:i.name,value:i.value},n.map[i.name]=i.value)}t.attributes=n}return t.value=this.value,t.shortEnded=this.shortEnded,t},Xm.prototype.wrap=function(e){return this.parent.insert(e,this),e.append(this),this},Xm.prototype.unwrap=function(){for(var e=this.firstChild;e;){var t=e.next;this.insert(e,this,!0),e=t}this.remove()},Xm.prototype.remove=function(){var e=this.parent,t=this.next,n=this.prev;return e&&(e.firstChild===this?(e.firstChild=t)&&(t.prev=null):n.next=t,e.lastChild===this?(e.lastChild=n)&&(n.next=null):t.prev=n,this.parent=this.next=this.prev=null),this},Xm.prototype.append=function(e){e.parent&&e.remove();var t=this.lastChild;return t?((t.next=e).prev=t,this.lastChild=e):this.lastChild=this.firstChild=e,e.parent=this,e},Xm.prototype.insert=function(e,t,n){e.parent&&e.remove();var r=t.parent||this;return n?(t===r.firstChild?r.firstChild=e:t.prev.next=e,e.prev=t.prev,(e.next=t).prev=e):(t===r.lastChild?r.lastChild=e:t.next.prev=e,e.next=t.next,(e.prev=t).next=e),e.parent=r,e},Xm.prototype.getAll=function(e){for(var t=[],n=this.firstChild;n;n=$m(n,this))n.name===e&&t.push(n);return t},Xm.prototype.empty=function(){if(this.firstChild){for(var e=[],t=this.firstChild;t;t=$m(t,this))e.push(t);for(var n=e.length;n--;)(t=e[n]).parent=t.firstChild=t.lastChild=t.next=t.prev=null}return this.firstChild=this.lastChild=null,this},Xm.prototype.isEmpty=function(e,t,n){void 0===t&&(t={});var r=this.firstChild;if(Wm(this))return!1;if(r)do{if(1===r.type){if(r.attr(\"data-mce-bogus\"))continue;if(e[r.name])return!1;if(Wm(r))return!1}if(8===r.type)return!1;if(3===r.type&&!function(e){if(Uo(e.value)){var t=e.parent;return!t||\"span\"===t.name&&!t.attr(\"style\")||!/^[ ]+$/.test(e.value)}}(r))return!1;if(3===r.type&&r.parent&&t[r.parent.name]&&Uo(r.value))return!1;if(n&&n(r))return!1}while(r=$m(r,this));return!0},Xm.prototype.walk=function(e){return $m(this,null,e)},Xm);function Xm(e,t){this.name=e,1===(this.type=t)&&(this.attributes=[],this.attributes.map={})}var Ym=kt.makeMap,Gm=function(e){var u=[],s=(e=e||{}).indent,c=Ym(e.indent_before||\"\"),l=Ym(e.indent_after||\"\"),f=ci.getEncodeFunc(e.entity_encoding||\"raw\",e.entities),d=\"html\"===e.element_format;return{start:function(e,t,n){var r,o,i,a;if(s&&c[e]&&0<u.length&&0<(a=u[u.length-1]).length&&\"\\n\"!==a&&u.push(\"\\n\"),u.push(\"<\",e),t)for(r=0,o=t.length;r<o;r++)i=t[r],u.push(\" \",i.name,'=\"',f(i.value,!0),'\"');u[u.length]=!n||d?\">\":\" />\",n&&s&&l[e]&&0<u.length&&0<(a=u[u.length-1]).length&&\"\\n\"!==a&&u.push(\"\\n\")},end:function(e){var t;u.push(\"</\",e,\">\"),s&&l[e]&&0<u.length&&0<(t=u[u.length-1]).length&&\"\\n\"!==t&&u.push(\"\\n\")},text:function(e,t){0<e.length&&(u[u.length]=t?e:f(e))},cdata:function(e){u.push(\"<![CDATA[\",e,\"]]>\")},comment:function(e){u.push(\"\\x3c!--\",e,\"--\\x3e\")},pi:function(e,t){t?u.push(\"<?\",e,\" \",f(t),\"?>\"):u.push(\"<?\",e,\"?>\"),s&&u.push(\"\\n\")},doctype:function(e){u.push(\"<!DOCTYPE\",e,\">\",s?\"\\n\":\"\")},reset:function(){u.length=0},getContent:function(){return u.join(\"\").replace(/\\n$/,\"\")}}},Jm=function(t,p){void 0===p&&(p=Ci());var g=Gm(t);(t=t||{}).validate=!(\"validate\"in t)||t.validate;return{serialize:function(e){var f=t.validate,d={3:function(e){g.text(e.value,e.raw)},8:function(e){g.comment(e.value)},7:function(e){g.pi(e.name,e.value)},10:function(e){g.doctype(e.value)},4:function(e){g.cdata(e.value)},11:function(e){if(e=e.firstChild)for(;m(e),e=e.next;);}};g.reset();var m=function(e){var t,n,r,o,i,a,u,s,c,l=d[e.type];if(l)l(e);else{if(t=e.name,n=e.shortEnded,r=e.attributes,f&&r&&1<r.length&&((a=[]).map={},c=p.getElementRule(e.name))){for(u=0,s=c.attributesOrder.length;u<s;u++)(o=c.attributesOrder[u])in r.map&&(i=r.map[o],a.map[o]=i,a.push({name:o,value:i}));for(u=0,s=r.length;u<s;u++)(o=r[u].name)in a.map||(i=r.map[o],a.map[o]=i,a.push({name:o,value:i}));r=a}if(g.start(e.name,r,n),!n){if(e=e.firstChild)for(;m(e),e=e.next;);g.end(t)}}};return 1!==e.type||t.inner?d[11](e):m(e),g.getContent()}}},Qm=function(e,t){return e.replace(new RegExp(t.prefix+\"_[0-9]+\",\"g\"),function(e){return ge(t.uris,e).getOr(e)})},Zm=[\"img\",\"video\"],ep=function(e,t,n){return!e.allow_html_data_urls&&(/^data:image\\//i.test(t)?(r=e.allow_svg_data_urls,o=n,!($(r)?M(Zm,o):r)&&/^data:image\\/svg\\+xml/i.test(t)):/^data:/i.test(t));var r,o},tp=function(e,t,n){var r,o,i=1,a=e.getShortEndedElements(),u=/<([!?\\/])?([A-Za-z0-9\\-_\\:\\.]+)((?:\\s+[^\"\\'>]+(?:(?:\"[^\"]*\")|(?:\\'[^\\']*\\')|[^>]*))*|\\/|\\s+)>/g;for(u.lastIndex=r=n;o=u.exec(t);){if(r=u.lastIndex,\"/\"===o[1])i--;else if(!o[1]){if(o[2]in a)continue;i++}if(0===i)break}return r};function np(W,K){void 0===K&&(K=Ci());var e=function(){};!1!==(W=W||{}).fix_self_closing&&(W.fix_self_closing=!0);var X=W.comment?W.comment:e,Y=W.cdata?W.cdata:e,G=W.text?W.text:e,J=W.start?W.start:e,Q=W.end?W.end:e,Z=W.pi?W.pi:e,ee=W.doctype?W.doctype:e,n=function(f,e){void 0===e&&(e=\"html\");for(var t,i,n,d,r,o,a,m,u,s,c,l,p,g,h,v,y,b,C,w=f.html,x=0,S=[],N=0,E=ci.decode,k=kt.makeMap(\"src,href,data,background,formaction,poster,xlink:href\"),_=/((java|vb)script|mhtml):/i,A=\"html\"===e?0:1,R=function(e){for(var t,n=S.length;n--&&S[n].name!==e;);if(0<=n){for(t=S.length-1;n<=t;t--)(e=S[t]).valid&&Q(e.name);S.length=n}},T=function(e,t){return G(Qm(e,f),t)},D=function(e){\"\"!==e&&(\">\"===e.charAt(0)&&(e=\" \"+e),W.allow_conditional_comments||\"[if\"!==e.substr(0,3).toLowerCase()||(e=\" \"+e),X(Qm(e,f)))},O=function(e,t){var n=e||\"\",r=!Ve(n,\"--\"),o=function(e,t,n){void 0===n&&(n=0);var r=e.toLowerCase();if(-1!==r.indexOf(\"[if \",n)&&(u=n,/^\\s*\\[if [\\w\\W]+\\]>.*<!\\[endif\\](--!?)?>/.test(r.substr(u)))){var o=r.indexOf(\"[endif]\",n);return r.indexOf(\">\",o)}if(t){var i=r.indexOf(\">\",n);return-1!==i?i:r.length}var a=/--!?>/;a.lastIndex=n;var u,s=a.exec(e);return s?s.index+s[0].length:r.length}(w,r,t);return e=w.substr(t,o-t),D(r?n+e:e),o+1},B=function(e,t,n,r,o){var i,a,u,s;if(t=t.toLowerCase(),u=t in F?t:E(n||r||o||\"\"),n=ge(f.uris,u).getOr(u),U&&!m&&!1==(0===(s=t).indexOf(\"data-\")||0===s.indexOf(\"aria-\"))){if(!(i=g[t])&&h){for(a=h.length;a--&&!(i=h[a]).pattern.test(t););-1===a&&(i=null)}if(!i)return;if(i.validValues&&!(n in i.validValues))return}if(k[t]&&!W.allow_script_urls){var c=n.replace(/[\\s\\u0000-\\u001F]+/g,\"\");try{c=decodeURIComponent(c)}catch(l){c=unescape(c)}if(_.test(c))return;if(ep(W,c,e))return}m&&(t in k||0===t.indexOf(\"on\"))||(d.map[t]=n,d.push({name:t,value:n}))},P=new RegExp(\"<(?:(?:!--([\\\\w\\\\W]*?)--!?>)|(?:!\\\\[CDATA\\\\[([\\\\w\\\\W]*?)\\\\]\\\\]>)|(?:![Dd][Oo][Cc][Tt][Yy][Pp][Ee]([\\\\w\\\\W]*?)>)|(?:!(--)?)|(?:\\\\?([^\\\\s\\\\/<>]+) ?([\\\\w\\\\W]*?)[?/]>)|(?:\\\\/([A-Za-z][A-Za-z0-9\\\\-_\\\\:\\\\.]*)>)|(?:([A-Za-z][A-Za-z0-9\\\\-_\\\\:\\\\.]*)((?:\\\\s+[^\\\"'>]+(?:(?:\\\"[^\\\"]*\\\")|(?:'[^']*')|[^>]*))*|\\\\/|\\\\s+)>))\",\"g\"),L=/([\\w:\\-]+)(?:\\s*=\\s*(?:(?:\\\"((?:[^\\\"])*)\\\")|(?:\\'((?:[^\\'])*)\\')|([^>\\s]+)))?/g,I=K.getShortEndedElements(),M=W.self_closing_elements||K.getSelfClosingElements(),F=K.getBoolAttrs(),U=W.validate,z=W.remove_internals,j=W.fix_self_closing,H=K.getSpecialElements(),V=w+\">\";t=P.exec(V);){var q=t[0];if(x<t.index&&T(E(w.substr(x,t.index-x))),i=t[7])\":\"===(i=i.toLowerCase()).charAt(0)&&(i=i.substr(1)),R(i);else if(i=t[8]){if(t.index+q.length>w.length){T(E(w.substr(t.index))),x=t.index+q.length;continue}\":\"===(i=i.toLowerCase()).charAt(0)&&(i=i.substr(1)),u=i in I,j&&M[i]&&0<S.length&&S[S.length-1].name===i&&R(i);var $=function(e,t){var n=e.exec(t);if(n){var r=n[1],o=n[2];return\"string\"==typeof r&&\"data-mce-bogus\"===r.toLowerCase()?o:null}return null}(L,t[9]);if(null!==$){if(\"all\"===$){x=tp(K,w,P.lastIndex),P.lastIndex=x;continue}c=!1}if(!U||(s=K.getElementRule(i))){if(c=!0,U&&(g=s.attributes,h=s.attributePatterns),(p=t[9])?((m=-1!==p.indexOf(\"data-mce-type\"))&&z&&(c=!1),(d=[]).map={},p.replace(L,function(e,t,n,r,o){return B(i,t,n,r,o),\"\"})):(d=[]).map={},U&&!m){if(v=s.attributesRequired,y=s.attributesDefault,b=s.attributesForced,s.removeEmptyAttrs&&!d.length&&(c=!1),b)for(r=b.length;r--;)a=(l=b[r]).name,\"{$uid}\"===(C=l.value)&&(C=\"mce_\"+N++),d.map[a]=C,d.push({name:a,value:C});if(y)for(r=y.length;r--;)(a=(l=y[r]).name)in d.map||(\"{$uid}\"===(C=l.value)&&(C=\"mce_\"+N++),d.map[a]=C,d.push({name:a,value:C}));if(v){for(r=v.length;r--&&!(v[r]in d.map););-1===r&&(c=!1)}if(l=d.map[\"data-mce-bogus\"]){if(\"all\"===l){x=tp(K,w,P.lastIndex),P.lastIndex=x;continue}c=!1}}c&&J(i,d,u)}else c=!1;if(n=H[i]){n.lastIndex=x=t.index+q.length,x=(t=n.exec(w))?(c&&(o=w.substr(x,t.index-x)),t.index+t[0].length):(o=w.substr(x),w.length),c&&(0<o.length&&T(o,!0),Q(i)),P.lastIndex=x;continue}u||(p&&p.indexOf(\"/\")===p.length-1?c&&Q(i):S.push({name:i,valid:c}))}else if(i=t[1])D(i);else if(i=t[2]){if(!(1==A||W.preserve_cdata||0<S.length&&K.isValidChild(S[S.length-1].name,\"#cdata\"))){x=O(\"\",t.index+2),P.lastIndex=x;continue}Y(i)}else if(i=t[3])ee(i);else{if((i=t[4])||\"<!\"===q){x=O(i,t.index+q.length),P.lastIndex=x;continue}if(i=t[5]){if(1!=A){x=O(\"?\",t.index+2),P.lastIndex=x;continue}Z(i,t[6])}}x=t.index+q.length}for(x<w.length&&T(E(w.substr(x))),r=S.length-1;0<=r;r--)(i=S[r]).valid&&Q(i.name)};return{parse:function(e,t){void 0===t&&(t=\"html\"),n(function(e){for(var t,n=/data:[^;]+;base64,([a-z0-9\\+\\/=]+)/gi,r=[],o={},i=is(\"img\"),a=0,u=0;t=n.exec(e);){var s=t[0],c=i+\"_\"+u++;o[c]=s,a<t.index&&r.push(e.substr(a,t.index-a)),r.push(c),a=t.index+s.length}return 0===a?{prefix:i,uris:o,html:e}:(a<e.length&&r.push(e.substr(a)),{prefix:i,uris:o,html:r.join(\"\")})}(e),t)}}}(np=np||{}).findEndTag=tp;var rp,op,ip=np,ap=function(e,t){var n,r,o,i,a,u,s,c=t,l=/<(\\w+) [^>]*data-mce-bogus=\"all\"[^>]*>/g,f=e.schema;a=e.getTempAttrs(),u=c,s=new RegExp([\"\\\\s?(\"+a.join(\"|\")+')=\"[^\"]+\"'].join(\"|\"),\"gi\"),c=u.replace(s,\"\");for(var d=f.getShortEndedElements();i=l.exec(c);)r=l.lastIndex,o=i[0].length,n=d[i[1]]?r:ip.findEndTag(f,c,r),c=c.substring(0,r-o)+c.substring(n),l.lastIndex=r-o;return po(c)},up=ap,sp=function(e,t,n,r){var o,i,a,u,s;return t.format=n,t.get=!0,t.getInner=!0,t.no_events||e.fire(\"BeforeGetContent\",t),o=\"raw\"===t.format?kt.trim(up(e.serializer,r.innerHTML)):\"text\"===t.format?e.dom.isEmpty(r)?\"\":po(r.innerText||r.textContent):\"tree\"===t.format?e.serializer.serialize(r,t):(a=(i=e).serializer.serialize(r,t),u=vc(i),s=new RegExp(\"^(<\"+u+\"[^>]*>(&nbsp;|&#160;|\\\\s|\\xa0|<br \\\\/>|)<\\\\/\"+u+\">[\\r\\n]*|<br \\\\/>[\\r\\n]*)$\"),a.replace(s,\"\")),M([\"text\",\"tree\"],t.format)||so(At.fromDom(r))?t.content=o:t.content=kt.trim(o),t.no_events||e.fire(\"GetContent\",t),t.content},cp=kt.each,lp=function(o){this.compare=function(e,t){if(e.nodeName!==t.nodeName)return!1;var n=function(n){var r={};return cp(o.getAttribs(n),function(e){var t=e.nodeName.toLowerCase();0!==t.indexOf(\"_\")&&\"style\"!==t&&0!==t.indexOf(\"data-\")&&(r[t]=o.getAttrib(n,t))}),r},r=function(e,t){var n,r;for(r in e)if(e.hasOwnProperty(r)){if(void 0===(n=t[r]))return!1;if(e[r]!==n)return!1;delete t[r]}for(r in t)if(t.hasOwnProperty(r))return!1;return!0};return!!r(n(e),n(t))&&(!!r(o.parseStyle(o.getAttrib(e,\"style\")),o.parseStyle(o.getAttrib(t,\"style\")))&&(!Jl(e)&&!Jl(t)))}},fp=function(n,r,o){return U.from(o.container()).filter(In).exists(function(e){var t=n?0:-1;return r(e.data.charAt(o.offset()+t))})},dp=N(fp,!0,Zl),mp=N(fp,!1,Zl),pp=function(e){var t=e.container();return In(t)&&(0===t.data.length||mo(t.data)&&od.isBookmarkNode(t.parentNode))},gp=function(t,n){return function(e){return U.from(il(t?0:-1,e)).filter(n).isSome()}},hp=function(e){return jn(e)&&\"block\"===er(At.fromDom(e),\"display\")},vp=function(e){return Vn(e)&&!(An(t=e)&&\"all\"===t.getAttribute(\"data-mce-bogus\"));var t},yp=gp(!0,hp),bp=gp(!1,hp),Cp=gp(!0,$n),wp=gp(!1,$n),xp=gp(!0,Bn),Sp=gp(!1,Bn),Np=gp(!0,vp),Ep=gp(!1,vp),kp=function(e){var t=Gu(e,\"br\"),n=H(function(e){for(var t=[],n=e.dom;n;)t.push(At.fromDom(n)),n=n.lastChild;return t}(e).slice(-1),no);t.length===n.length&&W(n,pn)},_p=function(e){mn(e),fn(e,At.fromHtml('<br data-mce-bogus=\"1\">'))},Ap=function(n){Zt(n).each(function(t){Wt(t).each(function(e){eo(n)&&no(t)&&eo(e)&&pn(t)})})},Rp=function(e,t,n){return Pt(t,e)?function(e,t){for(var n=T(t)?t:C,r=e.dom,o=[];null!==r.parentNode&&r.parentNode!==undefined;){var i=r.parentNode,a=At.fromDom(i);if(o.push(a),!0===n(a))break;r=i}return o}(e,function(e){return n(e)||Ot(e,t)}).slice(0,-1):[]},Tp=function(e,t){return Rp(e,t,C)},Dp=function(e,t){return[e].concat(Tp(e,t))},Op=function(e,t,n){return Pl(e,t,n,pp)},Bp=function(e,t){return Y(Dp(At.fromDom(t.container()),e),eo)},Pp=function(e,n,r){return Op(e,n.dom,r).forall(function(t){return Bp(n,r).fold(function(){return!1===ol(t,r,n.dom)},function(e){return!1===ol(t,r,n.dom)&&Pt(e,At.fromDom(t.container()))})})},Lp=function(t,n,r){return Bp(n,r).fold(function(){return Op(t,n.dom,r).forall(function(e){return!1===ol(e,r,n.dom)})},function(e){return Op(t,e.dom,r).isNone()})},Ip=N(Lp,!1),Mp=N(Lp,!0),Fp=N(Pp,!1),Up=N(Pp,!0),zp=function(e){return ml(e).exists(no)},jp=function(e,t,n){var r=H(Dp(At.fromDom(n.container()),t),eo),o=ne(r).getOr(t);return Ol(e,o.dom,n).filter(zp)},Hp=function(e,t){return ml(t).exists(no)||jp(!0,e,t).isSome()},Vp=function(e,t){return n=t,U.from(n.getNode(!0)).map(At.fromDom).exists(no)||jp(!1,e,t).isSome();var n},qp=N(jp,!1),$p=N(jp,!0),Wp=function(e){return Hs.isTextPosition(e)&&!e.isAtStart()&&!e.isAtEnd()},Kp=function(e,t){var n=H(Dp(At.fromDom(t.container()),e),eo);return ne(n).getOr(e)},Xp=function(e,t){return Wp(t)?mp(t):mp(t)||Ml(Kp(e,t).dom,t).exists(mp)},Yp=function(e,t){return Wp(t)?dp(t):dp(t)||Il(Kp(e,t).dom,t).exists(dp)},Gp=function(e){return ml(e).bind(function(e){return Ar(e,Ft)}).exists(function(e){return t=er(e,\"white-space\"),M([\"pre\",\"pre-wrap\"],t);var t})},Jp=function(e,t){return r=t,Ml(e.dom,r).isNone()||(n=t,Il(e.dom,n).isNone())||Ip(e,t)||Mp(e,t)||Vp(e,t)||Hp(e,t);var n,r},Qp=function(e,t){return!Gp(t)&&(Ip(e,t)||Fp(e,t)||Vp(e,t)||Xp(e,t))},Zp=function(e,t){return!Gp(t)&&(Mp(e,t)||Up(e,t)||Hp(e,t)||Yp(e,t))},eg=function(e,t){return Qp(e,t)||Zp(e,(r=(n=t).container(),o=n.offset(),In(r)&&o<r.data.length?Hs(r,o+1):n));var n,r,o},tg=function(e,t){return Ql(e.charAt(t))},ng=function(e){var t=e.container();return In(t)&&He(t.data,lo)},rg=function(e){var n,t=e.data,r=(n=t.split(\"\"),z(n,function(e,t){return Ql(e)&&0<t&&t<n.length-1&&ef(n[t-1])&&ef(n[t+1])?\" \":e}).join(\"\"));return r!==t&&(e.data=r,!0)},og=function(l,e){return U.some(e).filter(ng).bind(function(e){var t,n,r,o,i,a,u,s,c=e.container();return(i=l,u=(a=c).data,s=Hs(a,0),!(!tg(u,0)||eg(i,s)||(a.data=\" \"+u.slice(1),0))||rg(c)||(t=l,r=(n=c).data,o=Hs(n,r.length-1),!(!tg(r,r.length-1)||eg(t,o)||(n.data=r.slice(0,-1)+\" \",0))))?U.some(e):U.none()})},ig=function(t){var e=At.fromDom(t.getBody());t.selection.isCollapsed()&&og(e,Hs.fromRangeStart(t.selection.getRng())).each(function(e){t.selection.setRng(e.toRange())})},ag=function(e,t,n){var r,o,i,a,u,s,c,l;0!==n&&(r=At.fromDom(e),o=_r(r,eo).getOr(r),i=e.data.slice(t,t+n),a=t+n>=e.data.length&&Zp(o,$s(e,e.data.length)),u=0===t&&Qp(o,$s(e,0)),e.replaceData(t,n,(c=u,l=a,X(s=i,function(e,t){return Zl(t)||Ql(t)?e.previousCharIsSpace||\"\"===e.str&&c||e.str.length===s.length-1&&l?{previousCharIsSpace:!1,str:e.str+lo}:{previousCharIsSpace:!0,str:e.str+\" \"}:{previousCharIsSpace:!1,str:e.str+t}},{previousCharIsSpace:!1,str:\"\"}).str)))},ug=function(e,t){var n=e.data.slice(t),r=n.length-We(n).length;return ag(e,t,r)},sg=function(e,t){var n=e.data.slice(0,t),r=n.length-Ke(n).length;return ag(e,t-r,r)},cg=function(e,t,n,r){void 0===r&&(r=!0);var o=Ke(e.data).length,i=r?e:t,a=r?t:e;return r?i.appendData(a.data):i.insertData(0,a.data),pn(At.fromDom(a)),n&&ug(i,o),i},lg=function(e,t){return r=e,o=(n=t).container(),i=n.offset(),!1===$s.isTextPosition(n)&&o===r.parentNode&&i>$s.before(r).offset()?$s(t.container(),t.offset()-1):t;var n,r,o,i},fg=function(e){return Lo(e.previousSibling)?U.some((t=e.previousSibling,In(t)?$s(t,t.data.length):$s.after(t))):e.previousSibling?Ul(e.previousSibling):U.none();var t},dg=function(e){return Lo(e.nextSibling)?U.some((t=e.nextSibling,In(t)?$s(t,0):$s.before(t))):e.nextSibling?Fl(e.nextSibling):U.none();var t},mg=function(r,o){return fg(o).orThunk(function(){return dg(o)}).orThunk(function(){return e=r,t=o,n=$s.before(t.previousSibling?t.previousSibling:t.parentNode),Ml(e,n).fold(function(){return Il(e,$s.after(t))},U.some);var e,t,n})},pg=function(n,r){return dg(r).orThunk(function(){return fg(r)}).orThunk(function(){return t=r,Il(e=n,$s.after(t)).fold(function(){return Ml(e,$s.before(t))},U.some);var e,t})},gg=function(e,t,n){return(e?pg:mg)(t,n).map(N(lg,n))},hg=function(t,n,e){e.fold(function(){t.focus()},function(e){t.selection.setRng(e.toRange(),n)})},vg=function(e,t){return t&&he(e.schema.getBlockElements(),Lt(t))},yg=function(e){if($o(e)){var t=At.fromHtml('<br data-mce-bogus=\"1\">');return mn(e),fn(e,t),U.some($s.before(t.dom))}return U.none()},bg=function(e,t,a){var n,r,o,i,u=Wt(e).filter(Ut),s=Kt(e).filter(Ut);return pn(e),r=s,o=t,i=function(e,t,n){var r=e.dom,o=t.dom,i=r.data.length;return cg(r,o,a),n.container()===o?$s(r,i):n},((n=u).isSome()&&r.isSome()&&o.isSome()?U.some(i(n.getOrDie(),r.getOrDie(),o.getOrDie())):U.none()).orThunk(function(){return a&&(u.each(function(e){return sg(e.dom,e.dom.length)}),s.each(function(e){return ug(e.dom,0)})),t})},Cg=function(t,n,e,r){void 0===r&&(r=!0);var o,i,a=gg(n,t.getBody(),e.dom),u=_r(e,N(vg,t),(o=t.getBody(),function(e){return e.dom===o})),s=bg(e,a,(i=e,he(t.schema.getTextInlineElements(),Lt(i))));t.dom.isEmpty(t.getBody())?(t.setContent(\"\"),t.selection.setCursorLocation()):u.bind(yg).fold(function(){r&&hg(t,n,s)},function(e){r&&hg(t,n,U.some(e))})},wg=function(e,t){return{start:e,end:t}},xg=Cr([{removeTable:[\"element\"]},{emptyCells:[\"cells\"]},{deleteCellSelection:[\"rng\",\"cell\"]}]),Sg=function(e,t){return Or(At.fromDom(e),\"td,th\",t)},Ng=function(e,t){return Tr(e,\"table\",t)},Eg=function(e){return!Ot(e.start,e.end)},kg=function(e,t){return Ng(e.start,t).bind(function(r){return Ng(e.end,t).bind(function(e){return t=Ot(r,e),n=r,t?U.some(n):U.none();var t,n})})},_g=function(e){return Gu(e,\"td,th\")},Ag=function(r,e){var t=Sg(e.startContainer,r),n=Sg(e.endContainer,r);return e.collapsed?U.none():ds(t,n,wg).fold(function(){return t.fold(function(){return n.bind(function(t){return Ng(t,r).bind(function(e){return ne(_g(e)).map(function(e){return wg(e,t)})})})},function(t){return Ng(t,r).bind(function(e){return re(_g(e)).map(function(e){return wg(t,e)})})})},function(e){return Rg(r,e)?U.none():(n=r,Ng((t=e).start,n).bind(function(e){return re(_g(e)).map(function(e){return wg(t.start,e)})}));var t,n})},Rg=function(e,t){return kg(t,e).isSome()},Tg=function(e,t,n){return e.filter(function(e){return Eg(e)&&Rg(n,e)}).orThunk(function(){return Ag(n,t)}).bind(function(e){return kg(t=e,n).map(function(e){return{rng:t,table:e,cells:_g(e)}});var t})},Dg=function(e,t){return G(e,function(e){return Ot(e,t)})},Og=function(e,r,o){return e.filter(function(e){return n=o,!Eg(t=e)&&kg(t,n).exists(function(e){var t=e.dom.rows;return 1===t.length&&1===t[0].cells.length})&&jf(e.start,r);var t,n}).map(function(e){return e.start})},Bg=function(n){return ds(Dg((r=n).cells,r.rng.start),Dg(r.cells,r.rng.end),function(e,t){return r.cells.slice(e,t+1)}).map(function(e){var t=n.cells;return e.length===t.length?xg.removeTable(n.table):xg.emptyCells(e)});var r},Pg=function(e,t){var n,r,o,i,a,u=(n=e,function(e){return Ot(n,e)}),s=(o=u,i=Sg((r=t).startContainer,o),a=Sg(r.endContainer,o),ds(i,a,wg));return Og(s,t,u).map(function(e){return xg.deleteCellSelection(t,e)}).orThunk(function(){return Tg(s,t,u).bind(Bg)})},Lg=function(e){var t;return(8===It(t=e)||\"#comment\"===Lt(t)?Wt:Zt)(e).bind(Lg).orThunk(function(){return U.some(e)})},Ig=function(e,t){return W(t,_p),e.selection.setCursorLocation(t[0].dom,0),!0},Mg=function(e,t,n){t.deleteContents();var r,o,i=Lg(n).getOr(n),a=At.fromDom(e.dom.getParent(i.dom,e.dom.isBlock));return $o(a)&&(_p(a),e.selection.setCursorLocation(a.dom,0)),Ot(n,a)||(r=$t(a).is(n)?[]:$t(o=a).map(Gt).map(function(e){return H(e,function(e){return!Ot(o,e)})}).getOr([]),W(r.concat(Gt(n)),function(e){Ot(e,a)||Pt(e,a)||pn(e)})),!0},Fg=function(e,t){return Cg(e,!1,t),!0},Ug=function(n,e,r,t){return jg(e,t).fold(function(){return t=n,Pg(e,r).map(function(e){return e.fold(N(Fg,t),N(Ig,t),N(Mg,t))});var t},function(e){return Hg(n,e)}).getOr(!1)},zg=function(e,t){return Y(Dp(t,e),uo)},jg=function(e,t){return Y(Dp(t,e),function(e){return\"caption\"===Lt(e)})},Hg=function(e,t){return _p(t),e.selection.setCursorLocation(t.dom,0),U.some(!0)},Vg=function(u,s,c,l,f){return Bl(c,u.getBody(),f).bind(function(e){return o=c,i=f,a=e,Fl((r=l).dom).bind(function(t){return Ul(r.dom).map(function(e){return o?i.isEqual(t)&&a.isEqual(e):i.isEqual(e)&&a.isEqual(t)})}).getOr(!0)?Hg(u,l):(t=l,n=e,jg(s,At.fromDom(n.getNode())).map(function(e){return!1===Ot(e,t)}));var t,n,r,o,i,a}).or(U.some(!0))},qg=function(o,i,a,e){var u=$s.fromRangeStart(o.selection.getRng());return zg(a,e).bind(function(e){return $o(e)?Hg(o,e):(t=a,n=e,r=u,Bl(i,o.getBody(),r).bind(function(e){return zg(t,At.fromDom(e.getNode())).map(function(e){return!1===Ot(e,n)})}));var t,n,r}).getOr(!1)},$g=function(e,t){return(e?xp:Sp)(t)},Wg=function(a,u,r){var s=At.fromDom(a.getBody());return jg(s,r).fold(function(){return qg(a,u,s,r)||(e=a,t=u,n=$s.fromRangeStart(e.selection.getRng()),$g(t,n)||Ol(t,e.getBody(),n).exists(function(e){return $g(t,e)}));var e,t,n},function(e){return t=a,n=u,r=s,o=e,i=$s.fromRangeStart(t.selection.getRng()),($o(o)?Hg(t,o):Vg(t,r,n,o,i)).getOr(!1);var t,n,r,o,i})},Kg=function(e,t){var n,r,o,i,a,u=At.fromDom(e.selection.getStart(!0)),s=Ff(e);return e.selection.isCollapsed()&&0===s.length?Wg(e,t,u):(n=e,r=u,o=At.fromDom(n.getBody()),i=n.selection.getRng(),0!==(a=Ff(n)).length?Ig(n,a):Ug(n,o,i,r))},Xg=function(a){var u=$s.fromRangeStart(a),s=$s.fromRangeEnd(a),c=a.commonAncestorContainer;return Ol(!1,c,s).map(function(e){return!ol(u,s,c)&&ol(u,e,c)?(t=u.container(),n=u.offset(),r=e.container(),o=e.offset(),(i=document.createRange()).setStart(t,n),i.setEnd(r,o),i):a;var t,n,r,o,i}).getOr(a)},Yg=function(e){return e.collapsed?e:Xg(e)},Gg=function(e,t){var n,r;return e.getBlockElements()[t.name]&&((r=t).firstChild&&r.firstChild===r.lastChild)&&(\"br\"===(n=t.firstChild).name||n.value===lo)},Jg=function(e,t){var n,r,o,i=t.firstChild,a=t.lastChild;return i&&\"meta\"===i.name&&(i=i.next),a&&\"mce_marker\"===a.attr(\"id\")&&(a=a.prev),r=a,o=(n=e).getNonEmptyElements(),r&&(r.isEmpty(o)||Gg(n,r))&&(a=a.prev),!(!i||i!==a)&&(\"ul\"===i.name||\"ol\"===i.name)},Qg=function(e){return e&&e.firstChild&&e.firstChild===e.lastChild&&((t=e.firstChild).data===lo||zn(t));var t},Zg=function(e){return 0<e.length&&(!(t=e[e.length-1]).firstChild||Qg(t))?e.slice(0,-1):e;var t},eh=function(e,t){var n=e.getParent(t,e.isBlock);return n&&\"LI\"===n.nodeName?n:null},th=function(e,t){var n=$s.after(e),r=_l(t).prev(n);return r?r.toRange():null},nh=function(t,e,n){var r,o,i,a,u=t.parentNode;return kt.each(e,function(e){u.insertBefore(e,t)}),r=t,o=n,i=$s.before(r),(a=_l(o).next(i))?a.toRange():null},rh=function(e,o,i,t){var n,r,a,u,s,c,l,f,d,m,p,g,h,v,y,b,C,w,x,S,N=(n=o,r=t,c=e.serialize(r),l=n.createFragment(c),u=(a=l).firstChild,s=a.lastChild,u&&\"META\"===u.nodeName&&u.parentNode.removeChild(u),s&&\"mce_marker\"===s.id&&s.parentNode.removeChild(s),a),E=eh(o,i.startContainer),k=Zg((f=N.firstChild,kt.grep(f.childNodes,function(e){return\"LI\"===e.nodeName}))),_=o.getRoot(),A=function(e){var t=$s.fromRangeStart(i),n=_l(o.getRoot()),r=1===e?n.prev(t):n.next(t);return!r||eh(o,r.getNode())!==E};return A(1)?nh(E,k,_):A(2)?(d=E,m=k,p=_,o.insertAfter(m.reverse(),d),th(m[0],p)):(h=k,v=_,y=g=E,C=(b=i).cloneRange(),w=b.cloneRange(),C.setStartBefore(y),w.setEndAfter(y),x=[C.cloneContents(),w.cloneContents()],(S=g.parentNode).insertBefore(x[0],g),kt.each(h,function(e){S.insertBefore(e,g)}),S.insertBefore(x[1],g),S.removeChild(g),th(h[h.length-1],v))},oh=qn,ih=function(e){var t=e.dom,n=Yg(e.selection.getRng());e.selection.setRng(n);var r,o,i,a=t.getParent(n.startContainer,oh);r=t,o=n,null!==(i=a)&&i===r.getParent(o.endContainer,oh)&&jf(At.fromDom(i),o)?Mg(e,n,At.fromDom(a)):e.getDoc().execCommand(\"Delete\",!1,null)},ah=function(e,t,n){var r,o,i,a,u,s,c,l,f,d=e.selection,m=e.dom;/^ | $/.test(t)&&(s=m,c=d.getRng(),l=t,f=At.fromDom(s.getRoot()),l=Qp(f,$s.fromRangeStart(c))?l.replace(/^ /,\"&nbsp;\"):l.replace(/^&nbsp;/,\" \"),t=l=Zp(f,$s.fromRangeEnd(c))?l.replace(/(&nbsp;| )(<br( \\/)>)?$/,\"&nbsp;\"):l.replace(/&nbsp;(<br( \\/)?>)?$/,\" \"));var p=e.parser,g=n.merge,h=Jm({validate:e.getParam(\"validate\")},e.schema),v='<span id=\"mce_marker\" data-mce-type=\"bookmark\">&#xFEFF;</span>',y={content:t,format:\"html\",selection:!0,paste:n.paste};if((y=e.fire(\"BeforeSetContent\",y)).isDefaultPrevented())e.fire(\"SetContent\",{content:y.content,format:\"html\",selection:!0,paste:n.paste});else{-1===(t=y.content).indexOf(\"{$caret}\")&&(t+=\"{$caret}\"),t=t.replace(/\\{\\$caret\\}/,v);var b,C,w=(a=d.getRng()).startContainer||(a.parentElement?a.parentElement():null),x=e.getBody();w===x&&d.isCollapsed()&&m.isBlock(x.firstChild)&&(b=e,(C=x.firstChild)&&!b.schema.getShortEndedElements()[C.nodeName])&&m.isEmpty(x.firstChild)&&((a=m.createRng()).setStart(x.firstChild,0),a.setEnd(x.firstChild,0),d.setRng(a)),d.isCollapsed()||ih(e);var S,N,E,k,_,A,R,T,D,O,B,P,L,I,M={context:(r=d.getNode()).nodeName.toLowerCase(),data:n.data,insert:!0},F=p.parse(t,M);if(!0===n.paste&&Jg(e.schema,F)&&eh(m,r))return a=rh(h,m,d.getRng(),F),d.setRng(a),void e.fire(\"SetContent\",y);if(!function(e){for(var t=e;t=t.walk();)1===t.type&&t.attr(\"data-mce-fragment\",\"1\")}(F),\"mce_marker\"===(u=F.lastChild).attr(\"id\"))for(u=(i=u).prev;u;u=u.walk(!0))if(3===u.type||!m.isBlock(u.name)){e.schema.isValidChild(u.parent.name,\"span\")&&u.parent.insert(i,u,\"br\"===u.name);break}if(e._selectionOverrides.showBlockCaretContainer(r),M.invalid){for(e.selection.setContent(v),r=d.getNode(),o=e.getBody(),9===r.nodeType?r=u=o:u=r;u!==o;)u=(r=u).parentNode;t=r===o?o.innerHTML:m.getOuterHTML(r),t=h.serialize(p.parse(t.replace(/<span (id=\"mce_marker\"|id=mce_marker).+?<\\/span>/i,function(){return h.serialize(F)}))),r===o?m.setHTML(o,t):m.setOuterHTML(r,t)}else t=h.serialize(F),S=e,N=t,\"all\"===(E=r).getAttribute(\"data-mce-bogus\")?E.parentNode.insertBefore(S.dom.createFragment(N),E):(k=E.firstChild,_=E.lastChild,!k||k===_&&\"BR\"===k.nodeName?S.dom.setHTML(E,N):S.selection.setContent(N));R=g,O=(A=e).schema.getTextInlineElements(),B=A.dom,R&&(T=A.getBody(),D=new lp(B),kt.each(B.select(\"*[data-mce-fragment]\"),function(e){for(var t=e.parentNode;t&&t!==T;t=t.parentNode)O[e.nodeName.toLowerCase()]&&D.compare(t,e)&&B.remove(e,!0)})),function(n,e){var t,r,o=n.dom,i=n.selection;if(e){i.scrollIntoView(e);var a=function(e){for(var t=n.getBody();e&&e!==t;e=e.parentNode)if(\"false\"===o.getContentEditable(e))return e;return null}(e);if(a)return o.remove(e),i.select(a);var u=o.createRng(),s=e.previousSibling;s&&3===s.nodeType?(u.setStart(s,s.nodeValue.length),wt.ie||(r=e.nextSibling)&&3===r.nodeType&&(s.appendData(r.data),r.parentNode.removeChild(r))):(u.setStartBefore(e),u.setEndBefore(e));var c=o.getParent(e,o.isBlock);o.remove(e),c&&o.isEmpty(c)&&(n.$(c).empty(),u.setStart(c,0),u.setEnd(c,0),oh(c)||c.getAttribute(\"data-mce-fragment\")||!(t=function(e){var t=$s.fromRangeStart(e);if(t=_l(n.getBody()).next(t))return t.toRange()}(u))?o.add(c,o.create(\"br\",{\"data-mce-bogus\":\"1\"})):(u=t,o.remove(c))),i.setRng(u)}}(e,m.get(\"mce_marker\")),P=e.getBody(),kt.each(P.getElementsByTagName(\"*\"),function(e){e.removeAttribute(\"data-mce-fragment\")}),L=m,I=d.getStart(),U.from(L.getParent(I,\"td,th\")).map(At.fromDom).each(Ap),e.fire(\"SetContent\",y),e.addVisual()}},uh=function(e,t){t(e),e.firstChild&&uh(e.firstChild,t),e.next&&uh(e.next,t)},sh=function(e,t,n){var r=function(e,n,t){var r={},o={},i=[];for(var a in t.firstChild&&uh(t.firstChild,function(t){W(e,function(e){e.name===t.name&&(r[e.name]?r[e.name].nodes.push(t):r[e.name]={filter:e,nodes:[t]})}),W(n,function(e){\"string\"==typeof t.attr(e.name)&&(o[e.name]?o[e.name].nodes.push(t):o[e.name]={filter:e,nodes:[t]})})}),r)r.hasOwnProperty(a)&&i.push(r[a]);for(var u in o)o.hasOwnProperty(u)&&i.push(o[u]);return i}(e,t,n);W(r,function(t){W(t.filter.callbacks,function(e){e(t.nodes,t.filter.name,{})})})},ch=function(e){return e instanceof Km},lh=function(e,t){var r;e.dom.setHTML(e.getBody(),t),Em(r=e)&&Fl(r.getBody()).each(function(e){var t=e.getNode(),n=Bn(t)?Fl(t).getOr(e):e;r.selection.setRng(n.toRange())})},fh=function(u,s,c){return c.format=c.format?c.format:\"html\",c.set=!0,c.content=ch(s)?\"\":s,c.no_events||u.fire(\"BeforeSetContent\",c),ch(s)||(s=c.content),U.from(u.getBody()).fold(E(s),function(e){return ch(s)?function(e,t,n,r){sh(e.parser.getNodeFilters(),e.parser.getAttributeFilters(),n);var o=Jm({validate:e.validate},e.schema).serialize(n);return r.content=so(At.fromDom(t))?o:kt.trim(o),lh(e,r.content),r.no_events||e.fire(\"SetContent\",r),n}(u,e,s,c):(t=u,n=e,o=c,0===(r=s).length||/^\\s+$/.test(r)?(a='<br data-mce-bogus=\"1\">',\"TABLE\"===n.nodeName?r=\"<tr><td>\"+a+\"</td></tr>\":/^(UL|OL)$/.test(n.nodeName)&&(r=\"<li>\"+a+\"</li>\"),r=(i=vc(t))&&t.schema.isValidChild(n.nodeName.toLowerCase(),i.toLowerCase())?(r=a,t.dom.createHTML(i,yc(t),r)):r||'<br data-mce-bogus=\"1\">',lh(t,r),t.fire(\"SetContent\",o)):(\"raw\"!==o.format&&(r=Jm({validate:t.validate},t.schema).serialize(t.parser.parse(r,{isRootContent:!0,insert:!0}))),o.content=so(At.fromDom(n))?r:kt.trim(r),lh(t,o.content),o.no_events||t.fire(\"SetContent\",o)),o.content);var t,n,r,o,i,a})},dh=function(e,t){return r=t,((o=(n=e).dom).parentNode?Rr(At.fromDom(o.parentNode),function(e){return!Ot(n,e)&&r(e)}):U.none()).isSome();var n,r,o},mh=fo,ph=\"_mce_caret\",gh=function(e){return 0<function(e){for(var t=[];e;){if(3===e.nodeType&&e.nodeValue!==mh||1<e.childNodes.length)return[];1===e.nodeType&&t.push(e),e=e.firstChild}return t}(e).length},hh=function(e){if(e){var t=new Xr(e,e);for(e=t.current();e;e=t.next())if(In(e))return e}return null},vh=function(e){var t=At.fromTag(\"span\");return Yn(t,{id:ph,\"data-mce-bogus\":\"1\",\"data-mce-type\":\"format-caret\"}),e&&fn(t,At.fromText(mh)),t},yh=function(e,t,n){void 0===n&&(n=!0);var r,o,i,a,u,s,c,l,f=e.dom,d=e.selection;gh(t)?Cg(e,!1,At.fromDom(t),n):(r=d.getRng(),o=f.getParent(t,f.isBlock),i=r.startContainer,a=r.startOffset,u=r.endContainer,s=r.endOffset,(l=hh(t))&&l.nodeValue.charAt(0)===mh&&l.deleteData(0,1),c=l,f.remove(t,!0),i===c&&0<a&&r.setStart(c,a-1),u===c&&0<s&&r.setEnd(c,s-1),o&&f.isEmpty(o)&&_p(At.fromDom(o)),d.setRng(r))},bh=function(e,t,n){void 0===n&&(n=!0);var r=e.dom,o=e.selection;if(t)yh(e,t,n);else if(!(t=Hl(e.getBody(),o.getStart())))for(;t=r.get(ph);)yh(e,t,!1)},Ch=function(e,t){return e.appendChild(t),t},wh=function(e,t){var n=K(e,function(e,t){return Ch(e,t.cloneNode(!1))},t);return Ch(n,n.ownerDocument.createTextNode(mh))},xh=function(e,t,n,r){var o,i,a,u,s,c,l,f,d,m,p,g,h,v=e.dom,y=e.selection,b=[],C=y.getRng(),w=C.startContainer,x=C.startOffset,S=w;for(3===w.nodeType&&(x!==w.nodeValue.length&&(o=!0),S=S.parentNode);S;){if(zm(e,S,t,n,r)){i=S;break}S.nextSibling&&(o=!0),b.push(S),S=S.parentNode}i&&(o?(a=y.getBookmark(),C.collapse(!0),u=Of(e,C,e.formatter.get(t),!0),u=Cd(u),e.formatter.remove(t,n,u,r),y.moveToBookmark(a)):(s=Hl(e.getBody(),i),c=vh(!1).dom,m=c,p=null!==s?s:i,g=(d=e).dom,(h=g.getParent(p,N(of,d)))&&g.isEmpty(h)?p.parentNode.replaceChild(m,p):(kp(At.fromDom(p)),g.isEmpty(p)?p.parentNode.replaceChild(m,p):g.insertAfter(m,p)),l=function(t,e,n,r,o,i){var a=t.formatter,u=t.dom,s=H(ie(a.get()),function(e){return e!==r&&!He(e,\"removeformat\")}),c=Vm(t,n,s);if(0<H(c,function(e){return!pf(t,e,r)}).length){var l=n.cloneNode(!1);return u.add(e,l),a.remove(r,o,l,i),u.remove(l),U.some(l)}return U.none()}(e,c,i,t,n,r),f=wh(b.concat(l.toArray()),c),yh(e,s,!1),y.setCursorLocation(f,1),v.isEmpty(i)&&v.remove(i)))},Sh=function(i){i.on(\"mouseup keydown\",function(e){var t,n,r,o;t=i,n=e.keyCode,r=t.selection,o=t.getBody(),bh(t,null,!1),8!==n&&46!==n||!r.isCollapsed()||r.getStart().innerHTML!==mh||bh(t,Hl(o,r.getStart())),37!==n&&39!==n||bh(t,Hl(o,r.getStart()))})},Nh=function(e,t){return e.schema.getTextInlineElements().hasOwnProperty(Lt(t))&&!jl(t.dom)&&!On(t.dom)},Eh={},kh=we,_h=be;op=function(e){var t,n=e.selection.getRng(),r=Rn([\"pre\"]);n.collapsed||(t=e.selection.getSelectedBlocks(),_h(kh(kh(t,r),function(e){return r(e.previousSibling)&&-1!==xe(t,e.previousSibling)}),function(e){var t,n;t=e.previousSibling,hu(n=e).remove(),hu(t).append(\"<br><br>\").append(n.childNodes)}))},Eh[rp=\"pre\"]||(Eh[rp]=[]),Eh[rp].push(op);var Ah=kt.each,Rh=function(e){return An(e)&&!Jl(e)&&!jl(e)&&!On(e)},Th=function(e,t){for(var n=e;n;n=n[t]){if(In(n)&&0!==n.nodeValue.length)return e;if(An(n)&&!Jl(n))return n}return e},Dh=function(e,t,n){var r,o,i=new lp(e);if(t&&n&&(t=Th(t,\"previousSibling\"),n=Th(n,\"nextSibling\"),i.compare(t,n))){for(r=t.nextSibling;r&&r!==n;)r=(o=r).nextSibling,t.appendChild(o);return e.remove(n),kt.each(kt.grep(n.childNodes),function(e){t.appendChild(e)}),t}return n},Oh=function(e,t,n,r){var o;r&&!1!==t.merge_siblings&&(o=Dh(e,rf(r),r),Dh(e,o,rf(o,!0)))},Bh=function(e,t,n){Ah(e.childNodes,function(e){Rh(e)&&(t(e)&&n(e),e.hasChildNodes()&&Bh(e,t,n))})},Ph=function(t,n){return function(e){return!(!e||!ff(t,e,n))}},Lh=function(r,o,i){return function(e){var t,n;r.setStyle(e,o,i),\"\"===e.getAttribute(\"style\")&&e.removeAttribute(\"style\"),t=r,\"SPAN\"===(n=e).nodeName&&0===t.getAttribs(n).length&&t.remove(n,!0)}},Ih=Cr([{keep:[]},{rename:[\"name\"]},{removed:[]}]),Mh=/^(src|href|style)$/,Fh=kt.each,Uh=cf,zh=function(e,t,n){return e.isChildOf(t,n)&&t!==n&&!e.isBlock(n)},jh=function(e,t,n){var r,o=t[n?\"startContainer\":\"endContainer\"],i=t[n?\"startOffset\":\"endOffset\"];return An(o)&&(r=o.childNodes.length-1,!n&&i&&i--,o=o.childNodes[r<i?r:i]),In(o)&&n&&i>=o.nodeValue.length&&(o=new Xr(o,e.getBody()).next()||o),In(o)&&!n&&0===i&&(o=new Xr(o,e.getBody()).prev()||o),o},Hh=function(e,t){var n=t?\"firstChild\":\"lastChild\";if(/^(TR|TH|TD)$/.test(e.nodeName)&&e[n]){var r=e[n];return\"TR\"===e.nodeName&&r[n]||r}return e},Vh=function(e,t,n,r){var o=e.create(n,r);return t.parentNode.insertBefore(o,t),o.appendChild(t),o},qh=function(e,t,n,r,o){var i=At.fromDom(t),a=At.fromDom(e.create(r,o)),u=(n?Yt:Xt)(i);return dn(a,u),n?(sn(i,a),ln(a,i)):(cn(i,a),fn(a,i)),a.dom},$h=function(e,t,n,r){return!(t=rf(t,n,r))||\"BR\"===t.nodeName||e.isBlock(t)},Wh=function(e,r,o,t,i){var n,a,u,s,c,l=e.dom;if(u=l,!(Uh(s=t,(c=r).inline)||Uh(s,c.block)||c.selector&&(An(s)&&u.is(s,c.selector))||(a=t,r.links&&\"A\"===a.nodeName)))return Ih.keep();var f,d,m,p,g,h,v,y=t;if(r.inline&&\"all\"===r.remove&&S(r.preserve_attributes)){var b=H(l.getAttribs(y),function(e){return M(r.preserve_attributes,e.name.toLowerCase())});if(l.removeAllAttribs(y),W(b,function(e){return l.setAttrib(y,e.name,e.value)}),0<b.length)return Ih.rename(\"span\")}if(\"all\"!==r.remove){Fh(r.styles,function(e,t){e=lf(l,sf(e,o),t+\"\"),O(t)&&(t=e,i=null),!r.remove_similar&&i&&!Uh(ff(l,i,t),e)||l.setStyle(y,t,\"\"),n=!0}),n&&\"\"===l.getAttrib(y,\"style\")&&(y.removeAttribute(\"style\"),y.removeAttribute(\"data-mce-style\")),Fh(r.attributes,function(e,t){var n;if(e=sf(e,o),O(t)&&(t=e,i=null),r.remove_similar||!i||Uh(l.getAttrib(i,t),e)){if(\"class\"===t&&(e=l.getAttrib(y,t))&&(n=\"\",W(e.split(/\\s+/),function(e){/mce\\-\\w+/.test(e)&&(n+=(n?\" \":\"\")+e)}),n))return void l.setAttrib(y,t,n);\"class\"===t&&y.removeAttribute(\"className\"),Mh.test(t)&&y.removeAttribute(\"data-mce-\"+t),y.removeAttribute(t)}}),Fh(r.classes,function(e){e=sf(e,o),i&&!l.hasClass(i,e)||l.removeClass(y,e)});for(var C=l.getAttribs(y),w=0;w<C.length;w++){var x=C[w].nodeName;if(0!==x.indexOf(\"_\")&&0!==x.indexOf(\"data-\"))return Ih.keep()}}return\"none\"!==r.remove?(f=e,m=r,g=(d=y).parentNode,h=f.dom,v=vc(f),m.block&&(v?g===h.getRoot()&&(m.list_block&&Uh(d,m.list_block)||W(oe(d.childNodes),function(e){af(f,v,e.nodeName.toLowerCase())?p?p.appendChild(e):(p=Vh(h,e,v),h.setAttribs(p,f.settings.forced_root_block_attrs)):p=0})):h.isBlock(d)&&!h.isBlock(g)&&($h(h,d,!1)||$h(h,d.firstChild,!0,!0)||d.insertBefore(h.create(\"br\"),d.firstChild),$h(h,d,!0)||$h(h,d.lastChild,!1,!0)||d.appendChild(h.create(\"br\")))),m.selector&&m.inline&&!Uh(m.inline,d)||h.remove(d,!0),Ih.removed()):Ih.keep()},Kh=function(t,e,n,r,o){return Wh(t,e,n,r,o).fold(C,function(e){return t.dom.rename(r,e),!0},k)},Xh=function(e,t,n,r,o,i,a,u){var s,c,l,f=e.dom;if(n){for(var d=n.parentNode,m=r.parentNode;m&&m!==d;m=m.parentNode){s=f.clone(m,!1);for(var p=0;p<t.length&&null!==(s=function(t,e,n,r){return Wh(t,e,n,r,r).fold(E(r),function(e){return t.dom.createFragment().appendChild(r),t.dom.rename(r,e)},E(null))}(e,t[p],u,s));p++);s&&(c&&s.appendChild(c),l=l||s,c=s)}!i||a.mixed&&f.isBlock(n)||(r=f.split(n,r)),c&&(o.parentNode.insertBefore(c,o),l.appendChild(o),a.inline&&Oh(f,a,0,c))}return r},Yh=function(s,c,l,e,f){var t,d=s.formatter.get(c),m=d[0],i=!0,a=s.dom,n=s.selection,u=function(e){var n,t,r,o,i,a,u=(t=e,r=c,o=l,i=f,W(mf((n=s).dom,t.parentNode).reverse(),function(e){var t;a||\"_start\"===e.id||\"_end\"===e.id||(t=zm(n,e,r,o,i))&&!1!==t.split&&(a=e)}),a);return Xh(s,d,u,e,e,!0,m,l)},p=function(e){var t,n;An(e)&&a.getContentEditable(e)&&(t=i,i=\"true\"===a.getContentEditable(e),n=!0);var r=oe(e.childNodes);if(i&&!n)for(var o=0;o<d.length&&!Kh(s,d[o],l,e,e);o++);if(m.deep&&r.length){for(o=0;o<r.length;o++)p(r[o]);n&&(i=t)}},g=function(e){var t,n=a.get(e?\"_start\":\"_end\"),r=n[e?\"firstChild\":\"lastChild\"];return Jl(t=r)&&An(t)&&(\"_start\"===t.id||\"_end\"===t.id)&&(r=r[e?\"firstChild\":\"lastChild\"]),In(r)&&0===r.data.length&&(r=e?n.previousSibling||n.nextSibling:n.nextSibling||n.previousSibling),a.remove(n,!0),r},r=function(e){var t,n,r=Of(s,e,d,e.collapsed);if(m.split){if(r=Cd(r),(t=jh(s,r,!0))!==(n=jh(s,r))){if(t=Hh(t,!0),n=Hh(n,!1),zh(a,t,n)){var o=U.from(t.firstChild).getOr(t);return u(qh(a,o,!0,\"span\",{id:\"_start\",\"data-mce-type\":\"bookmark\"})),void g(!0)}if(zh(a,n,t)){o=U.from(n.lastChild).getOr(n);return u(qh(a,o,!1,\"span\",{id:\"_end\",\"data-mce-type\":\"bookmark\"})),void g(!1)}t=Vh(a,t,\"span\",{id:\"_start\",\"data-mce-type\":\"bookmark\"}),n=Vh(a,n,\"span\",{id:\"_end\",\"data-mce-type\":\"bookmark\"});var i=a.createRng();i.setStartAfter(t),i.setEndBefore(n),Pf(a,i,function(e){W(e,function(e){Jl(e)||Jl(e.parentNode)||u(e)})}),u(t),u(n),t=g(!0),n=g()}else t=n=u(t);r.startContainer=t.parentNode?t.parentNode:t,r.startOffset=a.nodeIndex(t),r.endContainer=n.parentNode?n.parentNode:n,r.endOffset=a.nodeIndex(n)+1}Pf(a,r,function(e){W(e,function(t){p(t);W([\"underline\",\"line-through\",\"overline\"],function(e){An(t)&&s.dom.getStyle(t,\"text-decoration\")===e&&t.parentNode&&df(a,t.parentNode)===e&&Kh(s,{deep:!1,exact:!0,inline:\"span\",styles:{textDecoration:e}},null,t)})})})};if(e)tf(e)?((t=a.createRng()).setStartBefore(e),t.setEndAfter(e),r(t)):r(e);else if(\"false\"!==a.getContentEditable(n.getNode()))n.isCollapsed()&&m.inline&&!Ff(s).length?xh(s,c,l,f):($f(n,!0,function(){qf(s,r)}),m.inline&&jm(s,c,l,n.getStart())&&nf(a,n,n.getRng()),s.nodeChanged());else{e=n.getNode();for(var o=0;o<d.length&&(!d[o].ceFalseOverride||!Kh(s,d[o],l,e,e));o++);}},Gh=kt.each,Jh=function(i,e,a,u){Gh(e,function(t){var r,e,n,o;Gh(i.dom.select(t.inline,u),function(e){Rh(e)&&Kh(i,t,a,e,t.exact?e:null)}),r=i.dom,n=u,(e=t).clear_child_styles&&(o=e.links?\"*:not(a)\":\"*\",Ah(r.select(o,n),function(n){Rh(n)&&Ah(e.styles,function(e,t){r.setStyle(n,t,\"\")})}))})},Qh=kt.each,Zh=ve,ev=function(E,k,_,r){var e,t,n,o,A=E.formatter.get(k),R=A[0],i=!r&&E.selection.isCollapsed(),a=E.dom,u=E.selection,T=function(n,e){var t;e=e||R,n&&(e.onformat&&e.onformat(n,e,_,r),Qh(e.styles,function(e,t){a.setStyle(n,t,sf(e,_))}),!e.styles||(t=a.getAttrib(n,\"style\"))&&a.setAttrib(n,\"data-mce-style\",t),Qh(e.attributes,function(e,t){a.setAttrib(n,t,sf(e,_))}),Qh(e.classes,function(e){e=sf(e,_),a.hasClass(n,e)||a.addClass(n,e)}))},m=function(e,t){var n=!1;return!!hf(R)&&(Qh(e,function(e){if(!(\"collapsed\"in e&&e.collapsed!==i))return a.is(t,e.selector)&&!jl(t)?(T(t,e),!(n=!0)):void 0}),n)},s=function(S,e,t,c){var N=[],l=!0,f=R.inline||R.block,d=S.create(f);T(d),Pf(S,e,function(e){var u,s=function(e){var t=!1,n=l,r=e.nodeName.toLowerCase(),o=e.parentNode.nodeName.toLowerCase();if(An(e)&&S.getContentEditable(e)&&(n=l,l=\"true\"===S.getContentEditable(e),t=!0),zn(e)&&!function(e,t,n,r){if(e.getParam(\"format_empty_lines\",!1,\"boolean\")&&vf(t)){var o=ke(ke({},e.schema.getTextBlockElements()),{td:{},th:{},li:{},dt:{},dd:{},figcaption:{},caption:{},details:{},summary:{}}),i=dh(At.fromDom(n),function(e){return jl(e.dom)});return ve(o,r)&&$o(At.fromDom(n.parentNode),!1)&&!i}return!1}(E,R,e,o))return u=null,void(gf(R)&&S.remove(e));if(R.wrapper&&zm(E,e,k,_))u=null;else{if(l&&!t&&gf(R)&&!R.wrapper&&of(E,r)&&af(E,o,f)){var i=S.rename(e,f);return T(i),N.push(i),void(u=null)}if(hf(R)){var a=m(A,e);if(!Zh(R,\"inline\")||a)return void(u=null)}!l||t||!af(E,f,r)||!af(E,o,f)||!c&&3===e.nodeType&&1===e.nodeValue.length&&65279===e.nodeValue.charCodeAt(0)||jl(e)||Zh(R,\"inline\")&&S.isBlock(e)?(u=null,Qh(kt.grep(e.childNodes),s),t&&(l=n),u=null):(u||(u=S.clone(d,!1),e.parentNode.insertBefore(u,e),N.push(u)),u.appendChild(e))}};Qh(e,s)}),!0===R.links&&Qh(N,function(e){var t=function(e){\"A\"===e.nodeName&&T(e,R),Qh(kt.grep(e.childNodes),t)};t(e)}),Qh(N,function(e){var n,t,r,o,i,a,u,s,c,l,f,d,m,p,g,h,v,y,b,C,w=function(e){var n=!1;return Qh(e.childNodes,function(e){if((t=e)&&1===t.nodeType&&!Jl(t)&&!jl(t)&&!On(t))return n=e,!1;var t}),n},x=(n=0,Qh(e.childNodes,function(e){var t;D(t=e)&&In(t)&&0===t.length||Jl(e)||n++}),n);!(1<N.length)&&S.isBlock(e)||0!==x?(vf(R)||R.wrapper)&&(R.exact||1!==x||((C=w(y=e))&&!Jl(C)&&Fm(S,C,R)&&(b=S.clone(C,!1),T(b),S.replace(b,y,!0),S.remove(C,!0)),e=b||y),Jh(E,A,_,e),p=R,g=k,h=_,zm(m=E,(v=e).parentNode,g,h)&&Kh(m,p,h,v)||p.merge_with_parents&&m.dom.getParent(v.parentNode,function(e){if(zm(m,e,g,h))return Kh(m,p,h,v),!0}),c=S,f=_,d=e,(l=R).styles&&l.styles.backgroundColor&&Bh(d,Ph(c,\"fontSize\"),Lh(c,\"backgroundColor\",sf(l.styles.backgroundColor,f))),i=S,u=e,s=function(e){var t;1===e.nodeType&&e.parentNode&&1===e.parentNode.nodeType&&(t=df(i,e.parentNode),i.getStyle(e,\"color\")&&t?i.setStyle(e,\"text-decoration\",t):i.getStyle(e,\"text-decoration\")===t&&i.setStyle(e,\"text-decoration\",null))},(a=R).styles&&(a.styles.color||a.styles.textDecoration)&&(kt.walk(u,s,\"childNodes\"),s(u)),t=S,o=e,\"sub\"!==(r=R).inline&&\"sup\"!==r.inline||(Bh(o,Ph(t,\"fontSize\"),Lh(t,\"fontSize\",\"\")),t.remove(t.select(\"sup\"===r.inline?\"sub\":\"sup\",o),!0)),Oh(S,R,0,e)):S.remove(e,!0)})};if(\"false\"!==a.getContentEditable(u.getNode())){R&&(r?tf(r)?m(A,r)||((e=a.createRng()).setStartBefore(r),e.setEndAfter(r),s(a,Of(E,e,A),0,!0)):s(a,r,0,!0):i&&vf(R)&&!Ff(E).length?function(e,t,n){var r,o=e.selection,i=o.getRng(),a=i.startOffset,u=i.startContainer.nodeValue,s=Hl(e.getBody(),o.getStart());s&&(r=hh(s));var c,l,f,d,m=/[^\\s\\u00a0\\u00ad\\u200b\\ufeff]/;u&&0<a&&a<u.length&&m.test(u.charAt(a))&&m.test(u.charAt(a-1))?(c=o.getBookmark(),i.collapse(!0),l=Of(e,i,e.formatter.get(t)),l=Cd(l),e.formatter.apply(t,n,l),o.moveToBookmark(c)):(s&&r.nodeValue===mh||(f=e.getDoc(),d=vh(!0).dom,r=(s=f.importNode(d,!0)).firstChild,i.insertNode(s),a=1),e.formatter.apply(t,n,s),o.setCursorLocation(r,a))}(E,k,_):(t=u.getNode(),n=A[0],E.settings.forced_root_block||!n.defaultBlock||a.getParent(t,a.isBlock)||ev(E,n.defaultBlock),u.setRng(Yg(u.getRng())),$f(u,!0,function(e){qf(E,function(e,t){var n=t?e:Of(E,e,A);s(a,n)})}),nf(a,u,u.getRng()),E.nodeChanged()),o=E,_h(Eh[k],function(e){e(o)}))}else{r=u.getNode();for(var c=0,l=A.length;c<l;c++){var f=A[c];if(f.ceFalseOverride&&hf(f)&&a.is(r,f.selector))return void T(r,f)}}},tv=function(r,e,t,n){var o=ie(t.get()),i={},a={},u=H(mf(r.dom,e),function(e){return 1===e.nodeType&&!e.getAttribute(\"data-mce-bogus\")});ue(n,function(e,n){kt.each(u,function(t){return r.formatter.matchNode(t,n,{},e.similar)?(-1===o.indexOf(n)&&(W(e.callbacks,function(e){e(!0,{node:t,format:n,parents:u})}),i[n]=e.callbacks),a[n]=e.callbacks,!1):!Im(r,t,n)&&void 0})});var s=nv(t.get(),a,e,u);t.set(ke(ke({},i),s))},nv=function(e,n,r,o){return de(e,function(e,t){return!!he(n,t)||(W(e,function(e){e(!1,{node:r,format:t,parents:o})}),!1)}).t},rv=function(e,o,i,a,t){var n,r,u,s,c,l,f,d;return null===o.get()&&(r=e,u=Ou({}),(n=o).set({}),r.on(\"NodeChange\",function(e){tv(r,e.element,u,n.get())})),c=i,l=a,f=t,d=(s=o).get(),W(c.split(\",\"),function(e){d[e]||(d[e]={similar:f,callbacks:[]}),d[e].callbacks.push(l)}),s.set(d),{unbind:function(){return t=i,n=a,r=(e=o).get(),W(t.split(\",\"),function(e){r[e].callbacks=H(r[e].callbacks,function(e){return e!==n}),0===r[e].callbacks.length&&delete r[e]}),void e.set(r);var e,t,n,r}}},ov=function(e,t){var n=(t||document).createDocumentFragment();return W(e,function(e){n.appendChild(e.dom)}),At.fromDom(n)},iv=function(e,t,n){return{element:e,width:t,rows:n}},av=function(e,t){return{element:e,cells:t}},uv=function(e,t){var n=parseInt(Gn(e,t),10);return isNaN(n)?1:n},sv=function(e){return X(e,function(e,t){return t.cells.length>e?t.cells.length:e},0)},cv=function(e,t){for(var n=e.rows,r=0;r<n.length;r++)for(var o=n[r].cells,i=0;i<o.length;i++)if(Ot(o[i],t))return U.some({x:i,y:r});return U.none()},lv=function(e,t,n,r,o){for(var i=[],a=e.rows,u=n;u<=o;u++){var s=a[u].cells,c=t<r?s.slice(t,r+1):s.slice(r,t+1);i.push(av(a[u].element,c))}return i},fv=function(e){var o=iv(ss(e),0,[]);return W(Gu(e,\"tr\"),function(n,r){W(Gu(n,\"td,th\"),function(e,t){!function(e,t,n,r,o){for(var i=uv(o,\"rowspan\"),a=uv(o,\"colspan\"),u=e.rows,s=n;s<n+i;s++){u[s]||(u[s]=av(cs(r),[]));for(var c=t;c<t+a;c++){u[s].cells[c]=s===n&&c===t?o:ss(o)}}}(o,function(e,t,n){for(;r=t,o=n,((i=e.rows)[o]?i[o].cells:[])[r];)t++;var r,o,i;return t}(o,t,r),r,n,e)})}),iv(o.element,sv(o.rows),o.rows)},dv=function(e){return n=z((t=e).rows,function(e){var t=z(e.cells,function(e){var t=cs(e);return Qn(t,\"colspan\"),Qn(t,\"rowspan\"),t}),n=ss(e.element);return dn(n,t),n}),r=ss(t.element),o=At.fromTag(\"tbody\"),dn(o,n),fn(r,o),r;var t,n,r,o},mv=function(l,e,t){return cv(l,e).bind(function(c){return cv(l,t).map(function(e){return t=l,r=e,o=(n=c).x,i=n.y,a=r.x,u=r.y,s=i<u?lv(t,o,i,a,u):lv(t,o,u,a,i),iv(t.element,sv(s),s);var t,n,r,o,i,a,u,s})})},pv=function(t,n){return Y(t,function(e){return\"li\"===Lt(e)&&jf(e,n)}).fold(E([]),function(e){return Y(t,function(e){return\"ul\"===Lt(e)||\"ol\"===Lt(e)}).map(function(e){var t=At.fromTag(Lt(e)),n=me(rr(e),function(e,t){return Ve(t,\"list-style\")});return Zn(t,n),[At.fromTag(\"li\"),t]}).getOr([])})},gv=function(e,t){var n,r=At.fromDom(t.commonAncestorContainer),o=Dp(r,e),i=H(o,function(e){return to(e)||Zr(e)}),a=pv(o,t),u=i.concat(a.length?a:io(n=r)?$t(n).filter(oo).fold(E([]),function(e){return[n,e]}):oo(n)?[n]:[]);return z(u,ss)},hv=function(){return ov([])},vv=function(e,t){return n=At.fromDom(t.cloneContents()),r=gv(e,t),o=X(r,function(e,t){return fn(t,e),t},n),0<r.length?ov([o]):o;var n,r,o},yv=function(e,o){return t=e,n=o[0],Tr(n,\"table\",N(Ot,t)).bind(function(e){var t=o[0],n=o[o.length-1],r=fv(e);return mv(r,t,n).map(function(e){return ov([dv(e)])})}).getOrThunk(hv);var t,n},bv=function(e,t){var n,r,o=Mf(t,e);return 0<o.length?yv(e,o):(n=e,0<(r=t).length&&r[0].collapsed?hv():vv(n,r[0]))},Cv=function(e,t){return 0<=t&&t<e.length&&Zl(e.charAt(t))},wv=function(e,t){var n=po(e.innerText);return t?n.replace(/^[ \\f\\n\\r\\t\\v]+/,\"\"):n},xv=function(f){return U.from(f.selection.getRng()).map(function(e){var t=U.from(f.dom.getParent(e.commonAncestorContainer,f.dom.isBlock)),n=f.getBody(),r=t.map(function(e){return e.nodeName}).getOr(\"div\").toLowerCase(),o=wt.browser.isIE()&&\"pre\"!==r,i=f.dom.add(n,r,{\"data-mce-bogus\":\"all\",style:\"overflow: hidden; opacity: 0;\"},e.cloneContents()),a=wv(i,o),u=po(i.textContent);if(f.dom.remove(i),Cv(u,0)||Cv(u,u.length-1)){var s=t.getOr(n),c=wv(s,o),l=c.indexOf(a);return-1===l?a:(Cv(c,l-1)?\" \":\"\")+a+(Cv(c,l+a.length)?\" \":\"\")}return a}).getOr(\"\")},Sv=function(e,t,n){if(void 0===n&&(n={}),n.get=!0,n.format=t,n.selection=!0,(n=e.fire(\"BeforeGetContent\",n)).isDefaultPrevented())return e.fire(\"GetContent\",n),n.content;if(\"text\"===n.format)return xv(e);n.getInner=!0;var r,o,i,a,u,s,c,l=(o=n,i=(r=e).selection.getRng(),a=r.dom.create(\"body\"),u=r.selection.getSel(),s=Om(r,Lf(u)),(c=o.contextual?bv(At.fromDom(r.getBody()),s).dom:i.cloneContents())&&a.appendChild(c),r.selection.serializer.serialize(a,o));return\"tree\"===n.format?l:(n.content=e.selection.isCollapsed()?\"\":l,e.fire(\"GetContent\",n),n.content)},Nv=function(e){return An(e)?e.outerHTML:In(e)?ci.encodeRaw(e.data,!1):Mn(e)?\"\\x3c!--\"+e.data+\"--\\x3e\":\"\"},Ev=function(e,t,n){var r,o=function(e){var t,n=document.createElement(\"div\"),r=document.createDocumentFragment();for(e&&(n.innerHTML=e);t=n.firstChild;)r.appendChild(t);return r}(t);e.hasChildNodes()&&n<e.childNodes.length?(r=e.childNodes[n]).parentNode.insertBefore(o,r):e.appendChild(o)},kv=function(e,o){var i=0;W(e,function(e){var t,n,r;0===e[0]?i++:1===e[0]?(Ev(o,e[1],i),i++):2===e[0]&&(n=i,(t=o).hasChildNodes()&&n<t.childNodes.length&&(r=t.childNodes[n]).parentNode.removeChild(r))})},_v=function(e,t){var p,g,n,h,v,c,y,l,r,o=z(oe(t.childNodes),Nv);return kv((g=e,n=(p=o).length+g.length+2,h=new Array(n),v=new Array(n),c=function(e,t,n,r,o){var i=l(e,t,n,r);if(null===i||i.start===t&&i.diag===t-r||i.end===e&&i.diag===e-n)for(var a=e,u=n;a<t||u<r;)a<t&&u<r&&p[a]===g[u]?(o.push([0,p[a]]),++a,++u):r-n<t-e?(o.push([2,p[a]]),++a):(o.push([1,g[u]]),++u);else{c(e,i.start,n,i.start-i.diag,o);for(var s=i.start;s<i.end;++s)o.push([0,p[s]]);c(i.end,t,i.end-i.diag,r,o)}},y=function(e,t,n,r){for(var o=e;o-t<r&&o<n&&p[o]===g[o-t];)++o;return{start:e,end:o,diag:t}},l=function(e,t,n,r){var o=t-e,i=r-n;if(0==o||0==i)return null;var a,u,s,c,l,f=o-i,d=i+o,m=(d%2==0?d:1+d)/2;for(h[1+m]=e,v[1+m]=t+1,a=0;a<=m;++a){for(u=-a;u<=a;u+=2){for(s=u+m,u===-a||u!==a&&h[s-1]<h[s+1]?h[s]=h[s+1]:h[s]=h[s-1]+1,l=(c=h[s])-e+n-u;c<t&&l<r&&p[c]===g[l];)h[s]=++c,++l;if(f%2!=0&&f-a<=u&&u<=f+a&&v[s-f]<=h[s])return y(v[s-f],u+e-n,t,r)}for(u=f-a;u<=f+a;u+=2){for(s=u+m-f,u===f-a||u!==f+a&&v[s+1]<=v[s-1]?v[s]=v[s+1]-1:v[s]=v[s-1],l=(c=v[s]-1)-e+n-u;e<=c&&n<=l&&p[c]===g[l];)v[s]=c--,l--;if(f%2==0&&-a<=u&&u<=a&&v[s]<=h[s+f])return y(v[s],u+e-n,t,r)}}},r=[],c(0,p.length,0,g.length,r),r),t),t},Av=Ou(U.none()),Rv=function(n){var e,t=(e=n.getBody(),H(z(oe(e.childNodes),Nv),function(e){return 0<e.length})),r=J(t,function(e){var t=ap(n.serializer,e);return 0<t.length?[t]:[]}),o=r.join(\"\");return-1!==o.indexOf(\"</iframe>\")?{type:\"fragmented\",fragments:r,content:\"\",bookmark:null,beforeBookmark:null}:{type:\"complete\",fragments:null,content:o,bookmark:null,beforeBookmark:null}},Tv=function(e,t,n){\"fragmented\"===t.type?_v(t.fragments,e.getBody()):e.setContent(t.content,{format:\"raw\"}),e.selection.moveToBookmark(n?t.beforeBookmark:t.bookmark)},Dv=function(e){return\"fragmented\"===e.type?e.fragments.join(\"\"):e.content},Ov=function(e){var t=At.fromTag(\"body\",Av.get().getOrThunk(function(){var e=document.implementation.createHTMLDocument(\"undo\");return Av.set(U.some(e)),e}));return as(t,Dv(e)),W(Gu(t,\"*[data-mce-bogus]\"),gn),t.dom.innerHTML},Bv=function(e,t){return!(!e||!t)&&(r=t,Dv(e)===Dv(r)||(n=t,Ov(e)===Ov(n)));var n,r},Pv=function(e){return 0===e.get()},Lv=function(e,t,n){Pv(n)&&(e.typing=t)},Iv=function(e,t){e.typing&&(Lv(e,!1,t),e.add())},Mv=function(e){return e instanceof Km},Fv=function(e,t){sh(e.serializer.getNodeFilters(),e.serializer.getAttributeFilters(),t)},Uv=function(){return{type:\"complete\",fragments:[],content:\"\",bookmark:null,beforeBookmark:null}},zv=function(f){return{undoManager:{beforeChange:function(e,t){return n=f,r=t,void(Pv(e)&&r.set(U.some(mc(n.selection))));var n,r},addUndoLevel:function(e,t,n,r,o,i){return function(e,t,n,r,o,i,a){var u=Rv(e);if(i=i||{},i=kt.extend(i,u),!1===Pv(r)||e.removed)return null;var s=t.data[n.get()];if(e.fire(\"BeforeAddUndo\",{level:i,lastLevel:s,originalEvent:a}).isDefaultPrevented())return null;if(s&&Bv(s,i))return null;t.data[n.get()]&&o.get().each(function(e){t.data[n.get()].beforeBookmark=e});var c=e.getParam(\"custom_undo_redo_levels\",0,\"number\");if(c&&t.data.length>c){for(var l=0;l<t.data.length-1;l++)t.data[l]=t.data[l+1];t.data.length--,n.set(t.data.length)}i.bookmark=mc(e.selection),n.get()<t.data.length-1&&(t.data.length=n.get()+1),t.data.push(i),n.set(t.data.length-1);var f={level:i,lastLevel:s,originalEvent:a};return 0<n.get()?(e.setDirty(!0),e.fire(\"AddUndo\",f),e.fire(\"change\",f)):e.fire(\"AddUndo\",f),i}(f,e,t,n,r,o,i)},undo:function(e,t,n){return r=f,i=t,a=n,(o=e).typing&&(o.add(),o.typing=!1,Lv(o,!1,i)),0<a.get()&&(a.set(a.get()-1),u=o.data[a.get()],Tv(r,u,!0),r.setDirty(!0),r.fire(\"Undo\",{level:u})),u;var r,o,i,a,u},redo:function(e,t){return n=f,o=t,(r=e).get()<o.length-1&&(r.set(r.get()+1),i=o[r.get()],Tv(n,i,!1),n.setDirty(!0),n.fire(\"Redo\",{level:i})),i;var n,r,o,i},clear:function(e,t){return n=f,o=t,(r=e).data=[],o.set(0),r.typing=!1,void n.fire(\"ClearUndos\");var n,r,o},reset:function(e){return(t=e).clear(),void t.add();var t},hasUndo:function(e,t){return n=f,r=e,0<t.get()||r.typing&&r.data[0]&&!Bv(Rv(n),r.data[0]);var n,r},hasRedo:function(e,t){return n=e,t.get()<n.data.length-1&&!n.typing;var n},transact:function(e,t,n){return o=n,Iv(r=e,t),r.beforeChange(),r.ignore(o),r.add();var r,o},ignore:function(e,t){try{e.set(e.get()+1),t()}finally{e.set(e.get()-1)}},extra:function(e,t,n,r){return o=f,a=t,u=n,s=r,void((i=e).transact(u)&&(c=i.data[a.get()].bookmark,l=i.data[a.get()-1],Tv(o,l,!0),i.transact(s)&&(i.data[a.get()-1].beforeBookmark=c)));var o,i,a,u,s,c,l}},formatter:{match:function(e,t,n){return jm(f,e,t,n)},matchAll:function(e,t){return o=e,i=t,a=[],u={},n=(r=f).selection.getStart(),r.dom.getParent(n,function(e){for(var t=0;t<o.length;t++){var n=o[t];!u[n]&&zm(r,e,n,i)&&(u[n]=!0,a.push(n))}},r.dom.getRoot()),a;var r,o,i,a,u,n},matchNode:function(e,t,n,r){return zm(f,e,t,n,r)},canApply:function(e){return function(e,t){var n,r,o,i,a,u=e.formatter.get(t),s=e.dom;if(u)for(n=e.selection.getStart(),r=mf(s,n),i=u.length-1;0<=i;i--){if(!(a=u[i].selector)||u[i].defaultBlock)return!0;for(o=r.length-1;0<=o;o--)if(s.is(r[o],a))return!0}return!1}(f,e)},closest:function(e){return Hm(f,e)},apply:function(e,t,n){return ev(f,e,t,n)},remove:function(e,t,n,r){return Yh(f,e,t,n,r)},toggle:function(e,t,n){return o=e,i=t,a=n,u=(r=f).formatter.get(o),void(!jm(r,o,i,a)||\"toggle\"in u[0]&&!u[0].toggle?ev:Yh)(r,o,i,a);var r,o,i,a,u},formatChanged:function(e,t,n,r){return rv(f,e,t,n,r)}},editor:{getContent:function(e,t){return n=f,r=e,o=t,U.from(n.getBody()).fold(E(\"tree\"===r.format?new Km(\"body\",11):\"\"),function(e){return sp(n,r,o,e)});var n,r,o},setContent:function(e,t){return fh(f,e,t)},insertContent:function(e,t){return ah(f,e,t)},addVisual:function(e){return t=e,a=(i=f).dom,n=D(t)?t:i.getBody(),R(i.hasVisual)&&(i.hasVisual=i.getParam(\"visual\",!0,\"boolean\")),W(a.select(\"table,a\",n),function(e){switch(e.nodeName){case\"TABLE\":var t=i.getParam(\"visual_table_class\",\"mce-item-table\",\"string\"),n=a.getAttrib(e,\"border\");n&&\"0\"!==n||!i.hasVisual?a.removeClass(e,t):a.addClass(e,t);break;case\"A\":var r,o;a.getAttrib(e,\"href\")||(r=a.getAttrib(e,\"name\")||e.id,o=i.getParam(\"visual_anchor_class\",\"mce-item-anchor\",\"string\"),r&&i.hasVisual?a.addClass(e,o):a.removeClass(e,o))}}),void i.fire(\"VisualAid\",{element:t,hasVisual:i.hasVisual});var i,t,a,n}},selection:{getContent:function(e,t){return Sv(f,e,t)}},raw:{getModel:function(){return U.none()}}}},jv=function(i,a){var o=function(e){return _(e)?e:{}},e=m(\"Unimplemented feature for rtc\");return{undoManager:{beforeChange:V,addUndoLevel:e,undo:function(){return a.undo(),Uv()},redo:function(){return a.redo(),Uv()},clear:e,reset:e,hasUndo:function(){return a.hasUndo()},hasRedo:function(){return a.hasRedo()},transact:function(e,t,n){return a.transact(n),Uv()},ignore:e,extra:e},formatter:{match:function(e,t,n){return a.matchFormat(e,o(t))},matchAll:e,matchNode:e,canApply:function(e){return a.canApplyFormat(e)},closest:function(e){return a.closestFormat(e)},apply:function(e,t,n){return a.applyFormat(e,o(t))},remove:function(e,t,n,r){return a.removeFormat(e,o(t))},toggle:function(e,t,n){return a.toggleFormat(e,o(t))},formatChanged:function(e,t,n,r){return a.formatChanged(t,n,r)}},editor:{getContent:function(e,t){if(\"html\"!==t&&\"tree\"!==t)return zv(i).editor.getContent(e,t);var n=a.getContent(),r=Jm({inner:!0});return Fv(i,n),\"tree\"===t?n:r.serialize(n)},setContent:function(e,t){var n=Mv(e)?e:i.parser.parse(e,{isRootContent:!0,insert:!0});return a.setContent(n),e},insertContent:function(e,t){var n,r=(n=i,U.from(n.selection.getStart(!0)).map(function(e){return e.nodeName.toLowerCase()}).fold(function(){return{}},function(e){return{context:e}})),o=Mv(e)?e:i.parser.parse(e,ke(ke({},r),{insert:!0}));a.insertContent(o)},addVisual:function(e){}},selection:{getContent:function(e,t){if(\"html\"!==e&&\"tree\"!==e)return zv(i).selection.getContent(e,t);var n=a.getSelectedContent(),r=Jm({});return Fv(i,n),\"tree\"===e?n:r.serialize(n)}},raw:{getModel:function(){return U.some(a.getRawModel())}}}},Hv=function(e){return he(e.plugins,\"rtc\")},Vv=function(e){return e.rtcInstance?e.rtcInstance:zv(e)},qv=function(e){var t=e.rtcInstance;if(t)return t;throw new Error(\"Failed to get RTC instance not yet initialized.\")},$v=function(e,t){void 0===t&&(t={});var n,r,o=t.format?t.format:\"html\";return n=o,r=t,qv(e).selection.getContent(n,r)},Wv=function(e){return 0===e.dom.length?(pn(e),U.none()):U.some(e)},Kv=function(e,t,s,c){e.bind(function(u){return(c?sg:ug)(u.dom,c?u.dom.length:0),t.filter(Ut).map(function(e){return t=e,n=s,r=c,o=u.dom,i=t.dom,a=r?o.length:i.length,void(r?(cg(o,i,!1,!r),n.setStart(i,a)):(cg(i,o,!1,!r),n.setEnd(i,a)));var t,n,r,o,i,a})}).orThunk(function(){var e;return(e=c,t.filter(function(e){return od.isBookmarkNode(e.dom)}).bind(e?Kt:Wt).or(t).filter(Ut)).map(function(e){return r=c,void $t(n=e).each(function(e){var t=n.dom;r&&Qp(e,$s(t,0))?ug(t,0):!r&&Zp(e,$s(t,t.length))&&sg(t,t.length)});var n,r})})},Xv=function(e,t,n){void 0===n&&(n={});var r,o,i=(r=t,ke(ke({format:\"html\"},n),{set:!0,selection:!0,content:r}));i.no_events||!(i=e.fire(\"BeforeSetContent\",i)).isDefaultPrevented()?(n.content=function(e,t){if(\"raw\"===t.format)return t.content;var n=e.selection.getRng(),r=e.dom.getParent(n.commonAncestorContainer,e.dom.isBlock),o=r?{context:r.nodeName.toLowerCase()}:{},i=e.parser.parse(t.content,ke(ke({isRootContent:!0,forced_root_block:!1},o),t));return Jm({validate:e.validate},e.schema).serialize(i)}(e,i),function(e,t){var n=U.from(t.firstChild).map(At.fromDom),r=U.from(t.lastChild).map(At.fromDom);e.deleteContents(),e.insertNode(t);var o=n.bind(Wt).filter(Ut).bind(Wv),i=r.bind(Kt).filter(Ut).bind(Wv);Kv(o,n,e,!0),Kv(i,r,e,!1),e.collapse(!1)}(o=e.selection.getRng(),o.createContextualFragment(n.content)),e.selection.setRng(o),Xd(e,o),i.no_events||e.fire(\"SetContent\",i)):e.fire(\"SetContent\",i)},Yv=function(e,t,n){var r;e&&e.hasOwnProperty(t)&&(0===(r=H(e[t],function(e){return e!==n})).length?delete e[t]:e[t]=r)};var Gv=function(e){return!!e.select},Jv=function(e){return!(!e||!e.ownerDocument)&&Pt(At.fromDom(e.ownerDocument),At.fromDom(e))},Qv=function(u,s,e,c){var l,f,i,n,a,d,r=function(e,t){return a||(a={},d={},n.on(\"NodeChange\",function(e){var n=e.element,r=i.getParents(n,null,i.getRoot()),o={};kt.each(a,function(e,n){kt.each(r,function(t){if(i.is(t,n))return d[n]||(kt.each(e,function(e){e(!0,{node:t,selector:n,parents:r})}),d[n]=e),o[n]=e,!1})}),kt.each(d,function(e,t){o[t]||(delete d[t],kt.each(e,function(e){e(!1,{node:n,selector:t,parents:r})}))})})),a[e]||(a[e]=[]),a[e].push(t),{unbind:function(){Yv(a,e,t),Yv(d,e,t)}}},t=function(e,t){return Xv(c,e,t)},o=function(e){var t=p();t.collapse(!!e),g(t)},m=function(){return s.getSelection?s.getSelection():s.document.selection},p=function(){var e,t,n,r=function(e,t,n){try{return t.compareBoundaryPoints(e,n)}catch(r){return-1}};if(!s)return null;var o=s.document;if(null==o)return null;if(c.bookmark!==undefined&&!1===Em(c)){var i=dm(c);if(i.isSome())return i.map(function(e){return Om(c,[e])[0]}).getOr(o.createRange())}try{(e=m())&&!_n(e.anchorNode)&&(t=0<e.rangeCount?e.getRangeAt(0):e.createRange?e.createRange():o.createRange(),t=Om(c,[t])[0])}catch(a){}return(t=t||(o.createRange?o.createRange():o.body.createTextRange())).setStart&&9===t.startContainer.nodeType&&t.collapsed&&(n=u.getRoot(),t.setStart(n,0),t.setEnd(n,0)),l&&f&&(0===r(t.START_TO_START,t,l)&&0===r(t.END_TO_END,t,l)?t=f:f=l=null),t},g=function(e,t){var n;if((r=e)&&(Gv(r)||Jv(r.startContainer)&&Jv(r.endContainer))){var r,o=Gv(e)?e:null;if(o){f=null;try{o.select()}catch(a){}}else{var i=m();if(e=c.fire(\"SetSelectionRange\",{range:e,forward:t}).range,i){f=e;try{i.removeAllRanges(),i.addRange(e)}catch(a){}!1===t&&i.extend&&(i.collapse(e.endContainer,e.endOffset),i.extend(e.startContainer,e.startOffset)),l=0<i.rangeCount?i.getRangeAt(0):null}e.collapsed||e.startContainer!==e.endContainer||!i.setBaseAndExtent||wt.ie||e.endOffset-e.startOffset<2&&e.startContainer.hasChildNodes()&&(n=e.startContainer.childNodes[e.startOffset])&&\"IMG\"===n.tagName&&(i.setBaseAndExtent(e.startContainer,e.startOffset,e.endContainer,e.endOffset),i.anchorNode===e.startContainer&&i.focusNode===e.endContainer||i.setBaseAndExtent(n,0,n,1)),c.fire(\"AfterSetSelectionRange\",{range:e,forward:t})}}},h=function(){var e=m(),t=null==e?void 0:e.anchorNode,n=null==e?void 0:e.focusNode;if(!e||!t||!n||_n(t)||_n(n))return!0;var r=u.createRng();r.setStart(t,e.anchorOffset),r.collapse(!0);var o=u.createRng();return o.setStart(n,e.focusOffset),o.collapse(!0),r.compareBoundaryPoints(r.START_TO_START,o)<=0},v={bookmarkManager:null,controlSelection:null,dom:i=u,win:s,serializer:e,editor:n=c,collapse:o,setCursorLocation:function(e,t){var n=u.createRng();e?(n.setStart(e,t),n.setEnd(e,t),g(n),o(!1)):(Hf(u,n,c.getBody(),!0),g(n))},getContent:function(e){return $v(c,e)},setContent:t,getBookmark:function(e,t){return y.getBookmark(e,t)},moveToBookmark:function(e){return y.moveToBookmark(e)},select:function(e,t){var r,n,o;return r=u,n=e,o=t,U.from(n).map(function(e){var t=r.nodeIndex(e),n=r.createRng();return n.setStart(e.parentNode,t),n.setEnd(e.parentNode,t+1),o&&(Hf(r,n,e,!0),Hf(r,n,e,!1)),n}).each(g),e},isCollapsed:function(){var e=p(),t=m();return!(!e||e.item)&&(e.compareEndPoints?0===e.compareEndPoints(\"StartToEnd\",e):!t||e.collapsed)},isForward:h,setNode:function(e){return t(u.getOuterHTML(e)),e},getNode:function(){return function(e,t){var n,r;if(!t)return e;n=t.startContainer,r=t.endContainer;var o=t.startOffset,i=t.endOffset,a=t.commonAncestorContainer;return!t.collapsed&&(n===r&&i-o<2&&n.hasChildNodes()&&(a=n.childNodes[o]),3===n.nodeType&&3===r.nodeType&&(n=n.length===o?Dm(n.nextSibling,!0):n.parentNode,r=0===i?Dm(r.previousSibling,!1):r.parentNode,n&&n===r))?n:a&&3===a.nodeType?a.parentNode:a}(c.getBody(),p())},getSel:m,setRng:g,getRng:p,getStart:function(e){return Rm(c.getBody(),p(),e)},getEnd:function(e){return Tm(c.getBody(),p(),e)},getSelectedBlocks:function(e,t){return function(e,t,n,r){var o,i=[],a=e.getRoot();if(n=e.getParent(n||Rm(a,t,t.collapsed),e.isBlock),r=e.getParent(r||Tm(a,t,t.collapsed),e.isBlock),n&&n!==a&&i.push(n),n&&r&&n!==r)for(var u=new Xr(o=n,a);(o=u.next())&&o!==r;)e.isBlock(o)&&i.push(o);return r&&n!==r&&r!==a&&i.push(r),i}(u,p(),e,t)},normalize:function(){var e=p(),t=m();if(1<Lf(t).length||!Vf(c))return e;var n=yd(u,e);return n.each(function(e){g(e,h())}),n.getOr(e)},selectorChanged:function(e,t){return r(e,t),v},selectorChangedWithUnbind:r,getScrollContainer:function(){for(var e,t=u.getRoot();t&&\"BODY\"!==t.nodeName;){if(t.scrollHeight>t.clientHeight){e=t;break}t=t.parentNode}return e},scrollIntoView:function(e,t){return r=e,o=t,void((n=c).inline?$d:Kd)(n,r,o);var n,r,o},placeCaretAt:function(e,t){return g(fd(e,t,c.getDoc()))},getBoundingClientRect:function(){var e=p();return e.collapsed?$s.fromRangeStart(e).getClientRects()[0]:e.getBoundingClientRect()},destroy:function(){s=l=f=null,b.destroy()}},y=od(v),b=cd(v,c);return v.bookmarkManager=y,v.controlSelection=b,v},Zv=function(e,a,u){e.addNodeFilter(\"font\",function(e){W(e,function(e){var t,n=a.parse(e.attr(\"style\")),r=e.attr(\"color\"),o=e.attr(\"face\"),i=e.attr(\"size\");r&&(n.color=r),o&&(n[\"font-family\"]=o),i&&(n[\"font-size\"]=u[parseInt(e.attr(\"size\"),10)-1]),e.name=\"span\",e.attr(\"style\",a.serialize(n)),t=e,W([\"color\",\"face\",\"size\"],function(e){t.attr(e,null)})})})},ey=function(e,t){var n,r=xi();t.convert_fonts_to_spans&&Zv(e,r,kt.explode(t.font_size_legacy_values)),n=r,e.addNodeFilter(\"strike\",function(e){W(e,function(e){var t=n.parse(e.attr(\"style\"));t[\"text-decoration\"]=\"line-through\",e.name=\"span\",e.attr(\"style\",n.serialize(t))})})},ty=function(e){var t,n=decodeURIComponent(e).split(\",\"),r=/data:([^;]+)/.exec(n[0]);return r&&(t=r[1]),{type:t,data:n[1]}},ny=function(e,t){var n;try{n=atob(t)}catch(Ok){return U.none()}for(var r=new Uint8Array(n.length),o=0;o<r.length;o++)r[o]=n.charCodeAt(o);return U.some(new Blob([r],{type:e}))},ry=function(e){return 0===e.indexOf(\"blob:\")?(i=e,new Br(function(e,t){var n=function(){t(\"Cannot convert \"+i+\" to Blob. Resource might not exist or is inaccessible.\")};try{var r=new XMLHttpRequest;r.open(\"GET\",i,!0),r.responseType=\"blob\",r.onload=function(){200===this.status?e(this.response):n()},r.onerror=n,r.send()}catch(o){n()}})):0===e.indexOf(\"data:\")?(o=e,new Br(function(e){var t=ty(o),n=t.type,r=t.data;ny(n,r).fold(function(){return e(new Blob([]))},e)})):null;var i,o},oy=0,iy=function(e){return(e||\"blobid\")+oy++},ay=function(r,o,i,t){var e,n,a,u,s;0!==o.src.indexOf(\"blob:\")?(n=(e=ty(o.src)).data,a=e.type,u=n,(s=r.getByData(u,a))?i({image:o,blobInfo:s}):ry(o.src).then(function(e){s=r.create(iy(),e,u),r.add(s),i({image:o,blobInfo:s})},function(e){t(e)})):(s=r.getByUri(o.src))?i({image:o,blobInfo:s}):ry(o.src).then(function(t){var n;n=t,new Br(function(e){var t=new FileReader;t.onloadend=function(){e(t.result)},t.readAsDataURL(n)}).then(function(e){u=ty(e).data,s=r.create(iy(),t,u),r.add(s),i({image:o,blobInfo:s})})},function(e){t(e)})};function uy(i,a){var u={};return{findAll:function(e,n){n=n||k;var t,r=H((t=e)?oe(t.getElementsByTagName(\"img\")):[],function(e){var t=e.src;return!!wt.fileApi&&(!e.hasAttribute(\"data-mce-bogus\")&&(!e.hasAttribute(\"data-mce-placeholder\")&&(!(!t||t===wt.transparentSrc)&&(0===t.indexOf(\"blob:\")?!i.isUploaded(t)&&n(e):0===t.indexOf(\"data:\")&&n(e)))))}),o=z(r,function(n){if(u[n.src]!==undefined)return new Br(function(t){u[n.src].then(function(e){return\"string\"==typeof e?e:void t({image:n,blobInfo:e.blobInfo})})});var e=new Br(function(e,t){ay(a,n,e,t)}).then(function(e){return delete u[e.image.src],e})[\"catch\"](function(e){return delete u[n.src],e});return u[n.src]=e});return Br.all(o)}}}var sy,cy,ly=function(e,t,n,r){(e.padd_empty_with_br||t.insert)&&n[r.name]?r.empty().append(new Km(\"br\",1)).shortEnded=!0:r.empty().append(new Km(\"#text\",3)).value=lo},fy=function(e,t){return e&&e.firstChild&&e.firstChild===e.lastChild&&e.firstChild.name===t},dy=function(r,e,t,n){return n.isEmpty(e,t,function(e){return t=e,(n=r.getElementRule(t.name))&&n.paddEmpty;var t,n})},my=function(e,o){var i=o.blob_cache,t=function(t){var e,n,r=t.attr(\"src\");(e=t).attr(\"src\")===wt.transparentSrc||e.attr(\"data-mce-placeholder\")||t.attr(\"data-mce-bogus\")||((n=/data:([^;]+);base64,([a-z0-9\\+\\/=]+)/i.exec(r))?U.some({type:n[1],data:decodeURIComponent(n[2])}):U.none()).filter(function(){return function(e,t){if(t.images_dataimg_filter){var n=new Image;return n.src=e.attr(\"src\"),ue(e.attributes.map,function(e,t){n.setAttribute(t,e)}),t.images_dataimg_filter(n)}return!0}(t,o)}).bind(function(e){var t=e.type,n=e.data;return U.from(i.getByData(n,t)).orThunk(function(){return ny(t,n).map(function(e){var t=i.create(iy(),e,n);return i.add(t),t})})}).each(function(e){t.attr(\"src\",e.blobUri())})};i&&e.addAttributeFilter(\"src\",function(e){return W(e,t)})},py=function(e,g){var h=e.schema;g.remove_trailing_brs&&e.addNodeFilter(\"br\",function(e,t,n){var r,o,i,a,u,s,c,l,f=e.length,d=kt.extend({},h.getBlockElements()),m=h.getNonEmptyElements(),p=h.getWhiteSpaceElements();for(d.body=1,r=0;r<f;r++)if(i=(o=e[r]).parent,d[o.parent.name]&&o===i.lastChild){for(u=o.prev;u;){if(\"span\"!==(s=u.name)||\"bookmark\"!==u.attr(\"data-mce-type\")){\"br\"===s&&(o=null);break}u=u.prev}o&&(o.remove(),dy(h,m,p,i)&&(c=h.getElementRule(i.name))&&(c.removeEmpty?i.remove():c.paddEmpty&&ly(g,n,d,i)))}else{for(a=o;i&&i.firstChild===a&&i.lastChild===a&&!d[(a=i).name];)i=i.parent;a===i&&!0!==g.padd_empty_with_br&&((l=new Km(\"#text\",3)).value=lo,o.replace(l))}}),e.addAttributeFilter(\"href\",function(e){var t,n,r=e.length;if(!g.allow_unsafe_link_target)for(;r--;){var o=e[r];\"a\"===o.name&&\"_blank\"===o.attr(\"target\")&&o.attr(\"rel\",(t=o.attr(\"rel\"),n=t?kt.trim(t):\"\",/\\b(noopener)\\b/g.test(n)?n:n.split(\" \").filter(function(e){return 0<e.length}).concat([\"noopener\"]).sort().join(\" \")))}}),g.allow_html_in_named_anchor||e.addAttributeFilter(\"id,name\",function(e){for(var t,n,r,o,i=e.length;i--;)if(\"a\"===(o=e[i]).name&&o.firstChild&&!o.attr(\"href\"))for(r=o.parent,t=o.lastChild;n=t.prev,r.insert(t,o),t=n;);}),g.fix_list_elements&&e.addNodeFilter(\"ul,ol\",function(e){for(var t,n,r,o=e.length;o--;){\"ul\"!==(r=(n=e[o]).parent).name&&\"ol\"!==r.name||(n.prev&&\"li\"===n.prev.name?n.prev.append(n):((t=new Km(\"li\",1)).attr(\"style\",\"list-style-type: none\"),n.wrap(t)))}}),g.validate&&h.getValidClasses()&&e.addAttributeFilter(\"class\",function(e){for(var t,n,r,o,i,a,u,s=e.length,c=h.getValidClasses();s--;){for(n=(t=e[s]).attr(\"class\").split(\" \"),i=\"\",r=0;r<n.length;r++)o=n[r],u=!1,(a=c[\"*\"])&&a[o]&&(u=!0),a=c[t.name],!u&&a&&a[o]&&(u=!0),u&&(i&&(i+=\" \"),i+=o);i.length||(i=null),t.attr(\"class\",i)}}),my(e,g)},gy=kt.makeMap,hy=kt.each,vy=kt.explode,yy=kt.extend,by=function(A,R){void 0===R&&(R=Ci());var T={},D=[],O={},B={};(A=A||{}).validate=!(\"validate\"in A)||A.validate,A.root_name=A.root_name||\"body\";var e,t,P=function(e){var t,n,r=e.name;r in T&&((n=O[r])?n.push(e):O[r]=[e]),t=D.length;for(;t--;)(r=D[t].name)in e.attributes.map&&((n=B[r])?n.push(e):B[r]=[e]);return e},n={schema:R,addAttributeFilter:function(e,n){hy(vy(e),function(e){for(var t=0;t<D.length;t++)if(D[t].name===e)return void D[t].callbacks.push(n);D.push({name:e,callbacks:[n]})})},getAttributeFilters:function(){return[].concat(D)},addNodeFilter:function(e,n){hy(vy(e),function(e){var t=T[e];t||(T[e]=t=[]),t.push(n)})},getNodeFilters:function(){var e=[];for(var t in T)T.hasOwnProperty(t)&&e.push({name:t,callbacks:T[t]});return e},filterNode:P,parse:function(e,u){var t,n,r,o,i,s,a,c,l=[];u=u||{},O={},B={};var f,d=yy(gy(\"script,style,head,html,body,title,meta,param\"),R.getBlockElements()),m=R.getNonEmptyElements(),p=R.children,g=A.validate,h=\"forced_root_block\"in u?u.forced_root_block:A.forced_root_block,v=!1===(f=h)?\"\":!0===f?\"p\":f,y=R.getWhiteSpaceElements(),b=/^[ \\t\\r\\n]+/,C=/[ \\t\\r\\n]+$/,w=/[ \\t\\r\\n]+/g,x=/^[ \\t\\r\\n]+$/,S=y.hasOwnProperty(u.context)||y.hasOwnProperty(A.root_name),N=function(e,t){var n,r=new Km(e,t);return e in T&&((n=O[e])?n.push(r):O[e]=[r]),r},E=function(e){for(var t,n,r,o=R.getBlockElements(),i=e.prev;i&&3===i.type;){if(0<(n=i.value.replace(C,\"\")).length)return void(i.value=n);if(t=i.next){if(3===t.type&&t.value.length){i=i.prev;continue}if(!o[t.name]&&\"script\"!==t.name&&\"style\"!==t.name){i=i.prev;continue}}r=i.prev,i.remove(),i=r}},k=ip({validate:g,allow_html_data_urls:A.allow_html_data_urls,allow_svg_data_urls:A.allow_svg_data_urls,allow_script_urls:A.allow_script_urls,allow_conditional_comments:A.allow_conditional_comments,preserve_cdata:A.preserve_cdata,self_closing_elements:function(e){var t,n={};for(t in e)\"li\"!==t&&\"p\"!==t&&(n[t]=e[t]);return n}(R.getSelfClosingElements()),cdata:function(e){c.append(N(\"#cdata\",4)).value=e},text:function(e,t){var n,r,o;S||(e=e.replace(w,\" \"),r=c.lastChild,o=d,r&&(o[r.name]||\"br\"===r.name)&&(e=e.replace(b,\"\"))),0!==e.length&&((n=N(\"#text\",3)).raw=!!t,c.append(n).value=e)},comment:function(e){c.append(N(\"#comment\",8)).value=e},pi:function(e,t){c.append(N(e,7)).value=t,E(c)},doctype:function(e){c.append(N(\"#doctype\",10)).value=e,E(c)},start:function(e,t,n){var r,o,i,a,u=g?R.getElementRule(e):{};if(u){for((r=N(u.outputName||e,1)).attributes=t,r.shortEnded=n,c.append(r),(a=p[c.name])&&p[r.name]&&!a[r.name]&&l.push(r),o=D.length;o--;)(i=D[o].name)in t.map&&((s=B[i])?s.push(r):B[i]=[r]);d[e]&&E(r),n||(c=r),!S&&y[e]&&(S=!0)}},end:function(e){var t,n,r,o,i,a=g?R.getElementRule(e):{};if(a){if(d[e]&&!S){if((t=c.firstChild)&&3===t.type)if(0<(n=t.value.replace(b,\"\")).length)t.value=n,t=t.next;else for(r=t.next,t.remove(),t=r;t&&3===t.type;)n=t.value,r=t.next,0!==n.length&&!x.test(n)||(t.remove(),t=r),t=r;if((t=c.lastChild)&&3===t.type)if(0<(n=t.value.replace(C,\"\")).length)t.value=n,t=t.prev;else for(r=t.prev,t.remove(),t=r;t&&3===t.type;)n=t.value,r=t.prev,0!==n.length&&!x.test(n)||(t.remove(),t=r),t=r}if(S&&y[e]&&(S=!1),a.removeEmpty&&dy(R,m,y,c))return o=c.parent,d[c.name]?c.empty().remove():c.unwrap(),void(c=o);a.paddEmpty&&(fy(i=c,\"#text\")&&i.firstChild.value===lo||dy(R,m,y,c))&&ly(A,u,d,c),c=c.parent}}},R),_=c=new Km(u.context||A.root_name,11);if(k.parse(e,u.format),g&&l.length&&(u.context?u.invalid=!0:function(e){for(var t,n,r,o,i,a,u,s,c,l,f=gy(\"tr,td,th,tbody,thead,tfoot,table\"),d=R.getNonEmptyElements(),m=R.getWhiteSpaceElements(),p=R.getTextBlockElements(),g=R.getSpecialElements(),h=0;h<e.length;h++)if((t=e[h]).parent&&!t.fixed)if(p[t.name]&&\"li\"===t.parent.name){for(c=t.next;c&&p[c.name];)c.name=\"li\",c.fixed=!0,t.parent.insert(c,t.parent),c=c.next;t.unwrap(t)}else{for(r=[t],n=t.parent;n&&!R.isValidChild(n.name,t.name)&&!f[n.name];n=n.parent)r.push(n);if(n&&1<r.length){for(r.reverse(),o=i=P(r[0].clone()),s=0;s<r.length-1;s++){for(R.isValidChild(i.name,r[s].name)?(a=P(r[s].clone()),i.append(a)):a=i,u=r[s].firstChild;u&&u!==r[s+1];)l=u.next,a.append(u),u=l;i=a}dy(R,d,m,o)?n.insert(t,r[0],!0):(n.insert(o,r[0],!0),n.insert(t,o)),n=r[0],(dy(R,d,m,n)||fy(n,\"br\"))&&n.empty().remove()}else if(t.parent){if(\"li\"===t.name){if((c=t.prev)&&(\"ul\"===c.name||\"ol\"===c.name)){c.append(t);continue}if((c=t.next)&&(\"ul\"===c.name||\"ol\"===c.name)){c.insert(t,c.firstChild,!0);continue}t.wrap(P(new Km(\"ul\",1)));continue}R.isValidChild(t.parent.name,\"div\")&&R.isValidChild(\"div\",t.name)?t.wrap(P(new Km(\"div\",1))):g[t.name]?t.empty().remove():t.unwrap()}}}(l)),v&&(\"body\"===_.name||u.isRootContent)&&function(){var e,t,n=_.firstChild,r=function(e){e&&((n=e.firstChild)&&3===n.type&&(n.value=n.value.replace(b,\"\")),(n=e.lastChild)&&3===n.type&&(n.value=n.value.replace(C,\"\")))};if(R.isValidChild(_.name,v.toLowerCase())){for(;n;)e=n.next,3===n.type||1===n.type&&\"p\"!==n.name&&!d[n.name]&&!n.attr(\"data-mce-type\")?(t||((t=N(v,1)).attr(A.forced_root_block_attrs),_.insert(t,n)),t.append(n)):(r(t),t=null),n=e;r(t)}}(),!u.invalid){for(a in O)if(O.hasOwnProperty(a)){for(s=T[a],o=(t=O[a]).length;o--;)t[o].parent||t.splice(o,1);for(n=0,r=s.length;n<r;n++)s[n](t,a,u)}for(n=0,r=D.length;n<r;n++)if((s=D[n]).name in B){for(o=(t=B[s.name]).length;o--;)t[o].parent||t.splice(o,1);for(o=0,i=s.callbacks.length;o<i;o++)s.callbacks[o](t,s.name,u)}}return _}};return py(n,A),e=n,(t=A).inline_styles&&ey(e,t),n},Cy=function(e,t,n){return o=n,(r=e)&&r.hasEventListeners(\"PreProcess\")&&!o.no_events?function(e,t,n){var r,o,i=e.dom;t=t.cloneNode(!0);var a,u,s=document.implementation;return s.createHTMLDocument&&(r=s.createHTMLDocument(\"\"),kt.each(\"BODY\"===t.nodeName?t.childNodes:[t],function(e){r.body.appendChild(r.importNode(e,!0))}),t=\"BODY\"!==t.nodeName?r.body.firstChild:r.body,o=i.doc,i.doc=r),a=e,u=ke(ke({},n),{node:t}),a.fire(\"PreProcess\",u),o&&(i.doc=o),t}(e,t,n):t;var r,o},wy=function(e,t,n){-1===kt.inArray(t,n)&&(e.addAttributeFilter(n,function(e,t){for(var n=e.length;n--;)e[n].attr(t,null)}),t.push(n))},xy=function(e,t,n,r,o){var i,a,u,s,c,l,f=(i=r,Jm(t,n).serialize(i));return a=e,s=f,(u=o).no_events||!a?s:(c=a,l=ke(ke({},u),{content:s}),c.fire(\"PostProcess\",l).content)},Sy=function(y,b){var e=[\"data-mce-selected\"],C=b&&b.dom?b.dom:Eu.DOM,w=b&&b.schema?b.schema:Ci(y);y.entity_encoding=y.entity_encoding||\"named\",y.remove_trailing_brs=!(\"remove_trailing_brs\"in y)||y.remove_trailing_brs;var t,s,c,x=by(y,w);s=y,c=C,(t=x).addAttributeFilter(\"data-mce-tabindex\",function(e,t){for(var n,r=e.length;r--;)(n=e[r]).attr(\"tabindex\",n.attr(\"data-mce-tabindex\")),n.attr(t,null)}),t.addAttributeFilter(\"src,href,style\",function(e,t){for(var n,r,o=e.length,i=\"data-mce-\"+t,a=s.url_converter,u=s.url_converter_scope;o--;)(r=(n=e[o]).attr(i))!==undefined?(n.attr(t,0<r.length?r:null),n.attr(i,null)):(r=n.attr(t),\"style\"===t?r=c.serializeStyle(c.parseStyle(r),n.name):a&&(r=a.call(u,r,t,n.name)),n.attr(t,0<r.length?r:null))}),t.addAttributeFilter(\"class\",function(e){for(var t,n,r=e.length;r--;)(n=(t=e[r]).attr(\"class\"))&&(n=t.attr(\"class\").replace(/(?:^|\\s)mce-item-\\w+(?!\\S)/g,\"\"),t.attr(\"class\",0<n.length?n:null))}),t.addAttributeFilter(\"data-mce-type\",function(e,t,n){for(var r,o=e.length;o--;){\"bookmark\"!==(r=e[o]).attr(\"data-mce-type\")||n.cleanup||(U.from(r.firstChild).exists(function(e){return!mo(e.value)})?r.unwrap():r.remove())}}),t.addNodeFilter(\"noscript\",function(e){for(var t,n=e.length;n--;)(t=e[n].firstChild)&&(t.value=ci.decode(t.value))}),t.addNodeFilter(\"script,style\",function(e,t){for(var n,r,o,i=e.length,a=function(e){return e.replace(/(<!--\\[CDATA\\[|\\]\\]-->)/g,\"\\n\").replace(/^[\\r\\n]*|[\\r\\n]*$/g,\"\").replace(/^\\s*((<!--)?(\\s*\\/\\/)?\\s*<!\\[CDATA\\[|(<!--\\s*)?\\/\\*\\s*<!\\[CDATA\\[\\s*\\*\\/|(\\/\\/)?\\s*<!--|\\/\\*\\s*<!--\\s*\\*\\/)\\s*[\\r\\n]*/gi,\"\").replace(/\\s*(\\/\\*\\s*\\]\\]>\\s*\\*\\/(-->)?|\\s*\\/\\/\\s*\\]\\]>(-->)?|\\/\\/\\s*(-->)?|\\]\\]>|\\/\\*\\s*-->\\s*\\*\\/|\\s*-->\\s*)\\s*$/g,\"\")};i--;)r=(n=e[i]).firstChild?n.firstChild.value:\"\",\"script\"===t?((o=n.attr(\"type\"))&&n.attr(\"type\",\"mce-no/type\"===o?null:o.replace(/^mce\\-/,\"\")),\"xhtml\"===s.element_format&&0<r.length&&(n.firstChild.value=\"// <![CDATA[\\n\"+a(r)+\"\\n// ]]>\")):\"xhtml\"===s.element_format&&0<r.length&&(n.firstChild.value=\"\\x3c!--\\n\"+a(r)+\"\\n--\\x3e\")}),t.addNodeFilter(\"#comment\",function(e){for(var t,n=e.length;n--;)t=e[n],s.preserve_cdata&&0===t.value.indexOf(\"[CDATA[\")?(t.name=\"#cdata\",t.type=4,t.value=c.decode(t.value.replace(/^\\[CDATA\\[|\\]\\]$/g,\"\"))):0===t.value.indexOf(\"mce:protected \")&&(t.name=\"#text\",t.type=3,t.raw=!0,t.value=unescape(t.value).substr(14))}),t.addNodeFilter(\"xml:namespace,input\",function(e,t){for(var n,r=e.length;r--;)7===(n=e[r]).type?n.remove():1===n.type&&(\"input\"!==t||n.attr(\"type\")||n.attr(\"type\",\"text\"))}),t.addAttributeFilter(\"data-mce-type\",function(e){W(e,function(e){\"format-caret\"===e.attr(\"data-mce-type\")&&(e.isEmpty(t.schema.getNonEmptyElements())?e.remove():e.unwrap())})}),t.addAttributeFilter(\"data-mce-src,data-mce-href,data-mce-style,data-mce-selected,data-mce-expando,data-mce-type,data-mce-resize,data-mce-placeholder\",function(e,t){for(var n=e.length;n--;)e[n].attr(t,null)});return{schema:w,addNodeFilter:x.addNodeFilter,addAttributeFilter:x.addAttributeFilter,serialize:function(e,t){void 0===t&&(t={});var n,r,o,i,a,u,s,c,l,f,d,m,p=ke({format:\"html\"},t),g=Cy(b,e,p),h=(n=C,r=g,i=po((o=p).getInner?r.innerHTML:n.getOuterHTML(r)),o.selection||so(At.fromDom(r))?i:kt.trim(i)),v=(a=x,u=h,d=(s=p).selection?ke({forced_root_block:!1},s):s,m=a.parse(u,d),l=function(e){return e&&\"br\"===e.name},f=m.lastChild,!l(f)||l(c=f.prev)&&(f.remove(),c.remove()),m);return\"tree\"===p.format?v:xy(b,y,w,v,p)},addRules:function(e){w.addValidElements(e)},setRules:function(e){w.setValidElements(e)},addTempAttr:N(wy,x,e),getTempAttrs:function(){return e},getNodeFilters:x.getNodeFilters,getAttributeFilters:x.getAttributeFilters}},Ny=function(e,t){var n=Sy(e,t);return{schema:n.schema,addNodeFilter:n.addNodeFilter,addAttributeFilter:n.addAttributeFilter,serialize:n.serialize,addRules:n.addRules,setRules:n.setRules,addTempAttr:n.addTempAttr,getTempAttrs:n.getTempAttrs,getNodeFilters:n.getNodeFilters,getAttributeFilters:n.getAttributeFilters}},Ey=function(e,t){void 0===t&&(t={});var n,r,o=t.format?t.format:\"html\";return n=t,r=o,Vv(e).editor.getContent(n,r)},ky=function(e,t,n){return void 0===n&&(n={}),r=t,o=n,Vv(e).editor.setContent(r,o);var r,o},_y=Eu.DOM,Ay=function(e){return U.from(e).each(function(e){return e.destroy()})},Ry=function(e){var t,n,r,o,i;e.removed||(t=e._selectionOverrides,n=e.editorUpload,r=e.getBody(),o=e.getElement(),r&&e.save({is_removing:!0}),e.removed=!0,e.unbindAllNativeEvents(),e.hasHiddenInput&&o&&_y.remove(o.nextSibling),e.fire(\"remove\"),e.editorManager.remove(e),!e.inline&&r&&(i=e,_y.setStyle(i.id,\"display\",i.orgDisplay)),e.fire(\"detach\"),_y.remove(e.getContainer()),Ay(t),Ay(n),e.destroy())},Ty=function(e,t){var n,r,o,i=e.selection,a=e.dom;e.destroyed||(t||e.removed?(t||(e.editorManager.off(\"beforeunload\",e._beforeUnload),e.theme&&e.theme.destroy&&e.theme.destroy(),Ay(i),Ay(a)),(r=(n=e).formElement)&&(r._mceOldSubmit&&(r.submit=r._mceOldSubmit,r._mceOldSubmit=null),_y.unbind(r,\"submit reset\",n.formEventDelegate)),(o=e).contentAreaContainer=o.formElement=o.container=o.editorContainer=null,o.bodyElement=o.contentDocument=o.contentWindow=null,o.iframeElement=o.targetElm=null,o.selection&&(o.selection=o.selection.win=o.selection.dom=o.selection.dom.doc=null),e.destroyed=!0):e.remove())},Dy=Object.prototype.hasOwnProperty,Oy=(sy=function(e,t){return _(e)&&_(t)?Oy(e,t):t},function(){for(var e=new Array(arguments.length),t=0;t<e.length;t++)e[t]=arguments[t];if(0===e.length)throw new Error(\"Can't merge zero objects\");for(var n={},r=0;r<e.length;r++){var o=e[r];for(var i in o)Dy.call(o,i)&&(n[i]=sy(n[i],o[i]))}return n}),By=dt().deviceType,Py=By.isTouch(),Ly=By.isPhone(),Iy=By.isTablet(),My=[\"lists\",\"autolink\",\"autosave\"],Fy={table_grid:!1,object_resizing:!1,resize:!1},Uy=function(e){var t=S(e)?e.join(\" \"):e,n=z(q(t)?t.split(\" \"):[],$e);return H(n,function(e){return 0<e.length})},zy=function(n,e){var t,r,o=de(e,function(e,t){return M(n,t)});return t=o.t,r=o.f,{sections:E(t),settings:E(r)}},jy=function(e,t){return e.sections().hasOwnProperty(t)},Hy=function(e,t){return ge(e,\"toolbar_mode\").orThunk(function(){return ge(e,\"toolbar_drawer\").map(function(e){return!1===e?\"wrap\":e})}).getOr(t)},Vy=function(e,t,n,r){return e&&(a=i=\"mobile\",u=(o=t).sections(),jy(o,i)&&u[i].theme===a)?H(r,N(M,My)):e&&jy(t,\"mobile\")?r:n;var o,i,a,u},qy=function(e,t,n,r){var o,i,a,u=Uy(n.forced_plugins),s=Uy(r.plugins),c=jy(o=t,i=\"mobile\")?o.sections()[i]:{},l=c.plugins?Uy(c.plugins):s,f=Vy(e,t,s,l),d=(a=f,[].concat(Uy(u)).concat(Uy(a)));if(wt.browser.isIE()&&M(d,\"rtc\"))throw new Error(\"RTC plugin is not supported on IE 11.\");return kt.extend(r,{plugins:d.join(\" \")})},$y=function(e,t,n,r,o){var i,a,u,s,c,l,f,d=e?{mobile:(i=o.mobile||{},a=t,u={resize:!1,toolbar_mode:Hy(i,\"scrolling\"),toolbar_sticky:!1},ke(ke(ke({},Fy),u),a?{menubar:!1}:{}))}:{},m=zy([\"mobile\"],Oy(d,o)),p=kt.extend(n,r,m.settings(),(f=m,e&&jy(f,\"mobile\")?function(e,t,n){void 0===n&&(n={});var r=e.sections(),o=r.hasOwnProperty(t)?r[t]:{};return kt.extend({},n,o)}(m,\"mobile\"):{}),{validate:!0,external_plugins:(s=r,c=m.settings(),l=c.external_plugins?c.external_plugins:{},s&&s.external_plugins?kt.extend({},s.external_plugins,l):l)});return qy(e,m,r,p)},Wy=function(e,t,n,r,o){var i,a,u,s,c=(i=n,a=Py,u=e,s={id:t,theme:\"silver\",toolbar_mode:Hy(o,\"floating\"),plugins:\"\",document_base_url:i,add_form_submit_trigger:!0,submit_patch:!0,add_unload_trigger:!0,convert_urls:!0,relative_urls:!0,remove_script_host:!0,object_resizing:!0,doctype:\"<!DOCTYPE html>\",visual:!0,font_size_legacy_values:\"xx-small,small,medium,large,x-large,xx-large,300%\",forced_root_block:\"p\",hidden_input:!0,inline_styles:!0,convert_fonts_to_spans:!0,indent:!0,indent_before:\"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist\",indent_after:\"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist\",entity_encoding:\"named\",url_converter:u.convertURL,url_converter_scope:u},ke(ke({},s),a?Fy:{}));return $y(Ly||Iy,Ly,c,r,o)},Ky=function(e,t,n){return U.from(t.settings[n]).filter(e)},Xy=function(e,t,n,r){var o,i,a,u=t in e.settings?e.settings[t]:n;return\"hash\"===r?(a={},\"string\"==typeof(i=u)?W(0<i.indexOf(\"=\")?i.split(/[;,](?![^=;,]*(?:[;,]|$))/):i.split(\",\"),function(e){var t=e.split(\"=\");1<t.length?a[kt.trim(t[0])]=kt.trim(t[1]):a[kt.trim(t[0])]=kt.trim(t[0])}):a=i,a):\"string\"===r?Ky(q,e,t).getOr(n):\"number\"===r?Ky(O,e,t).getOr(n):\"boolean\"===r?Ky(A,e,t).getOr(n):\"object\"===r?Ky(_,e,t).getOr(n):\"array\"===r?Ky(S,e,t).getOr(n):\"string[]\"===r?Ky((o=q,function(e){return S(e)&&Q(e,o)}),e,t).getOr(n):\"function\"===r?Ky(T,e,t).getOr(n):u},Yy=(cy={},{add:function(e,t){cy[e]=t},get:function(e){return cy[e]?cy[e]:{icons:{}}},has:function(e){return he(cy,e)}}),Gy=function(e,t){return t.dom[e]},Jy=function(e,t){return parseInt(er(t,e),10)},Qy=N(Gy,\"clientWidth\"),Zy=N(Gy,\"clientHeight\"),eb=N(Jy,\"margin-top\"),tb=N(Jy,\"margin-left\"),nb=function(e,t,n){var r,o,i,a,u,s,c,l,f,d,m,p=At.fromDom(e.getBody()),g=e.inline?p:(r=p,At.fromDom(Vt(r).dom.documentElement)),h=(o=e.inline,a=t,u=n,s=(i=g).dom.getBoundingClientRect(),{x:a-(o?s.left+i.dom.clientLeft+tb(i):0),y:u-(o?s.top+i.dom.clientTop+eb(i):0)});return l=h.x,f=h.y,d=Qy(c=g),m=Zy(c),0<=l&&0<=f&&l<=d&&f<=m},rb=function(e){var t,n=e.inline?e.getBody():e.getContentAreaContainer();return t=n,U.from(t).map(At.fromDom).map(hn).getOr(!1)};function ob(n){var t,o=[],i=function(){var e,t=n.theme;return t&&t.getNotificationManagerImpl?t.getNotificationManagerImpl():{open:e=function(){throw new Error(\"Theme did not provide a NotificationManager implementation.\")},close:e,reposition:e,getArgs:e}},a=function(){return U.from(o[0])},u=function(){0<o.length&&i().reposition(o)},s=function(t){G(o,function(e){return e===t}).each(function(e){o.splice(e,1)})},r=function(r,e){if(void 0===e&&(e=!0),!n.removed&&rb(n))return e&&n.fire(\"BeforeOpenNotification\",{notification:r}),Y(o,function(e){return t=i().getArgs(e),n=r,!(t.type!==n.type||t.text!==n.text||t.progressBar||t.timeout||n.progressBar||n.timeout);var t,n}).getOrThunk(function(){n.editorManager.setActive(n);var e,t=i().open(r,function(){s(t),u(),a().fold(function(){return n.focus()},function(e){return At.fromDom(e.getEl()).dom.focus()})});return e=t,o.push(e),u(),n.fire(\"OpenNotification\",ke({},t)),t})};return(t=n).on(\"SkinLoaded\",function(){var e=t.getParam(\"service_message\");e&&r({text:e,type:\"warning\",timeout:0},!1)}),t.on(\"ResizeEditor ResizeWindow NodeChange\",function(){qr.requestAnimationFrame(u)}),t.on(\"remove\",function(){W(o.slice(),function(e){i().close(e)})}),{open:r,close:function(){a().each(function(e){i().close(e),s(e),u()})},getNotifications:function(){return o}}}var ib=Uu.PluginManager,ab=Uu.ThemeManager;var ub=function(n){var r=[],o=function(){var e,t=n.theme;return t&&t.getWindowManagerImpl?t.getWindowManagerImpl():{open:e=function(){throw new Error(\"Theme did not provide a WindowManager implementation.\")},openUrl:e,alert:e,confirm:e,close:e,getParams:e,setParams:e}},i=function(e,t){return function(){return t?t.apply(e,arguments):undefined}},a=function(e){var t;r.push(e),t=e,n.fire(\"OpenWindow\",{dialog:t})},u=function(t){var e;e=t,n.fire(\"CloseWindow\",{dialog:e}),0===(r=H(r,function(e){return e!==t})).length&&n.focus()},s=function(e){n.editorManager.setActive(n),fm(n);var t=e();return a(t),t};return n.on(\"remove\",function(){W(r,function(e){o().close(e)})}),{open:function(e,t){return s(function(){return o().open(e,t,u)})},openUrl:function(e){return s(function(){return o().openUrl(e,u)})},alert:function(e,t,n){o().alert(e,i(n||this,t))},confirm:function(e,t,n){o().confirm(e,i(n||this,t))},close:function(){U.from(r[r.length-1]).each(function(e){o().close(e),u(e)})}}},sb=function(e,t){e.notificationManager.open({type:\"error\",text:t})},cb=function(e,t){e._skinLoaded?sb(e,t):e.on(\"SkinLoaded\",function(){sb(e,t)})},lb=function(e,t,n){var r,o;r=t,o={message:n},e.fire(r,o),console.error(n)},fb=function(e,t,n){return n?\"Failed to load \"+e+\": \"+n+\" from url \"+t:\"Failed to load \"+e+\" url: \"+t},db=function(e,t,n){lb(e,\"PluginLoadError\",fb(\"plugin\",t,n))},mb=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=window.console;r&&(r.error?r.error.apply(r,_e([e],t)):r.log.apply(r,_e([e],t)))},pb=function(t){var e,n,r=(n=(e=t).getParam(\"content_css\"),q(n)?z(n.split(\",\"),$e):S(n)?n:!1===n||e.inline?[]:[\"default\"]),o=t.editorManager.baseURL+\"/skins/content\",i=\"content\"+t.editorManager.suffix+\".css\",a=!0===t.inline;return z(r,function(e){return/^[a-z0-9\\-]+$/i.test(e)&&!a?o+\"/\"+e+\"/\"+i:t.documentBaseURI.toAbsolute(e)})};function gb(u,s){var o={},n=function(e,r,o,t){var i=new XMLHttpRequest;i.open(\"POST\",s.url),i.withCredentials=s.credentials,i.upload.onprogress=function(e){t(e.loaded/e.total*100)},i.onerror=function(){o(\"Image upload failed due to a XHR Transport error. Code: \"+i.status)},i.onload=function(){var e,t,n;i.status<200||300<=i.status?o(\"HTTP Error: \"+i.status):(e=JSON.parse(i.responseText))&&\"string\"==typeof e.location?r((t=s.basePath,n=e.location,t?t.replace(/\\/$/,\"\")+\"/\"+n.replace(/^\\//,\"\"):n)):o(\"Invalid JSON: \"+i.responseText)};var n=new FormData;n.append(\"file\",e.blob(),e.filename()),i.send(n)},c=function(e,t){return{url:t,blobInfo:e,status:!0}},l=function(e,t,n){return{url:\"\",blobInfo:e,status:!1,error:{message:t,options:n}}},f=function(e,t){kt.each(o[e],function(e){e(t)}),delete o[e]},r=function(e,r){return e=kt.grep(e,function(e){return!u.isUploaded(e.blobUri())}),Br.all(kt.map(e,function(e){return u.isPending(e.blobUri())?(t=e.blobUri(),new Br(function(e){o[t]=o[t]||[],o[t].push(e)})):(i=e,n=s.handler,a=r,u.markPending(i.blobUri()),new Br(function(r){var t;try{var o=function(){t&&t.close()};n(i,function(e){o(),u.markUploaded(i.blobUri(),e),f(i.blobUri(),c(i,e)),r(c(i,e))},function(e,t){var n=t||{};o(),u.removeFailed(i.blobUri()),f(i.blobUri(),l(i,e,n)),r(l(i,e,n))},function(e){e<0||100<e||(t=t||a()).progressBar.value(e)})}catch(e){r(l(i,e.message,{}))}}));var i,n,a,t}))};return!1===T(s.handler)&&(s.handler=n),{upload:function(e,t){return s.url||s.handler!==n?r(e,t):new Br(function(e){e([])})}}}var hb=0,vb=function(e){return e+hb+++(t=function(){return Math.round(4294967295*Math.random()).toString(36)},\"s\"+(new Date).getTime().toString(36)+t()+t()+t());var t},yb=function(s){var n,i,e,t,r,o,a,u,c,l=(n=[],i=function(e){if(!e.blob||!e.base64)throw new Error(\"blob and base64 representations of the image are required for BlobInfo to be created\");var t=e.id||vb(\"blobid\"),n=e.name||t,r=e.blob;return{id:E(t),name:E(n),filename:E(e.filename||n+\".\"+({\"image/jpeg\":\"jpg\",\"image/jpg\":\"jpg\",\"image/gif\":\"gif\",\"image/png\":\"png\",\"image/apng\":\"apng\",\"image/avif\":\"avif\",\"image/svg+xml\":\"svg\",\"image/webp\":\"webp\",\"image/bmp\":\"bmp\",\"image/tiff\":\"tiff\"}[r.type.toLowerCase()]||\"dat\")),blob:E(r),base64:E(e.base64),blobUri:E(e.blobUri||URL.createObjectURL(r)),uri:E(e.uri)}},{create:function(e,t,n,r,o){if(q(e))return i({id:e,name:r,filename:o,blob:t,base64:n});if(_(e))return i(e);throw new Error(\"Unknown input type\")},add:function(e){t(e.id())||n.push(e)},get:t=function(t){return e(function(e){return e.id()===t})},getByUri:function(t){return e(function(e){return e.blobUri()===t})},getByData:function(t,n){return e(function(e){return e.base64()===t&&e.blob().type===n})},findFirst:e=function(e){return Y(n,e).getOrUndefined()},removeByUri:function(t){n=H(n,function(e){return e.blobUri()!==t||(URL.revokeObjectURL(e.blobUri()),!1)})},destroy:function(){W(n,function(e){URL.revokeObjectURL(e.blobUri())}),n=[]}}),f=(a={},u=function(e,t){return{status:e,resultUri:t}},{hasBlobUri:c=function(e){return e in a},getResultUri:function(e){var t=a[e];return t?t.resultUri:null},isPending:function(e){return!!c(e)&&1===a[e].status},isUploaded:function(e){return!!c(e)&&2===a[e].status},markPending:function(e){a[e]=u(1,null)},markUploaded:function(e,t){a[e]=u(2,t)},removeFailed:function(e){delete a[e]},destroy:function(){a={}}}),d=[],m=function(n){var r=Ou(null);n.on(\"change AddUndo\",function(e){r.set(ke({},e.level))});return{fireIfChanged:function(){var t=n.undoManager.data;re(t).filter(function(e){return!Bv(r.get(),e)}).each(function(e){n.setDirty(!0),n.fire(\"change\",{level:e,lastLevel:te(t,t.length-2).getOrNull()})})}}}(s),p=function(t){return function(e){return s.selection?t(e):[]}},g=function(e,t,n){for(var r=0;-1!==(r=e.indexOf(t,r))&&(e=e.substring(0,r)+n+e.substr(r+t.length),r+=n.length-t.length+1),-1!==r;);return e},h=function(e,t,n){var r='src=\"'+n+'\"'+(n===wt.transparentSrc?' data-mce-placeholder=\"1\"':\"\");return e=g(e,'src=\"'+t+'\"',r),e=g(e,'data-mce-src=\"'+t+'\"','data-mce-src=\"'+n+'\"')},v=function(t,n){W(s.undoManager.data,function(e){\"fragmented\"===e.type?e.fragments=z(e.fragments,function(e){return h(e,t,n)}):e.content=h(e.content,t,n)})},y=function(){return s.notificationManager.open({text:s.translate(\"Image uploading...\"),type:\"info\",timeout:-1,progressBar:!0})},b=function(e,t){var n,r=s.convertURL(t,\"src\");v(e.src,t),s.$(e).attr({src:s.getParam(\"images_reuse_filename\",!1,\"boolean\")?(n=t)+(-1===n.indexOf(\"?\")?\"?\":\"&\")+(new Date).getTime():t,\"data-mce-src\":r})},C=function(n){return r=r||gb(f,{url:s.getParam(\"images_upload_url\",\"\",\"string\"),basePath:s.getParam(\"images_upload_base_path\",\"\",\"string\"),credentials:s.getParam(\"images_upload_credentials\",!1,\"boolean\"),handler:s.getParam(\"images_upload_handler\",null,\"function\")}),S().then(p(function(u){var e=z(u,function(e){return e.blobInfo});return r.upload(e,y).then(p(function(e){var a=[],t=z(e,function(e,t){var n,r,o=u[t].blobInfo,i=u[t].image;return e.status&&s.getParam(\"images_replace_blob_uris\",!0,\"boolean\")?(l.removeByUri(i.src),b(i,e.url)):e.error&&(e.error.options.remove&&(v(i.getAttribute(\"src\"),wt.transparentSrc),a.push(i)),n=s,r=e.error.message,cb(n,Iu.translate([\"Failed to upload image: {0}\",r]))),{element:i,status:e.status,uploadUri:e.url,blobInfo:o}});return 0<t.length&&m.fireIfChanged(),0<a.length&&(Hv(s)?console.error(\"Removing images on failed uploads is currently unsupported for RTC\"):s.undoManager.transact(function(){W(a,function(e){s.dom.remove(e),l.removeByUri(e.src)})})),n&&n(t),t}))}))},w=function(e){if(bc(s))return C(e)},x=function(t){return!1!==Q(d,function(e){return e(t)})&&(0!==t.getAttribute(\"src\").indexOf(\"data:\")||s.getParam(\"images_dataimg_filter\",k,\"function\")(t))},S=function(){return(o=o||uy(f,l)).findAll(s.getBody(),x).then(p(function(e){return e=H(e,function(e){return\"string\"!=typeof e||(cb(s,e),!1)}),W(e,function(e){v(e.image.src,e.blobInfo.blobUri()),e.image.src=e.blobInfo.blobUri(),e.image.removeAttribute(\"data-mce-src\")}),e}))},N=function(e){return e.replace(/src=\"(blob:[^\"]+)\"/g,function(e,n){var t=f.getResultUri(n);if(t)return'src=\"'+t+'\"';var r=l.getByUri(n);return(r=r||X(s.editorManager.get(),function(e,t){return e||t.editorUpload&&t.editorUpload.blobCache.getByUri(n)},null))?'src=\"data:'+r.blob().type+\";base64,\"+r.base64()+'\"':e})};return s.on(\"SetContent\",function(){(bc(s)?w:S)()}),s.on(\"RawSaveContent\",function(e){e.content=N(e.content)}),s.on(\"GetContent\",function(e){e.source_view||\"raw\"===e.format||\"tree\"===e.format||(e.content=N(e.content))}),s.on(\"PostRender\",function(){s.parser.addNodeFilter(\"img\",function(e){W(e,function(e){var t,n=e.attr(\"src\");l.getByUri(n)||(t=f.getResultUri(n))&&e.attr(\"src\",t)})})}),{blobCache:l,addFilter:function(e){d.push(e)},uploadImages:C,uploadImagesAuto:w,scanForImages:S,destroy:function(){l.destroy(),f.destroy(),o=r=null}}};function bb(e){var r,t,n={},o=function(e,t){e&&(\"string\"!=typeof e?kt.each(e,function(e,t){o(t,e)}):(S(t)||(t=[t]),kt.each(t,function(e){\"undefined\"==typeof e.deep&&(e.deep=!e.selector),\"undefined\"==typeof e.split&&(e.split=!e.selector||e.inline),\"undefined\"==typeof e.remove&&e.selector&&!e.inline&&(e.remove=\"none\"),e.selector&&e.inline&&(e.mixed=!0,e.block_expand=!0),\"string\"==typeof e.classes&&(e.classes=e.classes.split(/\\s+/))}),n[e]=t))};return o((r=e.dom,t={valigntop:[{selector:\"td,th\",styles:{verticalAlign:\"top\"}}],valignmiddle:[{selector:\"td,th\",styles:{verticalAlign:\"middle\"}}],valignbottom:[{selector:\"td,th\",styles:{verticalAlign:\"bottom\"}}],alignleft:[{selector:\"figure.image\",collapsed:!1,classes:\"align-left\",ceFalseOverride:!0,preview:\"font-family font-size\"},{selector:\"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li\",styles:{textAlign:\"left\"},inherit:!1,preview:!1,defaultBlock:\"div\"},{selector:\"img,table\",collapsed:!1,styles:{\"float\":\"left\"},preview:\"font-family font-size\"}],aligncenter:[{selector:\"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li\",styles:{textAlign:\"center\"},inherit:!1,preview:\"font-family font-size\",defaultBlock:\"div\"},{selector:\"figure.image\",collapsed:!1,classes:\"align-center\",ceFalseOverride:!0,preview:\"font-family font-size\"},{selector:\"img\",collapsed:!1,styles:{display:\"block\",marginLeft:\"auto\",marginRight:\"auto\"},preview:!1},{selector:\"table\",collapsed:!1,styles:{marginLeft:\"auto\",marginRight:\"auto\"},preview:\"font-family font-size\"}],alignright:[{selector:\"figure.image\",collapsed:!1,classes:\"align-right\",ceFalseOverride:!0,preview:\"font-family font-size\"},{selector:\"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li\",styles:{textAlign:\"right\"},inherit:!1,preview:\"font-family font-size\",defaultBlock:\"div\"},{selector:\"img,table\",collapsed:!1,styles:{\"float\":\"right\"},preview:\"font-family font-size\"}],alignjustify:[{selector:\"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li\",styles:{textAlign:\"justify\"},inherit:!1,defaultBlock:\"div\",preview:\"font-family font-size\"}],bold:[{inline:\"strong\",remove:\"all\",preserve_attributes:[\"class\",\"style\"]},{inline:\"span\",styles:{fontWeight:\"bold\"}},{inline:\"b\",remove:\"all\",preserve_attributes:[\"class\",\"style\"]}],italic:[{inline:\"em\",remove:\"all\",preserve_attributes:[\"class\",\"style\"]},{inline:\"span\",styles:{fontStyle:\"italic\"}},{inline:\"i\",remove:\"all\",preserve_attributes:[\"class\",\"style\"]}],underline:[{inline:\"span\",styles:{textDecoration:\"underline\"},exact:!0},{inline:\"u\",remove:\"all\",preserve_attributes:[\"class\",\"style\"]}],strikethrough:[{inline:\"span\",styles:{textDecoration:\"line-through\"},exact:!0},{inline:\"strike\",remove:\"all\",preserve_attributes:[\"class\",\"style\"]},{inline:\"s\",remove:\"all\",preserve_attributes:[\"class\",\"style\"]}],forecolor:{inline:\"span\",styles:{color:\"%value\"},links:!0,remove_similar:!0,clear_child_styles:!0},hilitecolor:{inline:\"span\",styles:{backgroundColor:\"%value\"},links:!0,remove_similar:!0,clear_child_styles:!0},fontname:{inline:\"span\",toggle:!1,styles:{fontFamily:\"%value\"},clear_child_styles:!0},fontsize:{inline:\"span\",toggle:!1,styles:{fontSize:\"%value\"},clear_child_styles:!0},lineheight:{selector:\"h1,h2,h3,h4,h5,h6,p,li,td,th,div\",defaultBlock:\"p\",styles:{lineHeight:\"%value\"}},fontsize_class:{inline:\"span\",attributes:{\"class\":\"%value\"}},blockquote:{block:\"blockquote\",wrapper:!0,remove:\"all\"},subscript:{inline:\"sub\"},superscript:{inline:\"sup\"},code:{inline:\"code\"},link:{inline:\"a\",selector:\"a\",remove:\"all\",split:!0,deep:!0,onmatch:function(e,t,n){return An(e)&&e.hasAttribute(\"href\")},onformat:function(n,e,t){kt.each(t,function(e,t){r.setAttrib(n,t,e)})}},removeformat:[{selector:\"b,strong,em,i,font,u,strike,s,sub,sup,dfn,code,samp,kbd,var,cite,mark,q,del,ins\",remove:\"all\",split:!0,expand:!1,block_expand:!0,deep:!0},{selector:\"span\",attributes:[\"style\",\"class\"],remove:\"empty\",split:!0,expand:!1,deep:!0},{selector:\"*\",attributes:[\"style\",\"class\"],split:!1,expand:!1,deep:!0}]},kt.each(\"p h1 h2 h3 h4 h5 h6 div address pre div dt dd samp\".split(/\\s/),function(e){t[e]={block:e,remove:\"all\"}}),t)),o(e.getParam(\"formats\")),{get:function(e){return e?n[e]:n},has:function(e){return he(n,e)},register:o,unregister:function(e){return e&&n[e]&&delete n[e],n}}}var Cb,wb,xb=kt.each,Sb=Eu.DOM,Nb=function(e,t){var n,o,r,m=t&&t.schema||Ci({}),p=function(e){o=\"string\"==typeof e?{name:e,classes:[],attrs:{}}:e;var t,n,r=Sb.create(o.name);return t=r,(n=o).classes.length&&Sb.addClass(t,n.classes.join(\" \")),Sb.setAttribs(t,n.attrs),r},g=function(n,e,t){var r,o,i,a,u,s,c,l=0<e.length&&e[0],f=l&&l.name,d=(a=f,u=\"string\"!=typeof(i=n)?i.nodeName.toLowerCase():i,s=m.getElementRule(u),!(!(c=s&&s.parentsRequired)||!c.length)&&(a&&-1!==kt.inArray(c,a)?a:c[0]));if(d)f===d?(o=e[0],e=e.slice(1)):o=d;else if(l)o=e[0],e=e.slice(1);else if(!t)return n;return o&&(r=p(o)).appendChild(n),t&&(r||(r=Sb.create(\"div\")).appendChild(n),kt.each(t,function(e){var t=p(e);r.insertBefore(t,n)})),g(r,e,o&&o.siblings)};return e&&e.length?(o=e[0],n=p(o),(r=Sb.create(\"div\")).appendChild(g(n,e.slice(1),o.siblings)),r):\"\"},Eb=function(e){var t,a={classes:[],attrs:{}};return\"*\"!==(e=a.selector=kt.trim(e))&&(t=e.replace(/(?:([#\\.]|::?)([\\w\\-]+)|(\\[)([^\\]]+)\\]?)/g,function(e,t,n,r,o){switch(t){case\"#\":a.attrs.id=n;break;case\".\":a.classes.push(n);break;case\":\":-1!==kt.inArray(\"checked disabled enabled read-only required\".split(\" \"),n)&&(a.attrs[n]=n)}var i;return\"[\"!==r||(i=o.match(/([\\w\\-]+)(?:\\=\\\"([^\\\"]+))?/))&&(a.attrs[i[1]]=i[2]),\"\"})),a.name=t||\"div\",a},kb=function(n,e){var t,r,o,i=\"\",a=(o=n.getParam(\"preview_styles\",\"font-family font-size font-weight font-style text-decoration text-transform color background-color border border-radius outline text-shadow\"),q(o)?o:\"\");if(\"\"===a)return\"\";var u=function(e){return e.replace(/%(\\w+)/g,\"\")};if(\"string\"==typeof e){if(!(e=n.formatter.get(e)))return;e=e[0]}if(\"preview\"in e){var s=ge(e,\"preview\");if(s.is(!1))return\"\";a=s.getOr(a)}t=e.block||e.inline||\"span\";var c,l=(c=e.selector)&&\"string\"==typeof c?(c=(c=c.split(/\\s*,\\s*/)[0]).replace(/\\s*(~\\+|~|\\+|>)\\s*/g,\"$1\"),kt.map(c.split(/(?:>|\\s+(?![^\\[\\]]+\\]))/),function(e){var t=kt.map(e.split(/(?:~\\+|~|\\+)/),Eb),n=t.pop();return t.length&&(n.siblings=t),n}).reverse()):[],f=l.length?(l[0].name||(l[0].name=t),t=e.selector,Nb(l,n)):Nb([t],n),d=Sb.select(t,f)[0]||f.firstChild;return xb(e.styles,function(e,t){var n=u(e);n&&Sb.setStyle(d,t,n)}),xb(e.attributes,function(e,t){var n=u(e);n&&Sb.setAttrib(d,t,n)}),xb(e.classes,function(e){var t=u(e);Sb.hasClass(d,t)||Sb.addClass(d,t)}),n.fire(\"PreviewFormats\"),Sb.setStyles(f,{position:\"absolute\",left:-65535}),n.getBody().appendChild(f),r=Sb.getStyle(n.getBody(),\"fontSize\",!0),r=/px$/.test(r)?parseInt(r,10):0,xb(a.split(\" \"),function(e){var t=Sb.getStyle(d,e,!0);if(!(\"background-color\"===e&&/transparent|rgba\\s*\\([^)]+,\\s*0\\)/.test(t)&&(t=Sb.getStyle(n.getBody(),e,!0),\"#ffffff\"===Sb.toHex(t).toLowerCase())||\"color\"===e&&\"#000000\"===Sb.toHex(t).toLowerCase())){if(\"font-size\"===e&&/em|%$/.test(t)){if(0===r)return;t=parseFloat(t)/(/%$/.test(t)?100:1)*r+\"px\"}\"border\"===e&&t&&(i+=\"padding:0 2px;\"),i+=e+\":\"+t+\";\"}}),n.fire(\"AfterPreviewFormats\"),Sb.remove(f),i},_b=function(s){var e=bb(s),u=Ou(null);return function(e){e.addShortcut(\"meta+b\",\"\",\"Bold\"),e.addShortcut(\"meta+i\",\"\",\"Italic\"),e.addShortcut(\"meta+u\",\"\",\"Underline\");for(var t=1;t<=6;t++)e.addShortcut(\"access+\"+t,\"\",[\"FormatBlock\",!1,\"h\"+t]);e.addShortcut(\"access+7\",\"\",[\"FormatBlock\",!1,\"p\"]),e.addShortcut(\"access+8\",\"\",[\"FormatBlock\",!1,\"div\"]),e.addShortcut(\"access+9\",\"\",[\"FormatBlock\",!1,\"address\"])}(s),Sh(s),{get:e.get,has:e.has,register:e.register,unregister:e.unregister,apply:function(e,t,n){var r,o,i;r=e,o=t,i=n,qv(s).formatter.apply(r,o,i)},remove:function(e,t,n,r){var o,i,a,u;o=e,i=t,a=n,u=r,qv(s).formatter.remove(o,i,a,u)},toggle:function(e,t,n){var r,o,i;r=e,o=t,i=n,qv(s).formatter.toggle(r,o,i)},match:function(e,t,n){return r=e,o=t,i=n,qv(s).formatter.match(r,o,i);var r,o,i},closest:function(e){return t=e,qv(s).formatter.closest(t);var t},matchAll:function(e,t){return n=e,r=t,qv(s).formatter.matchAll(n,r);var n,r},matchNode:function(e,t,n,r){return o=e,i=t,a=n,u=r,qv(s).formatter.matchNode(o,i,a,u);var o,i,a,u},canApply:function(e){return t=e,qv(s).formatter.canApply(t);var t},formatChanged:function(e,t,n){return r=u,o=e,i=t,void 0===(a=n)&&(a=!1),qv(s).formatter.formatChanged(r,o,i,a);var r,o,i,a},getCssText:N(kb,s)}},Ab=function(n,r,o){var i=Ou(!1),a=function(e){Lv(r,!1,o),r.add({},e)};n.on(\"init\",function(){r.add()}),n.on(\"BeforeExecCommand\",function(e){var t=e.command.toLowerCase();\"undo\"!==t&&\"redo\"!==t&&\"mcerepaint\"!==t&&(Iv(r,o),r.beforeChange())}),n.on(\"ExecCommand\",function(e){var t=e.command.toLowerCase();\"undo\"!==t&&\"redo\"!==t&&\"mcerepaint\"!==t&&a(e)}),n.on(\"ObjectResizeStart cut\",function(){r.beforeChange()}),n.on(\"SaveContent ObjectResized blur\",a),n.on(\"dragend\",a),n.on(\"keyup\",function(e){var t=e.keyCode;e.isDefaultPrevented()||((33<=t&&t<=36||37<=t&&t<=40||45===t||e.ctrlKey)&&(a(),n.nodeChanged()),46!==t&&8!==t||n.nodeChanged(),i.get()&&r.typing&&!1===Bv(Rv(n),r.data[0])&&(!1===n.isDirty()&&(n.setDirty(!0),n.fire(\"change\",{level:r.data[0],lastLevel:null})),n.fire(\"TypingUndo\"),i.set(!1),n.nodeChanged()))}),n.on(\"keydown\",function(e){var t,n=e.keyCode;e.isDefaultPrevented()||(33<=n&&n<=36||37<=n&&n<=40||45===n?r.typing&&a(e):(t=e.ctrlKey&&!e.altKey||e.metaKey,!(n<16||20<n)||224===n||91===n||r.typing||t||(r.beforeChange(),Lv(r,!0,o),r.add({},e),i.set(!0))))}),n.on(\"mousedown\",function(e){r.typing&&a(e)});n.on(\"input\",function(e){var t,n;e.inputType&&(\"insertReplacementText\"===e.inputType||\"insertText\"===(n=e).inputType&&null===n.data||(\"insertFromPaste\"===(t=e).inputType||\"insertFromDrop\"===t.inputType))&&a(e)}),n.on(\"AddUndo Undo Redo ClearUndos\",function(e){e.isDefaultPrevented()||n.nodeChanged()})},Rb=function(s){var e,c=Ou(U.none()),l=Ou(0),f=Ou(0),d={data:[],typing:!1,beforeChange:function(){var e,t;e=l,t=c,qv(s).undoManager.beforeChange(e,t)},add:function(e,t){return n=d,r=f,o=l,i=c,a=e,u=t,qv(s).undoManager.addUndoLevel(n,r,o,i,a,u);var n,r,o,i,a,u},undo:function(){return e=d,t=l,n=f,qv(s).undoManager.undo(e,t,n);var e,t,n},redo:function(){return e=s,t=f,n=d.data,qv(e).undoManager.redo(t,n);var e,t,n},clear:function(){var e,t;e=d,t=f,qv(s).undoManager.clear(e,t)},reset:function(){var e;e=d,qv(s).undoManager.reset(e)},hasUndo:function(){return e=d,t=f,qv(s).undoManager.hasUndo(e,t);var e,t},hasRedo:function(){return e=d,t=f,qv(s).undoManager.hasRedo(e,t);var e,t},transact:function(e){return t=d,n=l,r=e,qv(s).undoManager.transact(t,n,r);var t,n,r},ignore:function(e){var t,n;t=l,n=e,qv(s).undoManager.ignore(t,n)},extra:function(e,t){var n,r,o,i;n=d,r=f,o=e,i=t,qv(s).undoManager.extra(n,r,o,i)}};return Hv(s)||Ab(s,d,l),(e=s).addShortcut(\"meta+z\",\"\",\"Undo\"),e.addShortcut(\"meta+y,meta+shift+z\",\"\",\"Redo\"),d},Tb=[9,27,ud.HOME,ud.END,19,20,44,144,145,33,34,45,16,17,18,91,92,93,ud.DOWN,ud.UP,ud.LEFT,ud.RIGHT].concat(wt.browser.isFirefox()?[224]:[]),Db=\"data-mce-placeholder\",Ob=function(e){return\"keydown\"===e.type||\"keyup\"===e.type},Bb=function(e){var t=e.keyCode;return t===ud.BACKSPACE||t===ud.DELETE},Pb=function(a){var e,u=a.dom,s=vc(a),c=(e=a).getParam(\"placeholder\",pc.getAttrib(e.getElement(),\"placeholder\"),\"string\"),l=function(e,t){var n,r,o,i;!function(e){if(Ob(e)){var t=e.keyCode;return!Bb(e)&&(ud.metaKeyPressed(e)||e.altKey||112<=t&&t<=123||M(Tb,t))}return!1}(e)&&(n=a.getBody(),r=!(Ob(o=e)&&!(Bb(o)||\"keyup\"===o.type&&229===o.keyCode))&&function(e,t,n){if($o(At.fromDom(t),!1)){var r=\"\"===n,o=t.firstElementChild;return!o||!e.getStyle(t.firstElementChild,\"padding-left\")&&!e.getStyle(t.firstElementChild,\"padding-right\")&&(r?!e.isBlock(o):n===o.nodeName.toLowerCase())}return!1}(u,n,s),\"\"!==u.getAttrib(n,Db)===r&&!t||(u.setAttrib(n,Db,r?c:null),u.setAttrib(n,\"aria-placeholder\",r?c:null),i=r,a.fire(\"PlaceholderToggle\",{state:i}),a.on(r?\"keydown\":\"keyup\",l),a.off(r?\"keyup\":\"keydown\",l)))};c&&a.on(\"init\",function(e){l(e,!0),a.on(\"change SetContent ExecCommand\",l),a.on(\"paste\",function(e){return qr.setEditorTimeout(a,function(){return l(e)})})})},Lb=/[\\u0591-\\u07FF\\uFB1D-\\uFDFF\\uFE70-\\uFEFC]/,Ib=function(e,t){return Tt(At.fromDom(t),e.getParam(\"inline_boundaries_selector\",\"a[href],code,.mce-annotation\",\"string\"))},Mb=function(e){return\"rtl\"===Eu.DOM.getStyle(e,\"direction\",!0)||(t=e.textContent,Lb.test(t));var t},Fb=function(e,t,n){var r,o,i,a=(r=e,o=t,i=n,H(Eu.DOM.getParents(i.container(),\"*\",o),r));return U.from(a[a.length-1])},Ub=function(e,t){if(!t)return t;var n=t.container(),r=t.offset();return e?yo(n)?In(n.nextSibling)?$s(n.nextSibling,0):$s.after(n):wo(t)?$s(n,r+1):t:yo(n)?In(n.previousSibling)?$s(n.previousSibling,n.previousSibling.data.length):$s.before(n):xo(t)?$s(n,r-1):t},zb=N(Ub,!0),jb=N(Ub,!1),Hb=function(e,t){return Pt(e,t)?Ar(t,function(e){return ro(e)||io(e)},(n=e,function(e){return Ot(n,At.fromDom(e.dom.parentNode))})):U.none();var n},Vb=function(e){var t,n,r;e.dom.isEmpty(e.getBody())&&(e.setContent(\"\"),n=(t=e).getBody(),r=n.firstChild&&t.dom.isBlock(n.firstChild)?n.firstChild:n,t.selection.setCursorLocation(r,0))},qb=function(e,t){return{from:e,to:t}},$b=function(e,t){var n=At.fromDom(e),r=At.fromDom(t.container());return Hb(n,r).map(function(e){return{block:e,position:t}})},Wb=function(o,i,e){var t=$b(o,$s.fromRangeStart(e)),n=t.bind(function(e){return Ol(i,o,e.position).bind(function(e){return $b(o,e).map(function(e){return t=o,n=i,zn((r=e).position.getNode())&&!1===$o(r.block)?Ll(!1,r.block.dom).bind(function(e){return e.isEqual(r.position)?Ol(n,t,e).bind(function(e){return $b(t,e)}):U.some(r)}).getOr(r):r;var t,n,r})})});return ds(t,n,qb).filter(function(e){return!1===Ot((r=e).from.block,r.to.block)&&$t((n=e).from.block).bind(function(t){return $t(n.to.block).filter(function(e){return Ot(t,e)})}).isSome()&&(!1===Vn((t=e).from.block.dom)&&!1===Vn(t.to.block.dom));var t,n,r})},Kb=function(e){var t,n=(t=Gt(e),G(t,eo).fold(function(){return t},function(e){return t.slice(0,e)}));return W(n,pn),n},Xb=function(e,t){var n=Dp(t,e);return Y(n.reverse(),function(e){return $o(e)}).each(pn)},Yb=function(e,t,n,r){if($o(n))return _p(n),Fl(n.dom);0===H(Xt(r),function(e){return!$o(e)}).length&&$o(t)&&sn(r,At.fromTag(\"br\"));var o=Ml(n.dom,$s.before(r.dom));return W(Kb(t),function(e){sn(r,e)}),Xb(e,t),o},Gb=function(e,t,n){if($o(n))return pn(n),$o(t)&&_p(t),Fl(t.dom);var r=Ul(n.dom);return W(Kb(t),function(e){fn(n,e)}),Xb(e,t),r},Jb=function(e,t){return Pt(t,e)?(n=Dp(e,t),U.from(n[n.length-1])):U.none();var n},Qb=function(e,t){Ll(e,t.dom).map(function(e){return e.getNode()}).map(At.fromDom).filter(no).each(pn)},Zb=function(e,t,n){return Qb(!0,t),Qb(!1,n),Jb(t,n).fold(N(Gb,e,t,n),N(Yb,e,t,n))},eC=function(e,t,n,r){return t?Zb(e,r,n):Zb(e,n,r)},tC=function(t,n){var e,r,o,i=At.fromDom(t.getBody()),a=(e=i.dom,r=n,((o=t.selection.getRng()).collapsed?Wb(e,r,o):U.none()).bind(function(e){return eC(i,n,e.from.block,e.to.block)}));return a.each(function(e){t.selection.setRng(e.toRange())}),a.isSome()},nC=function(e,t){var n=At.fromDom(t),r=N(Ot,e);return _r(n,uo,r).isSome()},rC=function(e,t){var n,r,o=Ml(e.dom,$s.fromRangeStart(t)).isNone(),i=Il(e.dom,$s.fromRangeEnd(t)).isNone();return!(nC(n=e,(r=t).startContainer)||nC(n,r.endContainer))&&o&&i},oC=function(e){var n,r,o,t,i=At.fromDom(e.getBody()),a=e.selection.getRng();return rC(i,a)?((t=e).setContent(\"\"),t.selection.setCursorLocation(),!0):(n=i,r=e.selection,o=r.getRng(),ds(Hb(n,At.fromDom(o.startContainer)),Hb(n,At.fromDom(o.endContainer)),function(e,t){return!1===Ot(e,t)&&(o.deleteContents(),eC(n,!0,e,t).each(function(e){r.setRng(e.toRange())}),!0)}).getOr(!1))},iC=function(e,t){return!e.selection.isCollapsed()&&oC(e)},aC=Hn,uC=Vn,sC=function(e,t,n,r,o){return U.from(t._selectionOverrides.showCaret(e,n,r,o))},cC=function(e,t){var n,r;return e.fire(\"BeforeObjectSelected\",{target:t}).isDefaultPrevented()?U.none():U.some(((r=(n=t).ownerDocument.createRange()).selectNode(n),r))},lC=function(e,t,n){var r=ll(1,e.getBody(),t),o=$s.fromRangeStart(r),i=o.getNode();if(Wc(i))return sC(1,e,i,!o.isAtEnd(),!1);var a=o.getNode(!0);if(Wc(a))return sC(1,e,a,!1,!1);var u=e.dom.getParent(o.getNode(),function(e){return uC(e)||aC(e)});return Wc(u)?sC(1,e,u,!1,n):U.none()},fC=function(e,t,n){return t.collapsed?lC(e,t,n).getOr(t):t},dC=function(e){return Np(e)||Cp(e)},mC=function(e){return Ep(e)||wp(e)},pC=function(n,r,e,t,o,i){var a,u;return sC(t,n,i.getNode(!o),o,!0).each(function(e){var t;r.collapsed?(t=r.cloneRange(),o?t.setEnd(e.startContainer,e.startOffset):t.setStart(e.endContainer,e.endOffset),t.deleteContents()):r.deleteContents(),n.selection.setRng(e)}),a=n.dom,In(u=e)&&0===u.data.length&&a.remove(u),!0},gC=function(e,t){var n=e.selection.getRng();if(!In(n.commonAncestorContainer))return!1;var r=t?Vs.Forwards:Vs.Backwards,o=_l(e.getBody()),i=N(pl,t?o.next:o.prev),a=t?dC:mC,u=dl(r,e.getBody(),n),s=Ub(t,i(u));if(!s||!gl(u,s))return!1;if(a(s))return pC(e,n,u.getNode(),r,t,s);var c=i(s);return!!(c&&a(c)&&gl(s,c))&&pC(e,n,u.getNode(),r,t,c)},hC=Cr([{remove:[\"element\"]},{moveToElement:[\"element\"]},{moveToPosition:[\"position\"]}]),vC=function(e,t,n,r){var o=r.getNode(!1===t);return Hb(At.fromDom(e),At.fromDom(n.getNode())).map(function(e){return $o(e)?hC.remove(e.dom):hC.moveToElement(o)}).orThunk(function(){return U.some(hC.moveToElement(o))})},yC=function(u,s,c){return Ol(s,u,c).bind(function(e){return a=e.getNode(),uo(At.fromDom(a))||io(At.fromDom(a))?U.none():(t=u,o=e,i=function(e){return to(At.fromDom(e))&&!ol(r,o,t)},fl(!(n=s),r=c).fold(function(){return fl(n,o).fold(C,i)},i)?U.none():s&&Vn(e.getNode())||!1===s&&Vn(e.getNode(!0))?vC(u,s,c,e):s&&Ep(c)||!1===s&&Np(c)?U.some(hC.moveToPosition(e)):U.none());var t,n,r,o,i,a})},bC=function(r,e,o){return i=e,a=o.getNode(!1===i),u=i?\"after\":\"before\",An(a)&&a.getAttribute(\"data-mce-caret\")===u?(t=e,n=o.getNode(!1===e),(t&&Vn(n.nextSibling)?U.some(hC.moveToElement(n.nextSibling)):!1===t&&Vn(n.previousSibling)?U.some(hC.moveToElement(n.previousSibling)):U.none()).fold(function(){return yC(r,e,o)},U.some)):yC(r,e,o).bind(function(e){return t=r,n=o,e.fold(function(e){return U.some(hC.remove(e))},function(e){return U.some(hC.moveToElement(e))},function(e){return ol(n,e,t)?U.none():U.some(hC.moveToPosition(e))});var t,n});var t,n,i,a,u},CC=function(e,t){return U.from(id(e.getBody(),t))},wC=function(a,u){var e=a.selection.getNode();return CC(a,e).filter(Vn).fold(function(){return e=a.getBody(),t=u,n=a.selection.getRng(),r=ll(t?1:-1,e,n),o=$s.fromRangeStart(r),i=At.fromDom(e),(!1===t&&Ep(o)?U.some(hC.remove(o.getNode(!0))):t&&Np(o)?U.some(hC.remove(o.getNode())):!1===t&&Np(o)&&Vp(i,o)?qp(i,o).map(function(e){return hC.remove(e.getNode())}):t&&Ep(o)&&Hp(i,o)?$p(i,o).map(function(e){return hC.remove(e.getNode())}):bC(e,t,o)).exists(function(e){return e.fold(function(e){return o._selectionOverrides.hideFakeCaret(),Cg(o,i,At.fromDom(e)),!0},(r=i=u,function(e){var t=r?$s.before(e):$s.after(e);return n.selection.setRng(t.toRange()),!0}),(t=n=o=a,function(e){return t.selection.setRng(e.toRange()),!0}));var t,n,r,o,i});var e,t,n,r,o,i},k)},xC=function(t,n){var e=t.selection.getNode();return!!Vn(e)&&CC(t,e.parentNode).filter(Vn).fold(function(){var e;return e=At.fromDom(t.getBody()),W(Gu(e,\".mce-offscreen-selection\"),pn),Cg(t,n,At.fromDom(t.selection.getNode())),Vb(t),!0},function(){return!0})},SC=function(e){var t,n=e.dom,r=e.selection,o=id(e.getBody(),r.getNode());return Hn(o)&&n.isBlock(o)&&n.isEmpty(o)&&(t=n.create(\"br\",{\"data-mce-bogus\":\"1\"}),n.setHTML(o,\"\"),o.appendChild(t),r.setRng($s.before(t).toRange())),!0},NC=function(e,t){return(e.selection.isCollapsed()?wC:xC)(e,t)},EC=function(e,t){return!!e.selection.isCollapsed()&&(n=e,r=t,o=$s.fromRangeStart(n.selection.getRng()),Ol(r,n.getBody(),o).filter(function(e){return(r?yp:bp)(e)}).bind(function(e){return U.from(il(r?0:-1,e))}).exists(function(e){return n.selection.select(e),!0}));var n,r,o},kC=In,_C=function(e){return kC(e)&&e.data[0]===fo},AC=function(e){return kC(e)&&e.data[e.data.length-1]===fo},RC=function(e){return e.ownerDocument.createTextNode(fo)},TC=function(e,t){return(e?function(e){if(kC(e.previousSibling))return AC(e.previousSibling)||e.previousSibling.appendData(fo),e.previousSibling;if(kC(e))return _C(e)||e.insertData(0,fo),e;var t=RC(e);return e.parentNode.insertBefore(t,e),t}:function(e){if(kC(e.nextSibling))return _C(e.nextSibling)||e.nextSibling.insertData(0,fo),e.nextSibling;if(kC(e))return AC(e)||e.appendData(fo),e;var t=RC(e);return e.nextSibling?e.parentNode.insertBefore(t,e.nextSibling):e.parentNode.appendChild(t),t})(t)},DC=N(TC,!0),OC=N(TC,!1),BC=function(e,t){return In(e.container())?TC(t,e.container()):TC(t,e.getNode())},PC=function(e,t){var n=t.get();return n&&e.container()===n&&yo(n)},LC=function(n,e){return e.fold(function(e){Fc(n.get());var t=DC(e);return n.set(t),U.some($s(t,t.length-1))},function(e){return Fl(e).map(function(e){if(PC(e,n))return $s(n.get(),1);Fc(n.get());var t=BC(e,!0);return n.set(t),$s(t,1)})},function(e){return Ul(e).map(function(e){if(PC(e,n))return $s(n.get(),n.get().length-1);Fc(n.get());var t=BC(e,!1);return n.set(t),$s(t,t.length-1)})},function(e){Fc(n.get());var t=OC(e);return n.set(t),U.some($s(t,1))})},IC=function(e,t){for(var n=0;n<e.length;n++){var r=e[n].apply(null,t);if(r.isSome())return r}return U.none()},MC=Cr([{before:[\"element\"]},{start:[\"element\"]},{end:[\"element\"]},{after:[\"element\"]}]),FC=function(e,t){var n=rl(t,e);return n||e},UC=function(e,t,n){var r=zb(n),o=FC(t,r.container());return Fb(e,o,r).fold(function(){return Il(o,r).bind(N(Fb,e,o)).map(function(e){return MC.before(e)})},U.none)},zC=function(e,t){return null===Hl(e,t)},jC=function(e,t,n){return Fb(e,t,n).filter(N(zC,t))},HC=function(e,t,n){var r=jb(n);return jC(e,t,r).bind(function(e){return Ml(e,r).isNone()?U.some(MC.start(e)):U.none()})},VC=function(e,t,n){var r=zb(n);return jC(e,t,r).bind(function(e){return Il(e,r).isNone()?U.some(MC.end(e)):U.none()})},qC=function(e,t,n){var r=jb(n),o=FC(t,r.container());return Fb(e,o,r).fold(function(){return Ml(o,r).bind(N(Fb,e,o)).map(function(e){return MC.after(e)})},U.none)},$C=function(e){return!1===Mb(KC(e))},WC=function(e,t,n){return IC([UC,HC,VC,qC],[e,t,n]).filter($C)},KC=function(e){return e.fold(o,o,o,o)},XC=function(e){return e.fold(E(\"before\"),E(\"start\"),E(\"end\"),E(\"after\"))},YC=function(e){return e.fold(MC.before,MC.before,MC.after,MC.after)},GC=function(e){return e.fold(MC.start,MC.start,MC.end,MC.end)},JC=function(a,e,u,t,n,s){return ds(Fb(e,u,t),Fb(e,u,n),function(e,t){return e!==t&&(r=t,o=rl(e,n=u),i=rl(r,n),o&&o===i)?MC.after(a?e:t):s;var n,r,o,i}).getOr(s)},QC=function(e,r){return e.fold(k,function(e){return n=r,!(XC(t=e)===XC(n)&&KC(t)===KC(n));var t,n})},ZC=function(e,t){return e?t.fold(a(U.some,MC.start),U.none,a(U.some,MC.after),U.none):t.fold(U.none,a(U.some,MC.before),U.none,a(U.some,MC.end))},ew=function(e,a,u,s){var t=Ub(e,s),c=WC(a,u,t);return WC(a,u,t).bind(N(ZC,e)).orThunk(function(){return n=a,r=u,o=c,i=Ub(t=e,s),Ol(t,r,i).map(N(Ub,t)).fold(function(){return o.map(YC)},function(e){return WC(n,r,e).map(N(JC,t,n,r,i,e)).filter(N(QC,o))}).filter($C);var t,n,r,o,i})},tw=(N(ew,!1),N(ew,!0),function(e,t,n){var r=e?1:-1;return t.setRng($s(n.container(),n.offset()+r).toRange()),t.getSel().modify(\"move\",e?\"forward\":\"backward\",\"word\"),!0}),nw=function(e,t){var n=t.selection.getRng(),r=e?$s.fromRangeEnd(n):$s.fromRangeStart(n);return!!T(t.selection.getSel().modify)&&(e&&wo(r)?tw(!0,t.selection,r):!(e||!xo(r))&&tw(!1,t.selection,r))},rw=function(e,t){var n=e.dom.createRng();n.setStart(t.container(),t.offset()),n.setEnd(t.container(),t.offset()),e.selection.setRng(n)},ow=function(e,t){e?t.setAttribute(\"data-mce-selected\",\"inline-boundary\"):t.removeAttribute(\"data-mce-selected\")},iw=function(t,e,n){return LC(e,n).map(function(e){return rw(t,e),n})},aw=function(e,t){var n,r;e.selection.isCollapsed()&&!0!==e.composing&&t.get()&&(n=$s.fromRangeStart(e.selection.getRng()),$s.isTextPosition(n)&&!1===(wo(r=n)||xo(r))&&(rw(e,Mc(t.get(),n)),t.set(null)))},uw=function(e,t,n){return!!_c(e)&&(o=t,i=n,a=(r=e).getBody(),u=$s.fromRangeStart(r.selection.getRng()),s=N(Ib,r),ew(i,s,a,u).bind(function(e){return iw(r,o,e)}).isSome());var r,o,i,a,u,s},sw=function(e,t,n){return!!_c(t)&&nw(e,t)},cw=function(d){var m=Ou(null),p=N(Ib,d);return d.on(\"NodeChange\",function(e){var n,r,o,t,i,a,u,s,c,l,f;!_c(d)||wt.browser.isIE()&&e.initial||(a=p,u=d.dom,s=e.parents,c=z(Gu(At.fromDom(u.getRoot()),'*[data-mce-selected=\"inline-boundary\"]'),function(e){return e.dom}),l=H(c,a),f=H(s,a),W(ee(l,f),N(ow,!1)),W(ee(f,l),N(ow,!0)),aw(d,m),n=p,r=d,o=m,t=e.parents,r.selection.isCollapsed()&&(i=H(t,n),W(i,function(e){var t=$s.fromRangeStart(r.selection.getRng());WC(n,r.getBody(),t).bind(function(e){return iw(r,o,e)})})))}),m},lw=N(sw,!0),fw=N(sw,!1),dw=function(t,n){return function(e){return LC(n,e).exists(function(e){return rw(t,e),!0})}},mw=function(r,o,i,a){var u=r.getBody(),s=N(Ib,r);r.undoManager.ignore(function(){var e,t,n;r.selection.setRng((e=i,t=a,(n=document.createRange()).setStart(e.container(),e.offset()),n.setEnd(t.container(),t.offset()),n)),r.execCommand(\"Delete\"),WC(s,u,$s.fromRangeStart(r.selection.getRng())).map(GC).map(dw(r,o))}),r.nodeChanged()},pw=function(n,r,i,o){var e,t,a=(e=n.getBody(),t=o.container(),rl(t,e)||e),u=N(Ib,n),s=WC(u,a,o);return s.bind(function(e){return i?e.fold(E(U.some(GC(e))),U.none,E(U.some(YC(e))),U.none):e.fold(U.none,E(U.some(YC(e))),U.none,E(U.some(GC(e))))}).map(dw(n,r)).getOrThunk(function(){var t=Bl(i,a,o),e=t.bind(function(e){return WC(u,a,e)});return ds(s,e,function(){return Fb(u,a,o).exists(function(e){return!!ds(Fl(o=e),Ul(o),function(e,t){var n=Ub(!0,e),r=Ub(!1,t);return Il(o,n).forall(function(e){return e.isEqual(r)})}).getOr(!0)&&(Cg(n,i,At.fromDom(e)),!0);var o})}).orThunk(function(){return e.bind(function(e){return t.map(function(e){return i?mw(n,r,o,e):mw(n,r,e,o),!0})})}).getOr(!1)})},gw=function(e,t,n){if(e.selection.isCollapsed()&&_c(e)){var r=$s.fromRangeStart(e.selection.getRng());return pw(e,t,n,r)}return!1},hw=function(e){return 1===Gt(e).length},vw=function(e,t,n,r){var o,i,a,u,s,c=N(Nh,t),l=z(H(r,c),function(e){return e.dom});0===l.length?Cg(t,e,n):(i=n.dom,a=l,u=vh(!1),s=wh(a,u.dom),sn(At.fromDom(i),u),pn(At.fromDom(i)),o=$s(s,0),t.selection.setRng(o.toRange()))},yw=function(r,o){var t,e=At.fromDom(r.getBody()),n=At.fromDom(r.selection.getStart()),s=H((t=Dp(n,e),G(t,eo).fold(E(t),function(e){return t.slice(0,e)})),hw);return re(s).exists(function(e){var t,i,a,u,n=$s.fromRangeStart(r.selection.getRng());return i=o,a=n,u=e.dom,!(!ds(Fl(u),Ul(u),function(e,t){var n=Ub(!0,e),r=Ub(!1,t),o=Ub(!1,a);return i?Il(u,o).exists(function(e){return e.isEqual(r)&&a.isEqual(n)}):Ml(u,o).exists(function(e){return e.isEqual(n)&&a.isEqual(r)})}).getOr(!0)||jl((t=e).dom)&&gh(t.dom))&&(vw(o,r,e,s),!0)})},bw=function(e,t){return!!e.selection.isCollapsed()&&yw(e,t)},Cw=function(e,t,n){return e._selectionOverrides.hideFakeCaret(),Cg(e,t,At.fromDom(n)),!0},ww=function(e,t){return e.selection.isCollapsed()?(i=e,u=(a=t)?Cp:wp,s=a?Vs.Forwards:Vs.Backwards,c=dl(s,i.getBody(),i.selection.getRng()),u(c)?Cw(i,a,c.getNode(!a)):U.from(Ub(a,c)).filter(function(e){return u(e)&&gl(c,e)}).exists(function(e){return Cw(i,a,e.getNode(!a))})):(r=t,o=(n=e).selection.getNode(),!!$n(o)&&Cw(n,r,o));var n,r,o,i,a,u,s,c},xw=function(e){var t=parseInt(e,10);return isNaN(t)?0:t},Sw=function(e,t){return(e||\"table\"===Lt(t)?\"margin\":\"padding\")+(\"rtl\"===er(t,\"direction\")?\"-right\":\"-left\")},Nw=function(e){var r,t=kw(e);return!e.mode.isReadOnly()&&(1<t.length||(r=e,Q(t,function(e){var t=Sw(Sc(r),e),n=nr(e,t).map(xw).getOr(0);return\"false\"!==r.dom.getContentEditable(e.dom)&&0<n})))},Ew=function(e){return oo(e)||io(e)},kw=function(e){return H(z(e.selection.getSelectedBlocks(),At.fromDom),function(e){return!Ew(e)&&!$t(e).map(Ew).getOr(!1)&&Ar(e,function(e){return Hn(e.dom)||Vn(e.dom)}).exists(function(e){return Hn(e.dom)})})},_w=function(e,c){var l=e.dom,t=e.selection,n=e.formatter,r=e.getParam(\"indentation\",\"40px\",\"string\"),f=/[a-z%]+$/i.exec(r)[0],d=parseInt(r,10),m=Sc(e),o=vc(e);e.queryCommandState(\"InsertUnorderedList\")||e.queryCommandState(\"InsertOrderedList\")||\"\"!==o||l.getParent(t.getNode(),l.isBlock)||n.apply(\"div\"),W(kw(e),function(e){var t,n,r,o,i,a,u,s;t=l,n=c,r=m,o=d,i=f,a=e.dom,s=Sw(r,At.fromDom(a)),\"outdent\"===n?(u=Math.max(0,xw(a.style[s])-o),t.setStyle(a,s,u?u+i:\"\")):(u=xw(a.style[s])+o+i,t.setStyle(a,s,u))})},Aw=function(e,t){if(e.selection.isCollapsed()&&Nw(e)){var n=e.dom,r=e.selection.getRng(),o=$s.fromRangeStart(r),i=n.getParent(r.startContainer,n.isBlock);if(null!==i&&Ip(At.fromDom(i),o))return _w(e,\"outdent\"),!0}return!1},Rw=function(e,t){e.getDoc().execCommand(t,!1,null)},Tw=function(n,r){n.addCommand(\"delete\",function(){var e,t;t=r,Aw(e=n)||NC(e,!1)||gC(e,!1)||gw(e,t,!1)||tC(e,!1)||Kg(e)||EC(e,!1)||ww(e,!1)||iC(e)||bw(e,!1)||(Rw(e,\"Delete\"),Vb(e))}),n.addCommand(\"forwardDelete\",function(){var e,t;t=r,NC(e=n,!0)||gC(e,!0)||gw(e,t,!0)||tC(e,!0)||Kg(e)||EC(e,!0)||ww(e,!0)||iC(e)||bw(e,!0)||Rw(e,\"ForwardDelete\")})},Dw=function(e){return e.touches===undefined||1!==e.touches.length?U.none():U.some(e.touches[0])},Ow=function(a){var u=Ou(U.none()),s=Ou(!1),r=ju(function(e){a.fire(\"longpress\",ke(ke({},e),{type:\"longpress\"})),s.set(!0)},400);a.on(\"touchstart\",function(n){Dw(n).each(function(e){r.cancel();var t={x:e.clientX,y:e.clientY,target:n.target};r.throttle(n),s.set(!1),u.set(U.some(t))})},!0),a.on(\"touchmove\",function(e){r.cancel(),Dw(e).each(function(i){u.get().each(function(e){var t,n,r,o;t=i,n=e,r=Math.abs(t.clientX-n.x),o=Math.abs(t.clientY-n.y),(5<r||5<o)&&(u.set(U.none()),s.set(!1),a.fire(\"longpresscancel\"))})})},!0),a.on(\"touchend touchcancel\",function(t){r.cancel(),\"touchcancel\"!==t.type&&u.get().filter(function(e){return e.target.isEqualNode(t.target)}).each(function(){s.get()?t.preventDefault():a.fire(\"tap\",ke(ke({},t),{type:\"tap\"}))})},!0)},Bw=function(e,t){return e.hasOwnProperty(t.nodeName)},Pw=function(e){var t,n,r,o=e.dom,i=e.selection,a=e.schema,u=a.getBlockElements(),s=i.getStart(),c=e.getBody(),l=vc(e);if(s&&An(s)&&l){var f=c.nodeName.toLowerCase();if(a.isValidChild(f,l.toLowerCase())&&(d=u,m=c,p=s,!F(Tp(At.fromDom(p),At.fromDom(m)),function(e){return Bw(d,e.dom)}))){for(var d,m,p,g,h,v=i.getRng(),y=v.startContainer,b=v.startOffset,C=v.endContainer,w=v.endOffset,x=Em(e),s=c.firstChild;s;)if(g=u,In(h=s)||An(h)&&!Bw(g,h)&&!Jl(h)){if(function(e,t){if(In(t)){if(0===t.nodeValue.length)return!0;if(/^\\s+$/.test(t.nodeValue)&&(!t.nextSibling||Bw(e,t.nextSibling)))return!0}return!1}(u,s)){s=(n=s).nextSibling,o.remove(n);continue}t||(t=o.create(l,yc(e)),s.parentNode.insertBefore(t,s),r=!0),s=(n=s).nextSibling,t.appendChild(n)}else t=null,s=s.nextSibling;r&&x&&(v.setStart(y,b),v.setEnd(C,w),i.setRng(v),e.nodeChanged())}}},Lw=function(e,t){var n;t.hasAttribute(\"data-mce-caret\")&&(ko(t),(n=e).selection.setRng(n.selection.getRng()),e.selection.scrollIntoView(t))},Iw=function(e,t){var n,r=(n=e,Dr(At.fromDom(n.getBody()),\"*[data-mce-caret]\").fold(E(null),function(e){return e.dom}));if(r)return\"compositionstart\"===t.type?(t.preventDefault(),t.stopPropagation(),void Lw(e,r)):void(Co(r)&&(Lw(e,r),e.undoManager.add()))};(wb=Cb=Cb||{})[wb.Br=0]=\"Br\",wb[wb.Block=1]=\"Block\",wb[wb.Wrap=2]=\"Wrap\",wb[wb.Eol=3]=\"Eol\";var Mw,Fw,Uw=function(e,t){return e===Vs.Backwards?Z(t):t},zw=function(e,t,n,r){for(var o,i,a,u,s,c,l=_l(n),f=r,d=[];f&&(s=l,c=f,o=t===Vs.Forwards?s.next(c):s.prev(c));){if(zn(o.getNode(!1)))return t===Vs.Forwards?{positions:Uw(t,d).concat([o]),breakType:Cb.Br,breakAt:U.some(o)}:{positions:Uw(t,d),breakType:Cb.Br,breakAt:U.some(o)};if(o.isVisible()){if(e(f,o)){var m=(i=t,a=f,zn((u=o).getNode(i===Vs.Forwards))?Cb.Br:!1===ol(a,u)?Cb.Block:Cb.Wrap);return{positions:Uw(t,d),breakType:m,breakAt:U.some(o)}}d.push(o),f=o}else f=o}return{positions:Uw(t,d),breakType:Cb.Eol,breakAt:U.none()}},jw=function(n,r,o,e){return r(o,e).breakAt.map(function(e){var t=r(o,e).positions;return n===Vs.Backwards?t.concat(e):[e].concat(t)}).getOr([])},Hw=function(e,i){return X(e,function(e,o){return e.fold(function(){return U.some(o)},function(r){return ds(ne(r.getClientRects()),ne(o.getClientRects()),function(e,t){var n=Math.abs(i-e.left);return Math.abs(i-t.left)<=n?o:r}).or(e)})},U.none())},Vw=function(t,e){return ne(e.getClientRects()).bind(function(e){return Hw(t,e.left)})},qw=N(zw,Hs.isAbove,-1),$w=N(zw,Hs.isBelow,1),Ww=N(jw,-1,qw),Kw=N(jw,1,$w),Xw=function(t){var e=function(e){return z(e,function(e){return(e=ps(e)).node=t,e})};if(An(t))return e(t.getClientRects());if(In(t)){var n=t.ownerDocument.createRange();return n.setStart(t,0),n.setEnd(t,t.data.length),e(n.getClientRects())}},Yw=function(e){return J(e,Xw)};(Fw=Mw=Mw||{})[Fw.Up=-1]=\"Up\",Fw[Fw.Down=1]=\"Down\";var Gw=function(o,i,a,e,u,t){var s=0,c=[],n=function(e){var t,n,r=Yw([e]);for(-1===o&&(r=r.reverse()),t=0;t<r.length;t++)if(n=r[t],!a(n,l)){if(0<c.length&&i(n,Ee(c))&&s++,n.line=s,u(n))return!0;c.push(n)}},l=Ee(t.getClientRects());if(!l)return c;var r=t.getNode();return n(r),function(e,t,n,r){for(;r=nl(r,e,Mo,t);)if(n(r))return}(o,e,n,r),c},Jw=N(Gw,Mw.Up,vs,ys),Qw=N(Gw,Mw.Down,ys,vs),Zw=function(n){return function(e){return t=n,e.line>t;var t}},ex=function(n){return function(e){return t=n,e.line===t;var t}},tx=Vn,nx=nl,rx=function(e,t){return Math.abs(e.left-t)},ox=function(e,t){return Math.abs(e.right-t)},ix=function(e,t){return e>=t.left&&e<=t.right},ax=function(e,t){return e>=t.top&&e<=t.bottom},ux=function(e,o){return Se(e,function(e,t){var n=Math.min(rx(e,o),ox(e,o)),r=Math.min(rx(t,o),ox(t,o));return ix(o,t)||!ix(o,e)&&(r===n&&tx(t.node)||r<n)?t:e})},sx=function(e,t,n,r,o){var i=nx(r,e,Mo,t,!o);do{if(!i||n(i))return}while(i=nx(i,e,Mo,t))},cx=function(e,t,n){var r,o,i=Yw(H(oe(e.getElementsByTagName(\"*\")),Kc)),a=H(i,N(ax,n));if(u=ux(a,t)){var u,s=!Bn(u.node)&&!$n(u.node);if((u=ux(function(e,r,t){void 0===t&&(t=!0);var o=[],n=function(t,e){var n=H(Yw([e]),function(e){return!t(e,r)});return o=o.concat(n),0===n.length};return o.push(r),sx(Mw.Up,e,N(n,vs),r.node,t),sx(Mw.Down,e,N(n,ys),r.node,t),o}(e,u,s),t))&&Kc(u.node))return o=t,{node:(r=u).node,before:rx(r,o)<ox(r,o)}}return null},lx=function(e,t){e.selection.setRng(t),Xd(e,e.selection.getRng())},fx=function(e,t,n){return U.some(fC(e,t,n))},dx=function(e,t,n,r,o,i){var a=t===Vs.Forwards,u=_l(e.getBody()),s=N(pl,a?u.next:u.prev),c=a?r:o;if(!n.collapsed){var l=Cs(n);if(i(l))return sC(t,e,l,t===Vs.Backwards,!1)}var f=dl(t,e.getBody(),n);if(c(f))return cC(e,f.getNode(!a));var d=Ub(a,s(f)),m=vo(n.startContainer);if(!d)return m?U.some(n):U.none();if(c(d))return sC(t,e,d.getNode(!a),a,!1);var p=s(d);return p&&c(p)&&gl(d,p)?sC(t,e,p.getNode(!a),a,!1):m?fx(e,d.toRange(),!1):U.none()},mx=function(t,e,n,r,o,i){var a=dl(e,t.getBody(),n),u=Ee(a.getClientRects()),s=e===Mw.Down;if(!u)return U.none();var c,l=(s?Qw:Jw)(t.getBody(),Zw(1),a),f=H(l,ex(1)),d=u.left,m=ux(f,d);if(m&&i(m.node)){var p=Math.abs(d-m.left),g=Math.abs(d-m.right);return sC(e,t,m.node,p<g,!1)}if(c=r(a)?a.getNode():o(a)?a.getNode(!0):Cs(n)){var h=function(e,t,n,r){var o,i,a,u,s=_l(t),c=[],l=0,f=function(e){return Ee(e.getClientRects())},d=1===e?(o=s.next,i=ys,a=vs,$s.after(r)):(o=s.prev,i=vs,a=ys,$s.before(r)),m=f(d);do{if(d.isVisible()&&!a(u=f(d),m)){if(0<c.length&&i(u,Ee(c))&&l++,(u=ps(u)).position=d,u.line=l,n(u))return c;c.push(u)}}while(d=o(d));return c}(e,t.getBody(),Zw(1),c),v=ux(H(h,ex(1)),d);if(v)return fx(t,v.position.toRange(),!1);if(v=Ee(H(h,ex(0))))return fx(t,v.position.toRange(),!1)}return 0===f.length?px(t,s).filter(s?o:r).map(function(e){return fC(t,e.toRange(),!1)}):U.none()},px=function(e,t){var n=e.selection.getRng(),r=e.getBody();if(t){var o=$s.fromRangeEnd(n),i=$w(r,o);return re(i.positions)}o=$s.fromRangeStart(n),i=qw(r,o);return ne(i.positions)},gx=function(t,e,n){return px(t,e).filter(n).exists(function(e){return t.selection.setRng(e.toRange()),!0})},hx=Vn,vx=function(e,t,n){var r,o,i=_l(e.getBody()),a=N(pl,1===t?i.next:i.prev);if(n.collapsed&&\"\"!==vc(e)){var u,s=e.dom.getParent(n.startContainer,\"PRE\");if(!s)return;a($s.fromRangeStart(n))||(o=(r=e).dom.create(vc(r)),(!wt.ie||11<=wt.ie)&&(o.innerHTML='<br data-mce-bogus=\"1\">'),u=o,1===t?e.$(s).after(u):e.$(s).before(u),e.selection.select(u,!0),e.selection.collapse())}},yx=function(e,t){var n=t?Vs.Forwards:Vs.Backwards,r=e.selection.getRng();return dx(e,n,r,Np,Ep,hx).orThunk(function(){return vx(e,n,r),U.none()})},bx=function(e,t){var n=t?1:-1,r=e.selection.getRng();return mx(e,n,r,function(e){return Np(e)||xp(e)},function(e){return Ep(e)||Sp(e)},hx).orThunk(function(){return vx(e,n,r),U.none()})},Cx=function(t,e){return yx(t,e).exists(function(e){return lx(t,e),!0})},wx=function(t,e){return bx(t,e).exists(function(e){return lx(t,e),!0})},xx=function(e,t){return gx(e,t,t?Ep:Np)},Sx=function(e){return M([\"figcaption\"],Lt(e))},Nx=function(e){var t=document.createRange();return t.setStartBefore(e.dom),t.setEndBefore(e.dom),t},Ex=function(e,t,n){(n?fn:ln)(e,t)},kx=function(e,t,n,r){return\"\"===t?(l=e,f=r,d=At.fromTag(\"br\"),Ex(l,d,f),Nx(d)):(o=e,i=r,a=t,u=n,s=At.fromTag(a),c=At.fromTag(\"br\"),Yn(s,u),fn(s,c),Ex(o,s,i),Nx(c));var o,i,a,u,s,c,l,f,d},_x=function(e,t,n){return t?(o=e.dom,$w(o,n).breakAt.isNone()):(r=e.dom,qw(r,n).breakAt.isNone());var r,o},Ax=function(t,n){var e,r,o=At.fromDom(t.getBody()),i=$s.fromRangeStart(t.selection.getRng()),a=vc(t),u=yc(t);return e=i,r=N(Ot,o),Ar(At.fromDom(e.container()),eo,r).filter(Sx).exists(function(){if(_x(o,n,i)){var e=kx(o,a,u,n);return t.selection.setRng(e),!0}return!1})},Rx=function(e,t){return!!e.selection.isCollapsed()&&Ax(e,t)},Tx=function(e,r){return J(z(e,function(e){return ke({shiftKey:!1,altKey:!1,ctrlKey:!1,metaKey:!1,keyCode:0,action:V},e)}),function(e){return t=e,(n=r).keyCode===t.keyCode&&n.shiftKey===t.shiftKey&&n.altKey===t.altKey&&n.ctrlKey===t.ctrlKey&&n.metaKey===t.metaKey?[e]:[];var t,n})},Dx=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return function(){return e.apply(null,t)}},Ox=function(e,t){return Y(Tx(e,t),function(e){return e.action()})},Bx=function(t,e){var n=e?Vs.Forwards:Vs.Backwards,r=t.selection.getRng();return dx(t,n,r,Cp,wp,$n).exists(function(e){return lx(t,e),!0})},Px=function(t,e){var n=e?1:-1,r=t.selection.getRng();return mx(t,n,r,Cp,wp,$n).exists(function(e){return lx(t,e),!0})},Lx=function(e,t){return gx(e,t,t?wp:Cp)},Ix=function(o,e){return J(e,function(e){var t,n,r=(t=ps(e.getBoundingClientRect()),n=-1,{left:t.left-n,top:t.top-n,right:t.right+2*n,bottom:t.bottom+2*n,width:t.width+n,height:t.height+n});return[{x:r.left,y:o(r),cell:e},{x:r.right,y:o(r),cell:e}]})},Mx=function(e,t,n,r,o){var i,a,u=Gu(At.fromDom(n),\"td,th,caption\").map(function(e){return e.dom}),s=H(Ix(e,u),function(e){return t(e,o)});return i=r,a=o,X(s,function(e,r){return e.fold(function(){return U.some(r)},function(e){var t=Math.sqrt(Math.abs(e.x-i)+Math.abs(e.y-a)),n=Math.sqrt(Math.abs(r.x-i)+Math.abs(r.y-a));return U.some(n<t?r:e)})},U.none()).map(function(e){return e.cell})},Fx=N(Mx,function(e){return e.bottom},function(e,t){return e.y<t}),Ux=N(Mx,function(e){return e.top},function(e,t){return e.y>t}),zx=function(t,n){return ne(n.getClientRects()).bind(function(e){return Fx(t,e.left,e.top)}).bind(function(e){return Vw(Ul(t=e).map(function(e){return qw(t,e).positions.concat(e)}).getOr([]),n);var t})},jx=function(t,n){return re(n.getClientRects()).bind(function(e){return Ux(t,e.left,e.top)}).bind(function(e){return Vw(Fl(t=e).map(function(e){return[e].concat($w(t,e).positions)}).getOr([]),n);var t})},Hx=function(e,t,n){var r,o,i,a,u=e(t,n);return(a=u).breakType===Cb.Wrap&&0===a.positions.length||!zn(n.getNode())&&((i=u).breakType===Cb.Br&&1===i.positions.length)?(r=e,o=t,!u.breakAt.exists(function(e){return r(o,e).breakAt.isSome()})):u.breakAt.isNone()},Vx=N(Hx,qw),qx=N(Hx,$w),$x=function(t,e,n,r){var o,i,a,u,s=t.selection.getRng(),c=e?1:-1;return!(!$c()||(o=e,i=s,a=n,u=$s.fromRangeStart(i),!Ll(!o,a).exists(function(e){return e.isEqual(u)})))&&(sC(c,t,n,!e,!1).each(function(e){lx(t,e)}),!0)},Wx=function(e,t){var n=t.getNode(e);return An(n)&&\"TABLE\"===n.nodeName?U.some(n):U.none()},Kx=function(u,s,c){var e=Wx(!!s,c),t=!1===s;e.fold(function(){return lx(u,c.toRange())},function(a){return Ll(t,u.getBody()).filter(function(e){return e.isEqual(c)}).fold(function(){return lx(u,c.toRange())},function(e){return n=s,o=a,t=c,void((i=vc(r=u))?r.undoManager.transact(function(){var e=At.fromTag(i);Yn(e,yc(r)),fn(e,At.fromTag(\"br\")),(n?cn:sn)(At.fromDom(o),e);var t=r.dom.createRng();t.setStart(e.dom,0),t.setEnd(e.dom,0),lx(r,t)}):lx(r,t.toRange()));var n,r,o,t,i})})},Xx=function(e,t,n,r){var o,i,a,u,s,c,l=e.selection.getRng(),f=$s.fromRangeStart(l),d=e.getBody();if(!t&&Vx(r,f)){var m=(u=d,zx(s=n,c=f).orThunk(function(){return ne(c.getClientRects()).bind(function(e){return Hw(Ww(u,$s.before(s)),e.left)})}).getOr($s.before(s)));return Kx(e,t,m),!0}if(t&&qx(r,f)){m=(o=d,jx(i=n,a=f).orThunk(function(){return ne(a.getClientRects()).bind(function(e){return Hw(Kw(o,$s.after(i)),e.left)})}).getOr($s.after(i)));return Kx(e,t,m),!0}return!1},Yx=function(n,r,o){return U.from(n.dom.getParent(n.selection.getNode(),\"td,th\")).bind(function(t){return U.from(n.dom.getParent(t,\"table\")).map(function(e){return o(n,r,e,t)})}).getOr(!1)},Gx=function(e,t){return Yx(e,t,$x)},Jx=function(e,t){return Yx(e,t,Xx)},Qx=function(i,a){i.on(\"keydown\",function(e){var t,n,r,o;!1===e.isDefaultPrevented()&&(t=i,n=a,r=e,o=dt().os,Ox([{keyCode:ud.RIGHT,action:Dx(Cx,t,!0)},{keyCode:ud.LEFT,action:Dx(Cx,t,!1)},{keyCode:ud.UP,action:Dx(wx,t,!1)},{keyCode:ud.DOWN,action:Dx(wx,t,!0)},{keyCode:ud.RIGHT,action:Dx(Gx,t,!0)},{keyCode:ud.LEFT,action:Dx(Gx,t,!1)},{keyCode:ud.UP,action:Dx(Jx,t,!1)},{keyCode:ud.DOWN,action:Dx(Jx,t,!0)},{keyCode:ud.RIGHT,action:Dx(Bx,t,!0)},{keyCode:ud.LEFT,action:Dx(Bx,t,!1)},{keyCode:ud.UP,action:Dx(Px,t,!1)},{keyCode:ud.DOWN,action:Dx(Px,t,!0)},{keyCode:ud.RIGHT,action:Dx(uw,t,n,!0)},{keyCode:ud.LEFT,action:Dx(uw,t,n,!1)},{keyCode:ud.RIGHT,ctrlKey:!o.isOSX(),altKey:o.isOSX(),action:Dx(lw,t,n)},{keyCode:ud.LEFT,ctrlKey:!o.isOSX(),altKey:o.isOSX(),action:Dx(fw,t,n)},{keyCode:ud.UP,action:Dx(Rx,t,!1)},{keyCode:ud.DOWN,action:Dx(Rx,t,!0)}],r).each(function(e){r.preventDefault()}))})},Zx=function(o,i){o.on(\"keydown\",function(e){var t,n,r;!1===e.isDefaultPrevented()&&(t=o,n=i,r=e,Ox([{keyCode:ud.BACKSPACE,action:Dx(Aw,t,!1)},{keyCode:ud.BACKSPACE,action:Dx(NC,t,!1)},{keyCode:ud.DELETE,action:Dx(NC,t,!0)},{keyCode:ud.BACKSPACE,action:Dx(gC,t,!1)},{keyCode:ud.DELETE,action:Dx(gC,t,!0)},{keyCode:ud.BACKSPACE,action:Dx(gw,t,n,!1)},{keyCode:ud.DELETE,action:Dx(gw,t,n,!0)},{keyCode:ud.BACKSPACE,action:Dx(Kg,t,!1)},{keyCode:ud.DELETE,action:Dx(Kg,t,!0)},{keyCode:ud.BACKSPACE,action:Dx(EC,t,!1)},{keyCode:ud.DELETE,action:Dx(EC,t,!0)},{keyCode:ud.BACKSPACE,action:Dx(ww,t,!1)},{keyCode:ud.DELETE,action:Dx(ww,t,!0)},{keyCode:ud.BACKSPACE,action:Dx(iC,t,!1)},{keyCode:ud.DELETE,action:Dx(iC,t,!0)},{keyCode:ud.BACKSPACE,action:Dx(tC,t,!1)},{keyCode:ud.DELETE,action:Dx(tC,t,!0)},{keyCode:ud.BACKSPACE,action:Dx(bw,t,!1)},{keyCode:ud.DELETE,action:Dx(bw,t,!0)}],r).each(function(e){r.preventDefault()}))}),o.on(\"keyup\",function(e){var t,n;!1===e.isDefaultPrevented()&&(t=o,n=e,Ox([{keyCode:ud.BACKSPACE,action:Dx(SC,t)},{keyCode:ud.DELETE,action:Dx(SC,t)}],n))})},eS=function(e,t){var n,r,o=t,i=e.dom,a=e.schema.getMoveCaretBeforeOnEnterElements();if(t){!/^(LI|DT|DD)$/.test(t.nodeName)||(r=function(e){for(;e;){if(1===e.nodeType||3===e.nodeType&&e.data&&/[\\r\\n\\s]/.test(e.data))return e;e=e.nextSibling}}(t.firstChild))&&/^(UL|OL|DL)$/.test(r.nodeName)&&t.insertBefore(i.doc.createTextNode(lo),t.firstChild);var u=i.createRng();if(t.normalize(),t.hasChildNodes()){for(var s=new Xr(t,t);n=s.current();){if(In(n)){u.setStart(n,0),u.setEnd(n,0);break}if(a[n.nodeName.toLowerCase()]){u.setStartBefore(n),u.setEndBefore(n);break}o=n,n=s.next()}n||(u.setStart(o,0),u.setEnd(o,0))}else zn(t)?t.nextSibling&&i.isBlock(t.nextSibling)?(u.setStartBefore(t),u.setEndBefore(t)):(u.setStartAfter(t),u.setEndAfter(t)):(u.setStart(t,0),u.setEnd(t,0));e.selection.setRng(u),Xd(e,u)}},tS=function(e){return U.from(e.dom.getParent(e.selection.getStart(!0),e.dom.isBlock))},nS=function(e,t){return e&&e.parentNode&&e.parentNode.nodeName===t},rS=function(e){return e&&/^(OL|UL|LI)$/.test(e.nodeName)},oS=function(e){var t=e.parentNode;return/^(LI|DT|DD)$/.test(t.nodeName)?t:e},iS=function(e,t,n){for(var r=e[n?\"firstChild\":\"lastChild\"];r&&!An(r);)r=r[n?\"nextSibling\":\"previousSibling\"];return r===t},aS=function(e,t,n,r,o){var i,a,u,s,c,l,f=e.dom,d=e.selection.getRng();n!==e.getBody()&&(rS(i=n)&&rS(i.parentNode)&&(o=\"LI\"),a=o?t(o):f.create(\"BR\"),iS(n,r,!0)&&iS(n,r,!1)?nS(n,\"LI\")?f.insertAfter(a,oS(n)):f.replace(a,n):iS(n,r,!0)?nS(n,\"LI\")?(f.insertAfter(a,oS(n)),a.appendChild(f.doc.createTextNode(\" \")),a.appendChild(n)):n.parentNode.insertBefore(a,n):iS(n,r,!1)?f.insertAfter(a,oS(n)):(n=oS(n),(u=d.cloneRange()).setStartAfter(r),u.setEndAfter(n),s=u.extractContents(),\"LI\"===o&&(l=\"LI\",(c=s).firstChild&&c.firstChild.nodeName===l)?(a=s.firstChild,f.insertAfter(s,n)):(f.insertAfter(s,n),f.insertAfter(a,n))),f.remove(r),eS(e,a))},uS=function(e){e.innerHTML='<br data-mce-bogus=\"1\">'},sS=function(e,t){return e.nodeName===t||e.previousSibling&&e.previousSibling.nodeName===t},cS=function(e,t){return t&&e.isBlock(t)&&!/^(TD|TH|CAPTION|FORM)$/.test(t.nodeName)&&!/^(fixed|absolute)/i.test(t.style.position)&&\"true\"!==e.getContentEditable(t)},lS=function(e,t,n){return!1===In(t)?n:e?1===n&&t.data.charAt(n-1)===fo?0:n:n===t.data.length-1&&t.data.charAt(n)===fo?t.data.length:n},fS=function(e,t){for(var n,r=e.getRoot(),o=t;o!==r&&\"false\"!==e.getContentEditable(o);)\"true\"===e.getContentEditable(o)&&(n=o),o=o.parentNode;return o!==r?n:r},dS=function(e,t){var n=vc(e);n&&n.toLowerCase()===t.tagName.toLowerCase()&&function(e,o,t){var i=e.dom;U.from(t.style).map(i.parseStyle).each(function(e){var t=rr(At.fromDom(o)),n=ke(ke({},t),e);i.setStyles(o,n)});var n=U.from(t[\"class\"]).map(function(e){return e.split(/\\s+/)}),r=U.from(o.className).map(function(e){return H(e.split(/\\s+/),function(e){return\"\"!==e})});ds(n,r,function(t,e){var n=H(e,function(e){return!M(t,e)}),r=_e(t,n);i.setAttrib(o,\"class\",r.join(\" \"))});var a=[\"style\",\"class\"],u=me(t,function(e,t){return!M(a,t)});i.setAttribs(o,u)}(e,t,yc(e))},mS=function(a,e){var t,u,i,s,n,r,o,c,l,f=a.dom,d=a.schema,m=d.getNonEmptyElements(),p=a.selection.getRng(),g=function(e){var t,n=u,r=d.getTextInlineElements(),o=e||\"TABLE\"===c||\"HR\"===c?f.create(e||N):s.cloneNode(!1),i=o;if(!1===a.getParam(\"keep_styles\",!0))f.setAttrib(o,\"style\",null),f.setAttrib(o,\"class\",null);else do{if(r[n.nodeName]){if(jl(n)||Jl(n))continue;t=n.cloneNode(!1),f.setAttrib(t,\"id\",\"\"),o.hasChildNodes()?t.appendChild(o.firstChild):i=t,o.appendChild(t)}}while((n=n.parentNode)&&n!==E);return dS(a,o),uS(i),o},h=function(e){var t,n,r=lS(e,u,i);if(In(u)&&(e?0<r:r<u.nodeValue.length))return!1;if(u.parentNode===s&&l&&!e)return!0;if(e&&An(u)&&u===s.firstChild)return!0;if(sS(u,\"TABLE\")||sS(u,\"HR\"))return l&&!e||!l&&e;var o=new Xr(u,s);for(In(u)&&(e&&0===r?o.prev():e||r!==u.nodeValue.length||o.next());t=o.current();){if(An(t)){if(!t.getAttribute(\"data-mce-bogus\")&&(n=t.nodeName.toLowerCase(),m[n]&&\"br\"!==n))return!1}else if(In(t)&&!Uo(t.nodeValue))return!1;e?o.prev():o.next()}return!0},v=function(){n=/^(H[1-6]|PRE|FIGURE)$/.test(c)&&\"HGROUP\"!==C?g(N):g(),a.getParam(\"end_container_on_empty_block\",!1)&&cS(f,o)&&f.isEmpty(s)?n=f.split(o,s):f.insertAfter(n,s),eS(a,n)};yd(f,p).each(function(e){p.setStart(e.startContainer,e.startOffset),p.setEnd(e.endContainer,e.endOffset)}),u=p.startContainer,i=p.startOffset,N=vc(a);var y=!(!e||!e.shiftKey),b=!(!e||!e.ctrlKey);An(u)&&u.hasChildNodes()&&(l=i>u.childNodes.length-1,u=u.childNodes[Math.min(i,u.childNodes.length-1)]||u,i=l&&In(u)?u.nodeValue.length:0);var C,w,x,S,N,E=fS(f,u);E&&((N&&!y||!N&&y)&&(u=function(e,t,n,r,o){var i,a,u,s,c,l,f=t||\"P\",d=e.dom,m=fS(d,r),p=d.getParent(r,d.isBlock);if(!p||!cS(d,p)){if(c=(p=p||m)===e.getBody()||(l=p)&&/^(TD|TH|CAPTION)$/.test(l.nodeName)?p.nodeName.toLowerCase():p.parentNode.nodeName.toLowerCase(),!p.hasChildNodes())return i=d.create(f),dS(e,i),p.appendChild(i),n.setStart(i,0),n.setEnd(i,0),i;for(u=r;u.parentNode!==p;)u=u.parentNode;for(;u&&!d.isBlock(u);)u=(a=u).previousSibling;if(a&&e.schema.isValidChild(c,f.toLowerCase())){for(i=d.create(f),dS(e,i),a.parentNode.insertBefore(i,a),u=a;u&&!d.isBlock(u);)s=u.nextSibling,i.appendChild(u),u=s;n.setStart(r,o),n.setEnd(r,o)}}return r}(a,N,p,u,i)),s=f.getParent(u,f.isBlock),o=s?f.getParent(s.parentNode,f.isBlock):null,c=s?s.nodeName.toUpperCase():\"\",\"LI\"!==(C=o?o.nodeName.toUpperCase():\"\")||b||(o=(s=o).parentNode,c=C),/^(LI|DT|DD)$/.test(c)&&f.isEmpty(s)?aS(a,g,o,s,N):N&&s===a.getBody()||(N=N||\"P\",vo(s)?(n=ko(s),f.isEmpty(s)&&uS(s),dS(a,n),eS(a,n)):h()?v():h(!0)?(n=s.parentNode.insertBefore(g(),s),eS(a,sS(s,\"HR\")?n:s)):((S=(x=p).cloneRange()).setStart(x.startContainer,lS(!0,x.startContainer,x.startOffset)),S.setEnd(x.endContainer,lS(!1,x.endContainer,x.endOffset)),(t=S.cloneRange()).setEndAfter(s),r=t.extractContents(),w=r,W(Yu(At.fromDom(w),Ut),function(e){var t=e.dom;t.nodeValue=po(t.nodeValue)}),function(e){for(;In(e)&&(e.nodeValue=e.nodeValue.replace(/^[\\r\\n]+/,\"\")),e=e.firstChild;);}(r),n=r.firstChild,f.insertAfter(r,s),function(e,t,n){var r,o,i,a=n,u=[];if(a){for(;a=a.firstChild;){if(e.isBlock(a))return;An(a)&&!t[a.nodeName.toLowerCase()]&&u.push(a)}for(r=u.length;r--;)!(a=u[r]).hasChildNodes()||a.firstChild===a.lastChild&&\"\"===a.firstChild.nodeValue?e.remove(a):(o=e,(i=a)&&\"A\"===i.nodeName&&o.isEmpty(i)&&e.remove(a))}}(f,m,n),function(e,t){t.normalize();var n=t.lastChild;n&&!/^(left|right)$/gi.test(e.getStyle(n,\"float\",!0))||e.add(t,\"br\")}(f,s),f.isEmpty(s)&&uS(s),n.normalize(),f.isEmpty(n)?(f.remove(n),v()):(dS(a,n),eS(a,n))),f.setAttrib(n,\"id\",\"\"),a.fire(\"NewBlock\",{newBlock:n})))},pS=function(e,t,n){var r=e.create(\"span\",{},\"&nbsp;\");n.parentNode.insertBefore(r,n),t.scrollIntoView(r),e.remove(r)},gS=function(e,t,n,r){var o=e.createRng();r?(o.setStartBefore(n),o.setEndBefore(n)):(o.setStartAfter(n),o.setEndAfter(n)),t.setRng(o)},hS=function(e,t){var n,r,o=e.selection,i=e.dom,a=o.getRng();yd(i,a).each(function(e){a.setStart(e.startContainer,e.startOffset),a.setEnd(e.endContainer,e.endOffset)});var u,s=a.startOffset,c=a.startContainer;1===c.nodeType&&c.hasChildNodes()&&(u=s>c.childNodes.length-1,c=c.childNodes[Math.min(s,c.childNodes.length-1)]||c,s=u&&3===c.nodeType?c.nodeValue.length:0);var l=i.getParent(c,i.isBlock),f=l?i.getParent(l.parentNode,i.isBlock):null,d=f?f.nodeName.toUpperCase():\"\",m=!(!t||!t.ctrlKey);\"LI\"!==d||m||(l=f),c&&3===c.nodeType&&s>=c.nodeValue.length&&!function(e,t,n){for(var r,o=new Xr(t,n),i=e.getNonEmptyElements();r=o.next();)if(i[r.nodeName.toLowerCase()]||0<r.length)return!0}(e.schema,c,l)&&(n=i.create(\"br\"),a.insertNode(n),a.setStartAfter(n),a.setEndAfter(n),r=!0),n=i.create(\"br\"),Ks(i,a,n),pS(i,o,n),gS(i,o,n,r),e.undoManager.add()},vS=function(e,t){var n=At.fromTag(\"br\");sn(At.fromDom(t),n),e.undoManager.add()},yS=function(e,t){bS(e.getBody(),t)||cn(At.fromDom(t),At.fromTag(\"br\"));var n=At.fromTag(\"br\");cn(At.fromDom(t),n),pS(e.dom,e.selection,n.dom),gS(e.dom,e.selection,n.dom,!1),e.undoManager.add()},bS=function(e,t){return n=$s.after(t),!!zn(n.getNode())||Il(e,$s.after(t)).map(function(e){return zn(e.getNode())}).getOr(!1);var n},CS=function(e){return e&&\"A\"===e.nodeName&&\"href\"in e},wS=function(e){return e.fold(C,CS,CS,C)},xS=function(e,t){t.fold(V,N(vS,e),N(yS,e),V)},SS=function(e,t){var n,r,o,i=(r=N(Ib,n=e),o=$s.fromRangeStart(n.selection.getRng()),WC(r,n.getBody(),o).filter(wS));i.isSome()?i.each(N(xS,e)):hS(e,t)},NS=function(e,t){return tS(e).filter(function(e){return 0<t.length&&Tt(At.fromDom(e),t)}).isSome()},ES=Cr([{br:[]},{block:[]},{none:[]}]),kS=function(e,t){return NS(n=e,n.getParam(\"no_newline_selector\",\"\"));var n},_S=function(n){return function(e,t){return\"\"===vc(e)===n}},AS=function(n){return function(e,t){return tS(e).filter(function(e){return io(At.fromDom(e))}).isSome()===n}},RS=function(n,r){return function(e,t){return tS(e).fold(E(\"\"),function(e){return e.nodeName.toUpperCase()})===n.toUpperCase()===r}},TS=function(e){return RS(\"pre\",e)},DS=function(n){return function(e,t){return e.getParam(\"br_in_pre\",!0)===n}},OS=function(e,t){return NS(n=e,n.getParam(\"br_newline_selector\",\".mce-toc h2,figcaption,caption\"));var n},BS=function(e,t){return t},PS=function(e){var t=vc(e),n=function(e,t){for(var n,r=e.getRoot(),o=t;o!==r&&\"false\"!==e.getContentEditable(o);)\"true\"===e.getContentEditable(o)&&(n=o),o=o.parentNode;return o!==r?n:r}(e.dom,e.selection.getStart());return n&&e.schema.isValidChild(n.nodeName,t||\"P\")},LS=function(e,t){return function(n,r){return X(e,function(e,t){return e&&t(n,r)},!0)?U.some(t):U.none()}},IS=function(e,t){return IC([LS([kS],ES.none()),LS([RS(\"summary\",!0)],ES.br()),LS([TS(!0),DS(!1),BS],ES.br()),LS([TS(!0),DS(!1)],ES.block()),LS([TS(!0),DS(!0),BS],ES.block()),LS([TS(!0),DS(!0)],ES.br()),LS([AS(!0),BS],ES.br()),LS([AS(!0)],ES.block()),LS([_S(!0),BS,PS],ES.block()),LS([_S(!0)],ES.br()),LS([OS],ES.br()),LS([_S(!1),BS],ES.br()),LS([PS],ES.block())],[e,!(!t||!t.shiftKey)]).getOr(ES.none())},MS=function(e,t){IS(e,t).fold(function(){SS(e,t)},function(){mS(e,t)},V)},FS=function(o){o.on(\"keydown\",function(e){var t,n,r;e.keyCode===ud.ENTER&&(t=o,(n=e).isDefaultPrevented()||(n.preventDefault(),(r=t.undoManager).typing&&(r.typing=!1,r.add()),t.undoManager.transact(function(){!1===t.selection.isCollapsed()&&t.execCommand(\"Delete\"),MS(t,n)})))})},US=function(r){r.on(\"keydown\",function(e){var t,n;!1===e.isDefaultPrevented()&&(t=r,n=e,Ox([{keyCode:ud.END,action:Dx(xx,t,!0)},{keyCode:ud.HOME,action:Dx(xx,t,!1)},{keyCode:ud.END,action:Dx(Lx,t,!0)},{keyCode:ud.HOME,action:Dx(Lx,t,!1)}],n).each(function(e){n.preventDefault()}))})},zS=dt().browser,jS=function(t){var e,n;e=t,n=zu(function(){e.composing||ig(e)},0),zS.isIE()&&(e.on(\"keypress\",function(e){n.throttle()}),e.on(\"remove\",function(e){n.cancel()})),t.on(\"input\",function(e){!1===e.isComposing&&ig(t)})},HS=function(n,r){var e=r.container(),t=r.offset();return In(e)?(e.insertData(t,n),U.some(Hs(e,t+n.length))):ml(r).map(function(e){var t=At.fromText(n);return(r.isAtEnd()?cn:sn)(e,t),Hs(t.dom,n.length)})},VS=N(HS,lo),qS=N(HS,\" \"),$S=function(r,o){return function(e){return t=r,(!Gp(n=e)&&(Jp(t,n)||Xp(t,n)||Yp(t,n))?VS:qS)(o);var t,n}},WS=function(e){var t,n,r=$s.fromRangeStart(e.selection.getRng()),o=At.fromDom(e.getBody());if(e.selection.isCollapsed()){var i=N(Ib,e),a=$s.fromRangeStart(e.selection.getRng());return WC(i,e.getBody(),a).bind((n=o,function(e){return e.fold(function(e){return Ml(n.dom,$s.before(e))},function(e){return Fl(e)},function(e){return Ul(e)},function(e){return Il(n.dom,$s.after(e))})})).bind($S(o,r)).exists((t=e,function(e){return t.selection.setRng(e.toRange()),t.nodeChanged(),!0}))}return!1},KS=function(r){r.on(\"keydown\",function(e){var t,n;!1===e.isDefaultPrevented()&&(t=r,n=e,Ox([{keyCode:ud.SPACEBAR,action:Dx(WS,t)}],n).each(function(e){n.preventDefault()}))})},XS=function(e){var t,n=cw(e);return(t=e).on(\"keyup compositionstart\",N(Iw,t)),Qx(e,n),Zx(e,n),FS(e),KS(e),jS(e),US(e),n},YS=(GS.prototype.nodeChanged=function(e){var t,n,r,o=this.editor.selection;this.editor.initialized&&o&&!this.editor.getParam(\"disable_nodechange\")&&!this.editor.mode.isReadOnly()&&(r=this.editor.getBody(),(t=o.getStart(!0)||r).ownerDocument===this.editor.getDoc()&&this.editor.dom.isChildOf(t,r)||(t=r),n=[],this.editor.dom.getParent(t,function(e){return e===r||void n.push(e)}),(e=e||{}).element=t,e.parents=n,this.editor.fire(\"NodeChange\",e))},GS.prototype.isSameElementPath=function(e){var t,n=this.editor.$(e).parentsUntil(this.editor.getBody()).add(e);if(n.length===this.lastPath.length){for(t=n.length;0<=t&&n[t]===this.lastPath[t];t--);if(-1===t)return this.lastPath=n,!0}return this.lastPath=n,!1},GS);function GS(r){var o;this.lastPath=[],this.editor=r;var t=this;\"onselectionchange\"in r.getDoc()||r.on(\"NodeChange click mouseup keyup focus\",function(e){var t=r.selection.getRng(),n={startContainer:t.startContainer,startOffset:t.startOffset,endContainer:t.endContainer,endOffset:t.endOffset};\"nodechange\"!==e.type&&dd(n,o)||r.fire(\"SelectionChange\"),o=n}),r.on(\"contextmenu\",function(){r.fire(\"SelectionChange\")}),r.on(\"SelectionChange\",function(){var e=r.selection.getStart(!0);!e||!wt.range&&r.selection.isCollapsed()||Vf(r)&&!t.isSameElementPath(e)&&r.dom.isChildOf(e,r.getBody())&&r.nodeChanged({selectionChange:!0})}),r.on(\"mouseup\",function(e){!e.isDefaultPrevented()&&Vf(r)&&(\"IMG\"===r.selection.getNode().nodeName?qr.setEditorTimeout(r,function(){r.nodeChanged()}):r.nodeChanged())})}var JS=function(e){var t,n;(t=e).on(\"click\",function(e){t.dom.getParent(e.target,\"details\")&&e.preventDefault()}),(n=e).parser.addNodeFilter(\"details\",function(e){W(e,function(e){e.attr(\"data-mce-open\",e.attr(\"open\")),e.attr(\"open\",\"open\")})}),n.serializer.addNodeFilter(\"details\",function(e){W(e,function(e){var t=e.attr(\"data-mce-open\");e.attr(\"open\",q(t)?t:null),e.attr(\"data-mce-open\",null)})})},QS=function(e){return An(e)&&ro(At.fromDom(e))},ZS=function(a){a.on(\"click\",function(e){var t,n,r,o,i;3<=e.detail&&(r=(t=a).selection.getRng(),o=Hs.fromRangeStart(r),i=Hs.fromRangeEnd(r),Hs.isElementPosition(o)&&(n=o.container(),QS(n)&&Fl(n).each(function(e){return r.setStart(e.container(),e.offset())})),Hs.isElementPosition(i)&&(n=o.container(),QS(n)&&Ul(n).each(function(e){return r.setEnd(e.container(),e.offset())})),t.selection.setRng(Yg(r)))})},eN=function(e){var t=e.getBoundingClientRect(),n=e.ownerDocument,r=n.documentElement,o=n.defaultView;return{top:t.top+o.pageYOffset-r.clientTop,left:t.left+o.pageXOffset-r.clientLeft}},tN=function(e,t){return n=(u=e).inline?eN(u.getBody()):{left:0,top:0},a=(i=e).getBody(),r=i.inline?{left:a.scrollLeft,top:a.scrollTop}:{left:0,top:0},{pageX:(o=function(e,t){if(t.target.ownerDocument===e.getDoc())return{left:t.pageX,top:t.pageY};var n,r,o,i,a,u=eN(e.getContentAreaContainer()),s=(r=(n=e).getBody(),o=n.getDoc().documentElement,i={left:r.scrollLeft,top:r.scrollTop},a={left:r.scrollLeft||o.scrollLeft,top:r.scrollTop||o.scrollTop},n.inline?i:a);return{left:t.pageX-u.left+s.left,top:t.pageY-u.top+s.top}}(e,t)).left-n.left+r.left,pageY:o.top-n.top+r.top};var n,r,o,i,a,u},nN=Vn,rN=Hn,oN=function(e){e&&e.parentNode&&e.parentNode.removeChild(e)},iN=function(u,s){return function(e){var t,n,r,o,i,a;0===e.button&&(t=Y(s.dom.getParents(e.target),function(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];return function(e){for(var t=0;t<n.length;t++)if(n[t](e))return!0;return!1}}(nN,rN)).getOr(null),i=s.getBody(),nN(a=t)&&a!==i&&(n=s.dom.getPos(t),r=s.getBody(),o=s.getDoc().documentElement,u.set({element:t,dragging:!1,screenX:e.screenX,screenY:e.screenY,maxX:(s.inline?r.scrollWidth:o.offsetWidth)-2,maxY:(s.inline?r.scrollHeight:o.offsetHeight)-2,relX:e.pageX-n.x,relY:e.pageY-n.y,width:t.offsetWidth,height:t.offsetHeight,ghost:function(e,t,n,r){var o=e.dom,i=t.cloneNode(!0);o.setStyles(i,{width:n,height:r}),o.setAttrib(i,\"data-mce-selected\",null);var a=o.create(\"div\",{\"class\":\"mce-drag-container\",\"data-mce-bogus\":\"all\",unselectable:\"on\",contenteditable:\"false\"});return o.setStyles(a,{position:\"absolute\",opacity:.5,overflow:\"hidden\",border:0,padding:0,margin:0,width:n,height:r}),o.setStyles(i,{margin:0,boxSizing:\"border-box\"}),a.appendChild(i),a}(s,t,t.offsetWidth,t.offsetHeight)})))}},aN=function(e,h){var v=qr.throttle(function(e,t){h._selectionOverrides.hideFakeCaret(),h.selection.placeCaretAt(e,t)},0);return h.on(\"remove\",v.stop),function(g){return e.on(function(e){var t,n,r,o,i,a,u,s,c,l,f,d,m,p=Math.max(Math.abs(g.screenX-e.screenX),Math.abs(g.screenY-e.screenY));if(!e.dragging&&10<p){if(h.fire(\"dragstart\",{target:e.element}).isDefaultPrevented())return;e.dragging=!0,h.focus()}e.dragging&&(d=e,t={pageX:(m=tN(h,g)).pageX-d.relX,pageY:m.pageY+5},l=e.ghost,f=h.getBody(),l.parentNode!==f&&f.appendChild(l),n=e.ghost,r=t,o=e.width,i=e.height,a=e.maxX,u=e.maxY,c=s=0,n.style.left=r.pageX+\"px\",n.style.top=r.pageY+\"px\",r.pageX+o>a&&(s=r.pageX+o-a),r.pageY+i>u&&(c=r.pageY+i-u),n.style.width=o-s+\"px\",n.style.height=i-c+\"px\",v(g.clientX,g.clientY))})}},uN=function(e,l){return function(c){e.on(function(e){var t,n,r,o,i,a,u,s;e.dragging&&(u=(o=l).selection,s=u.getSel().getRangeAt(0).startContainer,i=3===s.nodeType?s.parentNode:s,a=e.element,i===a||o.dom.isChildOf(i,a)||nN(i)||(n=e.element,(r=n.cloneNode(!0)).removeAttribute(\"data-mce-selected\"),t=r,l.fire(\"drop\",{clientX:c.clientX,clientY:c.clientY}).isDefaultPrevented()||l.undoManager.transact(function(){oN(e.element),l.insertContent(l.dom.getOuterHTML(t)),l._selectionOverrides.hideFakeCaret()})))}),sN(e)}},sN=function(e){e.on(function(e){oN(e.ghost)}),e.clear()},cN=function(e){var t,n,r,o=(t=Ou(U.none()),{clear:function(){return t.set(U.none())},set:function(e){return t.set(U.some(e))},isSet:function(){return t.get().isSome()},on:function(e){return t.get().each(e)}}),i=Eu.DOM,a=document,u=iN(o,e),s=aN(o,e),c=uN(o,e),l=(n=o,function(){n.on(function(e){e.dragging&&r.fire(\"dragend\")}),sN(n)});(r=e).on(\"mousedown\",u),e.on(\"mousemove\",s),e.on(\"mouseup\",c),i.bind(a,\"mousemove\",s),i.bind(a,\"mouseup\",l),e.on(\"remove\",function(){i.unbind(a,\"mousemove\",s),i.unbind(a,\"mouseup\",l)})},lN=function(e){var n,i,a,u,t;cN(e),(n=e).on(\"drop\",function(e){var t=\"undefined\"!=typeof e.clientX?n.getDoc().elementFromPoint(e.clientX,e.clientY):null;!nN(t)&&\"false\"!==n.dom.getContentEditableParent(t)||e.preventDefault()}),e.getParam(\"block_unsupported_drop\",!0,\"boolean\")&&(a=function(e){var t;e.defaultPrevented||(t=e.dataTransfer)&&(M(t.types,\"Files\")||0<t.files.length)&&(e.preventDefault(),\"drop\"===e.type&&cb(i,\"Dropped file type is not supported\"))},u=function(e){vm(i,e.target)&&a(e)},t=function(){var t=Eu.DOM,n=i.dom,r=document,o=i.inline?i.getBody():i.getDoc(),e=[\"drop\",\"dragover\"];W(e,function(e){t.bind(r,e,u),n.bind(o,e,a)}),i.on(\"remove\",function(){W(e,function(e){t.unbind(r,e,u),n.unbind(o,e,a)})})},(i=e).on(\"init\",function(){qr.setEditorTimeout(i,t,0)}))},fN=Hn,dN=Vn,mN=function(e,t){return id(e.getBody(),t)},pN=function(u){var s,c=u.selection,l=u.dom,f=l.isBlock,d=u.getBody(),m=qc(u,d,f,function(){return Em(u)}),p=\"sel-\"+l.uniqueId(),i=\"data-mce-selected\",g=function(e){return e!==d&&(dN(e)||$n(e))&&l.isChildOf(e,d)},h=function(e){e&&c.setRng(e)},r=c.getRng,v=function(e,t,n,r){return void 0===r&&(r=!0),u.fire(\"ShowCaret\",{target:t,direction:e,before:n}).isDefaultPrevented()?null:(r&&c.scrollIntoView(t,-1===e),m.show(n,t))},t=function(e){return bo(e)||No(e)||Eo(e)},y=function(e){return t(e.startContainer)||t(e.endContainer)},b=function(e){var t=u.schema.getShortEndedElements(),n=l.createRng(),r=e.startContainer,o=e.startOffset,i=e.endContainer,a=e.endOffset;return he(t,r.nodeName.toLowerCase())?0===o?n.setStartBefore(r):n.setStartAfter(r):n.setStart(r,o),he(t,i.nodeName.toLowerCase())?0===a?n.setEndBefore(i):n.setEndAfter(i):n.setEnd(i,a),n},C=function(e){var t=e.cloneNode(!0),n=u.fire(\"ObjectSelected\",{target:e,targetClone:t});if(n.isDefaultPrevented())return null;var r=function(e,t,n){var r=u.$,o=Dr(At.fromDom(u.getBody()),\"#\"+p).fold(function(){return r([])},function(e){return r([e.dom])});0===o.length&&(o=r('<div data-mce-bogus=\"all\" class=\"mce-offscreen-selection\"></div>').attr(\"id\",p)).appendTo(u.getBody());var i=l.createRng();t===n&&wt.ie?(o.empty().append('<p style=\"font-size: 0\" data-mce-bogus=\"all\">\\xa0</p>').append(t),i.setStartAfter(o[0].firstChild.firstChild),i.setEndAfter(t)):(o.empty().append(lo).append(t).append(lo),i.setStart(o[0].firstChild,1),i.setEnd(o[0].lastChild,0)),o.css({top:l.getPos(e,u.getBody()).y}),o[0].focus();var a=c.getSel();return a.removeAllRanges(),a.addRange(i),i}(e,n.targetClone,t),o=At.fromDom(e);return W(Gu(At.fromDom(u.getBody()),\"*[data-mce-selected]\"),function(e){Ot(o,e)||Qn(e,i)}),l.getAttrib(e,i)||e.setAttribute(i,\"1\"),s=e,S(),r},w=function(e,t){if(!e)return null;if(e.collapsed){if(!y(e)){var n=t?1:-1,r=dl(n,d,e),o=r.getNode(!t);if(Kc(o))return v(n,o,!!t&&!r.isAtEnd(),!1);var i=r.getNode(t);if(Kc(i))return v(n,i,!t&&!r.isAtEnd(),!1)}return null}var a=e.startContainer,u=e.startOffset,s=e.endOffset;if(3===a.nodeType&&0===u&&dN(a.parentNode)&&(a=a.parentNode,u=l.nodeIndex(a),a=a.parentNode),1!==a.nodeType)return null;if(s===u+1&&a===e.endContainer){var c=a.childNodes[u];if(g(c))return C(c)}return null},x=function(){s&&s.removeAttribute(i),Dr(At.fromDom(u.getBody()),\"#\"+p).each(pn),s=null},S=function(){m.hide()};return wt.ceFalse&&function(){u.on(\"mouseup\",function(e){var t=r();t.collapsed&&nb(u,e.clientX,e.clientY)&&lC(u,t,!1).each(h)}),u.on(\"click\",function(e){var t=mN(u,e.target);t&&(dN(t)&&(e.preventDefault(),u.focus()),fN(t)&&l.isChildOf(t,c.getNode())&&x())}),u.on(\"blur NewBlock\",x),u.on(\"ResizeWindow FullscreenStateChanged\",m.reposition);var a=function(e){var t=_l(e);if(!e.firstChild)return!1;var n,r=$s.before(e.firstChild),o=t.next(r);return o&&!(Np(n=o)||Ep(n)||Cp(n)||wp(n))},i=function(e,t){var n,r,o=l.getParent(e,f),i=l.getParent(t,f);return!(!o||e===i||!l.isChildOf(o,i)||!1!==dN(mN(u,o)))||o&&(n=o,r=i,!(l.getParent(n,f)===l.getParent(r,f)))&&a(o)};u.on(\"tap\",function(e){var t=e.target,n=mN(u,t);dN(n)?(e.preventDefault(),cC(u,n).each(w)):g(t)&&cC(u,t).each(w)},!0),u.on(\"mousedown\",function(e){var t,n,r,o=e.target;o!==d&&\"HTML\"!==o.nodeName&&!l.isChildOf(o,d)||!1===nb(u,e.clientX,e.clientY)||((t=mN(u,o))?dN(t)?(e.preventDefault(),cC(u,t).each(w)):(x(),fN(t)&&e.shiftKey||ad(e.clientX,e.clientY,c.getRng())||(S(),c.placeCaretAt(e.clientX,e.clientY))):g(o)?cC(u,o).each(w):!1===Kc(o)&&(x(),S(),(n=cx(d,e.clientX,e.clientY))&&(i(o,n.node)||(e.preventDefault(),r=v(1,n.node,n.before,!1),u.getBody().focus(),h(r)))))}),u.on(\"keypress\",function(e){ud.modifierPressed(e)||dN(c.getNode())&&e.preventDefault()}),u.on(\"GetSelectionRange\",function(e){var t=e.range;if(s){if(!s.parentNode)return void(s=null);(t=t.cloneRange()).selectNode(s),e.range=t}}),u.on(\"SetSelectionRange\",function(e){e.range=b(e.range);var t=w(e.range,e.forward);t&&(e.range=t)});var n,e,o;u.on(\"AfterSetSelectionRange\",function(e){var t,n=e.range,r=n.startContainer.parentNode;y(n)||\"mcepastebin\"===r.id||S(),t=r,l.hasClass(t,\"mce-offscreen-selection\")||x()}),u.on(\"copy\",function(e){var t,n,r=e.clipboardData;e.isDefaultPrevented()||!e.clipboardData||wt.ie||(t=(n=l.get(p))?n.getElementsByTagName(\"*\")[0]:n)&&(e.preventDefault(),r.clearData(),r.setData(\"text/html\",t.outerHTML),r.setData(\"text/plain\",t.outerText||t.innerText))}),lN(u),e=zu(function(){var e,t;n.removed||!n.getBody().contains(document.activeElement)||(e=n.selection.getRng()).collapsed&&(t=fC(n,e,!1),n.selection.setRng(t))},0),(n=u).on(\"focus\",function(){e.throttle()}),n.on(\"blur\",function(){e.cancel()}),(o=u).on(\"init\",function(){o.on(\"focusin\",function(e){var t,n,r=e.target;$n(r)&&(t=id(o.getBody(),r),n=Vn(t)?t:r,o.selection.getNode()!==n&&cC(o,n).each(function(e){return o.selection.setRng(e)}))})})}(),{showCaret:v,showBlockCaretContainer:function(e){e.hasAttribute(\"data-mce-caret\")&&(ko(e),h(r()),c.scrollIntoView(e))},hideFakeCaret:S,destroy:function(){m.destroy(),s=null}}},gN=function(u){var s,n,r,o=kt.each,c=ud.BACKSPACE,l=ud.DELETE,f=u.dom,d=u.selection,e=u.parser,t=wt.gecko,i=wt.ie,a=wt.webkit,m=\"data:text/mce-internal,\",p=i?\"Text\":\"URL\",g=function(e,t){try{u.getDoc().execCommand(e,!1,t)}catch(n){}},h=function(e){return e.isDefaultPrevented()},v=function(){u.shortcuts.add(\"meta+a\",null,\"SelectAll\")},y=function(){u.on(\"keydown\",function(e){if(!h(e)&&e.keyCode===c&&d.isCollapsed()&&0===d.getRng().startOffset){var t=d.getNode().previousSibling;if(t&&t.nodeName&&\"table\"===t.nodeName.toLowerCase())return e.preventDefault(),!1}})},b=function(){u.inline||(u.contentStyles.push(\"body {min-height: 150px}\"),u.on(\"click\",function(e){var t;if(\"HTML\"===e.target.nodeName){if(11<wt.ie)return void u.getBody().focus();t=u.selection.getRng(),u.getBody().focus(),u.selection.setRng(t),u.selection.normalize(),u.nodeChanged()}}))};return u.on(\"keydown\",function(e){var t;if(!h(e)&&e.keyCode===ud.BACKSPACE){var n=(t=d.getRng()).startContainer,r=t.startOffset,o=f.getRoot(),i=n;if(t.collapsed&&0===r){for(;i&&i.parentNode&&i.parentNode.firstChild===i&&i.parentNode!==o;)i=i.parentNode;\"BLOCKQUOTE\"===i.tagName&&(u.formatter.toggle(\"blockquote\",null,i),(t=f.createRng()).setStart(n,0),t.setEnd(n,0),d.setRng(t))}}}),s=function(e){var t=f.create(\"body\"),n=e.cloneContents();return t.appendChild(n),d.serializer.serialize(t,{format:\"html\"})},u.on(\"keydown\",function(e){var t,n,r,o,i,a=e.keyCode;if(!h(e)&&(a===l||a===c)){if(t=u.selection.isCollapsed(),n=u.getBody(),t&&!f.isEmpty(n))return;if(!t&&(r=u.selection.getRng(),o=s(r),(i=f.createRng()).selectNode(u.getBody()),o!==s(i)))return;e.preventDefault(),u.setContent(\"\"),n.firstChild&&f.isBlock(n.firstChild)?u.selection.setCursorLocation(n.firstChild,0):u.selection.setCursorLocation(n,0),u.nodeChanged()}}),wt.windowsPhone||u.on(\"keyup focusin mouseup\",function(e){ud.modifierPressed(e)||d.normalize()},!0),a&&(u.inline||f.bind(u.getDoc(),\"mousedown mouseup\",function(e){var t;if(e.target===u.getDoc().documentElement)if(t=d.getRng(),u.getBody().focus(),\"mousedown\"===e.type){if(bo(t.startContainer))return;d.placeCaretAt(e.clientX,e.clientY)}else d.setRng(t)}),u.on(\"click\",function(e){var t=e.target;/^(IMG|HR)$/.test(t.nodeName)&&\"false\"!==f.getContentEditableParent(t)&&(e.preventDefault(),u.selection.select(t),u.nodeChanged()),\"A\"===t.nodeName&&f.hasClass(t,\"mce-item-anchor\")&&(e.preventDefault(),d.select(t))}),vc(u)&&u.on(\"init\",function(){g(\"DefaultParagraphSeparator\",vc(u))}),u.on(\"init\",function(){u.dom.bind(u.getBody(),\"submit\",function(e){e.preventDefault()})}),y(),e.addNodeFilter(\"br\",function(e){for(var t=e.length;t--;)\"Apple-interchange-newline\"===e[t].attr(\"class\")&&e[t].remove()}),wt.iOS?(u.inline||u.on(\"keydown\",function(){document.activeElement===document.body&&u.getWin().focus()}),b(),u.on(\"click\",function(e){var t=e.target;do{if(\"A\"===t.tagName)return void e.preventDefault()}while(t=t.parentNode)}),u.contentStyles.push(\".mce-content-body {-webkit-touch-callout: none}\")):v()),11<=wt.ie&&(b(),y()),wt.ie&&(v(),g(\"AutoUrlDetect\",!1),u.on(\"dragstart\",function(e){var t,n,r;(t=e).dataTransfer&&(u.selection.isCollapsed()&&\"IMG\"===t.target.tagName&&d.select(t.target),0<(n=u.selection.getContent()).length&&(r=m+escape(u.id)+\",\"+escape(n),t.dataTransfer.setData(p,r)))}),u.on(\"drop\",function(e){var t,n,r,o,i,a;h(e)||(t=(i=e).dataTransfer&&(a=i.dataTransfer.getData(p))&&0<=a.indexOf(m)?(a=a.substr(m.length).split(\",\"),{id:unescape(a[0]),html:unescape(a[1])}):null)&&t.id!==u.id&&(e.preventDefault(),n=fd(e.x,e.y,u.getDoc()),d.setRng(n),r=t.html,o=!0,u.queryCommandSupported(\"mceInsertClipboardContent\")?u.execCommand(\"mceInsertClipboardContent\",!1,{content:r,internal:o}):u.execCommand(\"mceInsertContent\",!1,r))})),t&&(u.on(\"keydown\",function(e){if(!h(e)&&e.keyCode===c){if(!u.getBody().getElementsByTagName(\"hr\").length)return;if(d.isCollapsed()&&0===d.getRng().startOffset){var t=d.getNode(),n=t.previousSibling;if(\"HR\"===t.nodeName)return f.remove(t),void e.preventDefault();n&&n.nodeName&&\"hr\"===n.nodeName.toLowerCase()&&(f.remove(n),e.preventDefault())}}}),Range.prototype.getClientRects||u.on(\"mousedown\",function(e){var t;h(e)||\"HTML\"!==e.target.nodeName||((t=u.getBody()).blur(),qr.setEditorTimeout(u,function(){t.focus()}))}),n=function(){var e=f.getAttribs(d.getStart().cloneNode(!1));return function(){var t=d.getStart();t!==u.getBody()&&(f.setAttrib(t,\"style\",null),o(e,function(e){t.setAttributeNode(e.cloneNode(!0))}))}},r=function(){return!d.isCollapsed()&&f.getParent(d.getStart(),f.isBlock)!==f.getParent(d.getEnd(),f.isBlock)},u.on(\"keypress\",function(e){var t;if(!h(e)&&(8===e.keyCode||46===e.keyCode)&&r())return t=n(),u.getDoc().execCommand(\"delete\",!1,null),t(),e.preventDefault(),!1}),f.bind(u.getDoc(),\"cut\",function(e){var t;!h(e)&&r()&&(t=n(),qr.setEditorTimeout(u,function(){t()}))}),u.getParam(\"readonly\")||u.on(\"BeforeExecCommand mousedown\",function(){g(\"StyleWithCSS\",!1),g(\"enableInlineTableEditing\",!1),Nc(u)||g(\"enableObjectResizing\",!1)}),u.on(\"SetContent ExecCommand\",function(e){\"setcontent\"!==e.type&&\"mceInsertLink\"!==e.command||o(f.select(\"a\"),function(e){var t=e.parentNode,n=f.getRoot();if(t.lastChild===e){for(;t&&!f.isBlock(t);){if(t.parentNode.lastChild!==t||t===n)return;t=t.parentNode}f.add(t,\"br\",{\"data-mce-bogus\":1})}})}),u.contentStyles.push(\"img:-moz-broken {-moz-force-broken-image-icon:1;min-width:24px;min-height:24px}\"),wt.mac&&u.on(\"keydown\",function(e){!ud.metaKeyPressed(e)||e.shiftKey||37!==e.keyCode&&39!==e.keyCode||(e.preventDefault(),u.selection.getSel().modify(\"move\",37===e.keyCode?\"backward\":\"forward\",\"lineboundary\"))}),y()),{refreshContentEditable:function(){},isHidden:function(){if(!t||u.removed)return!1;var e=u.selection.getSel();return!e||!e.rangeCount||0===e.rangeCount}}},hN=Eu.DOM,vN=function(e){return me(e,function(e){return!1===R(e)})},yN=function(e){var t,n=e.settings,r=e.editorUpload.blobCache;return vN({allow_conditional_comments:n.allow_conditional_comments,allow_html_data_urls:n.allow_html_data_urls,allow_svg_data_urls:n.allow_svg_data_urls,allow_html_in_named_anchor:n.allow_html_in_named_anchor,allow_script_urls:n.allow_script_urls,allow_unsafe_link_target:n.allow_unsafe_link_target,convert_fonts_to_spans:n.convert_fonts_to_spans,fix_list_elements:n.fix_list_elements,font_size_legacy_values:n.font_size_legacy_values,forced_root_block:n.forced_root_block,forced_root_block_attrs:n.forced_root_block_attrs,padd_empty_with_br:n.padd_empty_with_br,preserve_cdata:n.preserve_cdata,remove_trailing_brs:n.remove_trailing_brs,inline_styles:n.inline_styles,root_name:(t=e).inline?t.getElement().nodeName.toLowerCase():undefined,validate:!0,blob_cache:r,images_dataimg_filter:n.images_dataimg_filter})},bN=function(u){var e=u.dom.getRoot();u.inline||Vf(u)&&u.selection.getStart(!0)!==e||Fl(e).each(function(e){var t,n,r,o,i=e.getNode(),a=Bn(i)?Fl(i).getOr(e):e;wt.browser.isIE()?(t=u,n=a.toRange(),r=At.fromDom(t.getBody()),o=(um(t)?U.from(n):U.none()).map(sm).filter(am(r)),t.bookmark=o.isSome()?o:t.bookmark):u.selection.setRng(a.toRange())})},CN=function(e){var t;e.bindPendingEventDelegates(),e.initialized=!0,e.fire(\"Init\"),e.focus(!0),bN(e),e.nodeChanged({initial:!0}),e.execCallback(\"init_instance_callback\",e),(t=e).settings.auto_focus&&qr.setEditorTimeout(t,function(){var e=!0===t.settings.auto_focus?t:t.editorManager.get(t.settings.auto_focus);e.destroyed||e.focus()},100)},wN=function(t,e){var n=t.settings,r=t.getDoc(),o=t.getBody();n.browser_spellcheck||n.gecko_spellcheck||(r.body.spellcheck=!1,hN.setAttrib(o,\"spellcheck\",\"false\")),t.quirks=gN(t),t.fire(\"PostRender\");var i,a,u,s,c,l,f,d,m,p,g,h=t.getParam(\"directionality\",Iu.isRtl()?\"rtl\":undefined);h!==undefined&&(o.dir=h),n.protect&&t.on(\"BeforeSetContent\",function(t){kt.each(n.protect,function(e){t.content=t.content.replace(e,function(e){return\"\\x3c!--mce:protected \"+escape(e)+\"--\\x3e\"})})}),t.on(\"SetContent\",function(){t.addVisual(t.getBody())}),!1===e&&t.load({initial:!0,format:\"html\"}),t.startContent=t.getContent({format:\"raw\"}),t.on(\"compositionstart compositionend\",function(e){t.composing=\"compositionstart\"===e.type}),0<t.contentStyles.length&&(i=\"\",kt.each(t.contentStyles,function(e){i+=e+\"\\r\\n\"}),t.dom.addStyle(i)),u=(a=t).contentCSS,c=(s=a).inline?s.ui.styleSheetLoader:s.dom.styleSheetLoader,l=function(){a.on(\"remove\",function(){return c.unloadAll(u)}),CN(a)},c.loadAll(u,l,l),n.content_style&&(f=t,d=n.content_style,m=At.fromDom(f.getBody()),p=on(rn(m)),g=At.fromTag(\"style\"),Xn(g,\"type\",\"text/css\"),fn(g,At.fromText(d)),fn(p,g),f.on(\"remove\",function(){pn(g)}))},xN=function(t,e){var n=t.settings,r=t.getElement(),o=t.getDoc();n.inline||(t.getElement().style.visibility=t.orgVisibility),e||t.inline||(o.open(),o.write(t.iframeHTML),o.close()),t.inline&&(hN.addClass(r,\"mce-content-body\"),t.contentDocument=o=document,t.contentWindow=window,t.bodyElement=r,t.contentAreaContainer=r);var u,i,a,s,c=t.getBody();c.disabled=!0,t.readonly=!!n.readonly,t.readonly||(t.inline&&\"static\"===hN.getStyle(c,\"position\",!0)&&(c.style.position=\"relative\"),c.contentEditable=t.getParam(\"content_editable_state\",!0)),c.disabled=!1,t.editorUpload=yb(t),t.schema=Ci(n),t.dom=Eu(o,{keep_values:!0,url_converter:t.convertURL,url_converter_scope:t,hex_colors:n.force_hex_style_colors,update_styles:!0,root_element:t.inline?t.getBody():null,collect:function(){return t.inline},schema:t.schema,contentCssCors:t.getParam(\"content_css_cors\",!1,\"boolean\"),referrerPolicy:wc(t),onSetAttrib:function(e){t.fire(\"SetAttrib\",e)}}),t.parser=((i=by(yN(u=t),u.schema)).addAttributeFilter(\"src,href,style,tabindex\",function(e,t){for(var n,r,o=e.length,i=u.dom,a=\"data-mce-\"+t;o--;)if((r=(n=e[o]).attr(t))&&!n.attr(a)){if(0===r.indexOf(\"data:\")||0===r.indexOf(\"blob:\"))continue;\"style\"===t?((r=i.serializeStyle(i.parseStyle(r),n.name)).length||(r=null),n.attr(a,r),n.attr(t,r)):\"tabindex\"===t?(n.attr(a,r),n.attr(t,null)):n.attr(a,u.convertURL(r,t,n.name))}}),i.addNodeFilter(\"script\",function(e){for(var t=e.length;t--;){var n=e[t],r=n.attr(\"type\")||\"no/type\";0!==r.indexOf(\"mce-\")&&n.attr(\"type\",\"mce-\"+r)}}),u.settings.preserve_cdata&&i.addNodeFilter(\"#cdata\",function(e){for(var t=e.length;t--;){var n=e[t];n.type=8,n.name=\"#comment\",n.value=\"[CDATA[\"+u.dom.encode(n.value)+\"]]\"}}),i.addNodeFilter(\"p,h1,h2,h3,h4,h5,h6,div\",function(e){for(var t=e.length,n=u.schema.getNonEmptyElements();t--;){var r=e[t];r.isEmpty(n)&&0===r.getAll(\"br\").length&&(r.append(new Km(\"br\",1)).shortEnded=!0)}}),i),t.serializer=Ny((s=(a=t).settings,ke(ke({},yN(a)),vN({url_converter:s.url_converter,url_converter_scope:s.url_converter_scope,element_format:s.element_format,entities:s.entities,entity_encoding:s.entity_encoding,indent:s.indent,indent_after:s.indent_after,indent_before:s.indent_before,block_elements:s.block_elements,boolean_attributes:s.boolean_attributes,custom_elements:s.custom_elements,extended_valid_elements:s.extended_valid_elements,invalid_elements:s.invalid_elements,invalid_styles:s.invalid_styles,move_caret_before_on_enter_elements:s.move_caret_before_on_enter_elements,non_empty_elements:s.non_empty_elements,schema:s.schema,self_closing_elements:s.self_closing_elements,short_ended_elements:s.short_ended_elements,special:s.special,text_block_elements:s.text_block_elements,text_inline_elements:s.text_inline_elements,valid_children:s.valid_children,valid_classes:s.valid_classes,valid_elements:s.valid_elements,valid_styles:s.valid_styles,verify_html:s.verify_html,whitespace_elements:s.whitespace_elements}))),t),t.selection=Qv(t.dom,t.getWin(),t.serializer,t),t.annotator=td(t),t.formatter=_b(t),t.undoManager=Rb(t),t._nodeChangeDispatcher=new YS(t),t._selectionOverrides=pN(t),Ow(t),JS(t),Hv(t)||ZS(t);var l,f,d,m,p=Hv(l=t)?Ou(null):XS(l);Tw(t,p),vc(f=t)&&f.on(\"NodeChange\",N(Pw,f)),Pb(t),t.fire(\"PreInit\"),ge((m=d=t).plugins,\"rtc\").fold(function(){return m.rtcInstance=zv(d),U.none()},function(e){return U.some(e.setup().then(function(e){return m.rtcInstance=jv(d,e),e.isRemote}))}).fold(function(){wN(t,!1)},function(e){t.setProgressState(!0),e.then(function(e){t.setProgressState(!1),wN(t,e)})})},SN=Eu.DOM,NN=function(e){var t=e.getParam(\"doctype\",\"<!DOCTYPE html>\")+\"<html><head>\";e.getParam(\"document_base_url\",\"\")!==e.documentBaseUrl&&(t+='<base href=\"'+e.documentBaseURI.getURI()+'\" />'),t+='<meta http-equiv=\"Content-Type\" content=\"text/html; charset=UTF-8\" />';var n=gc(e,\"body_id\",\"tinymce\"),r=gc(e,\"body_class\",\"\");return hc(e)&&(t+='<meta http-equiv=\"Content-Security-Policy\" content=\"'+hc(e)+'\" />'),t+='</head><body id=\"'+n+'\" class=\"mce-content-body '+r+'\" data-id=\"'+e.id+'\"><br></body></html>'},EN=function(e,t){var n,r,o,i,a=e.editorManager.translate(\"Rich Text Area. Press ALT-0 for help.\"),u=(n=e.id,r=a,t.height,o=e.getParam(\"iframe_attrs\",{}),i=At.fromTag(\"iframe\"),Yn(i,o),Yn(i,{id:n+\"_ifr\",frameBorder:\"0\",allowTransparency:\"true\",title:r}),Wu(i,\"tox-edit-area__iframe\"),i.dom);u.onload=function(){u.onload=null,e.fire(\"load\")};var s=function(e,t){if(document.domain!==window.location.hostname&&wt.browser.isIE()){var n=vb(\"mce\");e[n]=function(){xN(e)};var r='javascript:(function(){document.open();document.domain=\"'+document.domain+'\";var ed = window.parent.tinymce.get(\"'+e.id+'\");document.write(ed.iframeHTML);document.close();ed.'+n+\"(true);})()\";return SN.setAttrib(t,\"src\",r),!0}return!1}(e,u);return e.contentAreaContainer=t.iframeContainer,e.iframeElement=u,e.iframeHTML=NN(e),SN.add(t.iframeContainer,u),s},kN=Eu.DOM,_N=function(t,n,e){var r=ib.get(e),o=ib.urls[e]||t.documentBaseUrl.replace(/\\/$/,\"\");if(e=kt.trim(e),r&&-1===kt.inArray(n,e)){if(kt.each(ib.dependencies(e),function(e){_N(t,n,e)}),t.plugins[e])return;try{var i=new r(t,o,t.$);(t.plugins[e]=i).init&&(i.init(t,o),n.push(e))}catch(Ok){!function(e,t,n){var r=Iu.translate([\"Failed to initialize plugin: {0}\",t]);mb(r,n),cb(e,r)}(t,e,Ok)}}},AN=function(e){return e.replace(/^\\-/,\"\")},RN=function(e){return{editorContainer:e,iframeContainer:e,api:{}}},TN=function(e){var t,n,r=e.getElement();return e.inline?RN(null):(t=r,n=kN.create(\"div\"),kN.insertAfter(n,t),RN(n))},DN=function(e){var t,n,r,o=e.getElement();return e.orgDisplay=o.style.display,q(kc(e))?e.theme.renderUI():T(kc(e))?(n=(t=e).getElement(),(r=kc(t)(t,n)).editorContainer.nodeType&&(r.editorContainer.id=r.editorContainer.id||t.id+\"_parent\"),r.iframeContainer&&r.iframeContainer.nodeType&&(r.iframeContainer.id=r.iframeContainer.id||t.id+\"_iframecontainer\"),r.height=r.iframeHeight?r.iframeHeight:n.offsetHeight,r):TN(e)},ON=function(e){var n,t,r,o,i,a,u,s,c;e.fire(\"ScriptsLoaded\"),n=e,t=kt.trim(Cc(n)),r=n.ui.registry.getAll().icons,o=ke(ke({},Yy.get(\"default\").icons),Yy.get(t).icons),ue(o,function(e,t){he(r,t)||n.ui.registry.addIcon(t,e)}),u=kc(i=e),q(u)?(i.settings.theme=AN(u),a=ab.get(u),i.theme=new a(i,ab.urls[u]),i.theme.init&&i.theme.init(i,ab.urls[u]||i.documentBaseUrl.replace(/\\/$/,\"\"),i.$)):i.theme={},s=e,c=[],kt.each(Ac(s).split(/[ ,]/),function(e){_N(s,c,AN(e))});var l,f,d,m=DN(e);l=e,f=U.from(m.api).getOr({}),d={show:U.from(f.show).getOr(V),hide:U.from(f.hide).getOr(V),disable:U.from(f.disable).getOr(V),isDisabled:U.from(f.isDisabled).getOr(C),enable:function(){l.mode.isReadOnly()||U.from(f.enable).map(b)}},l.ui=ke(ke({},l.ui),d);var p,g,h,v,y={editorContainer:m.editorContainer,iframeContainer:m.iframeContainer};return e.editorContainer=y.editorContainer?y.editorContainer:null,(p=e).contentCSS=p.contentCSS.concat(pb(p)),e.inline?xN(e):(v=EN(g=e,h=y),h.editorContainer&&(SN.get(h.editorContainer).style.display=g.orgDisplay,g.hidden=SN.isHidden(h.editorContainer)),g.getElement().style.display=\"none\",SN.setAttrib(g.id,\"aria-hidden\",\"true\"),void(v||xN(g)))},BN=Eu.DOM,PN=function(e){return\"-\"===e.charAt(0)},LN=function(e,t){var n,r=xc(t),o=t.getParam(\"language_url\",\"\",\"string\");!1===Iu.hasCode(r)&&\"en\"!==r&&(n=\"\"!==o?o:t.editorManager.baseURL+\"/langs/\"+r+\".js\",e.add(n,V,undefined,function(){lb(t,\"LanguageLoadError\",fb(\"language\",n,r))}))},IN=function(t,e,n){return U.from(e).filter(function(e){return 0<e.length&&!Yy.has(e)}).map(function(e){return{url:t.editorManager.baseURL+\"/icons/\"+e+\"/icons\"+n+\".js\",name:U.some(e)}})},MN=function(e,o,t){var n,r=IN(o,\"default\",t),i=(n=o,U.from(n.getParam(\"icons_url\",\"\",\"string\")).filter(function(e){return 0<e.length}).map(function(e){return{url:e,name:U.none()}}).orThunk(function(){return IN(o,Cc(o),\"\")}));W(function(e){for(var t=[],n=function(e){t.push(e)},r=0;r<e.length;r++)e[r].each(n);return t}([r,i]),function(r){e.add(r.url,V,undefined,function(){var e,t,n;e=o,t=r.url,n=r.name.getOrUndefined(),lb(e,\"IconsLoadError\",fb(\"icons\",t,n))})})},FN=function(e,t){var n,r,o,i,a,u,s=Ru.ScriptLoader;n=s,o=t,i=function(){var r,o;LN(s,e),MN(s,e,t),r=e,o=t,kt.each(r.getParam(\"external_plugins\"),function(e,t){ib.load(t,e,V,undefined,function(){db(r,e,t)}),r.settings.plugins+=\" \"+t}),kt.each(Ac(r).split(/[ ,]/),function(e){var t,n;(e=kt.trim(e))&&!ib.urls[e]&&(PN(e)?(e=e.substr(1,e.length),t=ib.dependencies(e),kt.each(t,function(e){var t={prefix:\"plugins/\",resource:e,suffix:\"/plugin\"+o+\".js\"},n=ib.createUrl(t,e);ib.load(n.resource,n,V,undefined,function(){db(r,n.prefix+n.resource+n.suffix,n.resource)})})):(n={prefix:\"plugins/\",resource:e,suffix:\"/plugin\"+o+\".js\"},ib.load(e,n,V,undefined,function(){db(r,n.prefix+n.resource+n.suffix,e)})))}),s.loadQueue(function(){e.removed||ON(e)},e,function(){e.removed||ON(e)})},u=kc(r=e),q(u)?(PN(u)||ab.urls.hasOwnProperty(u)||((a=r.getParam(\"theme_url\"))?ab.load(u,r.documentBaseURI.toAbsolute(a)):ab.load(u,\"themes/\"+u+\"/theme\"+o+\".js\")),n.loadQueue(function(){ab.waitFor(u,i)})):i()},UN=function(t){var e=t.id;Iu.setCode(xc(t));var n,r,o,i,a,u=function(){BN.unbind(window,\"ready\",u),t.render()};Ti.Event.domLoaded?t.getElement()&&wt.contentEditable&&(n=At.fromDom(t.getElement()),r=X(n.dom.attributes,function(e,t){return e[t.name]=t.value,e},{}),t.on(\"remove\",function(){j(n.dom.attributes,function(e){return Qn(n,e.name),0}),Yn(n,r)}),t.ui.styleSheetLoader=(o=n,i=t,Kr.forElement(o,{contentCssCors:i.getParam(\"content_css_cors\"),referrerPolicy:wc(i)})),t.getParam(\"inline\")?t.inline=!0:(t.orgVisibility=t.getElement().style.visibility,t.getElement().style.visibility=\"hidden\"),(a=t.getElement().form||BN.getParent(e,\"form\"))&&(t.formElement=a,t.getParam(\"hidden_input\")&&!Ln(t.getElement())&&(BN.insertAfter(BN.create(\"input\",{type:\"hidden\",name:e}),e),t.hasHiddenInput=!0),t.formEventDelegate=function(e){t.fire(e.type,e)},BN.bind(a,\"submit reset\",t.formEventDelegate),t.on(\"reset\",function(){t.resetContent()}),!t.getParam(\"submit_patch\")||a.submit.nodeType||a.submit.length||a._mceOldSubmit||(a._mceOldSubmit=a.submit,a.submit=function(){return t.editorManager.triggerSave(),t.setDirty(!1),a._mceOldSubmit(a)})),t.windowManager=ub(t),t.notificationManager=ob(t),\"xml\"===t.getParam(\"encoding\")&&t.on(\"GetContent\",function(e){e.save&&(e.content=BN.encode(e.content))}),t.getParam(\"add_form_submit_trigger\")&&t.on(\"submit\",function(){t.initialized&&t.save()}),t.getParam(\"add_unload_trigger\")&&(t._beforeUnload=function(){!t.initialized||t.destroyed||t.isHidden()||t.save({format:\"raw\",no_events:!0,set_dirty:!1})},t.editorManager.on(\"BeforeUnload\",t._beforeUnload)),t.editorManager.add(t),FN(t,t.suffix)):BN.bind(window,\"ready\",u)},zN=function(e,t){return n=t,qv(e).editor.addVisual(n);var n},jN={\"font-size\":\"size\",\"font-family\":\"face\"},HN=function(n,t,e){return Pm(At.fromDom(e),function(e){return nr(t=e,n).orThunk(function(){return\"font\"===Lt(t)?ge(jN,n).bind(function(e){return Jn(t,e)}):U.none()});var t},function(e){return Ot(At.fromDom(t),e)})},VN=function(o){return function(r,e){return U.from(e).map(At.fromDom).filter(Ft).bind(function(e){return HN(o,r,e.dom).or((t=o,n=e.dom,U.from(Eu.DOM.getStyle(n,t,!0))));var t,n}).getOr(\"\")}},qN=VN(\"font-size\"),$N=a(function(e){return e.replace(/[\\'\\\"\\\\]/g,\"\").replace(/,\\s+/g,\",\")},VN(\"font-family\")),WN=function(e){return Fl(e.getBody()).map(function(e){var t=e.container();return In(t)?t.parentNode:t})},KN=function(e,t){return n=e,U.from(n.selection.getRng()).bind(function(e){var t=n.getBody();return e.startContainer===t&&0===e.startOffset?U.none():U.from(n.selection.getStart(!0))}).orThunk(N(WN,e)).map(At.fromDom).filter(Ft).map(t);var n},XN=function(e,t){if(/^[0-9.]+$/.test(t)){var n=parseInt(t,10);if(1<=n&&n<=7){var r=(a=e,kt.explode(a.getParam(\"font_size_style_values\",\"xx-small,x-small,small,medium,large,x-large,xx-large\"))),o=(i=e,kt.explode(i.getParam(\"font_size_classes\",\"\")));return o?o[n-1]||t:r[n-1]||t}return t}return t;var i,a},YN=function(e,t){var n,r=XN(e,t);e.formatter.toggle(\"fontname\",{value:(n=r.split(/\\s*,\\s*/),z(n,function(e){return-1===e.indexOf(\" \")||Ve(e,'\"')||Ve(e,\"'\")?e:\"'\"+e+\"'\"}).join(\",\"))}),e.nodeChanged()},GN=function(e,t){var n,r,o,i,a=\"string\"!=typeof(n=t)?(r=kt.extend({paste:n.paste,data:{paste:n.paste}},n),{content:n.content,details:r}):{content:n,details:{}};o=a.content,i=a.details,Vv(e).editor.insertContent(o,i)},JN=kt.each,QN=kt.map,ZN=kt.inArray,eE=(tE.prototype.execCommand=function(t,n,r,e){var o,i,a=!1,u=this;if(!u.editor.removed){if(/^(mceAddUndoLevel|mceEndUndoLevel|mceBeginUndoLevel|mceRepaint)$/.test(t)||e&&e.skip_focus?(i=u.editor,dm(i).each(function(e){return i.selection.setRng(e)})):u.editor.focus(),(e=u.editor.fire(\"BeforeExecCommand\",{command:t,ui:n,value:r})).isDefaultPrevented())return!1;var s=t.toLowerCase();if(o=u.commands.exec[s])return o(s,n,r),u.editor.fire(\"ExecCommand\",{command:t,ui:n,value:r}),!0;if(JN(this.editor.plugins,function(e){if(e.execCommand&&e.execCommand(t,n,r))return u.editor.fire(\"ExecCommand\",{command:t,ui:n,value:r}),!(a=!0)}),a)return a;if(u.editor.theme&&u.editor.theme.execCommand&&u.editor.theme.execCommand(t,n,r))return u.editor.fire(\"ExecCommand\",{command:t,ui:n,value:r}),!0;try{a=u.editor.getDoc().execCommand(t,n,r)}catch(c){}return!!a&&(u.editor.fire(\"ExecCommand\",{command:t,ui:n,value:r}),!0)}},tE.prototype.queryCommandState=function(e){var t;if(!this.editor.quirks.isHidden()&&!this.editor.removed){if(e=e.toLowerCase(),t=this.commands.state[e])return t(e);try{return this.editor.getDoc().queryCommandState(e)}catch(n){}return!1}},tE.prototype.queryCommandValue=function(e){var t;if(!this.editor.quirks.isHidden()&&!this.editor.removed){if(e=e.toLowerCase(),t=this.commands.value[e])return t(e);try{return this.editor.getDoc().queryCommandValue(e)}catch(n){}}},tE.prototype.addCommands=function(e,n){void 0===n&&(n=\"exec\");var r=this;JN(e,function(t,e){JN(e.toLowerCase().split(\",\"),function(e){r.commands[n][e]=t})})},tE.prototype.addCommand=function(e,o,i){var a=this;e=e.toLowerCase(),this.commands.exec[e]=function(e,t,n,r){return o.call(i||a.editor,t,n,r)}},tE.prototype.queryCommandSupported=function(e){if(e=e.toLowerCase(),this.commands.exec[e])return!0;try{return this.editor.getDoc().queryCommandSupported(e)}catch(t){}return!1},tE.prototype.addQueryStateHandler=function(e,t,n){var r=this;e=e.toLowerCase(),this.commands.state[e]=function(){return t.call(n||r.editor)}},tE.prototype.addQueryValueHandler=function(e,t,n){var r=this;e=e.toLowerCase(),this.commands.value[e]=function(){return t.call(n||r.editor)}},tE.prototype.hasCustomCommand=function(e){return e=e.toLowerCase(),!!this.commands.exec[e]},tE.prototype.execNativeCommand=function(e,t,n){return t===undefined&&(t=!1),n===undefined&&(n=null),this.editor.getDoc().execCommand(e,t,n)},tE.prototype.isFormatMatch=function(e){return this.editor.formatter.match(e)},tE.prototype.toggleFormat=function(e,t){this.editor.formatter.toggle(e,t?{value:t}:undefined),this.editor.nodeChanged()},tE.prototype.storeSelection=function(e){this.selectionBookmark=this.editor.selection.getBookmark(e)},tE.prototype.restoreSelection=function(){this.editor.selection.moveToBookmark(this.selectionBookmark)},tE.prototype.setupCommands=function(i){var a=this;this.addCommands({\"mceResetDesignMode,mceBeginUndoLevel\":function(){},\"mceEndUndoLevel,mceAddUndoLevel\":function(){i.undoManager.add()},\"Cut,Copy,Paste\":function(e){var t,n,r=i.getDoc();try{a.execNativeCommand(e)}catch(o){t=!0}\"paste\"!==e||r.queryCommandEnabled(e)||(t=!0),!t&&r.queryCommandSupported(e)||(n=i.translate(\"Your browser doesn't support direct access to the clipboard. Please use the Ctrl+X/C/V keyboard shortcuts instead.\"),wt.mac&&(n=n.replace(/Ctrl\\+/g,\"\\u2318+\")),i.notificationManager.open({text:n,type:\"error\"}))},unlink:function(){var e;i.selection.isCollapsed()?(e=i.dom.getParent(i.selection.getStart(),\"a\"))&&i.dom.remove(e,!0):i.formatter.remove(\"link\")},\"JustifyLeft,JustifyCenter,JustifyRight,JustifyFull,JustifyNone\":function(e){var t=e.substring(7);\"full\"===t&&(t=\"justify\"),JN(\"left,center,right,justify\".split(\",\"),function(e){t!==e&&i.formatter.remove(\"align\"+e)}),\"none\"!==t&&a.toggleFormat(\"align\"+t)},\"InsertUnorderedList,InsertOrderedList\":function(e){var t;a.execNativeCommand(e);var n=i.dom.getParent(i.selection.getNode(),\"ol,ul\");n&&(t=n.parentNode,/^(H[1-6]|P|ADDRESS|PRE)$/.test(t.nodeName)&&(a.storeSelection(),i.dom.split(t,n),a.restoreSelection()))},\"Bold,Italic,Underline,Strikethrough,Superscript,Subscript\":function(e){a.toggleFormat(e)},\"ForeColor,HiliteColor\":function(e,t,n){a.toggleFormat(e,n)},FontName:function(e,t,n){YN(i,n)},FontSize:function(e,t,n){var r,o;o=n,(r=i).formatter.toggle(\"fontsize\",{value:XN(r,o)}),r.nodeChanged()},LineHeight:function(e,t,n){var r,o;o=n,(r=i).undoManager.transact(function(){r.formatter.toggle(\"lineheight\",{value:String(o)}),r.nodeChanged()})},RemoveFormat:function(e){i.formatter.remove(e)},mceBlockQuote:function(){a.toggleFormat(\"blockquote\")},FormatBlock:function(e,t,n){return a.toggleFormat(n||\"p\")},mceCleanup:function(){var e=i.selection.getBookmark();i.setContent(i.getContent()),i.selection.moveToBookmark(e)},mceRemoveNode:function(e,t,n){var r=n||i.selection.getNode();r!==i.getBody()&&(a.storeSelection(),i.dom.remove(r,!0),a.restoreSelection())},mceSelectNodeDepth:function(e,t,n){var r=0;i.dom.getParent(i.selection.getNode(),function(e){if(1===e.nodeType&&r++===n)return i.selection.select(e),!1},i.getBody())},mceSelectNode:function(e,t,n){i.selection.select(n)},mceInsertContent:function(e,t,n){GN(i,n)},mceInsertRawHTML:function(e,t,n){i.selection.setContent(\"tiny_mce_marker\");var r=i.getContent();i.setContent(r.replace(/tiny_mce_marker/g,function(){return n}))},mceInsertNewLine:function(e,t,n){MS(i,n)},mceToggleFormat:function(e,t,n){a.toggleFormat(n)},mceSetContent:function(e,t,n){i.setContent(n)},\"Indent,Outdent\":function(e){_w(i,e)},mceRepaint:function(){},InsertHorizontalRule:function(){i.execCommand(\"mceInsertContent\",!1,\"<hr />\")},mceToggleVisualAid:function(){i.hasVisual=!i.hasVisual,i.addVisual()},mceReplaceContent:function(e,t,n){i.execCommand(\"mceInsertContent\",!1,n.replace(/\\{\\$selection\\}/g,i.selection.getContent({format:\"text\"})))},mceInsertLink:function(e,t,n){\"string\"==typeof n&&(n={href:n});var r=i.dom.getParent(i.selection.getNode(),\"a\");n.href=n.href.replace(/ /g,\"%20\"),r&&n.href||i.formatter.remove(\"link\"),n.href&&i.formatter.apply(\"link\",n,r)},selectAll:function(){var e,t=i.dom.getParent(i.selection.getStart(),Hn);t&&((e=i.dom.createRng()).selectNodeContents(t),i.selection.setRng(e))},mceNewDocument:function(){i.setContent(\"\")},InsertLineBreak:function(e,t,n){return SS(i,n),!0}});var e=function(r){return function(){var e=i.selection,t=e.isCollapsed()?[i.dom.getParent(e.getNode(),i.dom.isBlock)]:e.getSelectedBlocks(),n=QN(t,function(e){return!!i.formatter.matchNode(e,r)});return-1!==ZN(n,!0)}};a.addCommands({JustifyLeft:e(\"alignleft\"),JustifyCenter:e(\"aligncenter\"),JustifyRight:e(\"alignright\"),JustifyFull:e(\"alignjustify\"),\"Bold,Italic,Underline,Strikethrough,Superscript,Subscript\":function(e){return a.isFormatMatch(e)},mceBlockQuote:function(){return a.isFormatMatch(\"blockquote\")},Outdent:function(){return Nw(i)},\"InsertUnorderedList,InsertOrderedList\":function(e){var t=i.dom.getParent(i.selection.getNode(),\"ul,ol\");return t&&(\"insertunorderedlist\"===e&&\"UL\"===t.tagName||\"insertorderedlist\"===e&&\"OL\"===t.tagName)}},\"state\"),a.addCommands({Undo:function(){i.undoManager.undo()},Redo:function(){i.undoManager.redo()}}),a.addQueryValueHandler(\"FontName\",function(){return KN(t=i,function(e){return $N(t.getBody(),e.dom)}).getOr(\"\");var t},this),a.addQueryValueHandler(\"FontSize\",function(){return KN(t=i,function(e){return qN(t.getBody(),e.dom)}).getOr(\"\");var t},this),a.addQueryValueHandler(\"LineHeight\",function(){return KN(t=i,function(n){var e=At.fromDom(t.getBody());return Pm(n,function(e){return nr(e,\"line-height\")},N(Ot,e)).getOrThunk(function(){var e=parseFloat(er(n,\"line-height\")),t=parseFloat(er(n,\"font-size\"));return String(e/t)})}).getOr(\"\");var t},this)},tE);function tE(e){this.commands={state:{},exec:{},value:{}},this.editor=e,this.setupCommands(e)}var nE=\"data-mce-contenteditable\",rE=function(e,t,n){var r,o;Xu(e,t)&&!1===n?(o=t,Vu(r=e)?r.dom.classList.remove(o):$u(r,o),Ku(r)):n&&Wu(e,t)},oE=function(e,t,n){try{e.getDoc().execCommand(t,!1,String(n))}catch(r){}},iE=function(e,t){e.dom.contentEditable=t?\"true\":\"false\"},aE=function(e,t){var n,r,o,i=At.fromDom(e.getBody());rE(i,\"mce-content-readonly\",t),t?(e.selection.controlSelection.hideResizeRect(),e._selectionOverrides.hideFakeCaret(),o=e,U.from(o.selection.getNode()).each(function(e){e.removeAttribute(\"data-mce-selected\")}),e.readonly=!0,iE(i,!1),W(Gu(i,'*[contenteditable=\"true\"]'),function(e){Xn(e,nE,\"true\"),iE(e,!1)})):(e.readonly=!1,iE(i,!0),W(Gu(i,\"*[\"+nE+'=\"true\"]'),function(e){Qn(e,nE),iE(e,!0)}),oE(e,\"StyleWithCSS\",!1),oE(e,\"enableInlineTableEditing\",!1),oE(e,\"enableObjectResizing\",!1),(Em(r=e)||Nm(r))&&e.focus(),(n=e).selection.setRng(n.selection.getRng()),e.nodeChanged())},uE=function(e){return e.readonly},sE=function(t){t.parser.addAttributeFilter(\"contenteditable\",function(e){uE(t)&&W(e,function(e){e.attr(nE,e.attr(\"contenteditable\")),e.attr(\"contenteditable\",\"false\")})}),t.serializer.addAttributeFilter(nE,function(e){uE(t)&&W(e,function(e){e.attr(\"contenteditable\",e.attr(nE))})}),t.serializer.addTempAttr(nE)},cE=function(a,u){var e,t;\"click\"!==u.type||ud.metaKeyPressed(u)||(e=At.fromDom(u.target),t=a,Or(e,\"a\",function(e){return Ot(e,At.fromDom(t.getBody()))}).bind(function(e){return Jn(e,\"href\")}).each(function(e){var t,n,r,o,i;u.preventDefault(),/^#/.test(e)?(t=a.dom.select(e+',[name=\"'+(Ve(n=e,r=\"#\")?(o=n,i=r.length,o.substring(i)):n)+'\"]')).length&&a.selection.scrollIntoView(t[0],!0):window.open(e,\"_blank\",\"rel=noopener noreferrer,menubar=yes,toolbar=yes,location=yes,status=yes,resizable=yes,scrollbars=yes\")}))},lE=kt.makeMap(\"focus blur focusin focusout click dblclick mousedown mouseup mousemove mouseover beforepaste paste cut copy selectionchange mouseout mouseenter mouseleave wheel keydown keypress keyup input beforeinput contextmenu dragstart dragend dragover draggesture dragdrop drop drag submit compositionstart compositionend compositionupdate touchstart touchmove touchend touchcancel\",\" \"),fE=(dE.isNative=function(e){return!!lE[e.toLowerCase()]},dE.prototype.fire=function(e,t){var n=e.toLowerCase(),r=t||{};r.type=n,r.target||(r.target=this.scope),r.preventDefault||(r.preventDefault=function(){r.isDefaultPrevented=k},r.stopPropagation=function(){r.isPropagationStopped=k},r.stopImmediatePropagation=function(){r.isImmediatePropagationStopped=k},r.isDefaultPrevented=C,r.isPropagationStopped=C,r.isImmediatePropagationStopped=C),this.settings.beforeFire&&this.settings.beforeFire(r);var o=this.bindings[n];if(o)for(var i=0,a=o.length;i<a;i++){var u=o[i];if(u.once&&this.off(n,u.func),r.isImmediatePropagationStopped())return r.stopPropagation(),r;if(!1===u.func.call(this.scope,r))return r.preventDefault(),r}return r},dE.prototype.on=function(e,t,n,r){if(!1===t&&(t=C),t){var o={func:t};r&&kt.extend(o,r);for(var i=e.toLowerCase().split(\" \"),a=i.length;a--;){var u=i[a],s=this.bindings[u];s||(s=this.bindings[u]=[],this.toggleEvent(u,!0)),n?s.unshift(o):s.push(o)}}return this},dE.prototype.off=function(e,t){var n=this;if(e)for(var r=e.toLowerCase().split(\" \"),o=r.length;o--;){var i=r[o],a=this.bindings[i];if(!i)return ue(this.bindings,function(e,t){n.toggleEvent(t,!1),delete n.bindings[t]}),this;if(a){if(t)for(var u=a.length;u--;)a[u].func===t&&(a=a.slice(0,u).concat(a.slice(u+1)),this.bindings[i]=a);else a.length=0;a.length||(this.toggleEvent(e,!1),delete this.bindings[i])}}else ue(this.bindings,function(e,t){n.toggleEvent(t,!1)}),this.bindings={};return this},dE.prototype.once=function(e,t,n){return this.on(e,t,n,{once:!0})},dE.prototype.has=function(e){return e=e.toLowerCase(),!(!this.bindings[e]||0===this.bindings[e].length)},dE);function dE(e){this.bindings={},this.settings=e||{},this.scope=this.settings.scope||this,this.toggleEvent=this.settings.toggleEvent||C}var mE,pE=function(n){return n._eventDispatcher||(n._eventDispatcher=new fE({scope:n,toggleEvent:function(e,t){fE.isNative(e)&&n.toggleNativeEvent&&n.toggleNativeEvent(e,t)}})),n._eventDispatcher},gE={fire:function(e,t,n){if(this.removed&&\"remove\"!==e&&\"detach\"!==e)return t;var r=pE(this).fire(e,t);if(!1!==n&&this.parent)for(var o=this.parent();o&&!r.isPropagationStopped();)o.fire(e,r,!1),o=o.parent();return r},on:function(e,t,n){return pE(this).on(e,t,n)},off:function(e,t){return pE(this).off(e,t)},once:function(e,t){return pE(this).once(e,t)},hasEventListeners:function(e){return pE(this).has(e)}},hE=Eu.DOM,vE=function(e,t){if(\"selectionchange\"===t)return e.getDoc();if(!e.inline&&/^mouse|touch|click|contextmenu|drop|dragover|dragend/.test(t))return e.getDoc().documentElement;var n=Ec(e);return n?(e.eventRoot||(e.eventRoot=hE.select(n)[0]),e.eventRoot):e.getBody()},yE=function(e,t,n){var r;(r=e).hidden||uE(r)?uE(e)&&cE(e,n):e.fire(t,n)},bE=function(i,a){var e;if(i.delegates||(i.delegates={}),!i.delegates[a]&&!i.removed){var t=vE(i,a);if(Ec(i)){if(mE||(mE={},i.editorManager.on(\"removeEditor\",function(){i.editorManager.activeEditor||mE&&(ue(mE,function(e,t){i.dom.unbind(vE(i,t))}),mE=null)})),mE[a])return;e=function(e){for(var t=e.target,n=i.editorManager.get(),r=n.length;r--;){var o=n[r].getBody();o!==t&&!hE.isChildOf(t,o)||yE(n[r],a,e)}},mE[a]=e,hE.bind(t,a,e)}else e=function(e){yE(i,a,e)},hE.bind(t,a,e),i.delegates[a]=e}},CE=ke(ke({},gE),{bindPendingEventDelegates:function(){var t=this;kt.each(t._pendingNativeEvents,function(e){bE(t,e)})},toggleNativeEvent:function(e,t){var n=this;\"focus\"!==e&&\"blur\"!==e&&(t?n.initialized?bE(n,e):n._pendingNativeEvents?n._pendingNativeEvents.push(e):n._pendingNativeEvents=[e]:n.initialized&&(n.dom.unbind(vE(n,e),e,n.delegates[e]),delete n.delegates[e]))},unbindAllNativeEvents:function(){var n=this,e=n.getBody(),t=n.dom;n.delegates&&(ue(n.delegates,function(e,t){n.dom.unbind(vE(n,t),t,e)}),delete n.delegates),!n.inline&&e&&t&&(e.onload=null,t.unbind(n.getWin()),t.unbind(n.getDoc())),t&&(t.unbind(e),t.unbind(n.getContainer()))}}),wE=[\"design\",\"readonly\"],xE=function(e,t,n,r){var o,i=n[t.get()],a=n[r];try{a.activate()}catch(Ok){return void console.error(\"problem while activating editor mode \"+r+\":\",Ok)}i.deactivate(),i.editorReadOnly!==a.editorReadOnly&&aE(e,a.editorReadOnly),t.set(r),o=r,e.fire(\"SwitchMode\",{mode:o})},SE=function(t){var e,n,r=Ou(\"design\"),o=Ou({design:{activate:V,deactivate:V,editorReadOnly:!1},readonly:{activate:V,deactivate:V,editorReadOnly:!0}});return(e=t).serializer?sE(e):e.on(\"PreInit\",function(){sE(e)}),(n=t).on(\"ShowCaret\",function(e){uE(n)&&e.preventDefault()}),n.on(\"ObjectSelected\",function(e){uE(n)&&e.preventDefault()}),{isReadOnly:function(){return uE(t)},set:function(e){return function(e,t,n,r){if(r!==n.get()){if(!he(t,r))throw new Error(\"Editor mode '\"+r+\"' is invalid\");e.initialized?xE(e,n,t,r):e.on(\"init\",function(){return xE(e,n,t,r)})}}(t,o.get(),r,e)},get:function(){return r.get()},register:function(e,t){o.set(function(e,t,n){var r;if(M(wE,t))throw new Error(\"Cannot override default mode \"+t);return ke(ke({},e),((r={})[t]=ke(ke({},n),{deactivate:function(){try{n.deactivate()}catch(Ok){console.error(\"problem while deactivating editor mode \"+t+\":\",Ok)}}}),r))}(o.get(),e,t))}}},NE=kt.each,EE=kt.explode,kE={f1:112,f2:113,f3:114,f4:115,f5:116,f6:117,f7:118,f8:119,f9:120,f10:121,f11:122,f12:123},_E=kt.makeMap(\"alt,ctrl,shift,meta,access\"),AE=(RE.prototype.add=function(e,n,t,r){var o=this,i=o.normalizeCommandFunc(t);return NE(EE(kt.trim(e)),function(e){var t=o.createShortcut(e,n,i,r);o.shortcuts[t.id]=t}),!0},RE.prototype.remove=function(e){var t=this.createShortcut(e);return!!this.shortcuts[t.id]&&(delete this.shortcuts[t.id],!0)},RE.prototype.normalizeCommandFunc=function(e){var t=this,n=e;return\"string\"==typeof n?function(){t.editor.execCommand(n,!1,null)}:kt.isArray(n)?function(){t.editor.execCommand(n[0],n[1],n[2])}:n},RE.prototype.parseShortcut=function(e){var t,n={};NE(EE(e.toLowerCase(),\"+\"),function(e){e in _E?n[e]=!0:/^[0-9]{2,}$/.test(e)?n.keyCode=parseInt(e,10):(n.charCode=e.charCodeAt(0),n.keyCode=kE[e]||e.toUpperCase().charCodeAt(0))});var r=[n.keyCode];for(t in _E)n[t]?r.push(t):n[t]=!1;return n.id=r.join(\",\"),n.access&&(n.alt=!0,wt.mac?n.ctrl=!0:n.shift=!0),n.meta&&(wt.mac?n.meta=!0:(n.ctrl=!0,n.meta=!1)),n},RE.prototype.createShortcut=function(e,t,n,r){var o=kt.map(EE(e,\">\"),this.parseShortcut);return o[o.length-1]=kt.extend(o[o.length-1],{func:n,scope:r||this.editor}),kt.extend(o[0],{desc:this.editor.translate(t),subpatterns:o.slice(1)})},RE.prototype.hasModifier=function(e){return e.altKey||e.ctrlKey||e.metaKey},RE.prototype.isFunctionKey=function(e){return\"keydown\"===e.type&&112<=e.keyCode&&e.keyCode<=123},RE.prototype.matchShortcut=function(e,t){return!!t&&t.ctrl===e.ctrlKey&&t.meta===e.metaKey&&t.alt===e.altKey&&t.shift===e.shiftKey&&!!(e.keyCode===t.keyCode||e.charCode&&e.charCode===t.charCode)&&(e.preventDefault(),!0)},RE.prototype.executeShortcutAction=function(e){return e.func?e.func.call(e.scope):null},RE);function RE(e){this.shortcuts={},this.pendingPatterns=[],this.editor=e;var n=this;e.on(\"keyup keypress keydown\",function(t){!n.hasModifier(t)&&!n.isFunctionKey(t)||t.isDefaultPrevented()||(NE(n.shortcuts,function(e){if(n.matchShortcut(t,e))return n.pendingPatterns=e.subpatterns.slice(0),\"keydown\"===t.type&&n.executeShortcutAction(e),!0}),n.matchShortcut(t,n.pendingPatterns[0])&&(1===n.pendingPatterns.length&&\"keydown\"===t.type&&n.executeShortcutAction(n.pendingPatterns[0]),n.pendingPatterns.shift()))})}var TE=function(){var e,t,n,r,o,i,a,u,s=(t={},n={},r={},o={},i={},a={},{addButton:(u=function(n,r){return function(e,t){return n[e.toLowerCase()]=ke(ke({},t),{type:r})}})(e={},\"button\"),addGroupToolbarButton:u(e,\"grouptoolbarbutton\"),addToggleButton:u(e,\"togglebutton\"),addMenuButton:u(e,\"menubutton\"),addSplitButton:u(e,\"splitbutton\"),addMenuItem:u(t,\"menuitem\"),addNestedMenuItem:u(t,\"nestedmenuitem\"),addToggleMenuItem:u(t,\"togglemenuitem\"),addAutocompleter:u(n,\"autocompleter\"),addContextMenu:u(o,\"contextmenu\"),addContextToolbar:u(i,\"contexttoolbar\"),addContextForm:u(i,\"contextform\"),addSidebar:u(a,\"sidebar\"),addIcon:function(e,t){return r[e.toLowerCase()]=t},getAll:function(){return{buttons:e,menuItems:t,icons:r,popups:n,contextMenus:o,contextToolbars:i,sidebars:a}}});return{addAutocompleter:s.addAutocompleter,addButton:s.addButton,addContextForm:s.addContextForm,addContextMenu:s.addContextMenu,addContextToolbar:s.addContextToolbar,addIcon:s.addIcon,addMenuButton:s.addMenuButton,addMenuItem:s.addMenuItem,addNestedMenuItem:s.addNestedMenuItem,addSidebar:s.addSidebar,addSplitButton:s.addSplitButton,addToggleButton:s.addToggleButton,addGroupToolbarButton:s.addGroupToolbarButton,addToggleMenuItem:s.addToggleMenuItem,getAll:s.getAll}},DE=kt.each,OE=kt.trim,BE=\"source protocol authority userInfo user password host port relative path directory file query anchor\".split(\" \"),PE={ftp:21,http:80,https:443,mailto:25},LE=(IE.parseDataUri=function(e){var t,n=decodeURIComponent(e).split(\",\"),r=/data:([^;]+)/.exec(n[0]);return r&&(t=r[1]),{type:t,data:n[1]}},IE.getDocumentBaseUrl=function(e){var t=0!==e.protocol.indexOf(\"http\")&&\"file:\"!==e.protocol?e.href:e.protocol+\"//\"+e.host+e.pathname;return/^[^:]+:\\/\\/\\/?[^\\/]+\\//.test(t)&&(t=t.replace(/[\\?#].*$/,\"\").replace(/[\\/\\\\][^\\/]+$/,\"\"),/[\\/\\\\]$/.test(t)||(t+=\"/\")),t},IE.prototype.setPath=function(e){var t=/^(.*?)\\/?(\\w+)?$/.exec(e);this.path=t[0],this.directory=t[1],this.file=t[2],this.source=\"\",this.getURI()},IE.prototype.toRelative=function(e){var t;if(\"./\"===e)return e;var n=new IE(e,{base_uri:this});if(\"mce_host\"!==n.host&&this.host!==n.host&&n.host||this.port!==n.port||this.protocol!==n.protocol&&\"\"!==n.protocol)return n.getURI();var r=this.getURI(),o=n.getURI();return r===o||\"/\"===r.charAt(r.length-1)&&r.substr(0,r.length-1)===o?r:(t=this.toRelPath(this.path,n.path),n.query&&(t+=\"?\"+n.query),n.anchor&&(t+=\"#\"+n.anchor),t)},IE.prototype.toAbsolute=function(e,t){var n=new IE(e,{base_uri:this});return n.getURI(t&&this.isSameOrigin(n))},IE.prototype.isSameOrigin=function(e){if(this.host==e.host&&this.protocol==e.protocol){if(this.port==e.port)return!0;var t=PE[this.protocol];if(t&&(this.port||t)==(e.port||t))return!0}return!1},IE.prototype.toRelPath=function(e,t){var n,r,o=0,i=\"\",a=e.substring(0,e.lastIndexOf(\"/\")).split(\"/\"),u=t.split(\"/\");if(a.length>=u.length)for(n=0,r=a.length;n<r;n++)if(n>=u.length||a[n]!==u[n]){o=n+1;break}if(a.length<u.length)for(n=0,r=u.length;n<r;n++)if(n>=a.length||a[n]!==u[n]){o=n+1;break}if(1===o)return t;for(n=0,r=a.length-(o-1);n<r;n++)i+=\"../\";for(n=o-1,r=u.length;n<r;n++)i+=n!==o-1?\"/\"+u[n]:u[n];return i},IE.prototype.toAbsPath=function(e,t){var n,r,o=0,i=[],a=/\\/$/.test(t)?\"/\":\"\",u=e.split(\"/\"),s=t.split(\"/\");for(DE(u,function(e){e&&i.push(e)}),u=i,n=s.length-1,i=[];0<=n;n--)0!==s[n].length&&\".\"!==s[n]&&(\"..\"!==s[n]?0<o?o--:i.push(s[n]):o++);return 0!==(r=(n=u.length-o)<=0?Z(i).join(\"/\"):u.slice(0,n).join(\"/\")+\"/\"+Z(i).join(\"/\")).indexOf(\"/\")&&(r=\"/\"+r),a&&r.lastIndexOf(\"/\")!==r.length-1&&(r+=a),r},IE.prototype.getURI=function(e){var t;return void 0===e&&(e=!1),this.source&&!e||(t=\"\",e||(this.protocol?t+=this.protocol+\"://\":t+=\"//\",this.userInfo&&(t+=this.userInfo+\"@\"),this.host&&(t+=this.host),this.port&&(t+=\":\"+this.port)),this.path&&(t+=this.path),this.query&&(t+=\"?\"+this.query),this.anchor&&(t+=\"#\"+this.anchor),this.source=t),this.source},IE);function IE(e,t){e=OE(e),this.settings=t||{};var n,r,o,i,a=this.settings.base_uri,u=this;/^([\\w\\-]+):([^\\/]{2})/i.test(e)||/^\\s*#/.test(e)?u.source=e:(n=0===e.indexOf(\"//\"),0!==e.indexOf(\"/\")||n||(e=(a&&a.protocol||\"http\")+\"://mce_host\"+e),/^[\\w\\-]*:?\\/\\//.test(e)||(r=this.settings.base_uri?this.settings.base_uri.path:new IE(document.location.href).directory,e=this.settings.base_uri&&\"\"==this.settings.base_uri.protocol?\"//mce_host\"+u.toAbsPath(r,e):(o=/([^#?]*)([#?]?.*)/.exec(e),(a&&a.protocol||\"http\")+\"://mce_host\"+u.toAbsPath(r,o[1])+o[2])),e=e.replace(/@@/g,\"(mce_at)\"),i=/^(?:(?![^:@]+:[^:@\\/]*@)([^:\\/?#.]+):)?(?:\\/\\/)?((?:(([^:@\\/]*):?([^:@\\/]*))?@)?([^:\\/?#]*)(?::(\\d*))?)(((\\/(?:[^?#](?![^?#\\/]*\\.[^?#\\/.]+(?:[?#]|$)))*\\/?)?([^?#\\/]*))(?:\\?([^#]*))?(?:#(.*))?)/.exec(e),DE(BE,function(e,t){var n=(n=i[t])&&n.replace(/\\(mce_at\\)/g,\"@@\");u[e]=n}),a&&(u.protocol||(u.protocol=a.protocol),u.userInfo||(u.userInfo=a.userInfo),u.port||\"mce_host\"!==u.host||(u.port=a.port),u.host&&\"mce_host\"!==u.host||(u.host=a.host),u.source=\"\"),n&&(u.protocol=\"\"))}var ME=Eu.DOM,FE=kt.extend,UE=kt.each,zE=kt.resolve,jE=wt.ie,HE=(VE.prototype.render=function(){UN(this)},VE.prototype.focus=function(e){var t,n;n=e,(t=this).removed||(n?_m:km)(t)},VE.prototype.hasFocus=function(){return Em(this)},VE.prototype.execCallback=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r,o=this.settings[e];if(o)return this.callbackLookup&&(r=this.callbackLookup[e])&&(o=r.func,r=r.scope),\"string\"==typeof o&&(r=(r=o.replace(/\\.\\w+$/,\"\"))?zE(r):0,o=zE(o),this.callbackLookup=this.callbackLookup||{},this.callbackLookup[e]={func:o,scope:r}),o.apply(r||this,t)},VE.prototype.translate=function(e){return Iu.translate(e)},VE.prototype.getParam=function(e,t,n){return Xy(this,e,t,n)},VE.prototype.hasPlugin=function(e,t){return!(!M(Ac(this).split(/[ ,]/),e)||t&&ib.get(e)===undefined)},VE.prototype.nodeChanged=function(e){this._nodeChangeDispatcher.nodeChanged(e)},VE.prototype.addCommand=function(e,t,n){this.editorCommands.addCommand(e,t,n)},VE.prototype.addQueryStateHandler=function(e,t,n){this.editorCommands.addQueryStateHandler(e,t,n)},VE.prototype.addQueryValueHandler=function(e,t,n){this.editorCommands.addQueryValueHandler(e,t,n)},VE.prototype.addShortcut=function(e,t,n,r){this.shortcuts.add(e,t,n,r)},VE.prototype.execCommand=function(e,t,n,r){return this.editorCommands.execCommand(e,t,n,r)},VE.prototype.queryCommandState=function(e){return this.editorCommands.queryCommandState(e)},VE.prototype.queryCommandValue=function(e){return this.editorCommands.queryCommandValue(e)},VE.prototype.queryCommandSupported=function(e){return this.editorCommands.queryCommandSupported(e)},VE.prototype.show=function(){this.hidden&&(this.hidden=!1,this.inline?this.getBody().contentEditable=\"true\":(ME.show(this.getContainer()),ME.hide(this.id)),this.load(),this.fire(\"show\"))},VE.prototype.hide=function(){var e=this,t=e.getDoc();e.hidden||(jE&&t&&!e.inline&&t.execCommand(\"SelectAll\"),e.save(),e.inline?(e.getBody().contentEditable=\"false\",e===e.editorManager.focusedEditor&&(e.editorManager.focusedEditor=null)):(ME.hide(e.getContainer()),ME.setStyle(e.id,\"display\",e.orgDisplay)),e.hidden=!0,e.fire(\"hide\"))},VE.prototype.isHidden=function(){return!!this.hidden},VE.prototype.setProgressState=function(e,t){this.fire(\"ProgressState\",{state:e,time:t})},VE.prototype.load=function(e){var t=this.getElement();if(this.removed)return\"\";if(t){(e=e||{}).load=!0;var n=Ln(t)?t.value:t.innerHTML,r=this.setContent(n,e);return e.element=t,e.no_events||this.fire(\"LoadContent\",e),e.element=t=null,r}},VE.prototype.save=function(e){var t,n,r=this,o=r.getElement();if(o&&r.initialized&&!r.removed)return(e=e||{}).save=!0,e.element=o,e.content=r.getContent(e),e.no_events||r.fire(\"SaveContent\",e),\"raw\"===e.format&&r.fire(\"RawSaveContent\",e),t=e.content,Ln(o)?o.value=t:(!e.is_removing&&r.inline||(o.innerHTML=t),(n=ME.getParent(r.id,\"form\"))&&UE(n.elements,function(e){if(e.name===r.id)return e.value=t,!1})),e.element=o=null,!1!==e.set_dirty&&r.setDirty(!1),t},VE.prototype.setContent=function(e,t){return ky(this,e,t)},VE.prototype.getContent=function(e){return Ey(this,e)},VE.prototype.insertContent=function(e,t){t&&(e=FE({content:e},t)),this.execCommand(\"mceInsertContent\",!1,e)},VE.prototype.resetContent=function(e){e===undefined?ky(this,this.startContent,{format:\"raw\"}):ky(this,e),this.undoManager.reset(),this.setDirty(!1),this.nodeChanged()},VE.prototype.isDirty=function(){return!this.isNotDirty},VE.prototype.setDirty=function(e){var t=!this.isNotDirty;this.isNotDirty=!e,e&&e!==t&&this.fire(\"dirty\")},VE.prototype.getContainer=function(){return this.container||(this.container=ME.get(this.editorContainer||this.id+\"_parent\")),this.container},VE.prototype.getContentAreaContainer=function(){return this.contentAreaContainer},VE.prototype.getElement=function(){return this.targetElm||(this.targetElm=ME.get(this.id)),this.targetElm},VE.prototype.getWin=function(){var e;return this.contentWindow||(e=this.iframeElement)&&(this.contentWindow=e.contentWindow),this.contentWindow},VE.prototype.getDoc=function(){var e;return this.contentDocument||(e=this.getWin())&&(this.contentDocument=e.document),this.contentDocument},VE.prototype.getBody=function(){var e=this.getDoc();return this.bodyElement||(e?e.body:null)},VE.prototype.convertURL=function(e,t,n){var r=this.settings;return r.urlconverter_callback?this.execCallback(\"urlconverter_callback\",e,n,!0,t):!r.convert_urls||n&&\"LINK\"===n.nodeName||0===e.indexOf(\"file:\")||0===e.length?e:r.relative_urls?this.documentBaseURI.toRelative(e):e=this.documentBaseURI.toAbsolute(e,r.remove_script_host)},VE.prototype.addVisual=function(e){zN(this,e)},VE.prototype.remove=function(){Ry(this)},VE.prototype.destroy=function(e){Ty(this,e)},VE.prototype.uploadImages=function(e){return this.editorUpload.uploadImages(e)},VE.prototype._scanForImages=function(){return this.editorUpload.scanForImages()},VE.prototype.addButton=function(){throw new Error(\"editor.addButton has been removed in tinymce 5x, use editor.ui.registry.addButton or editor.ui.registry.addToggleButton or editor.ui.registry.addSplitButton instead\")},VE.prototype.addSidebar=function(){throw new Error(\"editor.addSidebar has been removed in tinymce 5x, use editor.ui.registry.addSidebar instead\")},VE.prototype.addMenuItem=function(){throw new Error(\"editor.addMenuItem has been removed in tinymce 5x, use editor.ui.registry.addMenuItem instead\")},VE.prototype.addContextToolbar=function(){throw new Error(\"editor.addContextToolbar has been removed in tinymce 5x, use editor.ui.registry.addContextToolbar instead\")},VE);function VE(e,t,n){var r=this;this.plugins={},this.contentCSS=[],this.contentStyles=[],this.loadedCSS={},this.isNotDirty=!1,this.editorManager=n,this.documentBaseUrl=n.documentBaseURL,FE(this,CE),this.settings=Wy(this,e,this.documentBaseUrl,n.defaultSettings,t),this.settings.suffix&&(n.suffix=this.settings.suffix),this.suffix=n.suffix,this.settings.base_url&&n._setBaseUrl(this.settings.base_url),this.baseUri=n.baseURI,this.settings.referrer_policy&&(Ru.ScriptLoader._setReferrerPolicy(this.settings.referrer_policy),Eu.DOM.styleSheetLoader._setReferrerPolicy(this.settings.referrer_policy)),Uu.languageLoad=this.settings.language_load,Uu.baseURL=n.baseURL,this.id=e,this.setDirty(!1),this.documentBaseURI=new LE(this.settings.document_base_url,{base_uri:this.baseUri}),this.baseURI=this.baseUri,this.inline=!!this.settings.inline,this.shortcuts=new AE(this),this.editorCommands=new eE(this),this.settings.cache_suffix&&(wt.cacheSuffix=this.settings.cache_suffix.replace(/^[\\?\\&]+/,\"\")),this.ui={registry:TE(),styleSheetLoader:undefined,show:V,hide:V,enable:V,disable:V,isDisabled:C};var o=SE(this);this.mode=o,this.setMode=o.set,n.fire(\"SetupEditor\",{editor:this}),this.execCallback(\"setup\",this),this.$=hu.overrideDefaults(function(){return{context:r.inline?r.getBody():r.getDoc(),element:r.getBody()}})}var qE,$E=Eu.DOM,WE=kt.explode,KE=kt.each,XE=kt.extend,YE=0,GE=!1,JE=[],QE=[],ZE=function(t){var n=t.type;KE(rk.get(),function(e){switch(n){case\"scroll\":e.fire(\"ScrollWindow\",t);break;case\"resize\":e.fire(\"ResizeWindow\",t)}})},ek=function(e){e!==GE&&(e?hu(window).on(\"resize scroll\",ZE):hu(window).off(\"resize scroll\",ZE),GE=e)},tk=function(t){var e=QE;delete JE[t.id];for(var n=0;n<JE.length;n++)if(JE[n]===t){JE.splice(n,1);break}return QE=H(QE,function(e){return t!==e}),rk.activeEditor===t&&(rk.activeEditor=0<QE.length?QE[0]:null),rk.focusedEditor===t&&(rk.focusedEditor=null),e.length!==QE.length},nk=\"CSS1Compat\"!==document.compatMode,rk=ke(ke({},gE),{baseURI:null,baseURL:null,defaultSettings:{},documentBaseURL:null,suffix:null,$:hu,majorVersion:\"5\",minorVersion:\"6.2\",releaseDate:\"2020-12-08\",editors:JE,i18n:Iu,activeEditor:null,focusedEditor:null,settings:{},setup:function(){var e,t=\"\",n=LE.getDocumentBaseUrl(document.location);/^[^:]+:\\/\\/\\/?[^\\/]+\\//.test(n)&&(n=n.replace(/[\\?#].*$/,\"\").replace(/[\\/\\\\][^\\/]+$/,\"\"),/[\\/\\\\]$/.test(n)||(n+=\"/\"));var r,o=window.tinymce||window.tinyMCEPreInit;if(o)e=o.base||o.baseURL,t=o.suffix;else{for(var i,a=document.getElementsByTagName(\"script\"),u=0;u<a.length;u++){if(\"\"!==(i=a[u].src||\"\")){var s=i.substring(i.lastIndexOf(\"/\"));if(/tinymce(\\.full|\\.jquery|)(\\.min|\\.dev|)\\.js/.test(i)){-1!==s.indexOf(\".min\")&&(t=\".min\"),e=i.substring(0,i.lastIndexOf(\"/\"));break}}}!e&&document.currentScript&&(-1!==(i=document.currentScript.src).indexOf(\".min\")&&(t=\".min\"),e=i.substring(0,i.lastIndexOf(\"/\")))}this.baseURL=new LE(n).toAbsolute(e),this.documentBaseURL=n,this.baseURI=new LE(this.baseURL),this.suffix=t,(r=this).on(\"AddEditor\",N(ym,r)),r.on(\"RemoveEditor\",N(bm,r))},overrideDefaults:function(e){var t=e.base_url;t&&this._setBaseUrl(t);var n=e.suffix;e.suffix&&(this.suffix=n);var r=(this.defaultSettings=e).plugin_base_urls;r!==undefined&&ue(r,function(e,t){Uu.PluginManager.urls[t]=e})},init:function(r){var n,u=this,s=kt.makeMap(\"area base basefont br col frame hr img input isindex link meta param embed source wbr track colgroup option table tbody tfoot thead tr th td script noscript style textarea video audio iframe object menu\",\" \"),c=function(e){var t=e.id;return t||(t=ge(e,\"name\").filter(function(e){return!$E.get(e)}).getOrThunk($E.uniqueId),e.setAttribute(\"id\",t)),t},l=function(e,t){return t.constructor===RegExp?t.test(e.className):$E.hasClass(e,t)},f=function(e){n=e},e=function(){var o,i=0,a=[],n=function(e,t,n){var r=new HE(e,t,u);a.push(r),r.on(\"init\",function(){++i===o.length&&f(a)}),r.targetElm=r.targetElm||n,r.render()};$E.unbind(window,\"ready\",e),function(e){var t=r[e];if(t)t.apply(u,Array.prototype.slice.call(arguments,2))}(\"onpageload\"),o=hu.unique(function(t){var n=[];if(wt.browser.isIE()&&wt.browser.version.major<11)return mb(\"TinyMCE does not support the browser you are using. For a list of supported browsers please see: https://www.tinymce.com/docs/get-started/system-requirements/\"),[];if(nk)return mb(\"Failed to initialize the editor as the document is not in standards mode. TinyMCE requires standards mode.\"),[];if(t.types)return KE(t.types,function(e){n=n.concat($E.select(e.selector))}),n;if(t.selector)return $E.select(t.selector);if(t.target)return[t.target];switch(t.mode){case\"exact\":var e=t.elements||\"\";0<e.length&&KE(WE(e),function(t){var e=$E.get(t);e?n.push(e):KE(document.forms,function(e){KE(e.elements,function(e){e.name===t&&(t=\"mce_editor_\"+YE++,$E.setAttrib(e,\"id\",t),n.push(e))})})});break;case\"textareas\":case\"specific_textareas\":KE($E.select(\"textarea\"),function(e){t.editor_deselector&&l(e,t.editor_deselector)||t.editor_selector&&!l(e,t.editor_selector)||n.push(e)})}return n}(r)),r.types?KE(r.types,function(t){kt.each(o,function(e){return!$E.is(e,t.selector)||(n(c(e),XE({},r,t),e),!1)})}):(kt.each(o,function(e){var t;(t=u.get(e.id))&&t.initialized&&!(t.getContainer()||t.getBody()).parentNode&&(tk(t),t.unbindAllNativeEvents(),t.destroy(!0),t.removed=!0,t=null)}),0===(o=kt.grep(o,function(e){return!u.get(e.id)})).length?f([]):KE(o,function(e){var t;t=e,r.inline&&t.tagName.toLowerCase()in s?mb(\"Could not initialize inline editor on invalid inline target element\",e):n(c(e),r,e)}))};return u.settings=r,$E.bind(window,\"ready\",e),new Br(function(t){n?t(n):f=function(e){t(e)}})},get:function(t){return 0===arguments.length?QE.slice(0):q(t)?Y(QE,function(e){return e.id===t}).getOr(null):O(t)&&QE[t]?QE[t]:null},add:function(e){var n=this;return JE[e.id]===e||(null===n.get(e.id)&&(\"length\"!==e.id&&(JE[e.id]=e),JE.push(e),QE.push(e)),ek(!0),n.activeEditor=e,n.fire(\"AddEditor\",{editor:e}),qE||(qE=function(e){var t=n.fire(\"BeforeUnload\");if(t.returnValue)return e.preventDefault(),e.returnValue=t.returnValue,t.returnValue},window.addEventListener(\"beforeunload\",qE))),e},createEditor:function(e,t){return this.add(new HE(e,t,this))},remove:function(e){var t,n,r=this;if(e){if(!q(e))return n=e,x(r.get(n.id))?null:(tk(n)&&r.fire(\"RemoveEditor\",{editor:n}),0===QE.length&&window.removeEventListener(\"beforeunload\",qE),n.remove(),ek(0<QE.length),n);KE($E.select(e),function(e){(n=r.get(e.id))&&r.remove(n)})}else for(t=QE.length-1;0<=t;t--)r.remove(QE[t])},execCommand:function(e,t,n){var r=this.get(n);switch(e){case\"mceAddEditor\":return this.get(n)||new HE(n,this.settings,this).render(),!0;case\"mceRemoveEditor\":return r&&r.remove(),!0;case\"mceToggleEditor\":return r?(r.isHidden()?r.show():r.hide(),!0):(this.execCommand(\"mceAddEditor\",0,n),!0)}return!!this.activeEditor&&this.activeEditor.execCommand(e,t,n)},triggerSave:function(){KE(QE,function(e){e.save()})},addI18n:function(e,t){Iu.add(e,t)},translate:function(e){return Iu.translate(e)},setActive:function(e){var t=this.activeEditor;this.activeEditor!==e&&(t&&t.fire(\"deactivate\",{relatedTarget:e}),e.fire(\"activate\",{relatedTarget:t})),this.activeEditor=e},_setBaseUrl:function(e){this.baseURL=new LE(this.documentBaseURL).toAbsolute(e.replace(/\\/+$/,\"\")),this.baseURI=new LE(this.baseURL)}});rk.setup();var ok,ik,ak,uk,sk=Math.min,ck=Math.max,lk=Math.round,fk=function(e,t,n){var r=t.x,o=t.y,i=e.w,a=e.h,u=t.w,s=t.h,c=(n||\"\").split(\"\");return\"b\"===c[0]&&(o+=s),\"r\"===c[1]&&(r+=u),\"c\"===c[0]&&(o+=lk(s/2)),\"c\"===c[1]&&(r+=lk(u/2)),\"b\"===c[3]&&(o-=a),\"r\"===c[4]&&(r-=i),\"c\"===c[3]&&(o-=lk(a/2)),\"c\"===c[4]&&(r-=lk(i/2)),dk(r,o,i,a)},dk=function(e,t,n,r){return{x:e,y:t,w:n,h:r}},mk={inflate:function(e,t,n){return dk(e.x-t,e.y-n,e.w+2*t,e.h+2*n)},relativePosition:fk,findBestRelativePosition:function(e,t,n,r){for(var o,i=0;i<r.length;i++)if((o=fk(e,t,r[i])).x>=n.x&&o.x+o.w<=n.w+n.x&&o.y>=n.y&&o.y+o.h<=n.h+n.y)return r[i];return null},intersect:function(e,t){var n=ck(e.x,t.x),r=ck(e.y,t.y),o=sk(e.x+e.w,t.x+t.w),i=sk(e.y+e.h,t.y+t.h);return o-n<0||i-r<0?null:dk(n,r,o-n,i-r)},clamp:function(e,t,n){var r=e.x,o=e.y,i=e.x+e.w,a=e.y+e.h,u=t.x+t.w,s=t.y+t.h,c=ck(0,t.x-r),l=ck(0,t.y-o),f=ck(0,i-u),d=ck(0,a-s);return r+=c,o+=l,n&&(i+=c,a+=l,r-=f,o-=d),dk(r,o,(i-=f)-r,(a-=d)-o)},create:dk,fromClientRect:function(e){return dk(e.left,e.top,e.width,e.height)}},pk=(ok={},ik={},{load:function(r,o){var i='Script at URL \"'+o+'\" failed to load',a='Script at URL \"'+o+\"\\\" did not call `tinymce.Resource.add('\"+r+\"', data)` within 1 second\";if(ok[r]!==undefined)return ok[r];var e=new Br(function(e,t){var n=function(e,t,n){void 0===n&&(n=1e3);var r=!1,o=null,i=function(n){return function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];r||(r=!0,null!==o&&(clearTimeout(o),o=null),n.apply(null,e))}},a=i(e),u=i(t);return{start:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];r||null!==o||(o=setTimeout(function(){return u.apply(null,e)},n))},resolve:a,reject:u}}(e,t);ik[r]=n.resolve,Ru.ScriptLoader.loadScript(o,function(){return n.start(a)},function(){return n.reject(i)})});return ok[r]=e},add:function(e,t){ik[e]!==undefined&&(ik[e](t),delete ik[e]),ok[e]=Br.resolve(t)}}),gk=kt.each,hk=kt.extend,vk=function(){};vk.extend=ak=function(n){var o=this.prototype,r=function(){var e,t,n;if(!uk&&(this.init&&this.init.apply(this,arguments),t=this.Mixins))for(e=t.length;e--;)(n=t[e]).init&&n.init.apply(this,arguments)},t=function(){return this};uk=!0;var i=new this;return uk=!1,n.Mixins&&(gk(n.Mixins,function(e){for(var t in e)\"init\"!==t&&(n[t]=e[t])}),o.Mixins&&(n.Mixins=o.Mixins.concat(n.Mixins))),n.Methods&&gk(n.Methods.split(\",\"),function(e){n[e]=t}),n.Properties&&gk(n.Properties.split(\",\"),function(e){var t=\"_\"+e;n[e]=function(e){return e!==undefined?(this[t]=e,this):this[t]}}),n.Statics&&gk(n.Statics,function(e,t){r[t]=e}),n.Defaults&&o.Defaults&&(n.Defaults=hk({},o.Defaults,n.Defaults)),ue(n,function(e,t){var n,r;\"function\"==typeof e&&o[t]?i[t]=(n=t,r=e,function(){var e=this._super;this._super=o[n];var t=r.apply(this,arguments);return this._super=e,t}):i[t]=e}),r.prototype=i,(r.constructor=r).extend=ak,r};var yk=Math.min,bk=Math.max,Ck=Math.round,wk={serialize:function(e){var t=JSON.stringify(e);return q(t)?t.replace(/[\\u0080-\\uFFFF]/g,function(e){var t=e.charCodeAt(0).toString(16);return\"\\\\u\"+\"0000\".substring(t.length)+t}):t},parse:function(e){try{return JSON.parse(e)}catch(t){}}},xk={callbacks:{},count:0,send:function(t){var n=this,r=Eu.DOM,o=t.count!==undefined?t.count:n.count,i=\"tinymce_jsonp_\"+o;n.callbacks[o]=function(e){r.remove(i),delete n.callbacks[o],t.callback(e)},r.add(r.doc.body,\"script\",{id:i,src:t.url,type:\"text/javascript\"}),n.count++}},Sk=ke(ke({},gE),{send:function(e){var t,n=0,r=function(){!e.async||4===t.readyState||1e4<n++?(e.success&&n<1e4&&200===t.status?e.success.call(e.success_scope,\"\"+t.responseText,t,e):e.error&&e.error.call(e.error_scope,1e4<n?\"TIMED_OUT\":\"GENERAL\",t,e),t=null):qr.setTimeout(r,10)};if(e.scope=e.scope||this,e.success_scope=e.success_scope||e.scope,e.error_scope=e.error_scope||e.scope,e.async=!1!==e.async,e.data=e.data||\"\",Sk.fire(\"beforeInitialize\",{settings:e}),(t=new XMLHttpRequest).overrideMimeType&&t.overrideMimeType(e.content_type),t.open(e.type||(e.data?\"POST\":\"GET\"),e.url,e.async),e.crossDomain&&(t.withCredentials=!0),e.content_type&&t.setRequestHeader(\"Content-Type\",e.content_type),e.requestheaders&&kt.each(e.requestheaders,function(e){t.setRequestHeader(e.key,e.value)}),t.setRequestHeader(\"X-Requested-With\",\"XMLHttpRequest\"),(t=Sk.fire(\"beforeSend\",{xhr:t,settings:e}).xhr).send(e.data),!e.async)return r();qr.setTimeout(r,10)}}),Nk=kt.extend,Ek=(kk.sendRPC=function(e){return(new kk).send(e)},kk.prototype.send=function(e){var n=e.error,r=e.success,o=Nk(this.settings,e);o.success=function(e,t){void 0===(e=wk.parse(e))&&(e={error:\"JSON Parse error.\"}),e.error?n.call(o.error_scope||o.scope,e.error,t):r.call(o.success_scope||o.scope,e.result)},o.error=function(e,t){n&&n.call(o.error_scope||o.scope,e,t)},o.data=wk.serialize({id:e.id||\"c\"+this.count++,method:e.method,params:e.params}),o.content_type=\"application/json\",Sk.send(o)},kk);function kk(e){this.settings=Nk({},e),this.count=0}try{var _k,Ak=\"__storage_test__\";(_k=window.localStorage).setItem(Ak,Ak),_k.removeItem(Ak)}catch(Ok){_k=function(){return n={},r=[],e={getItem:function(e){var t=n[e];return t||null},setItem:function(e,t){r.push(e),n[e]=String(t)},key:function(e){return r[e]},removeItem:function(t){r=r.filter(function(e){return e===t}),delete n[t]},clear:function(){r=[],n={}},length:0},Object.defineProperty(e,\"length\",{get:function(){return r.length},configurable:!1,enumerable:!1}),e;var n,r,e}()}var Rk,Tk={geom:{Rect:mk},util:{Promise:Br,Delay:qr,Tools:kt,VK:ud,URI:LE,Class:vk,EventDispatcher:fE,Observable:gE,I18n:Iu,XHR:Sk,JSON:wk,JSONRequest:Ek,JSONP:xk,LocalStorage:_k,Color:function(e){var n={},u=0,s=0,c=0,t=function(e){var t;return\"object\"==typeof e?\"r\"in e?(u=e.r,s=e.g,c=e.b):\"v\"in e&&function(e,t,n){if(e=(parseInt(e,10)||0)%360,t=parseInt(t,10)/100,n=parseInt(n,10)/100,t=bk(0,yk(t,1)),n=bk(0,yk(n,1)),0!==t){var r=e/60,o=n*t,i=o*(1-Math.abs(r%2-1)),a=n-o;switch(Math.floor(r)){case 0:u=o,s=i,c=0;break;case 1:u=i,s=o,c=0;break;case 2:u=0,s=o,c=i;break;case 3:u=0,s=i,c=o;break;case 4:u=i,s=0,c=o;break;case 5:u=o,s=0,c=i;break;default:u=s=c=0}u=Ck(255*(u+a)),s=Ck(255*(s+a)),c=Ck(255*(c+a))}else u=s=c=Ck(255*n)}(e.h,e.s,e.v):(t=/rgb\\s*\\(\\s*([0-9]+)\\s*,\\s*([0-9]+)\\s*,\\s*([0-9]+)[^\\)]*\\)/gi.exec(e))?(u=parseInt(t[1],10),s=parseInt(t[2],10),c=parseInt(t[3],10)):(t=/#([0-F]{2})([0-F]{2})([0-F]{2})/gi.exec(e))?(u=parseInt(t[1],16),s=parseInt(t[2],16),c=parseInt(t[3],16)):(t=/#([0-F])([0-F])([0-F])/gi.exec(e))&&(u=parseInt(t[1]+t[1],16),s=parseInt(t[2]+t[2],16),c=parseInt(t[3]+t[3],16)),u=u<0?0:255<u?255:u,s=s<0?0:255<s?255:s,c=c<0?0:255<c?255:c,n};return e&&t(e),n.toRgb=function(){return{r:u,g:s,b:c}},n.toHsv=function(){return e=u,t=s,n=c,o=0,i=yk(e/=255,yk(t/=255,n/=255)),a=bk(e,bk(t,n)),i===a?{h:0,s:0,v:100*(o=i)}:(r=(a-i)/a,{h:Ck(60*((e===i?3:n===i?1:5)-(e===i?t-n:n===i?e-t:n-e)/((o=a)-i))),s:Ck(100*r),v:Ck(100*o)});var e,t,n,r,o,i,a},n.toHex=function(){var e=function(e){return 1<(e=parseInt(e,10).toString(16)).length?e:\"0\"+e};return\"#\"+e(u)+e(s)+e(c)},n.parse=t,n}},dom:{EventUtils:Ti,Sizzle:Ta,DomQuery:hu,TreeWalker:Xr,TextSeeker:fs,DOMUtils:Eu,ScriptLoader:Ru,RangeUtils:xd,Serializer:Ny,StyleSheetLoader:$r,ControlSelection:cd,BookmarkManager:od,Selection:Qv,Event:Ti.Event},html:{Styles:xi,Entities:ci,Node:Km,Schema:Ci,SaxParser:ip,DomParser:by,Writer:Gm,Serializer:Jm},Env:wt,AddOnManager:Uu,Annotator:td,Formatter:_b,UndoManager:Rb,EditorCommands:eE,WindowManager:ub,NotificationManager:ob,EditorObservable:CE,Shortcuts:AE,Editor:HE,FocusManager:mm,EditorManager:rk,DOM:Eu.DOM,ScriptLoader:Ru.ScriptLoader,PluginManager:ib,ThemeManager:ab,IconManager:Yy,Resource:pk,trim:kt.trim,isArray:kt.isArray,is:kt.is,toArray:kt.toArray,makeMap:kt.makeMap,each:kt.each,map:kt.map,grep:kt.grep,inArray:kt.inArray,extend:kt.extend,create:kt.create,walk:kt.walk,createNS:kt.createNS,resolve:kt.resolve,explode:kt.explode,_addCacheSuffix:kt._addCacheSuffix,isOpera:wt.opera,isWebKit:wt.webkit,isIE:wt.ie,isGecko:wt.gecko,isMac:wt.mac},Dk=kt.extend(rk,Tk);Rk=Dk,window.tinymce=Rk,window.tinyMCE=Rk,function(e){if(\"object\"==typeof module)try{module.exports=e}catch(t){}}(Dk)}();"]}]}