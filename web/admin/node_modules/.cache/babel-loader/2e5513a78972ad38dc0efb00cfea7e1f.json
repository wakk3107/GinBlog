{"remainingRequest":"C:\\Users\\wakk\\Desktop\\ginblog-master\\web\\admin\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\wakk\\Desktop\\ginblog-master\\web\\admin\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!C:\\Users\\wakk\\Desktop\\ginblog-master\\web\\admin\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\wakk\\Desktop\\ginblog-master\\web\\admin\\src\\components\\user\\UserList.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\wakk\\Desktop\\ginblog-master\\web\\admin\\src\\components\\user\\UserList.vue","mtime":1659190745733},{"path":"C:\\Users\\wakk\\Desktop\\ginblog-master\\web\\admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1659170820870},{"path":"C:\\Users\\wakk\\Desktop\\ginblog-master\\web\\admin\\node_modules\\babel-loader\\lib\\index.js","mtime":1659170823565},{"path":"C:\\Users\\wakk\\Desktop\\ginblog-master\\web\\admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1659170820870},{"path":"C:\\Users\\wakk\\Desktop\\ginblog-master\\web\\admin\\node_modules\\vue-loader\\lib\\index.js","mtime":1659170825069},{"path":"C:\\Users\\wakk\\Desktop\\ginblog-master\\web\\admin\\babel.config.js","mtime":1651118941000},{"path":"C:\\Users\\wakk\\Desktop\\ginblog-master\\web\\admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1659170820870},{"path":"C:\\Users\\wakk\\Desktop\\ginblog-master\\web\\admin\\node_modules\\babel-loader\\lib\\index.js","mtime":1659170823565},{"path":"C:\\Users\\wakk\\Desktop\\ginblog-master\\web\\admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1659170820870},{"path":"C:\\Users\\wakk\\Desktop\\ginblog-master\\web\\admin\\node_modules\\vue-loader\\lib\\index.js","mtime":1659170825069}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiQzovVXNlcnMvd2Fray9EZXNrdG9wL2dpbmJsb2ctbWFzdGVyL3dlYi9hZG1pbi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vb2JqZWN0U3ByZWFkMi5qcyI7CmltcG9ydCBfYXN5bmNUb0dlbmVyYXRvciBmcm9tICJDOi9Vc2Vycy93YWtrL0Rlc2t0b3AvZ2luYmxvZy1tYXN0ZXIvd2ViL2FkbWluL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yLmpzIjsKaW1wb3J0IF90b0NvbnN1bWFibGVBcnJheSBmcm9tICJDOi9Vc2Vycy93YWtrL0Rlc2t0b3AvZ2luYmxvZy1tYXN0ZXIvd2ViL2FkbWluL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS90b0NvbnN1bWFibGVBcnJheS5qcyI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZXJyb3IuY2F1c2UuanMiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwppbXBvcnQgZGF5IGZyb20gJ2RheWpzJzsKdmFyIGNvbHVtbnMgPSBbewogIHRpdGxlOiAnSUQnLAogIGRhdGFJbmRleDogJ0lEJywKICB3aWR0aDogJzEwJScsCiAga2V5OiAnaWQnLAogIGFsaWduOiAnY2VudGVyJwp9LCB7CiAgdGl0bGU6ICfnlKjmiLflkI0nLAogIGRhdGFJbmRleDogJ3VzZXJuYW1lJywKICB3aWR0aDogJzIwJScsCiAga2V5OiAndXNlcm5hbWUnLAogIGFsaWduOiAnY2VudGVyJwp9LCB7CiAgdGl0bGU6ICfms6jlhozml7bpl7QnLAogIGRhdGFJbmRleDogJ0NyZWF0ZWRBdCcsCiAgd2lkdGg6ICcyMCUnLAogIGtleTogJ0NyZWF0ZWRBdCcsCiAgYWxpZ246ICdjZW50ZXInLAogIGN1c3RvbVJlbmRlcjogZnVuY3Rpb24gY3VzdG9tUmVuZGVyKHZhbCkgewogICAgcmV0dXJuIHZhbCA/IGRheSh2YWwpLmZvcm1hdCgnWVlZWeW5tE1N5pyIRETml6UgSEg6bW0nKSA6ICfmmoLml6AnOwogIH0KfSwgewogIHRpdGxlOiAn6KeS6ImyJywKICBkYXRhSW5kZXg6ICdyb2xlJywKICB3aWR0aDogJzIwJScsCiAga2V5OiAncm9sZScsCiAgYWxpZ246ICdjZW50ZXInLAogIHNjb3BlZFNsb3RzOiB7CiAgICBjdXN0b21SZW5kZXI6ICdyb2xlJwogIH0KfSwgewogIHRpdGxlOiAn5pON5L2cJywKICB3aWR0aDogJzMwJScsCiAga2V5OiAnYWN0aW9uJywKICBhbGlnbjogJ2NlbnRlcicsCiAgc2NvcGVkU2xvdHM6IHsKICAgIGN1c3RvbVJlbmRlcjogJ2FjdGlvbicKICB9Cn1dOwpleHBvcnQgZGVmYXVsdCB7CiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgcmV0dXJuIHsKICAgICAgcGFnaW5hdGlvbjogewogICAgICAgIHBhZ2VTaXplT3B0aW9uczogWycyJywgJzUnLCAnMTAnLCAnMjAnXSwKICAgICAgICBwYWdlU2l6ZTogNSwKICAgICAgICB0b3RhbDogMCwKICAgICAgICBzaG93U2l6ZUNoYW5nZXI6IHRydWUsCiAgICAgICAgc2hvd1RvdGFsOiBmdW5jdGlvbiBzaG93VG90YWwodG90YWwpIHsKICAgICAgICAgIHJldHVybiAiXHU1MTcxIi5jb25jYXQodG90YWwsICJcdTY3NjEiKTsKICAgICAgICB9CiAgICAgIH0sCiAgICAgIHVzZXJsaXN0OiBbXSwKICAgICAgdXNlckluZm86IHsKICAgICAgICB1c2VybmFtZTogJycsCiAgICAgICAgcGFzc3dvcmQ6ICcnLAogICAgICAgIHJvbGU6IDIsCiAgICAgICAgY2hlY2tQYXNzOiAnJwogICAgICB9LAogICAgICBuZXdVc2VyOiB7CiAgICAgICAgdXNlcm5hbWU6ICcnLAogICAgICAgIHBhc3N3b3JkOiAnJywKICAgICAgICByb2xlOiAyLAogICAgICAgIGNoZWNrUGFzczogJycKICAgICAgfSwKICAgICAgY2hhbmdlUGFzc3dvcmQ6IHsKICAgICAgICBpZDogMCwKICAgICAgICBwYXNzd29yZDogJycsCiAgICAgICAgY2hlY2tQYXNzOiAnJwogICAgICB9LAogICAgICBjb2x1bW5zOiBjb2x1bW5zLAogICAgICBxdWVyeVBhcmFtOiB7CiAgICAgICAgdXNlcm5hbWU6ICcnLAogICAgICAgIHBhZ2VzaXplOiA1LAogICAgICAgIHBhZ2VudW06IDEKICAgICAgfSwKICAgICAgZWRpdFZpc2libGU6IGZhbHNlLAogICAgICB1c2VyUnVsZXM6IHsKICAgICAgICB1c2VybmFtZTogW3sKICAgICAgICAgIHZhbGlkYXRvcjogZnVuY3Rpb24gdmFsaWRhdG9yKHJ1bGUsIHZhbHVlLCBjYWxsYmFjaykgewogICAgICAgICAgICBpZiAoX3RoaXMudXNlckluZm8udXNlcm5hbWUgPT0gJycpIHsKICAgICAgICAgICAgICBjYWxsYmFjayhuZXcgRXJyb3IoJ+ivt+i+k+WFpeeUqOaIt+WQjScpKTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgaWYgKF90b0NvbnN1bWFibGVBcnJheShfdGhpcy51c2VySW5mby51c2VybmFtZSkubGVuZ3RoIDwgNCB8fCBfdG9Db25zdW1hYmxlQXJyYXkoX3RoaXMudXNlckluZm8udXNlcm5hbWUpLmxlbmd0aCA+IDEyKSB7CiAgICAgICAgICAgICAgY2FsbGJhY2sobmV3IEVycm9yKCfnlKjmiLflkI3lupTlvZPlnKg05YiwMTLkuKrlrZfnrKbkuYvpl7QnKSk7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgY2FsbGJhY2soKTsKICAgICAgICAgICAgfQogICAgICAgICAgfSwKICAgICAgICAgIHRyaWdnZXI6ICdibHVyJwogICAgICAgIH1dLAogICAgICAgIHBhc3N3b3JkOiBbewogICAgICAgICAgdmFsaWRhdG9yOiBmdW5jdGlvbiB2YWxpZGF0b3IocnVsZSwgdmFsdWUsIGNhbGxiYWNrKSB7CiAgICAgICAgICAgIGlmIChfdGhpcy51c2VySW5mby5wYXNzd29yZCA9PSAnJykgewogICAgICAgICAgICAgIGNhbGxiYWNrKG5ldyBFcnJvcign6K+36L6T5YWl5a+G56CBJykpOwogICAgICAgICAgICB9CgogICAgICAgICAgICBpZiAoX3RvQ29uc3VtYWJsZUFycmF5KF90aGlzLnVzZXJJbmZvLnBhc3N3b3JkKS5sZW5ndGggPCA2IHx8IF90b0NvbnN1bWFibGVBcnJheShfdGhpcy51c2VySW5mby5wYXNzd29yZCkubGVuZ3RoID4gMjApIHsKICAgICAgICAgICAgICBjYWxsYmFjayhuZXcgRXJyb3IoJ+WvhueggeW6lOW9k+WcqDbliLAyMOS9jeS5i+mXtCcpKTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICBjYWxsYmFjaygpOwogICAgICAgICAgICB9CiAgICAgICAgICB9LAogICAgICAgICAgdHJpZ2dlcjogJ2JsdXInCiAgICAgICAgfV0sCiAgICAgICAgY2hlY2twYXNzOiBbewogICAgICAgICAgdmFsaWRhdG9yOiBmdW5jdGlvbiB2YWxpZGF0b3IocnVsZSwgdmFsdWUsIGNhbGxiYWNrKSB7CiAgICAgICAgICAgIGlmIChfdGhpcy51c2VySW5mby5jaGVja3Bhc3MgPT0gJycpIHsKICAgICAgICAgICAgICBjYWxsYmFjayhuZXcgRXJyb3IoJ+ivt+i+k+WFpeWvhueggScpKTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgaWYgKF90aGlzLnVzZXJJbmZvLnBhc3N3b3JkICE9PSBfdGhpcy51c2VySW5mby5jaGVja3Bhc3MpIHsKICAgICAgICAgICAgICBjYWxsYmFjayhuZXcgRXJyb3IoJ+WvhueggeS4jeS4gOiHtO+8jOivt+mHjeaWsOi+k+WFpScpKTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICBjYWxsYmFjaygpOwogICAgICAgICAgICB9CiAgICAgICAgICB9LAogICAgICAgICAgdHJpZ2dlcjogJ2JsdXInCiAgICAgICAgfV0KICAgICAgfSwKICAgICAgYWRkVXNlclJ1bGVzOiB7CiAgICAgICAgdXNlcm5hbWU6IFt7CiAgICAgICAgICB2YWxpZGF0b3I6IGZ1bmN0aW9uIHZhbGlkYXRvcihydWxlLCB2YWx1ZSwgY2FsbGJhY2spIHsKICAgICAgICAgICAgaWYgKF90aGlzLm5ld1VzZXIudXNlcm5hbWUgPT0gJycpIHsKICAgICAgICAgICAgICBjYWxsYmFjayhuZXcgRXJyb3IoJ+ivt+i+k+WFpeeUqOaIt+WQjScpKTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgaWYgKF90b0NvbnN1bWFibGVBcnJheShfdGhpcy5uZXdVc2VyLnVzZXJuYW1lKS5sZW5ndGggPCA0IHx8IF90b0NvbnN1bWFibGVBcnJheShfdGhpcy5uZXdVc2VyLnVzZXJuYW1lKS5sZW5ndGggPiAxMikgewogICAgICAgICAgICAgIGNhbGxiYWNrKG5ldyBFcnJvcign55So5oi35ZCN5bqU5b2T5ZyoNOWIsDEy5Liq5a2X56ym5LmL6Ze0JykpOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgIGNhbGxiYWNrKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0sCiAgICAgICAgICB0cmlnZ2VyOiAnYmx1cicKICAgICAgICB9XSwKICAgICAgICBwYXNzd29yZDogW3sKICAgICAgICAgIHZhbGlkYXRvcjogZnVuY3Rpb24gdmFsaWRhdG9yKHJ1bGUsIHZhbHVlLCBjYWxsYmFjaykgewogICAgICAgICAgICBpZiAoX3RoaXMubmV3VXNlci5wYXNzd29yZCA9PSAnJykgewogICAgICAgICAgICAgIGNhbGxiYWNrKG5ldyBFcnJvcign6K+36L6T5YWl5a+G56CBJykpOwogICAgICAgICAgICB9CgogICAgICAgICAgICBpZiAoX3RvQ29uc3VtYWJsZUFycmF5KF90aGlzLm5ld1VzZXIucGFzc3dvcmQpLmxlbmd0aCA8IDYgfHwgX3RvQ29uc3VtYWJsZUFycmF5KF90aGlzLm5ld1VzZXIucGFzc3dvcmQpLmxlbmd0aCA+IDIwKSB7CiAgICAgICAgICAgICAgY2FsbGJhY2sobmV3IEVycm9yKCflr4bnoIHlupTlvZPlnKg25YiwMjDkvY3kuYvpl7QnKSk7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgY2FsbGJhY2soKTsKICAgICAgICAgICAgfQogICAgICAgICAgfSwKICAgICAgICAgIHRyaWdnZXI6ICdibHVyJwogICAgICAgIH1dLAogICAgICAgIGNoZWNrcGFzczogW3sKICAgICAgICAgIHZhbGlkYXRvcjogZnVuY3Rpb24gdmFsaWRhdG9yKHJ1bGUsIHZhbHVlLCBjYWxsYmFjaykgewogICAgICAgICAgICBpZiAoX3RoaXMubmV3VXNlci5jaGVja3Bhc3MgPT0gJycpIHsKICAgICAgICAgICAgICBjYWxsYmFjayhuZXcgRXJyb3IoJ+ivt+i+k+WFpeWvhueggScpKTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgaWYgKF90aGlzLm5ld1VzZXIucGFzc3dvcmQgIT09IF90aGlzLm5ld1VzZXIuY2hlY2twYXNzKSB7CiAgICAgICAgICAgICAgY2FsbGJhY2sobmV3IEVycm9yKCflr4bnoIHkuI3kuIDoh7TvvIzor7fph43mlrDovpPlhaUnKSk7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgY2FsbGJhY2soKTsKICAgICAgICAgICAgfQogICAgICAgICAgfSwKICAgICAgICAgIHRyaWdnZXI6ICdibHVyJwogICAgICAgIH1dCiAgICAgIH0sCiAgICAgIGNoYW5nZVBhc3N3b3JkUnVsZXM6IHsKICAgICAgICBwYXNzd29yZDogW3sKICAgICAgICAgIHZhbGlkYXRvcjogZnVuY3Rpb24gdmFsaWRhdG9yKHJ1bGUsIHZhbHVlLCBjYWxsYmFjaykgewogICAgICAgICAgICBpZiAoX3RoaXMuY2hhbmdlUGFzc3dvcmQucGFzc3dvcmQgPT0gJycpIHsKICAgICAgICAgICAgICBjYWxsYmFjayhuZXcgRXJyb3IoJ+ivt+i+k+WFpeWvhueggScpKTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgaWYgKF90b0NvbnN1bWFibGVBcnJheShfdGhpcy5jaGFuZ2VQYXNzd29yZC5wYXNzd29yZCkubGVuZ3RoIDwgNiB8fCBfdG9Db25zdW1hYmxlQXJyYXkoX3RoaXMuY2hhbmdlUGFzc3dvcmQucGFzc3dvcmQpLmxlbmd0aCA+IDIwKSB7CiAgICAgICAgICAgICAgY2FsbGJhY2sobmV3IEVycm9yKCflr4bnoIHlupTlvZPlnKg25YiwMjDkvY3kuYvpl7QnKSk7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgY2FsbGJhY2soKTsKICAgICAgICAgICAgfQogICAgICAgICAgfSwKICAgICAgICAgIHRyaWdnZXI6ICdibHVyJwogICAgICAgIH1dLAogICAgICAgIGNoZWNrcGFzczogW3sKICAgICAgICAgIHZhbGlkYXRvcjogZnVuY3Rpb24gdmFsaWRhdG9yKHJ1bGUsIHZhbHVlLCBjYWxsYmFjaykgewogICAgICAgICAgICBpZiAoX3RoaXMuY2hhbmdlUGFzc3dvcmQuY2hlY2twYXNzID09ICcnKSB7CiAgICAgICAgICAgICAgY2FsbGJhY2sobmV3IEVycm9yKCfor7fovpPlhaXlr4bnoIEnKSk7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGlmIChfdGhpcy5jaGFuZ2VQYXNzd29yZC5wYXNzd29yZCAhPT0gX3RoaXMuY2hhbmdlUGFzc3dvcmQuY2hlY2twYXNzKSB7CiAgICAgICAgICAgICAgY2FsbGJhY2sobmV3IEVycm9yKCflr4bnoIHkuI3kuIDoh7TvvIzor7fph43mlrDovpPlhaUnKSk7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgY2FsbGJhY2soKTsKICAgICAgICAgICAgfQogICAgICAgICAgfSwKICAgICAgICAgIHRyaWdnZXI6ICdibHVyJwogICAgICAgIH1dCiAgICAgIH0sCiAgICAgIGVkaXRVc2VyVmlzaWJsZTogZmFsc2UsCiAgICAgIGFkZFVzZXJWaXNpYmxlOiBmYWxzZSwKICAgICAgY2hhbmdlUGFzc3dvcmRWaXNpYmxlOiBmYWxzZQogICAgfTsKICB9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICB0aGlzLmdldFVzZXJMaXN0KCk7CiAgfSwKICBjb21wdXRlZDogewogICAgSXNBZG1pbjogZnVuY3Rpb24gSXNBZG1pbigpIHsKICAgICAgaWYgKHRoaXMudXNlckluZm8ucm9sZSA9PT0gMSkgewogICAgICAgIHJldHVybiB0cnVlOwogICAgICB9IGVsc2UgewogICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgfQogICAgfQogIH0sCiAgbWV0aG9kczogewogICAgLy8g6I635Y+W55So5oi35YiX6KGoCiAgICBnZXRVc2VyTGlzdDogZnVuY3Rpb24gZ2V0VXNlckxpc3QoKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgICB2YXIgX3lpZWxkJF90aGlzMiQkaHR0cCRnLCByZXM7CgogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAyOwogICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzMi4kaHR0cC5nZXQoJ3VzZXIvZ2V0dXNlcnMnLCB7CiAgICAgICAgICAgICAgICAgIHBhcmFtczogewogICAgICAgICAgICAgICAgICAgIHVzZXJuYW1lOiBfdGhpczIucXVlcnlQYXJhbS51c2VybmFtZSwKICAgICAgICAgICAgICAgICAgICBwYWdlc2l6ZTogX3RoaXMyLnF1ZXJ5UGFyYW0ucGFnZXNpemUsCiAgICAgICAgICAgICAgICAgICAgcGFnZW51bTogX3RoaXMyLnF1ZXJ5UGFyYW0ucGFnZW51bQogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgICAgX3lpZWxkJF90aGlzMiQkaHR0cCRnID0gX2NvbnRleHQuc2VudDsKICAgICAgICAgICAgICAgIHJlcyA9IF95aWVsZCRfdGhpczIkJGh0dHAkZy5kYXRhOwoKICAgICAgICAgICAgICAgIGlmIChyZXMuc3RhdHVzICE9PSAyMDApIHsKICAgICAgICAgICAgICAgICAgaWYgKHJlcy5zdGF0dXMgPT09IDEwMDQgfHwgMTAwNSB8fCAxMDA2IHx8IDEwMDcpIHsKICAgICAgICAgICAgICAgICAgICB3aW5kb3cuc2Vzc2lvblN0b3JhZ2UuY2xlYXIoKTsKCiAgICAgICAgICAgICAgICAgICAgX3RoaXMyLiRyb3V0ZXIucHVzaCgnL2xvZ2luJyk7CiAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgIF90aGlzMi4kbWVzc2FnZS5lcnJvcihyZXMubWVzc2FnZSk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgX3RoaXMyLnVzZXJsaXN0ID0gcmVzLmRhdGE7CiAgICAgICAgICAgICAgICBfdGhpczIucGFnaW5hdGlvbi50b3RhbCA9IHJlcy50b3RhbDsKCiAgICAgICAgICAgICAgY2FzZSA3OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZSk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIC8vIOaQnOe0oueUqOaItwogICAgc2VhcmNoVXNlcjogZnVuY3Rpb24gc2VhcmNoVXNlcigpIHsKICAgICAgdmFyIF90aGlzMyA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMigpIHsKICAgICAgICB2YXIgX3lpZWxkJF90aGlzMyQkaHR0cCRnLCByZXM7CgogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMiQoX2NvbnRleHQyKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Mi5wcmV2ID0gX2NvbnRleHQyLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfdGhpczMucXVlcnlQYXJhbS5wYWdlbnVtID0gMTsKICAgICAgICAgICAgICAgIF90aGlzMy5wYWdpbmF0aW9uLmN1cnJlbnQgPSAxOwogICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSA0OwogICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzMy4kaHR0cC5nZXQoJ3VzZXIvZ2V0dXNlcnMnLCB7CiAgICAgICAgICAgICAgICAgIHBhcmFtczogewogICAgICAgICAgICAgICAgICAgIHVzZXJuYW1lOiBfdGhpczMucXVlcnlQYXJhbS51c2VybmFtZSwKICAgICAgICAgICAgICAgICAgICBwYWdlc2l6ZTogX3RoaXMzLnF1ZXJ5UGFyYW0ucGFnZXNpemUsCiAgICAgICAgICAgICAgICAgICAgcGFnZW51bTogX3RoaXMzLnF1ZXJ5UGFyYW0ucGFnZW51bQogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICAgICAgX3lpZWxkJF90aGlzMyQkaHR0cCRnID0gX2NvbnRleHQyLnNlbnQ7CiAgICAgICAgICAgICAgICByZXMgPSBfeWllbGQkX3RoaXMzJCRodHRwJGcuZGF0YTsKCiAgICAgICAgICAgICAgICBpZiAoIShyZXMuc3RhdHVzICE9PSAyMDApKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gODsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5hYnJ1cHQoInJldHVybiIsIF90aGlzMy4kbWVzc2FnZS5lcnJvcihyZXMubWVzc2FnZSkpOwoKICAgICAgICAgICAgICBjYXNlIDg6CiAgICAgICAgICAgICAgICBfdGhpczMudXNlcmxpc3QgPSByZXMuZGF0YTsKICAgICAgICAgICAgICAgIF90aGlzMy5wYWdpbmF0aW9uLnRvdGFsID0gcmVzLnRvdGFsOwoKICAgICAgICAgICAgICBjYXNlIDEwOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUyKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgLy8g5pu05pS55YiG6aG1CiAgICBoYW5kbGVUYWJsZUNoYW5nZTogZnVuY3Rpb24gaGFuZGxlVGFibGVDaGFuZ2UocGFnaW5hdGlvbiwgZmlsdGVycywgc29ydGVyKSB7CiAgICAgIHZhciBwYWdlciA9IF9vYmplY3RTcHJlYWQoe30sIHRoaXMucGFnaW5hdGlvbik7CgogICAgICBwYWdlci5jdXJyZW50ID0gcGFnaW5hdGlvbi5jdXJyZW50OwogICAgICBwYWdlci5wYWdlU2l6ZSA9IHBhZ2luYXRpb24ucGFnZVNpemU7CiAgICAgIHRoaXMucXVlcnlQYXJhbS5wYWdlc2l6ZSA9IHBhZ2luYXRpb24ucGFnZVNpemU7CiAgICAgIHRoaXMucXVlcnlQYXJhbS5wYWdlbnVtID0gcGFnaW5hdGlvbi5jdXJyZW50OwoKICAgICAgaWYgKHBhZ2luYXRpb24ucGFnZVNpemUgIT09IHRoaXMucGFnaW5hdGlvbi5wYWdlU2l6ZSkgewogICAgICAgIHRoaXMucXVlcnlQYXJhbS5wYWdlbnVtID0gMTsKICAgICAgICBwYWdlci5jdXJyZW50ID0gMTsKICAgICAgfQoKICAgICAgdGhpcy5wYWdpbmF0aW9uID0gcGFnZXI7CiAgICAgIHRoaXMuZ2V0VXNlckxpc3QoKTsKICAgIH0sCiAgICAvLyDliKDpmaTnlKjmiLcKICAgIGRlbGV0ZVVzZXI6IGZ1bmN0aW9uIGRlbGV0ZVVzZXIoaWQpIHsKICAgICAgdmFyIF90aGlzNCA9IHRoaXM7CgogICAgICB0aGlzLiRjb25maXJtKHsKICAgICAgICB0aXRsZTogJ+aPkOekuu+8muivt+WGjeasoeehruiupCcsCiAgICAgICAgY29udGVudDogJ+ehruWumuimgeWIoOmZpOivpeeUqOaIt+WQl++8n+S4gOaXpuWIoOmZpO+8jOaXoOazleaBouWkjScsCiAgICAgICAgb25PazogZnVuY3Rpb24gKCkgewogICAgICAgICAgdmFyIF9vbk9rID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMygpIHsKICAgICAgICAgICAgdmFyIF95aWVsZCRfdGhpczQkJGh0dHAkZCwgcmVzOwoKICAgICAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUzJChfY29udGV4dDMpIHsKICAgICAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDMucHJldiA9IF9jb250ZXh0My5uZXh0KSB7CiAgICAgICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDI7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzNC4kaHR0cC5kZWxldGUoInVzZXIvIi5jb25jYXQoaWQpKTsKCiAgICAgICAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICAgICAgICBfeWllbGQkX3RoaXM0JCRodHRwJGQgPSBfY29udGV4dDMuc2VudDsKICAgICAgICAgICAgICAgICAgICByZXMgPSBfeWllbGQkX3RoaXM0JCRodHRwJGQuZGF0YTsKCiAgICAgICAgICAgICAgICAgICAgaWYgKCEocmVzLnN0YXR1cyAhPSAyMDApKSB7CiAgICAgICAgICAgICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDY7CiAgICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDMuYWJydXB0KCJyZXR1cm4iLCBfdGhpczQuJG1lc3NhZ2UuZXJyb3IocmVzLm1lc3NhZ2UpKTsKCiAgICAgICAgICAgICAgICAgIGNhc2UgNjoKICAgICAgICAgICAgICAgICAgICBfdGhpczQuJG1lc3NhZ2Uuc3VjY2Vzcygn5Yig6Zmk5oiQ5YqfJyk7CgogICAgICAgICAgICAgICAgICAgIF90aGlzNC5nZXRVc2VyTGlzdCgpOwoKICAgICAgICAgICAgICAgICAgY2FzZSA4OgogICAgICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDMuc3RvcCgpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSwgX2NhbGxlZTMpOwogICAgICAgICAgfSkpOwoKICAgICAgICAgIGZ1bmN0aW9uIG9uT2soKSB7CiAgICAgICAgICAgIHJldHVybiBfb25Pay5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICAgICAgfQoKICAgICAgICAgIHJldHVybiBvbk9rOwogICAgICAgIH0oKSwKICAgICAgICBvbkNhbmNlbDogZnVuY3Rpb24gb25DYW5jZWwoKSB7CiAgICAgICAgICBfdGhpczQuJG1lc3NhZ2UuaW5mbygn5bey5Y+W5raI5Yig6ZmkJyk7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICAvLyDmlrDlop7nlKjmiLcKICAgIGFkZFVzZXJPazogZnVuY3Rpb24gYWRkVXNlck9rKCkgewogICAgICB2YXIgX3RoaXM1ID0gdGhpczsKCiAgICAgIHRoaXMuJHJlZnMuYWRkVXNlclJlZi52YWxpZGF0ZSggLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHsKICAgICAgICB2YXIgX3JlZiA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTQodmFsaWQpIHsKICAgICAgICAgIHZhciBfeWllbGQkX3RoaXM1JCRodHRwJHAsIHJlczsKCiAgICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTQkKF9jb250ZXh0NCkgewogICAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ0LnByZXYgPSBfY29udGV4dDQubmV4dCkgewogICAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgICBpZiAodmFsaWQpIHsKICAgICAgICAgICAgICAgICAgICBfY29udGV4dDQubmV4dCA9IDI7CiAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDQuYWJydXB0KCJyZXR1cm4iLCBfdGhpczUuJG1lc3NhZ2UuZXJyb3IoJ+WPguaVsOS4jeespuWQiOimgeaxgu+8jOivt+mHjeaWsOi+k+WFpScpKTsKCiAgICAgICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0NC5uZXh0ID0gNDsKICAgICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzNS4kaHR0cC5wb3N0KCd1c2VyL2FkZCcsIHsKICAgICAgICAgICAgICAgICAgICB1c2VybmFtZTogX3RoaXM1Lm5ld1VzZXIudXNlcm5hbWUsCiAgICAgICAgICAgICAgICAgICAgcGFzc3dvcmQ6IF90aGlzNS5uZXdVc2VyLnBhc3N3b3JkLAogICAgICAgICAgICAgICAgICAgIHJvbGU6IHBhcnNlSW50KF90aGlzNS5uZXdVc2VyLnJvbGUpCiAgICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgICAgICAgX3lpZWxkJF90aGlzNSQkaHR0cCRwID0gX2NvbnRleHQ0LnNlbnQ7CiAgICAgICAgICAgICAgICAgIHJlcyA9IF95aWVsZCRfdGhpczUkJGh0dHAkcC5kYXRhOwoKICAgICAgICAgICAgICAgICAgaWYgKCEocmVzLnN0YXR1cyAhPSAyMDApKSB7CiAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQ0Lm5leHQgPSA4OwogICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ0LmFicnVwdCgicmV0dXJuIiwgX3RoaXM1LiRtZXNzYWdlLmVycm9yKHJlcy5tZXNzYWdlKSk7CgogICAgICAgICAgICAgICAgY2FzZSA4OgogICAgICAgICAgICAgICAgICBfdGhpczUuJHJlZnMuYWRkVXNlclJlZi5yZXNldEZpZWxkcygpOwoKICAgICAgICAgICAgICAgICAgX3RoaXM1LmFkZFVzZXJWaXNpYmxlID0gZmFsc2U7CgogICAgICAgICAgICAgICAgICBfdGhpczUuJG1lc3NhZ2Uuc3VjY2Vzcygn5re75Yqg55So5oi35oiQ5YqfJyk7CgogICAgICAgICAgICAgICAgICBfdGhpczUuZ2V0VXNlckxpc3QoKTsKCiAgICAgICAgICAgICAgICBjYXNlIDEyOgogICAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NC5zdG9wKCk7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICB9LCBfY2FsbGVlNCk7CiAgICAgICAgfSkpOwoKICAgICAgICByZXR1cm4gZnVuY3Rpb24gKF94KSB7CiAgICAgICAgICByZXR1cm4gX3JlZi5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICAgIH07CiAgICAgIH0oKSk7CiAgICB9LAogICAgYWRkVXNlckNhbmNlbDogZnVuY3Rpb24gYWRkVXNlckNhbmNlbCgpIHsKICAgICAgdGhpcy4kcmVmcy5hZGRVc2VyUmVmLnJlc2V0RmllbGRzKCk7CiAgICAgIHRoaXMuYWRkVXNlclZpc2libGUgPSBmYWxzZTsKICAgICAgdGhpcy4kbWVzc2FnZS5pbmZvKCfmlrDlop7nlKjmiLflt7Llj5bmtognKTsKICAgIH0sCiAgICBOZXdhZG1pbkNoYW5nZTogZnVuY3Rpb24gTmV3YWRtaW5DaGFuZ2UodmFsKSB7CiAgICAgIHRoaXMubmV3VXNlci5yb2xlID0gdmFsOwogICAgfSwKICAgIGFkbWluQ2hhbmdlOiBmdW5jdGlvbiBhZG1pbkNoYW5nZShjaGVja2VkKSB7CiAgICAgIGlmIChjaGVja2VkKSB7CiAgICAgICAgdGhpcy51c2VySW5mby5yb2xlID0gMTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLnVzZXJJbmZvLnJvbGUgPSAyOwogICAgICB9CiAgICB9LAogICAgLy8g57yW6L6R55So5oi3CiAgICBlZGl0VXNlcjogZnVuY3Rpb24gZWRpdFVzZXIoaWQpIHsKICAgICAgdmFyIF90aGlzNiA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlNSgpIHsKICAgICAgICB2YXIgX3lpZWxkJF90aGlzNiQkaHR0cCRnLCByZXM7CgogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlNSQoX2NvbnRleHQ1KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0NS5wcmV2ID0gX2NvbnRleHQ1Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfdGhpczYuZWRpdFVzZXJWaXNpYmxlID0gdHJ1ZTsKICAgICAgICAgICAgICAgIF9jb250ZXh0NS5uZXh0ID0gMzsKICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczYuJGh0dHAuZ2V0KCJ1c2VyLyIuY29uY2F0KGlkKSk7CgogICAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICAgIF95aWVsZCRfdGhpczYkJGh0dHAkZyA9IF9jb250ZXh0NS5zZW50OwogICAgICAgICAgICAgICAgcmVzID0gX3lpZWxkJF90aGlzNiQkaHR0cCRnLmRhdGE7CiAgICAgICAgICAgICAgICBfdGhpczYudXNlckluZm8gPSByZXMuZGF0YTsKICAgICAgICAgICAgICAgIF90aGlzNi51c2VySW5mby5pZCA9IGlkOwoKICAgICAgICAgICAgICBjYXNlIDc6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDUuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTUpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBlZGl0VXNlck9rOiBmdW5jdGlvbiBlZGl0VXNlck9rKCkgewogICAgICB2YXIgX3RoaXM3ID0gdGhpczsKCiAgICAgIHRoaXMuJHJlZnMuYWRkVXNlclJlZi52YWxpZGF0ZSggLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHsKICAgICAgICB2YXIgX3JlZjIgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU2KHZhbGlkKSB7CiAgICAgICAgICB2YXIgX3lpZWxkJF90aGlzNyQkaHR0cCRwLCByZXM7CgogICAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU2JChfY29udGV4dDYpIHsKICAgICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Ni5wcmV2ID0gX2NvbnRleHQ2Lm5leHQpIHsKICAgICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgICAgaWYgKHZhbGlkKSB7CiAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQ2Lm5leHQgPSAyOwogICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ2LmFicnVwdCgicmV0dXJuIiwgX3RoaXM3LiRtZXNzYWdlLmVycm9yKCflj4LmlbDkuI3nrKblkIjopoHmsYLvvIzor7fph43mlrDovpPlhaUnKSk7CgogICAgICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhfdGhpczcudXNlckluZm8uaWQpOwogICAgICAgICAgICAgICAgICBfY29udGV4dDYubmV4dCA9IDU7CiAgICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczcuJGh0dHAucHV0KCJ1c2VyLyIuY29uY2F0KF90aGlzNy51c2VySW5mby5pZCksIHsKICAgICAgICAgICAgICAgICAgICB1c2VybmFtZTogX3RoaXM3LnVzZXJJbmZvLnVzZXJuYW1lLAogICAgICAgICAgICAgICAgICAgIHJvbGU6IF90aGlzNy51c2VySW5mby5yb2xlCiAgICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgICAgICAgX3lpZWxkJF90aGlzNyQkaHR0cCRwID0gX2NvbnRleHQ2LnNlbnQ7CiAgICAgICAgICAgICAgICAgIHJlcyA9IF95aWVsZCRfdGhpczckJGh0dHAkcC5kYXRhOwoKICAgICAgICAgICAgICAgICAgaWYgKCEocmVzLnN0YXR1cyAhPSAyMDApKSB7CiAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQ2Lm5leHQgPSA5OwogICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ2LmFicnVwdCgicmV0dXJuIiwgX3RoaXM3LiRtZXNzYWdlLmVycm9yKHJlcy5tZXNzYWdlKSk7CgogICAgICAgICAgICAgICAgY2FzZSA5OgogICAgICAgICAgICAgICAgICBfdGhpczcuZWRpdFVzZXJWaXNpYmxlID0gZmFsc2U7CgogICAgICAgICAgICAgICAgICBfdGhpczcuJG1lc3NhZ2Uuc3VjY2Vzcygn5pu05paw55So5oi35L+h5oGv5oiQ5YqfJyk7CgogICAgICAgICAgICAgICAgICBfdGhpczcuZ2V0VXNlckxpc3QoKTsKCiAgICAgICAgICAgICAgICBjYXNlIDEyOgogICAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Ni5zdG9wKCk7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICB9LCBfY2FsbGVlNik7CiAgICAgICAgfSkpOwoKICAgICAgICByZXR1cm4gZnVuY3Rpb24gKF94MikgewogICAgICAgICAgcmV0dXJuIF9yZWYyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgICAgfTsKICAgICAgfSgpKTsKICAgIH0sCiAgICBlZGl0VXNlckNhbmNlbDogZnVuY3Rpb24gZWRpdFVzZXJDYW5jZWwoKSB7CiAgICAgIHRoaXMuJHJlZnMuYWRkVXNlclJlZi5yZXNldEZpZWxkcygpOwogICAgICB0aGlzLmVkaXRVc2VyVmlzaWJsZSA9IGZhbHNlOwogICAgICB0aGlzLiRtZXNzYWdlLmluZm8oJ+e8lui+keW3suWPlua2iCcpOwogICAgfSwKICAgIC8vIOS/ruaUueWvhueggQogICAgQ2hhbmdlUGFzc3dvcmQ6IGZ1bmN0aW9uIENoYW5nZVBhc3N3b3JkKGlkKSB7CiAgICAgIHZhciBfdGhpczggPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTcoKSB7CiAgICAgICAgdmFyIF95aWVsZCRfdGhpczgkJGh0dHAkZywgcmVzOwoKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTckKF9jb250ZXh0NykgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDcucHJldiA9IF9jb250ZXh0Ny5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX3RoaXM4LmNoYW5nZVBhc3N3b3JkVmlzaWJsZSA9IHRydWU7CiAgICAgICAgICAgICAgICBfY29udGV4dDcubmV4dCA9IDM7CiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXM4LiRodHRwLmdldCgidXNlci8iLmNvbmNhdChpZCkpOwoKICAgICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgICBfeWllbGQkX3RoaXM4JCRodHRwJGcgPSBfY29udGV4dDcuc2VudDsKICAgICAgICAgICAgICAgIHJlcyA9IF95aWVsZCRfdGhpczgkJGh0dHAkZy5kYXRhOwogICAgICAgICAgICAgICAgX3RoaXM4LmNoYW5nZVBhc3N3b3JkLmlkID0gaWQ7CgogICAgICAgICAgICAgIGNhc2UgNjoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Ny5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlNyk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIGNoYW5nZVBhc3N3b3JkT2s6IGZ1bmN0aW9uIGNoYW5nZVBhc3N3b3JkT2soKSB7CiAgICAgIHZhciBfdGhpczkgPSB0aGlzOwoKICAgICAgdGhpcy4kcmVmcy5jaGFuZ2VQYXNzd29yZFJlZi52YWxpZGF0ZSggLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHsKICAgICAgICB2YXIgX3JlZjMgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU4KHZhbGlkKSB7CiAgICAgICAgICB2YXIgX3lpZWxkJF90aGlzOSQkaHR0cCRwLCByZXM7CgogICAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU4JChfY29udGV4dDgpIHsKICAgICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0OC5wcmV2ID0gX2NvbnRleHQ4Lm5leHQpIHsKICAgICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgICAgaWYgKHZhbGlkKSB7CiAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQ4Lm5leHQgPSAyOwogICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ4LmFicnVwdCgicmV0dXJuIiwgX3RoaXM5LiRtZXNzYWdlLmVycm9yKCflj4LmlbDkuI3nrKblkIjopoHmsYLvvIzor7fph43mlrDovpPlhaUnKSk7CgogICAgICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgICAgICBfY29udGV4dDgubmV4dCA9IDQ7CiAgICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczkuJGh0dHAucHV0KCJhZG1pbi9jaGFuZ2Vwdy8iLmNvbmNhdChfdGhpczkuY2hhbmdlUGFzc3dvcmQuaWQpLCB7CiAgICAgICAgICAgICAgICAgICAgcGFzc3dvcmQ6IF90aGlzOS5jaGFuZ2VQYXNzd29yZC5wYXNzd29yZAogICAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgICAgICAgIF95aWVsZCRfdGhpczkkJGh0dHAkcCA9IF9jb250ZXh0OC5zZW50OwogICAgICAgICAgICAgICAgICByZXMgPSBfeWllbGQkX3RoaXM5JCRodHRwJHAuZGF0YTsKCiAgICAgICAgICAgICAgICAgIGlmICghKHJlcy5zdGF0dXMgIT0gMjAwKSkgewogICAgICAgICAgICAgICAgICAgIF9jb250ZXh0OC5uZXh0ID0gODsKICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0OC5hYnJ1cHQoInJldHVybiIsIF90aGlzOS4kbWVzc2FnZS5lcnJvcihyZXMubWVzc2FnZSkpOwoKICAgICAgICAgICAgICAgIGNhc2UgODoKICAgICAgICAgICAgICAgICAgX3RoaXM5LmNoYW5nZVBhc3N3b3JkVmlzaWJsZSA9IGZhbHNlOwoKICAgICAgICAgICAgICAgICAgX3RoaXM5LiRtZXNzYWdlLnN1Y2Nlc3MoJ+S/ruaUueWvhueggeaIkOWKnycpOwoKICAgICAgICAgICAgICAgICAgX3RoaXM5LmdldFVzZXJMaXN0KCk7CgogICAgICAgICAgICAgICAgY2FzZSAxMToKICAgICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDguc3RvcCgpOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgfSwgX2NhbGxlZTgpOwogICAgICAgIH0pKTsKCiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChfeDMpIHsKICAgICAgICAgIHJldHVybiBfcmVmMy5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICAgIH07CiAgICAgIH0oKSk7CiAgICB9LAogICAgY2hhbmdlUGFzc3dvcmRDYW5jZWw6IGZ1bmN0aW9uIGNoYW5nZVBhc3N3b3JkQ2FuY2VsKCkgewogICAgICB0aGlzLiRyZWZzLmNoYW5nZVBhc3N3b3JkUmVmLnJlc2V0RmllbGRzKCk7CiAgICAgIHRoaXMuY2hhbmdlUGFzc3dvcmRWaXNpYmxlID0gZmFsc2U7CiAgICAgIHRoaXMuJG1lc3NhZ2UuaW5mbygn5bey5Y+W5raIJyk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"mappings":"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","names":["title","dataIndex","width","key","align","customRender","scopedSlots","data","pagination","pageSizeOptions","pageSize","total","showSizeChanger","showTotal","userlist","userInfo","username","password","role","checkPass","newUser","changePassword","id","columns","queryParam","pagesize","pagenum","editVisible","userRules","validator","callback","trigger","checkpass","addUserRules","changePasswordRules","editUserVisible","addUserVisible","changePasswordVisible","created","computed","IsAdmin","methods","getUserList","params","res","window","searchUser","handleTableChange","filters","sorter","pager","deleteUser","content","onOk","onCancel","addUserOk","valid","addUserCancel","NewadminChange","val","adminChange","checked","editUser","editUserOk","console","editUserCancel","ChangePassword","changePasswordOk","changePasswordCancel"],"sourceRoot":"src/components/user","sources":["UserList.vue"],"sourcesContent":["<template>\n  <div>\n    <a-card>\n      <a-row :gutter=\"20\">\n        <a-col :span=\"6\">\n          <a-input-search\n            v-model=\"queryParam.username\"\n            placeholder=\"输入用户名查找\"\n            enter-button\n            allowClear\n            @search=\"searchUser\"\n          />\n        </a-col>\n        <a-col :span=\"4\">\n          <a-button type=\"primary\" @click=\"addUserVisible = true\">新增</a-button>\n        </a-col>\n      </a-row>\n\n      <a-table\n        rowKey=\"ID\"\n        :columns=\"columns\"\n        :pagination=\"pagination\"\n        :dataSource=\"userlist\"\n        bordered\n        @change=\"handleTableChange\"\n      >\n        <span slot=\"role\" slot-scope=\"data\">{{ data == 1 ? '管理员' : '订阅者' }}</span>\n        <template slot=\"action\" slot-scope=\"data\">\n          <div class=\"actionSlot\">\n            <a-button type=\"primary\" icon=\"edit\" style=\"margin-right: 15px\" @click=\"editUser(data.ID)\">编辑</a-button>\n            <a-button type=\"danger\" icon=\"delete\" style=\"margin-right: 15px\" @click=\"deleteUser(data.ID)\"\n              >删除</a-button\n            >\n            <a-button type=\"info\" icon=\"info\" @click=\"ChangePassword(data.ID)\">修改密码</a-button>\n          </div>\n        </template>\n      </a-table>\n    </a-card>\n\n    <!-- 新增用户区域 -->\n    <a-modal\n      closable\n      title=\"新增用户\"\n      :visible=\"addUserVisible\"\n      width=\"60%\"\n      @ok=\"addUserOk\"\n      @cancel=\"addUserCancel\"\n      destroyOnClose\n    >\n      <a-form-model :model=\"newUser\" :rules=\"addUserRules\" ref=\"addUserRef\">\n        <a-form-model-item label=\"用户名\" prop=\"username\">\n          <a-input v-model=\"newUser.username\"></a-input>\n        </a-form-model-item>\n        <a-form-model-item has-feedback label=\"密码\" prop=\"password\">\n          <a-input-password v-model=\"newUser.password\"></a-input-password>\n        </a-form-model-item>\n        <a-form-model-item has-feedback label=\"确认密码\" prop=\"checkpass\">\n          <a-input-password v-model=\"newUser.checkpass\"></a-input-password>\n        </a-form-model-item>\n        <a-form-model-item label=\"是否为管理员\">\n          <a-select defaultValue=\"2\" style=\"120px\" @change=\"NewadminChange\">\n            <a-select-option key=\"1\" value=\"1\">是</a-select-option>\n            <a-select-option key=\"2\" value=\"2\">否</a-select-option>\n          </a-select>\n        </a-form-model-item>\n      </a-form-model>\n    </a-modal>\n\n    <!-- 编辑用户区域 -->\n    <a-modal\n      closable\n      destroyOnClose\n      title=\"编辑用户\"\n      :visible=\"editUserVisible\"\n      width=\"60%\"\n      @ok=\"editUserOk\"\n      @cancel=\"editUserCancel\"\n    >\n      <a-form-model :model=\"userInfo\" :rules=\"userRules\" ref=\"addUserRef\">\n        <a-form-model-item label=\"用户名\" prop=\"username\">\n          <a-input v-model=\"userInfo.username\"></a-input>\n        </a-form-model-item>\n        <a-form-model-item label=\"是否为管理员\">\n          <a-switch :checked=\"IsAdmin\" checked-children=\"是\" un-checked-children=\"否\" @change=\"adminChange\" />\n        </a-form-model-item>\n      </a-form-model>\n    </a-modal>\n\n    <!-- 修改密码 -->\n    <a-modal\n      closable\n      title=\"修改密码\"\n      :visible=\"changePasswordVisible\"\n      width=\"60%\"\n      @ok=\"changePasswordOk\"\n      @cancel=\"changePasswordCancel\"\n      destroyOnClose\n    >\n      <a-form-model :model=\"changePassword\" :rules=\"changePasswordRules\" ref=\"changePasswordRef\">\n        <a-form-model-item has-feedback label=\"密码\" prop=\"password\">\n          <a-input-password v-model=\"changePassword.password\"></a-input-password>\n        </a-form-model-item>\n        <a-form-model-item has-feedback label=\"确认密码\" prop=\"checkpass\">\n          <a-input-password v-model=\"changePassword.checkpass\"></a-input-password>\n        </a-form-model-item>\n      </a-form-model>\n    </a-modal>\n  </div>\n</template>\n\n<script>\nimport day from 'dayjs'\n\nconst columns = [\n  {\n    title: 'ID',\n    dataIndex: 'ID',\n    width: '10%',\n    key: 'id',\n    align: 'center',\n  },\n  {\n    title: '用户名',\n    dataIndex: 'username',\n    width: '20%',\n    key: 'username',\n    align: 'center',\n  },\n  {\n    title: '注册时间',\n    dataIndex: 'CreatedAt',\n    width: '20%',\n    key: 'CreatedAt',\n    align: 'center',\n    customRender: (val) => {\n      return val ? day(val).format('YYYY年MM月DD日 HH:mm') : '暂无'\n    },\n  },\n  {\n    title: '角色',\n    dataIndex: 'role',\n    width: '20%',\n    key: 'role',\n    align: 'center',\n    scopedSlots: { customRender: 'role' },\n  },\n  {\n    title: '操作',\n    width: '30%',\n    key: 'action',\n    align: 'center',\n    scopedSlots: { customRender: 'action' },\n  },\n]\n\nexport default {\n  data() {\n    return {\n      pagination: {\n        pageSizeOptions: ['2', '5', '10', '20'],\n        pageSize: 5,\n        total: 0,\n        showSizeChanger: true,\n        showTotal: (total) => `共${total}条`,\n      },\n      userlist: [],\n      userInfo: {\n        username: '',\n        password: '',\n        role: 2,\n        checkPass: '',\n      },\n      newUser: {\n        username: '',\n        password: '',\n        role: 2,\n        checkPass: '',\n      },\n      changePassword: {\n        id: 0,\n        password: '',\n        checkPass: '',\n      },\n      columns,\n      queryParam: {\n        username: '',\n        pagesize: 5,\n        pagenum: 1,\n      },\n      editVisible: false,\n      userRules: {\n        username: [\n          {\n            validator: (rule, value, callback) => {\n              if (this.userInfo.username == '') {\n                callback(new Error('请输入用户名'))\n              }\n              if ([...this.userInfo.username].length < 4 || [...this.userInfo.username].length > 12) {\n                callback(new Error('用户名应当在4到12个字符之间'))\n              } else {\n                callback()\n              }\n            },\n            trigger: 'blur',\n          },\n        ],\n        password: [\n          {\n            validator: (rule, value, callback) => {\n              if (this.userInfo.password == '') {\n                callback(new Error('请输入密码'))\n              }\n              if ([...this.userInfo.password].length < 6 || [...this.userInfo.password].length > 20) {\n                callback(new Error('密码应当在6到20位之间'))\n              } else {\n                callback()\n              }\n            },\n            trigger: 'blur',\n          },\n        ],\n        checkpass: [\n          {\n            validator: (rule, value, callback) => {\n              if (this.userInfo.checkpass == '') {\n                callback(new Error('请输入密码'))\n              }\n              if (this.userInfo.password !== this.userInfo.checkpass) {\n                callback(new Error('密码不一致，请重新输入'))\n              } else {\n                callback()\n              }\n            },\n            trigger: 'blur',\n          },\n        ],\n      },\n      addUserRules: {\n        username: [\n          {\n            validator: (rule, value, callback) => {\n              if (this.newUser.username == '') {\n                callback(new Error('请输入用户名'))\n              }\n              if ([...this.newUser.username].length < 4 || [...this.newUser.username].length > 12) {\n                callback(new Error('用户名应当在4到12个字符之间'))\n              } else {\n                callback()\n              }\n            },\n            trigger: 'blur',\n          },\n        ],\n        password: [\n          {\n            validator: (rule, value, callback) => {\n              if (this.newUser.password == '') {\n                callback(new Error('请输入密码'))\n              }\n              if ([...this.newUser.password].length < 6 || [...this.newUser.password].length > 20) {\n                callback(new Error('密码应当在6到20位之间'))\n              } else {\n                callback()\n              }\n            },\n            trigger: 'blur',\n          },\n        ],\n        checkpass: [\n          {\n            validator: (rule, value, callback) => {\n              if (this.newUser.checkpass == '') {\n                callback(new Error('请输入密码'))\n              }\n              if (this.newUser.password !== this.newUser.checkpass) {\n                callback(new Error('密码不一致，请重新输入'))\n              } else {\n                callback()\n              }\n            },\n            trigger: 'blur',\n          },\n        ],\n      },\n      changePasswordRules: {\n        password: [\n          {\n            validator: (rule, value, callback) => {\n              if (this.changePassword.password == '') {\n                callback(new Error('请输入密码'))\n              }\n              if ([...this.changePassword.password].length < 6 || [...this.changePassword.password].length > 20) {\n                callback(new Error('密码应当在6到20位之间'))\n              } else {\n                callback()\n              }\n            },\n            trigger: 'blur',\n          },\n        ],\n        checkpass: [\n          {\n            validator: (rule, value, callback) => {\n              if (this.changePassword.checkpass == '') {\n                callback(new Error('请输入密码'))\n              }\n              if (this.changePassword.password !== this.changePassword.checkpass) {\n                callback(new Error('密码不一致，请重新输入'))\n              } else {\n                callback()\n              }\n            },\n            trigger: 'blur',\n          },\n        ],\n      },\n      editUserVisible: false,\n      addUserVisible: false,\n      changePasswordVisible: false,\n    }\n  },\n  created() {\n    this.getUserList()\n  },\n  computed: {\n    IsAdmin: function () {\n      if (this.userInfo.role === 1) {\n        return true\n      } else {\n        return false\n      }\n    },\n  },\n  methods: {\n    // 获取用户列表\n    async getUserList() {\n      const { data: res } = await this.$http.get('user/getusers', {\n        params: {\n          username: this.queryParam.username,\n          pagesize: this.queryParam.pagesize,\n          pagenum: this.queryParam.pagenum,\n        },\n      })\n      if (res.status !== 200) {\n        if (res.status === 1004 || 1005 || 1006 || 1007) {\n          window.sessionStorage.clear()\n          this.$router.push('/login')\n        }\n        this.$message.error(res.message)\n      }\n      this.userlist = res.data\n      this.pagination.total = res.total\n    },\n\n    // 搜索用户\n    async searchUser() {\n      this.queryParam.pagenum = 1\n      this.pagination.current = 1\n      const { data: res } = await this.$http.get('user/getusers', {\n        params: {\n          username: this.queryParam.username,\n          pagesize: this.queryParam.pagesize,\n          pagenum: this.queryParam.pagenum,\n        },\n      })\n      if (res.status !== 200) return this.$message.error(res.message)\n      this.userlist = res.data\n      this.pagination.total = res.total\n    },\n\n    // 更改分页\n    handleTableChange(pagination, filters, sorter) {\n      var pager = { ...this.pagination }\n      pager.current = pagination.current\n      pager.pageSize = pagination.pageSize\n      this.queryParam.pagesize = pagination.pageSize\n      this.queryParam.pagenum = pagination.current\n\n      if (pagination.pageSize !== this.pagination.pageSize) {\n        this.queryParam.pagenum = 1\n        pager.current = 1\n      }\n      this.pagination = pager\n      this.getUserList()\n    },\n    // 删除用户\n    deleteUser(id) {\n      this.$confirm({\n        title: '提示：请再次确认',\n        content: '确定要删除该用户吗？一旦删除，无法恢复',\n        onOk: async () => {\n          const { data: res } = await this.$http.delete(`user/${id}`)\n          if (res.status != 200) return this.$message.error(res.message)\n          this.$message.success('删除成功')\n          this.getUserList()\n        },\n        onCancel: () => {\n          this.$message.info('已取消删除')\n        },\n      })\n    },\n    // 新增用户\n    addUserOk() {\n      this.$refs.addUserRef.validate(async (valid) => {\n        if (!valid) return this.$message.error('参数不符合要求，请重新输入')\n        const { data: res } = await this.$http.post('user/add', {\n          username: this.newUser.username,\n          password: this.newUser.password,\n          role: parseInt(this.newUser.role),\n        })\n        if (res.status != 200) return this.$message.error(res.message)\n        this.$refs.addUserRef.resetFields()\n        this.addUserVisible = false\n        this.$message.success('添加用户成功')\n        this.getUserList()\n      })\n    },\n    addUserCancel() {\n      this.$refs.addUserRef.resetFields()\n      this.addUserVisible = false\n      this.$message.info('新增用户已取消')\n    },\n    NewadminChange(val){\n      this.newUser.role = val\n    },\n    adminChange(checked) {\n      if (checked) {\n        this.userInfo.role = 1\n      } else {\n        this.userInfo.role = 2\n      }\n    },\n    // 编辑用户\n    async editUser(id) {\n      this.editUserVisible = true\n      const { data: res } = await this.$http.get(`user/${id}`)\n      this.userInfo = res.data\n      this.userInfo.id = id\n    },\n    editUserOk() {\n      this.$refs.addUserRef.validate(async (valid) => {\n        if (!valid) return this.$message.error('参数不符合要求，请重新输入')\n        console.log(this.userInfo.id)\n        const { data: res } = await this.$http.put(`user/${this.userInfo.id}`, {\n          username: this.userInfo.username,\n          role: this.userInfo.role,\n        })\n        if (res.status != 200) return this.$message.error(res.message)\n        this.editUserVisible = false\n        this.$message.success('更新用户信息成功')\n        this.getUserList()\n      })\n    },\n    editUserCancel() {\n      this.$refs.addUserRef.resetFields()\n      this.editUserVisible = false\n      this.$message.info('编辑已取消')\n    },\n\n    // 修改密码\n    async ChangePassword(id) {\n      this.changePasswordVisible = true\n      const { data: res } = await this.$http.get(`user/${id}`)\n      this.changePassword.id = id\n    },\n    changePasswordOk() {\n      this.$refs.changePasswordRef.validate(async (valid) => {\n        if (!valid) return this.$message.error('参数不符合要求，请重新输入')\n        const { data: res } = await this.$http.put(`admin/changepw/${this.changePassword.id}`, {\n          password: this.changePassword.password,\n        })\n        if (res.status != 200) return this.$message.error(res.message)\n        this.changePasswordVisible = false\n        this.$message.success('修改密码成功')\n        this.getUserList()\n      })\n    },\n    changePasswordCancel() {\n      this.$refs.changePasswordRef.resetFields()\n      this.changePasswordVisible = false\n      this.$message.info('已取消')\n    },\n  },\n}\n</script>\n\n<style scoped>\n.actionSlot {\n  display: flex;\n  justify-content: center;\n}\n</style>"]}]}