{"remainingRequest":"C:\\Users\\wakk\\GolandProjects\\GinBlog\\web\\admin\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\wakk\\GolandProjects\\GinBlog\\web\\admin\\src\\components\\user\\UserList.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\wakk\\GolandProjects\\GinBlog\\web\\admin\\src\\components\\user\\UserList.vue","mtime":1659594688689},{"path":"C:\\Users\\wakk\\GolandProjects\\GinBlog\\web\\admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1659170820870},{"path":"C:\\Users\\wakk\\GolandProjects\\GinBlog\\web\\admin\\node_modules\\babel-loader\\lib\\index.js","mtime":1659170823565},{"path":"C:\\Users\\wakk\\GolandProjects\\GinBlog\\web\\admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1659170820870},{"path":"C:\\Users\\wakk\\GolandProjects\\GinBlog\\web\\admin\\node_modules\\vue-loader\\lib\\index.js","mtime":1659170825069}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBkYXkgZnJvbSAnZGF5anMnCgpjb25zdCBjb2x1bW5zID0gWwogIHsKICAgIHRpdGxlOiAnSUQnLAogICAgZGF0YUluZGV4OiAnSUQnLAogICAgd2lkdGg6ICcxMCUnLAogICAga2V5OiAnaWQnLAogICAgYWxpZ246ICdjZW50ZXInLAogIH0sCiAgewogICAgdGl0bGU6ICfnlKjmiLflkI0nLAogICAgZGF0YUluZGV4OiAndXNlcm5hbWUnLAogICAgd2lkdGg6ICcyMCUnLAogICAga2V5OiAndXNlcm5hbWUnLAogICAgYWxpZ246ICdjZW50ZXInLAogIH0sCiAgewogICAgdGl0bGU6ICfms6jlhozml7bpl7QnLAogICAgZGF0YUluZGV4OiAnQ3JlYXRlZEF0JywKICAgIHdpZHRoOiAnMjAlJywKICAgIGtleTogJ0NyZWF0ZWRBdCcsCiAgICBhbGlnbjogJ2NlbnRlcicsCiAgICBjdXN0b21SZW5kZXI6ICh2YWwpID0+IHsKICAgICAgcmV0dXJuIHZhbCA/IGRheSh2YWwpLmZvcm1hdCgnWVlZWeW5tE1N5pyIRETml6UgSEg6bW0nKSA6ICfmmoLml6AnCiAgICB9LAogIH0sCiAgewogICAgdGl0bGU6ICfop5LoibInLAogICAgZGF0YUluZGV4OiAncm9sZScsCiAgICB3aWR0aDogJzIwJScsCiAgICBrZXk6ICdyb2xlJywKICAgIGFsaWduOiAnY2VudGVyJywKICAgIHNjb3BlZFNsb3RzOiB7IGN1c3RvbVJlbmRlcjogJ3JvbGUnIH0sCiAgfSwKICB7CiAgICB0aXRsZTogJ+aTjeS9nCcsCiAgICB3aWR0aDogJzMwJScsCiAgICBrZXk6ICdhY3Rpb24nLAogICAgYWxpZ246ICdjZW50ZXInLAogICAgc2NvcGVkU2xvdHM6IHsgY3VzdG9tUmVuZGVyOiAnYWN0aW9uJyB9LAogIH0sCl0KCmV4cG9ydCBkZWZhdWx0IHsKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgcGFnaW5hdGlvbjogewogICAgICAgIHBhZ2VTaXplT3B0aW9uczogWycyJywgJzUnLCAnMTAnLCAnMjAnXSwKICAgICAgICBwYWdlU2l6ZTogNSwKICAgICAgICB0b3RhbDogMCwKICAgICAgICBzaG93U2l6ZUNoYW5nZXI6IHRydWUsCiAgICAgICAgc2hvd1RvdGFsOiAodG90YWwpID0+IGDlhbEke3RvdGFsfeadoWAsCiAgICAgIH0sCiAgICAgIHVzZXJsaXN0OiBbXSwKICAgICAgdXNlckluZm86IHsKICAgICAgICB1c2VybmFtZTogJycsCiAgICAgICAgcGFzc3dvcmQ6ICcnLAogICAgICAgIHJvbGU6IDIsCiAgICAgICAgY2hlY2tQYXNzOiAnJywKICAgICAgfSwKICAgICAgbmV3VXNlcjogewogICAgICAgIHVzZXJuYW1lOiAnJywKICAgICAgICBwYXNzd29yZDogJycsCiAgICAgICAgcm9sZTogMiwKICAgICAgICBjaGVja1Bhc3M6ICcnLAogICAgICB9LAogICAgICBjaGFuZ2VQYXNzd29yZDogewogICAgICAgIGlkOiAwLAogICAgICAgIHBhc3N3b3JkOiAnJywKICAgICAgICBjaGVja1Bhc3M6ICcnLAogICAgICB9LAogICAgICBjb2x1bW5zLAogICAgICBxdWVyeVBhcmFtOiB7CiAgICAgICAgdXNlcm5hbWU6ICcnLAogICAgICAgIHBhZ2VzaXplOiA1LAogICAgICAgIHBhZ2VudW06IDEsCiAgICAgIH0sCiAgICAgIGVkaXRWaXNpYmxlOiBmYWxzZSwKICAgICAgdXNlclJ1bGVzOiB7CiAgICAgICAgdXNlcm5hbWU6IFsKICAgICAgICAgIHsKICAgICAgICAgICAgdmFsaWRhdG9yOiAocnVsZSwgdmFsdWUsIGNhbGxiYWNrKSA9PiB7CiAgICAgICAgICAgICAgaWYgKHRoaXMudXNlckluZm8udXNlcm5hbWUgPT0gJycpIHsKICAgICAgICAgICAgICAgIGNhbGxiYWNrKG5ldyBFcnJvcign6K+36L6T5YWl55So5oi35ZCNJykpCiAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIGlmIChbLi4udGhpcy51c2VySW5mby51c2VybmFtZV0ubGVuZ3RoIDwgNCB8fCBbLi4udGhpcy51c2VySW5mby51c2VybmFtZV0ubGVuZ3RoID4gMTIpIHsKICAgICAgICAgICAgICAgIGNhbGxiYWNrKG5ldyBFcnJvcign55So5oi35ZCN5bqU5b2T5ZyoNOWIsDEy5Liq5a2X56ym5LmL6Ze0JykpCiAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIGNhbGxiYWNrKCkKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIHRyaWdnZXI6ICdibHVyJywKICAgICAgICAgIH0sCiAgICAgICAgXSwKICAgICAgICBwYXNzd29yZDogWwogICAgICAgICAgewogICAgICAgICAgICB2YWxpZGF0b3I6IChydWxlLCB2YWx1ZSwgY2FsbGJhY2spID0+IHsKICAgICAgICAgICAgICBpZiAodGhpcy51c2VySW5mby5wYXNzd29yZCA9PSAnJykgewogICAgICAgICAgICAgICAgY2FsbGJhY2sobmV3IEVycm9yKCfor7fovpPlhaXlr4bnoIEnKSkKICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgaWYgKFsuLi50aGlzLnVzZXJJbmZvLnBhc3N3b3JkXS5sZW5ndGggPCA2IHx8IFsuLi50aGlzLnVzZXJJbmZvLnBhc3N3b3JkXS5sZW5ndGggPiAyMCkgewogICAgICAgICAgICAgICAgY2FsbGJhY2sobmV3IEVycm9yKCflr4bnoIHlupTlvZPlnKg25YiwMjDkvY3kuYvpl7QnKSkKICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgY2FsbGJhY2soKQogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSwKICAgICAgICAgICAgdHJpZ2dlcjogJ2JsdXInLAogICAgICAgICAgfSwKICAgICAgICBdLAogICAgICAgIGNoZWNrcGFzczogWwogICAgICAgICAgewogICAgICAgICAgICB2YWxpZGF0b3I6IChydWxlLCB2YWx1ZSwgY2FsbGJhY2spID0+IHsKICAgICAgICAgICAgICBpZiAodGhpcy51c2VySW5mby5jaGVja3Bhc3MgPT0gJycpIHsKICAgICAgICAgICAgICAgIGNhbGxiYWNrKG5ldyBFcnJvcign6K+36L6T5YWl5a+G56CBJykpCiAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIGlmICh0aGlzLnVzZXJJbmZvLnBhc3N3b3JkICE9PSB0aGlzLnVzZXJJbmZvLmNoZWNrcGFzcykgewogICAgICAgICAgICAgICAgY2FsbGJhY2sobmV3IEVycm9yKCflr4bnoIHkuI3kuIDoh7TvvIzor7fph43mlrDovpPlhaUnKSkKICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgY2FsbGJhY2soKQogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSwKICAgICAgICAgICAgdHJpZ2dlcjogJ2JsdXInLAogICAgICAgICAgfSwKICAgICAgICBdLAogICAgICB9LAogICAgICBhZGRVc2VyUnVsZXM6IHsKICAgICAgICB1c2VybmFtZTogWwogICAgICAgICAgewogICAgICAgICAgICB2YWxpZGF0b3I6IChydWxlLCB2YWx1ZSwgY2FsbGJhY2spID0+IHsKICAgICAgICAgICAgICBpZiAodGhpcy5uZXdVc2VyLnVzZXJuYW1lID09ICcnKSB7CiAgICAgICAgICAgICAgICBjYWxsYmFjayhuZXcgRXJyb3IoJ+ivt+i+k+WFpeeUqOaIt+WQjScpKQogICAgICAgICAgICAgIH0KICAgICAgICAgICAgICBpZiAoWy4uLnRoaXMubmV3VXNlci51c2VybmFtZV0ubGVuZ3RoIDwgNCB8fCBbLi4udGhpcy5uZXdVc2VyLnVzZXJuYW1lXS5sZW5ndGggPiAxMikgewogICAgICAgICAgICAgICAgY2FsbGJhY2sobmV3IEVycm9yKCfnlKjmiLflkI3lupTlvZPlnKg05YiwMTLkuKrlrZfnrKbkuYvpl7QnKSkKICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgY2FsbGJhY2soKQogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSwKICAgICAgICAgICAgdHJpZ2dlcjogJ2JsdXInLAogICAgICAgICAgfSwKICAgICAgICBdLAogICAgICAgIHBhc3N3b3JkOiBbCiAgICAgICAgICB7CiAgICAgICAgICAgIHZhbGlkYXRvcjogKHJ1bGUsIHZhbHVlLCBjYWxsYmFjaykgPT4gewogICAgICAgICAgICAgIGlmICh0aGlzLm5ld1VzZXIucGFzc3dvcmQgPT0gJycpIHsKICAgICAgICAgICAgICAgIGNhbGxiYWNrKG5ldyBFcnJvcign6K+36L6T5YWl5a+G56CBJykpCiAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIGlmIChbLi4udGhpcy5uZXdVc2VyLnBhc3N3b3JkXS5sZW5ndGggPCA2IHx8IFsuLi50aGlzLm5ld1VzZXIucGFzc3dvcmRdLmxlbmd0aCA+IDIwKSB7CiAgICAgICAgICAgICAgICBjYWxsYmFjayhuZXcgRXJyb3IoJ+WvhueggeW6lOW9k+WcqDbliLAyMOS9jeS5i+mXtCcpKQogICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICBjYWxsYmFjaygpCiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9LAogICAgICAgICAgICB0cmlnZ2VyOiAnYmx1cicsCiAgICAgICAgICB9LAogICAgICAgIF0sCiAgICAgICAgY2hlY2twYXNzOiBbCiAgICAgICAgICB7CiAgICAgICAgICAgIHZhbGlkYXRvcjogKHJ1bGUsIHZhbHVlLCBjYWxsYmFjaykgPT4gewogICAgICAgICAgICAgIGlmICh0aGlzLm5ld1VzZXIuY2hlY2twYXNzID09ICcnKSB7CiAgICAgICAgICAgICAgICBjYWxsYmFjayhuZXcgRXJyb3IoJ+ivt+i+k+WFpeWvhueggScpKQogICAgICAgICAgICAgIH0KICAgICAgICAgICAgICBpZiAodGhpcy5uZXdVc2VyLnBhc3N3b3JkICE9PSB0aGlzLm5ld1VzZXIuY2hlY2twYXNzKSB7CiAgICAgICAgICAgICAgICBjYWxsYmFjayhuZXcgRXJyb3IoJ+WvhueggeS4jeS4gOiHtO+8jOivt+mHjeaWsOi+k+WFpScpKQogICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICBjYWxsYmFjaygpCiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9LAogICAgICAgICAgICB0cmlnZ2VyOiAnYmx1cicsCiAgICAgICAgICB9LAogICAgICAgIF0sCiAgICAgIH0sCiAgICAgIGNoYW5nZVBhc3N3b3JkUnVsZXM6IHsKICAgICAgICBwYXNzd29yZDogWwogICAgICAgICAgewogICAgICAgICAgICB2YWxpZGF0b3I6IChydWxlLCB2YWx1ZSwgY2FsbGJhY2spID0+IHsKICAgICAgICAgICAgICBpZiAodGhpcy5jaGFuZ2VQYXNzd29yZC5wYXNzd29yZCA9PSAnJykgewogICAgICAgICAgICAgICAgY2FsbGJhY2sobmV3IEVycm9yKCfor7fovpPlhaXlr4bnoIEnKSkKICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgaWYgKFsuLi50aGlzLmNoYW5nZVBhc3N3b3JkLnBhc3N3b3JkXS5sZW5ndGggPCA2IHx8IFsuLi50aGlzLmNoYW5nZVBhc3N3b3JkLnBhc3N3b3JkXS5sZW5ndGggPiAyMCkgewogICAgICAgICAgICAgICAgY2FsbGJhY2sobmV3IEVycm9yKCflr4bnoIHlupTlvZPlnKg25YiwMjDkvY3kuYvpl7QnKSkKICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgY2FsbGJhY2soKQogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSwKICAgICAgICAgICAgdHJpZ2dlcjogJ2JsdXInLAogICAgICAgICAgfSwKICAgICAgICBdLAogICAgICAgIGNoZWNrcGFzczogWwogICAgICAgICAgewogICAgICAgICAgICB2YWxpZGF0b3I6IChydWxlLCB2YWx1ZSwgY2FsbGJhY2spID0+IHsKICAgICAgICAgICAgICBpZiAodGhpcy5jaGFuZ2VQYXNzd29yZC5jaGVja3Bhc3MgPT0gJycpIHsKICAgICAgICAgICAgICAgIGNhbGxiYWNrKG5ldyBFcnJvcign6K+36L6T5YWl5a+G56CBJykpCiAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIGlmICh0aGlzLmNoYW5nZVBhc3N3b3JkLnBhc3N3b3JkICE9PSB0aGlzLmNoYW5nZVBhc3N3b3JkLmNoZWNrcGFzcykgewogICAgICAgICAgICAgICAgY2FsbGJhY2sobmV3IEVycm9yKCflr4bnoIHkuI3kuIDoh7TvvIzor7fph43mlrDovpPlhaUnKSkKICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgY2FsbGJhY2soKQogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSwKICAgICAgICAgICAgdHJpZ2dlcjogJ2JsdXInLAogICAgICAgICAgfSwKICAgICAgICBdLAogICAgICB9LAogICAgICBlZGl0VXNlclZpc2libGU6IGZhbHNlLAogICAgICBhZGRVc2VyVmlzaWJsZTogZmFsc2UsCiAgICAgIGNoYW5nZVBhc3N3b3JkVmlzaWJsZTogZmFsc2UsCiAgICB9CiAgfSwKICBjcmVhdGVkKCkgewogICAgdGhpcy5nZXRVc2VyTGlzdCgpCiAgfSwKICBjb21wdXRlZDogewogICAgSXNBZG1pbjogZnVuY3Rpb24gKCkgewogICAgICBpZiAodGhpcy51c2VySW5mby5yb2xlID09PSAxKSB7CiAgICAgICAgcmV0dXJuIHRydWUKICAgICAgfSBlbHNlIHsKICAgICAgICByZXR1cm4gZmFsc2UKICAgICAgfQogICAgfSwKICB9LAogIG1ldGhvZHM6IHsKICAgIC8vIOiOt+WPlueUqOaIt+WIl+ihqAogICAgYXN5bmMgZ2V0VXNlckxpc3QoKSB7CiAgICAgIGNvbnN0IHsgZGF0YTogcmVzIH0gPSBhd2FpdCB0aGlzLiRodHRwLmdldCgndXNlci9nZXR1c2VycycsIHsKICAgICAgICBwYXJhbXM6IHsKICAgICAgICAgIHVzZXJuYW1lOiB0aGlzLnF1ZXJ5UGFyYW0udXNlcm5hbWUsCiAgICAgICAgICBwYWdlc2l6ZTogdGhpcy5xdWVyeVBhcmFtLnBhZ2VzaXplLAogICAgICAgICAgcGFnZW51bTogdGhpcy5xdWVyeVBhcmFtLnBhZ2VudW0sCiAgICAgICAgfSwKICAgICAgfSkKICAgICAgaWYgKHJlcy5zdGF0dXMgIT09IDIwMCkgewogICAgICAgIGlmIChyZXMuc3RhdHVzID09PSAxMDA0IHx8IDEwMDUgfHwgMTAwNiB8fCAxMDA3KSB7CiAgICAgICAgICB3aW5kb3cuc2Vzc2lvblN0b3JhZ2UuY2xlYXIoKQogICAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goJy9sb2dpbicpCiAgICAgICAgfQogICAgICAgIHRoaXMuJG1lc3NhZ2UuZXJyb3IocmVzLm1lc3NhZ2UpCiAgICAgIH0KICAgICAgdGhpcy51c2VybGlzdCA9IHJlcy5kYXRhCiAgICAgIHRoaXMucGFnaW5hdGlvbi50b3RhbCA9IHJlcy50b3RhbAogICAgfSwKCiAgICAvLyDmkJzntKLnlKjmiLcKICAgIGFzeW5jIHNlYXJjaFVzZXIoKSB7CiAgICAgIHRoaXMucXVlcnlQYXJhbS5wYWdlbnVtID0gMQogICAgICB0aGlzLnBhZ2luYXRpb24uY3VycmVudCA9IDEKICAgICAgY29uc3QgeyBkYXRhOiByZXMgfSA9IGF3YWl0IHRoaXMuJGh0dHAuZ2V0KCd1c2VyL2dldHVzZXJzJywgewogICAgICAgIHBhcmFtczogewogICAgICAgICAgdXNlcm5hbWU6IHRoaXMucXVlcnlQYXJhbS51c2VybmFtZSwKICAgICAgICAgIHBhZ2VzaXplOiB0aGlzLnF1ZXJ5UGFyYW0ucGFnZXNpemUsCiAgICAgICAgICBwYWdlbnVtOiB0aGlzLnF1ZXJ5UGFyYW0ucGFnZW51bSwKICAgICAgICB9LAogICAgICB9KQogICAgICBpZiAocmVzLnN0YXR1cyAhPT0gMjAwKSByZXR1cm4gdGhpcy4kbWVzc2FnZS5lcnJvcihyZXMubWVzc2FnZSkKICAgICAgdGhpcy51c2VybGlzdCA9IHJlcy5kYXRhCiAgICAgIHRoaXMucGFnaW5hdGlvbi50b3RhbCA9IHJlcy50b3RhbAogICAgfSwKCiAgICAvLyDmm7TmlLnliIbpobUKICAgIGhhbmRsZVRhYmxlQ2hhbmdlKHBhZ2luYXRpb24sIGZpbHRlcnMsIHNvcnRlcikgewogICAgICB2YXIgcGFnZXIgPSB7IC4uLnRoaXMucGFnaW5hdGlvbiB9CiAgICAgIHBhZ2VyLmN1cnJlbnQgPSBwYWdpbmF0aW9uLmN1cnJlbnQKICAgICAgcGFnZXIucGFnZVNpemUgPSBwYWdpbmF0aW9uLnBhZ2VTaXplCiAgICAgIHRoaXMucXVlcnlQYXJhbS5wYWdlc2l6ZSA9IHBhZ2luYXRpb24ucGFnZVNpemUKICAgICAgdGhpcy5xdWVyeVBhcmFtLnBhZ2VudW0gPSBwYWdpbmF0aW9uLmN1cnJlbnQKCiAgICAgIGlmIChwYWdpbmF0aW9uLnBhZ2VTaXplICE9PSB0aGlzLnBhZ2luYXRpb24ucGFnZVNpemUpIHsKICAgICAgICB0aGlzLnF1ZXJ5UGFyYW0ucGFnZW51bSA9IDEKICAgICAgICBwYWdlci5jdXJyZW50ID0gMQogICAgICB9CiAgICAgIHRoaXMucGFnaW5hdGlvbiA9IHBhZ2VyCiAgICAgIHRoaXMuZ2V0VXNlckxpc3QoKQogICAgfSwKICAgIC8vIOWIoOmZpOeUqOaItwogICAgZGVsZXRlVXNlcihpZCkgewogICAgICB0aGlzLiRjb25maXJtKHsKICAgICAgICB0aXRsZTogJ+aPkOekuu+8muivt+WGjeasoeehruiupCcsCiAgICAgICAgY29udGVudDogJ+ehruWumuimgeWIoOmZpOivpeeUqOaIt+WQl++8n+S4gOaXpuWIoOmZpO+8jOaXoOazleaBouWkjScsCiAgICAgICAgb25PazogYXN5bmMgKCkgPT4gewogICAgICAgICAgY29uc3QgeyBkYXRhOiByZXMgfSA9IGF3YWl0IHRoaXMuJGh0dHAuZGVsZXRlKGB1c2VyLyR7aWR9YCkKICAgICAgICAgIGlmIChyZXMuc3RhdHVzICE9IDIwMCkgcmV0dXJuIHRoaXMuJG1lc3NhZ2UuZXJyb3IocmVzLm1lc3NhZ2UpCiAgICAgICAgICB0aGlzLiRtZXNzYWdlLnN1Y2Nlc3MoJ+WIoOmZpOaIkOWKnycpCiAgICAgICAgICB0aGlzLmdldFVzZXJMaXN0KCkKICAgICAgICB9LAogICAgICAgIG9uQ2FuY2VsOiAoKSA9PiB7CiAgICAgICAgICB0aGlzLiRtZXNzYWdlLmluZm8oJ+W3suWPlua2iOWIoOmZpCcpCiAgICAgICAgfSwKICAgICAgfSkKICAgIH0sCiAgICAvLyDmlrDlop7nlKjmiLcKICAgIGFkZFVzZXJPaygpIHsKICAgICAgdGhpcy4kcmVmcy5hZGRVc2VyUmVmLnZhbGlkYXRlKGFzeW5jICh2YWxpZCkgPT4gewogICAgICAgIGlmICghdmFsaWQpIHJldHVybiB0aGlzLiRtZXNzYWdlLmVycm9yKCflj4LmlbDkuI3nrKblkIjopoHmsYLvvIzor7fph43mlrDovpPlhaUnKQogICAgICAgIGNvbnN0IHsgZGF0YTogcmVzIH0gPSBhd2FpdCB0aGlzLiRodHRwLnBvc3QoJ3VzZXIvYWRkJywgewogICAgICAgICAgdXNlcm5hbWU6IHRoaXMubmV3VXNlci51c2VybmFtZSwKICAgICAgICAgIHBhc3N3b3JkOiB0aGlzLm5ld1VzZXIucGFzc3dvcmQsCiAgICAgICAgICByb2xlOiBwYXJzZUludCh0aGlzLm5ld1VzZXIucm9sZSksCiAgICAgICAgfSkKICAgICAgICBpZiAocmVzLnN0YXR1cyAhPSAyMDApIHJldHVybiB0aGlzLiRtZXNzYWdlLmVycm9yKHJlcy5tZXNzYWdlKQogICAgICAgIHRoaXMuJHJlZnMuYWRkVXNlclJlZi5yZXNldEZpZWxkcygpCiAgICAgICAgdGhpcy5hZGRVc2VyVmlzaWJsZSA9IGZhbHNlCiAgICAgICAgdGhpcy4kbWVzc2FnZS5zdWNjZXNzKCfmt7vliqDnlKjmiLfmiJDlip8nKQogICAgICAgIHRoaXMuZ2V0VXNlckxpc3QoKQogICAgICB9KQogICAgfSwKICAgIGFkZFVzZXJDYW5jZWwoKSB7CiAgICAgIHRoaXMuJHJlZnMuYWRkVXNlclJlZi5yZXNldEZpZWxkcygpCiAgICAgIHRoaXMuYWRkVXNlclZpc2libGUgPSBmYWxzZQogICAgICB0aGlzLiRtZXNzYWdlLmluZm8oJ+aWsOWinueUqOaIt+W3suWPlua2iCcpCiAgICB9LAogICAgTmV3YWRtaW5DaGFuZ2UodmFsKXsKICAgICAgdGhpcy5uZXdVc2VyLnJvbGUgPSB2YWwKICAgIH0sCiAgICBhZG1pbkNoYW5nZShjaGVja2VkKSB7CiAgICAgIGlmIChjaGVja2VkKSB7CiAgICAgICAgdGhpcy51c2VySW5mby5yb2xlID0gMQogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMudXNlckluZm8ucm9sZSA9IDIKICAgICAgfQogICAgfSwKICAgIC8vIOe8lui+keeUqOaItwogICAgYXN5bmMgZWRpdFVzZXIoaWQpIHsKICAgICAgdGhpcy5lZGl0VXNlclZpc2libGUgPSB0cnVlCiAgICAgIGNvbnN0IHsgZGF0YTogcmVzIH0gPSBhd2FpdCB0aGlzLiRodHRwLmdldChgdXNlci8ke2lkfWApCiAgICAgIHRoaXMudXNlckluZm8gPSByZXMuZGF0YQogICAgICB0aGlzLnVzZXJJbmZvLmlkID0gaWQKICAgIH0sCiAgICBlZGl0VXNlck9rKCkgewogICAgICB0aGlzLiRyZWZzLmFkZFVzZXJSZWYudmFsaWRhdGUoYXN5bmMgKHZhbGlkKSA9PiB7CiAgICAgICAgaWYgKCF2YWxpZCkgcmV0dXJuIHRoaXMuJG1lc3NhZ2UuZXJyb3IoJ+WPguaVsOS4jeespuWQiOimgeaxgu+8jOivt+mHjeaWsOi+k+WFpScpCiAgICAgICAgY29uc3QgeyBkYXRhOiByZXMgfSA9IGF3YWl0IHRoaXMuJGh0dHAucHV0KGB1c2VyLyR7dGhpcy51c2VySW5mby5pZH1gLCB7CiAgICAgICAgICB1c2VybmFtZTogdGhpcy51c2VySW5mby51c2VybmFtZSwKICAgICAgICAgIHJvbGU6IHRoaXMudXNlckluZm8ucm9sZSwKICAgICAgICB9KQogICAgICAgIGlmIChyZXMuc3RhdHVzICE9IDIwMCkgcmV0dXJuIHRoaXMuJG1lc3NhZ2UuZXJyb3IocmVzLm1lc3NhZ2UpCiAgICAgICAgdGhpcy5lZGl0VXNlclZpc2libGUgPSBmYWxzZQogICAgICAgIHRoaXMuJG1lc3NhZ2Uuc3VjY2Vzcygn5pu05paw55So5oi35L+h5oGv5oiQ5YqfJykKICAgICAgICB0aGlzLmdldFVzZXJMaXN0KCkKICAgICAgfSkKICAgIH0sCiAgICBlZGl0VXNlckNhbmNlbCgpIHsKICAgICAgdGhpcy4kcmVmcy5hZGRVc2VyUmVmLnJlc2V0RmllbGRzKCkKICAgICAgdGhpcy5lZGl0VXNlclZpc2libGUgPSBmYWxzZQogICAgICB0aGlzLiRtZXNzYWdlLmluZm8oJ+e8lui+keW3suWPlua2iCcpCiAgICB9LAoKICAgIC8vIOS/ruaUueWvhueggQogICAgYXN5bmMgQ2hhbmdlUGFzc3dvcmQoaWQpIHsKICAgICAgdGhpcy5jaGFuZ2VQYXNzd29yZFZpc2libGUgPSB0cnVlCiAgICAgIGNvbnN0IHsgZGF0YTogcmVzIH0gPSBhd2FpdCB0aGlzLiRodHRwLmdldChgdXNlci8ke2lkfWApCiAgICAgIHRoaXMuY2hhbmdlUGFzc3dvcmQuaWQgPSBpZAogICAgfSwKICAgIGNoYW5nZVBhc3N3b3JkT2soKSB7CiAgICAgIHRoaXMuJHJlZnMuY2hhbmdlUGFzc3dvcmRSZWYudmFsaWRhdGUoYXN5bmMgKHZhbGlkKSA9PiB7CiAgICAgICAgaWYgKCF2YWxpZCkgcmV0dXJuIHRoaXMuJG1lc3NhZ2UuZXJyb3IoJ+WPguaVsOS4jeespuWQiOimgeaxgu+8jOivt+mHjeaWsOi+k+WFpScpCiAgICAgICAgY29uc3QgeyBkYXRhOiByZXMgfSA9IGF3YWl0IHRoaXMuJGh0dHAucHV0KGBhZG1pbi9jaGFuZ2Vwdy8ke3RoaXMuY2hhbmdlUGFzc3dvcmQuaWR9YCwgewogICAgICAgICAgcGFzc3dvcmQ6IHRoaXMuY2hhbmdlUGFzc3dvcmQucGFzc3dvcmQsCiAgICAgICAgfSkKICAgICAgICBpZiAocmVzLnN0YXR1cyAhPSAyMDApIHJldHVybiB0aGlzLiRtZXNzYWdlLmVycm9yKHJlcy5tZXNzYWdlKQogICAgICAgIHRoaXMuY2hhbmdlUGFzc3dvcmRWaXNpYmxlID0gZmFsc2UKICAgICAgICB0aGlzLiRtZXNzYWdlLnN1Y2Nlc3MoJ+S/ruaUueWvhueggeaIkOWKnycpCiAgICAgICAgdGhpcy5nZXRVc2VyTGlzdCgpCiAgICAgIH0pCiAgICB9LAogICAgY2hhbmdlUGFzc3dvcmRDYW5jZWwoKSB7CiAgICAgIHRoaXMuJHJlZnMuY2hhbmdlUGFzc3dvcmRSZWYucmVzZXRGaWVsZHMoKQogICAgICB0aGlzLmNoYW5nZVBhc3N3b3JkVmlzaWJsZSA9IGZhbHNlCiAgICAgIHRoaXMuJG1lc3NhZ2UuaW5mbygn5bey5Y+W5raIJykKICAgIH0sCiAgfSwKfQo="},{"version":3,"sources":["UserList.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+GA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"UserList.vue","sourceRoot":"src/components/user","sourcesContent":["<template>\n  <div>\n    <a-card>\n      <a-row :gutter=\"20\">\n        <a-col :span=\"6\">\n          <a-input-search\n            v-model=\"queryParam.username\"\n            placeholder=\"输入用户名查找\"\n            enter-button\n            allowClear\n            @search=\"searchUser\"\n          />\n        </a-col>\n        <a-col :span=\"4\">\n          <a-button type=\"primary\" @click=\"addUserVisible = true\">新增</a-button>\n        </a-col>\n      </a-row>\n\n      <a-table\n        rowKey=\"ID\"\n        :columns=\"columns\"\n        :pagination=\"pagination\"\n        :dataSource=\"userlist\"\n        bordered\n        @change=\"handleTableChange\"\n      >\n        <span slot=\"role\" slot-scope=\"data\">{{ data == 1 ? '管理员' : '订阅者' }}</span>\n        <template slot=\"action\" slot-scope=\"data\">\n          <div class=\"actionSlot\">\n            <a-button type=\"primary\" icon=\"edit\" style=\"margin-right: 15px\" @click=\"editUser(data.ID)\">编辑</a-button>\n            <a-button type=\"danger\" icon=\"delete\" style=\"margin-right: 15px\" @click=\"deleteUser(data.ID)\"\n              >删除</a-button\n            >\n            <a-button type=\"info\" icon=\"info\" @click=\"ChangePassword(data.ID)\">修改密码</a-button>\n          </div>\n        </template>\n      </a-table>\n    </a-card>\n\n    <!-- 新增用户区域 -->\n    <a-modal\n      closable\n      title=\"新增用户\"\n      :visible=\"addUserVisible\"\n      width=\"60%\"\n      @ok=\"addUserOk\"\n      @cancel=\"addUserCancel\"\n      destroyOnClose\n    >\n      <a-form-model :model=\"newUser\" :rules=\"addUserRules\" ref=\"addUserRef\">\n        <a-form-model-item label=\"用户名\" prop=\"username\">\n          <a-input v-model=\"newUser.username\"></a-input>\n        </a-form-model-item>\n        <a-form-model-item has-feedback label=\"密码\" prop=\"password\">\n          <a-input-password v-model=\"newUser.password\"></a-input-password>\n        </a-form-model-item>\n        <a-form-model-item has-feedback label=\"确认密码\" prop=\"checkpass\">\n          <a-input-password v-model=\"newUser.checkpass\"></a-input-password>\n        </a-form-model-item>\n        <a-form-model-item label=\"是否为管理员\">\n          <a-select defaultValue=\"2\" style=\"120px\" @change=\"NewadminChange\">\n            <a-select-option key=\"1\" value=\"1\">是</a-select-option>\n            <a-select-option key=\"2\" value=\"2\">否</a-select-option>\n          </a-select>\n        </a-form-model-item>\n      </a-form-model>\n    </a-modal>\n\n    <!-- 编辑用户区域 -->\n    <a-modal\n      closable\n      destroyOnClose\n      title=\"编辑用户\"\n      :visible=\"editUserVisible\"\n      width=\"60%\"\n      @ok=\"editUserOk\"\n      @cancel=\"editUserCancel\"\n    >\n      <a-form-model :model=\"userInfo\" :rules=\"userRules\" ref=\"addUserRef\">\n        <a-form-model-item label=\"用户名\" prop=\"username\">\n          <a-input v-model=\"userInfo.username\"></a-input>\n        </a-form-model-item>\n        <a-form-model-item label=\"是否为管理员\">\n          <a-switch :checked=\"IsAdmin\" checked-children=\"是\" un-checked-children=\"否\" @change=\"adminChange\" />\n        </a-form-model-item>\n      </a-form-model>\n    </a-modal>\n\n    <!-- 修改密码 -->\n    <a-modal\n      closable\n      title=\"修改密码\"\n      :visible=\"changePasswordVisible\"\n      width=\"60%\"\n      @ok=\"changePasswordOk\"\n      @cancel=\"changePasswordCancel\"\n      destroyOnClose\n    >\n      <a-form-model :model=\"changePassword\" :rules=\"changePasswordRules\" ref=\"changePasswordRef\">\n        <a-form-model-item has-feedback label=\"密码\" prop=\"password\">\n          <a-input-password v-model=\"changePassword.password\"></a-input-password>\n        </a-form-model-item>\n        <a-form-model-item has-feedback label=\"确认密码\" prop=\"checkpass\">\n          <a-input-password v-model=\"changePassword.checkpass\"></a-input-password>\n        </a-form-model-item>\n      </a-form-model>\n    </a-modal>\n  </div>\n</template>\n\n<script>\nimport day from 'dayjs'\n\nconst columns = [\n  {\n    title: 'ID',\n    dataIndex: 'ID',\n    width: '10%',\n    key: 'id',\n    align: 'center',\n  },\n  {\n    title: '用户名',\n    dataIndex: 'username',\n    width: '20%',\n    key: 'username',\n    align: 'center',\n  },\n  {\n    title: '注册时间',\n    dataIndex: 'CreatedAt',\n    width: '20%',\n    key: 'CreatedAt',\n    align: 'center',\n    customRender: (val) => {\n      return val ? day(val).format('YYYY年MM月DD日 HH:mm') : '暂无'\n    },\n  },\n  {\n    title: '角色',\n    dataIndex: 'role',\n    width: '20%',\n    key: 'role',\n    align: 'center',\n    scopedSlots: { customRender: 'role' },\n  },\n  {\n    title: '操作',\n    width: '30%',\n    key: 'action',\n    align: 'center',\n    scopedSlots: { customRender: 'action' },\n  },\n]\n\nexport default {\n  data() {\n    return {\n      pagination: {\n        pageSizeOptions: ['2', '5', '10', '20'],\n        pageSize: 5,\n        total: 0,\n        showSizeChanger: true,\n        showTotal: (total) => `共${total}条`,\n      },\n      userlist: [],\n      userInfo: {\n        username: '',\n        password: '',\n        role: 2,\n        checkPass: '',\n      },\n      newUser: {\n        username: '',\n        password: '',\n        role: 2,\n        checkPass: '',\n      },\n      changePassword: {\n        id: 0,\n        password: '',\n        checkPass: '',\n      },\n      columns,\n      queryParam: {\n        username: '',\n        pagesize: 5,\n        pagenum: 1,\n      },\n      editVisible: false,\n      userRules: {\n        username: [\n          {\n            validator: (rule, value, callback) => {\n              if (this.userInfo.username == '') {\n                callback(new Error('请输入用户名'))\n              }\n              if ([...this.userInfo.username].length < 4 || [...this.userInfo.username].length > 12) {\n                callback(new Error('用户名应当在4到12个字符之间'))\n              } else {\n                callback()\n              }\n            },\n            trigger: 'blur',\n          },\n        ],\n        password: [\n          {\n            validator: (rule, value, callback) => {\n              if (this.userInfo.password == '') {\n                callback(new Error('请输入密码'))\n              }\n              if ([...this.userInfo.password].length < 6 || [...this.userInfo.password].length > 20) {\n                callback(new Error('密码应当在6到20位之间'))\n              } else {\n                callback()\n              }\n            },\n            trigger: 'blur',\n          },\n        ],\n        checkpass: [\n          {\n            validator: (rule, value, callback) => {\n              if (this.userInfo.checkpass == '') {\n                callback(new Error('请输入密码'))\n              }\n              if (this.userInfo.password !== this.userInfo.checkpass) {\n                callback(new Error('密码不一致，请重新输入'))\n              } else {\n                callback()\n              }\n            },\n            trigger: 'blur',\n          },\n        ],\n      },\n      addUserRules: {\n        username: [\n          {\n            validator: (rule, value, callback) => {\n              if (this.newUser.username == '') {\n                callback(new Error('请输入用户名'))\n              }\n              if ([...this.newUser.username].length < 4 || [...this.newUser.username].length > 12) {\n                callback(new Error('用户名应当在4到12个字符之间'))\n              } else {\n                callback()\n              }\n            },\n            trigger: 'blur',\n          },\n        ],\n        password: [\n          {\n            validator: (rule, value, callback) => {\n              if (this.newUser.password == '') {\n                callback(new Error('请输入密码'))\n              }\n              if ([...this.newUser.password].length < 6 || [...this.newUser.password].length > 20) {\n                callback(new Error('密码应当在6到20位之间'))\n              } else {\n                callback()\n              }\n            },\n            trigger: 'blur',\n          },\n        ],\n        checkpass: [\n          {\n            validator: (rule, value, callback) => {\n              if (this.newUser.checkpass == '') {\n                callback(new Error('请输入密码'))\n              }\n              if (this.newUser.password !== this.newUser.checkpass) {\n                callback(new Error('密码不一致，请重新输入'))\n              } else {\n                callback()\n              }\n            },\n            trigger: 'blur',\n          },\n        ],\n      },\n      changePasswordRules: {\n        password: [\n          {\n            validator: (rule, value, callback) => {\n              if (this.changePassword.password == '') {\n                callback(new Error('请输入密码'))\n              }\n              if ([...this.changePassword.password].length < 6 || [...this.changePassword.password].length > 20) {\n                callback(new Error('密码应当在6到20位之间'))\n              } else {\n                callback()\n              }\n            },\n            trigger: 'blur',\n          },\n        ],\n        checkpass: [\n          {\n            validator: (rule, value, callback) => {\n              if (this.changePassword.checkpass == '') {\n                callback(new Error('请输入密码'))\n              }\n              if (this.changePassword.password !== this.changePassword.checkpass) {\n                callback(new Error('密码不一致，请重新输入'))\n              } else {\n                callback()\n              }\n            },\n            trigger: 'blur',\n          },\n        ],\n      },\n      editUserVisible: false,\n      addUserVisible: false,\n      changePasswordVisible: false,\n    }\n  },\n  created() {\n    this.getUserList()\n  },\n  computed: {\n    IsAdmin: function () {\n      if (this.userInfo.role === 1) {\n        return true\n      } else {\n        return false\n      }\n    },\n  },\n  methods: {\n    // 获取用户列表\n    async getUserList() {\n      const { data: res } = await this.$http.get('user/getusers', {\n        params: {\n          username: this.queryParam.username,\n          pagesize: this.queryParam.pagesize,\n          pagenum: this.queryParam.pagenum,\n        },\n      })\n      if (res.status !== 200) {\n        if (res.status === 1004 || 1005 || 1006 || 1007) {\n          window.sessionStorage.clear()\n          this.$router.push('/login')\n        }\n        this.$message.error(res.message)\n      }\n      this.userlist = res.data\n      this.pagination.total = res.total\n    },\n\n    // 搜索用户\n    async searchUser() {\n      this.queryParam.pagenum = 1\n      this.pagination.current = 1\n      const { data: res } = await this.$http.get('user/getusers', {\n        params: {\n          username: this.queryParam.username,\n          pagesize: this.queryParam.pagesize,\n          pagenum: this.queryParam.pagenum,\n        },\n      })\n      if (res.status !== 200) return this.$message.error(res.message)\n      this.userlist = res.data\n      this.pagination.total = res.total\n    },\n\n    // 更改分页\n    handleTableChange(pagination, filters, sorter) {\n      var pager = { ...this.pagination }\n      pager.current = pagination.current\n      pager.pageSize = pagination.pageSize\n      this.queryParam.pagesize = pagination.pageSize\n      this.queryParam.pagenum = pagination.current\n\n      if (pagination.pageSize !== this.pagination.pageSize) {\n        this.queryParam.pagenum = 1\n        pager.current = 1\n      }\n      this.pagination = pager\n      this.getUserList()\n    },\n    // 删除用户\n    deleteUser(id) {\n      this.$confirm({\n        title: '提示：请再次确认',\n        content: '确定要删除该用户吗？一旦删除，无法恢复',\n        onOk: async () => {\n          const { data: res } = await this.$http.delete(`user/${id}`)\n          if (res.status != 200) return this.$message.error(res.message)\n          this.$message.success('删除成功')\n          this.getUserList()\n        },\n        onCancel: () => {\n          this.$message.info('已取消删除')\n        },\n      })\n    },\n    // 新增用户\n    addUserOk() {\n      this.$refs.addUserRef.validate(async (valid) => {\n        if (!valid) return this.$message.error('参数不符合要求，请重新输入')\n        const { data: res } = await this.$http.post('user/add', {\n          username: this.newUser.username,\n          password: this.newUser.password,\n          role: parseInt(this.newUser.role),\n        })\n        if (res.status != 200) return this.$message.error(res.message)\n        this.$refs.addUserRef.resetFields()\n        this.addUserVisible = false\n        this.$message.success('添加用户成功')\n        this.getUserList()\n      })\n    },\n    addUserCancel() {\n      this.$refs.addUserRef.resetFields()\n      this.addUserVisible = false\n      this.$message.info('新增用户已取消')\n    },\n    NewadminChange(val){\n      this.newUser.role = val\n    },\n    adminChange(checked) {\n      if (checked) {\n        this.userInfo.role = 1\n      } else {\n        this.userInfo.role = 2\n      }\n    },\n    // 编辑用户\n    async editUser(id) {\n      this.editUserVisible = true\n      const { data: res } = await this.$http.get(`user/${id}`)\n      this.userInfo = res.data\n      this.userInfo.id = id\n    },\n    editUserOk() {\n      this.$refs.addUserRef.validate(async (valid) => {\n        if (!valid) return this.$message.error('参数不符合要求，请重新输入')\n        const { data: res } = await this.$http.put(`user/${this.userInfo.id}`, {\n          username: this.userInfo.username,\n          role: this.userInfo.role,\n        })\n        if (res.status != 200) return this.$message.error(res.message)\n        this.editUserVisible = false\n        this.$message.success('更新用户信息成功')\n        this.getUserList()\n      })\n    },\n    editUserCancel() {\n      this.$refs.addUserRef.resetFields()\n      this.editUserVisible = false\n      this.$message.info('编辑已取消')\n    },\n\n    // 修改密码\n    async ChangePassword(id) {\n      this.changePasswordVisible = true\n      const { data: res } = await this.$http.get(`user/${id}`)\n      this.changePassword.id = id\n    },\n    changePasswordOk() {\n      this.$refs.changePasswordRef.validate(async (valid) => {\n        if (!valid) return this.$message.error('参数不符合要求，请重新输入')\n        const { data: res } = await this.$http.put(`admin/changepw/${this.changePassword.id}`, {\n          password: this.changePassword.password,\n        })\n        if (res.status != 200) return this.$message.error(res.message)\n        this.changePasswordVisible = false\n        this.$message.success('修改密码成功')\n        this.getUserList()\n      })\n    },\n    changePasswordCancel() {\n      this.$refs.changePasswordRef.resetFields()\n      this.changePasswordVisible = false\n      this.$message.info('已取消')\n    },\n  },\n}\n</script>\n\n<style scoped>\n.actionSlot {\n  display: flex;\n  justify-content: center;\n}\n</style>"]}]}